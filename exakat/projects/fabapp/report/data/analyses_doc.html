<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="FabApp-Notification : PHP static analysis report by Exakat (https://www.exakat.io/) ">
  <meta name="generator" content="Exakat 2.0.6 (build 1039)">
  <title>Analyses documentation, by Exakat</title>
  <!-- Tell the browser to be responsive to screen width -->
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">

  <link rel="apple-touch-icon" href="apple-touch-icon.png">
  <!-- Place favicon.ico in the root directory -->

  <link rel="stylesheet" href="styles/vendor.css">
  <link rel="stylesheet" href="styles/exakat.css">

  <link rel="stylesheet" href="styles/main.css">
  <link rel="stylesheet" href="styles/tree.css">
  
  <script src="scripts/vendor/modernizr.js"></script>
  <script src="scripts/clipboard.min.js"></script>
  

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body class="hold-transition skin-yellow-light sidebar-mini">
  <div class="wrapper">

    <!-- Main Header -->
    <header class="main-header">

      <!-- Logo -->
      <a href="index.html" class="logo">
        <!-- mini logo for sidebar mini 50x50 pixels -->
        <span class="logo-mini"><b>F</b></span>
        <!-- logo for regular state and mobile devices -->
        <span class="logo-lg">FabApp-Notification</span>
      </a>

      <!-- Header Navbar -->
      <nav class="navbar navbar-static-top" role="navigation">
        <!-- Sidebar toggle button-->
        <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
          <span class="sr-only">Toggle navigation</span>
        </a>
      </nav>
    </header>
    <!-- Left side column. contains the logo and sidebar -->
    <aside class="main-sidebar">

      <!-- sidebar: style can be found in sidebar.less -->
      <section class="sidebar">
        <ul class="sidebar-menu">
<li class="header">&nbsp;</li>
<li><a href="index.html"><i class="fa fa-dashboard"></i> <span>Dashboard</span></a></li>
<li><a href="files.html"><i class="fa fa-file-code-o"></i> <span>Files</span></a></li>
<li><a href="analyses.html"><i class="fa fa-line-chart"></i> <span>Analyses</span></a></li>
<li><a href="neoissues.html"><i class="fa fa-flag"></i> <span>New Issues</span></a></li>
<li><a href="issues.html"><i class="fa fa-flag"></i> <span>Issues</span></a></li>
<li><a href="security_issues.html"><i class="fa fa-flag"></i> <span>Security</span></a></li>
<li><a href="performances_issues.html"><i class="fa fa-flag"></i> <span>Performances</span></a></li>
<li><a href="deadcode_issues.html"><i class="fa fa-flag"></i> <span>Dead code</span></a></li>
<li class="treeview">
  <a href="#"><i class="fa fa-certificate"></i> <span>Compatibility</span><i class="fa fa-angle-left pull-right"></i></a>
  <ul class="treeview-menu">
  <li><a href="compatibility_compilations.html"><i class="fa fa-certificate"></i> <span>Compilations</span></a></li>
  <li><a href="compatibility_version.html"><i class="fa fa-certificate"></i> <span>PHP Version</span></a></li>
  <li><a href="compatibility_php74.html"><i class="fa fa-certificate"></i> <span>Compatibility PHP 7.4</span></a></li>
  <li><a href="compatibility_php73.html"><i class="fa fa-certificate"></i> <span>Compatibility PHP 7.3</span></a></li>
  <li><a href="compatibility_php72.html"><i class="fa fa-certificate"></i> <span>Compatibility PHP 7.2</span></a></li>
  <li><a href="compatibility_php71.html"><i class="fa fa-certificate"></i> <span>Compatibility PHP 7.1</span></a></li>
  <li><a href="compatibility_php70.html"><i class="fa fa-certificate"></i> <span>Compatibility PHP 7.0</span></a></li>
  <li><a href="compatibility_php56.html"><i class="fa fa-certificate"></i> <span>Compatibility PHP 5.6</span></a></li>
  <li><a href="compatibility_php55.html"><i class="fa fa-certificate"></i> <span>Compatibility PHP 5.5</span></a></li>
  <li><a href="compatibility_php54.html"><i class="fa fa-certificate"></i> <span>Compatibility PHP 5.4</span></a></li>
  <li><a href="compatibility_php53.html"><i class="fa fa-certificate"></i> <span>Compatibility PHP 5.3</span></a></li>
  <li><a href="compatibility_issues.html"><i class="fa fa-flag"></i> <span>Compatibility Issues</span></a></li>
  </ul>
  </li>
<li class="treeview">
  <a href="#"><i class="fa fa-heart"></i> <span>Favorites</span><i class="fa fa-angle-left pull-right"></i></a>
  <ul class="treeview-menu">
  <li><a href="favorites_dashboard.html"><i class="fa fa-certificate"></i> <span>Favorite Overview</span></a></li>
  <li><a href="favorites_issues.html"><i class="fa fa-sticky-note-o"></i> <span>Favorite issues</span></a></li>
  </ul>
  </li>
<li><a href="suggestions.html"><i class="fa fa-flag"></i> <span>Suggestions</span></a></li>
<li class="treeview">
  <a href="#"><i class="fa fa-sliders"></i> <span>Audit logs</span><i class="fa fa-angle-left pull-right"></i></a>
  <ul class="treeview-menu">
  <li><a href="appinfo.html"><i class="fa fa-circle-o"></i> <span>Appinfo()</span></a></li>
  <li><a href="bugfixes.html"><i class="fa fa-circle-o"></i> <span>Bugfixes</span></a></li>
  <li><a href="php_compilation.html"><i class="fa fa-circle-o"></i> <span>PHP Compilation List</span></a></li>
  <li><a href="directive_list.html"><i class="fa fa-circle-o"></i> <span>PHP Directives List</span></a></li>
  <li><a href="altered_directives.html"><i class="fa fa-circle-o"></i> <span>Altered PHP Directives</span></a></li>
  <li><a href="extension_list.html"><i class="fa fa-circle-o"></i> <span>Extensions' List</span></a></li>
  <li><a href="ext_lib.html"><i class="fa fa-circle-o"></i> <span>External Libraries' List</span></a></li>
  <li><a href="external_services.html"><i class="fa fa-circle-o"></i> <span>External Services</span></a></li>
  <li><a href="parameter_counts.html"><i class="fa fa-circle-o"></i> <span>Parameter Counts</span></a></li>
  <li><a href="indentation_levels.html"><i class="fa fa-circle-o"></i> <span>Indentation levels</span></a></li>
  <li><a href="foreach_favorites.html"><i class="fa fa-circle-o"></i> <span>Foreach Favorite Names</span></a></li>
  <li><a href="dereferencing_levels.html"><i class="fa fa-circle-o"></i> <span>Dereferencing levels</span></a></li>
  <li><a href="changed_classes.html"><i class="fa fa-circle-o"></i> <span>Changed Classes</span></a></li>
  <li><a href="stats.html"><i class="fa fa-circle-o"></i> <span>Statistics</span></a></li>
  <li><a href="visibility_suggestions.html"><i class="fa fa-circle-o"></i> <span>Class Visibility Suggestions</span></a></li>
  <li><a href="typehint_suggestions.html"><i class="fa fa-circle-o"></i> <span>Class Typehint Status</span></a></li>
  <li><a href="class_options_suggestions.html"><i class="fa fa-circle-o"></i> <span>Class Option Recommendations</span></a></li>
  <li><a href="complex_expressions.html"><i class="fa fa-circle-o"></i> <span>Complex Expressions</span></a></li>
  <li><a href="cit_size.html"><i class="fa fa-circle-o"></i> <span>Classes Sizes</span></a></li>
  <li><a href="method_size.html"><i class="fa fa-circle-o"></i> <span>Methods Sizes</span></a></li>
  <li><a href="classes_depth.html"><i class="fa fa-circle-o"></i> <span>Class Depth</span></a></li>
  <li><a href="concentrated_issues.html"><i class="fa fa-circle-o"></i> <span>Concentrated Issues</span></a></li>
  <li><a href="identical_files.html"><i class="fa fa-circle-o"></i> <span>Identical files</span></a></li>
  <li><a href="no_issues.html"><i class="fa fa-circle-o"></i> <span>No Issues Analysis</span></a></li>
  </ul>
  </li>
<li class="treeview">
  <a href="#"><i class="fa fa-shopping-cart"></i> <span>Inventories</span><i class="fa fa-angle-left pull-right"></i></a>
  <ul class="treeview-menu">
  <li><a href="dynamic_code.html"><i class="fa fa-sticky-note-o"></i> <span>Dynamic Code</span></a></li>
  <li><a href="global_variables.html"><i class="fa fa-sticky-note-o"></i> <span>Global Variables</span></a></li>
  <li><a href="error_messages.html"><i class="fa fa-sticky-note-o"></i> <span>Error Messages</span></a></li>
  <li><a href="inventories_exceptions.html"><i class="fa fa-sticky-note-o"></i> <span>Exception Inventory</span></a></li>
  <li><a href="inventories_namespacetree.html"><i class="fa fa-sticky-note-o"></i> <span>Namespace Tree</span></a></li>
  <li><a href="inventories_classtree.html"><i class="fa fa-sticky-note-o"></i> <span>Classes Tree</span></a></li>
  <li><a href="inventories_traittree.html"><i class="fa fa-sticky-note-o"></i> <span>Trait Tree</span></a></li>
  <li><a href="inventories_traitmatrix.html"><i class="fa fa-sticky-note-o"></i> <span>Traits Matrix</span></a></li>
  <li><a href="inventories_interfacetree.html"><i class="fa fa-sticky-note-o"></i> <span>Interface tree</span></a></li>
  <li><a href="inventories_magic.html"><i class="fa fa-sticky-note-o"></i> <span>Used Magic Properties</span></a></li>
  <li><a href="phpfunctions_list.html"><i class="fa fa-sticky-note-o"></i> <span>Native PHP Function usage</span></a></li>
  <li><a href="phpconstants_list.html"><i class="fa fa-sticky-note-o"></i> <span>Native PHP Constant usage</span></a></li>
  <li><a href="phpclasses_list.html"><i class="fa fa-sticky-note-o"></i> <span>PHP Native CIT</span></a></li>
  <li><a href="files_tree.html"><i class="fa fa-sticky-note-o"></i> <span>File dependencies tree</span></a></li>
  <li><a href="variables_confusing.html"><i class="fa fa-sticky-note-o"></i> <span>Confusing Variables</span></a></li>
  <li><a href="inventories_constants.html"><i class="fa fa-sticky-note-o"></i> <span>Constants Inventory</span></a></li>
  <li><a href="inventories_classes.html"><i class="fa fa-sticky-note-o"></i> <span>Classes Inventory</span></a></li>
  <li><a href="inventories_interfaces.html"><i class="fa fa-sticky-note-o"></i> <span>Interfaces Inventory</span></a></li>
  <li><a href="inventories_traits.html"><i class="fa fa-sticky-note-o"></i> <span>Traits Inventory</span></a></li>
  <li><a href="inventories_functions.html"><i class="fa fa-sticky-note-o"></i> <span>Functions Inventory</span></a></li>
  <li><a href="inventories_namespaces.html"><i class="fa fa-sticky-note-o"></i> <span>Namespaces Inventory</span></a></li>
  <li><a href="inventories_url.html"><i class="fa fa-sticky-note-o"></i> <span>URL Inventory</span></a></li>
  <li><a href="inventories_regex.html"><i class="fa fa-sticky-note-o"></i> <span>Regex Inventory</span></a></li>
  <li><a href="inventories_sql.html"><i class="fa fa-sticky-note-o"></i> <span>SQL Inventory</span></a></li>
  <li><a href="inventories_gpcindex.html"><i class="fa fa-sticky-note-o"></i> <span>Incoming Variables</span></a></li>
  <li><a href="inventories_email.html"><i class="fa fa-sticky-note-o"></i> <span>Email Inventory</span></a></li>
  <li><a href="inventories_md5string.html"><i class="fa fa-sticky-note-o"></i> <span>Hashes Inventory</span></a></li>
  <li><a href="inventories_mime.html"><i class="fa fa-sticky-note-o"></i> <span>Mime Inventory</span></a></li>
  <li><a href="inventories_pack.html"><i class="fa fa-sticky-note-o"></i> <span>Pack Inventory</span></a></li>
  <li><a href="inventories_printf.html"><i class="fa fa-sticky-note-o"></i> <span>Printf Inventory</span></a></li>
  <li><a href="inventories_path.html"><i class="fa fa-sticky-note-o"></i> <span>Path Inventory</span></a></li>
  <li><a href="inventories_encoding.html"><i class="fa fa-sticky-note-o"></i> <span>Mbstring Encodings</span></a></li>
  </ul>
  </li>
<li class="treeview">
  <a href="#"><i class="fa fa-wrench"></i> <span>Fixes</span><i class="fa fa-angle-left pull-right"></i></a>
  <ul class="treeview-menu">
  <li><a href="fixes_phpcsfixer.html"><i class="fa fa-cogs"></i> <span>PHP CS Fixer Fixes</span></a></li>
  <li><a href="fixes_rector.html"><i class="fa fa-cogs"></i> <span>Rector Fixes</span></a></li>
  </ul>
  </li>
<li class="treeview">
  <a href="#"><i class="fa fa-list-ul"></i> <span>Annexes</span><i class="fa fa-angle-left pull-right"></i></a>
  <ul class="treeview-menu">
  <li><a href="engine_settings.html"><i class="fa fa-sticky-note-o"></i> <span>Engine Settings</span></a></li>
  <li><a href="annex_config.html"><i class="fa fa-sticky-note-o"></i> <span>Audit Configuration</span></a></li>
  <li><a href="processed_files.html"><i class="fa fa-file"></i> <span>Processed files</span></a></li>
  <li><a href="processed_analysis.html"><i class="fa fa-file"></i> <span>Processed analysis</span></a></li>
  <li><a href="analyses_doc.html"><i class="fa fa-file"></i> <span>Analyses documentation</span></a></li>
  <li><a href="codes.html"><i class="fa fa-file"></i> <span>Source code</span></a></li>
  <li><a href="credits.html"><i class="fa fa-thumbs-up"></i> <span>Credits</span></a></li>
  </ul>
  </li>
</ul>
      </section>
      <!-- /.sidebar -->
    </aside>

    <!-- Content Wrapper. Contains page content -->
    <div id="main">
      <div class="content-wrapper" id="ajax-content">
        <!-- Main content -->
        <!-- Content Header (Page header) -->
                <!-- Content Header (Page header) -->
        <section class="content-header">
          <h1>
            Analyzers Documentation
          </h1>
        </section>

        <!-- Main content -->
        <section id="used_settings" class="content">
          <div class="box">
            <div class="box-body">
              <div class="row">
                <div class="col-xs-12">
                  <h2><a href="issues.html#analyzer=structures_addzero" id="structures_addzero">Adding Zero</a></h2><p>[Since 0.8.4] - [ -P Structures/AddZero ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#adding-zero">Online docs</a> ]</p><p>Adding 0 is useless, as 0 is the neutral element for addition. In PHP, it triggers a cast to integer. <br />
<br />
It is recommended to make the cast explicit with (int) <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Explicit&nbsp;cast<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;(int)&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;Useless&nbsp;addition<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;+&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;Also&nbsp;works&nbsp;with&nbsp;minus<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0&nbsp;</span><span style="color: #007700">-&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;drop&nbsp;the&nbsp;0,&nbsp;but&nbsp;keep&nbsp;the&nbsp;minus<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">-&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;drop&nbsp;the&nbsp;0&nbsp;and&nbsp;the&nbsp;minus<br /><br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">+=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">-=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
If it is used to type cast a value to integer, then casting (integer) is clearer. <br />
</p>
<h2><a href="issues.html#analyzer=arrays_ambiguouskeys" id="arrays_ambiguouskeys">Ambiguous Array Index</a></h2><p>[Since 0.8.4] - [ -P Arrays/AmbiguousKeys ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ambiguous-array-index">Online docs</a> ]</p><p>Indexes should not be defined with different types than int or string. <br />
<br />
Array indices only accept integers and strings, so any other type of literal is reported. In fact,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">null</span>  is turned into an empty string, booleans are turned into an integer, and real numbers are truncated (not rounded).<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;[&nbsp;</span><span style="color: #0000BB">1&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'1'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">1.0&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">true&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">];<br /></span><span style="color: #FF8000">//&nbsp;$x&nbsp;only&nbsp;contains&nbsp;one&nbsp;element&nbsp;:&nbsp;1&nbsp;=&gt;&nbsp;4<br /><br />//&nbsp;Still&nbsp;wrong,&nbsp;immediate&nbsp;typecast&nbsp;to&nbsp;1<br /></span><span style="color: #0000BB">$x</span><span style="color: #007700">[</span><span style="color: #0000BB">1.0</span><span style="color: #007700">]&nbsp;&nbsp;=&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">;&nbsp;<br /></span><span style="color: #0000BB">$x</span><span style="color: #007700">[</span><span style="color: #0000BB">true</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">6</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
They are indeed distinct, but may lead to confusion. <br />
<br />
See also <a href="http://php.net/manual/en/language.types.array.php" alt="array">array</a>.<br />
</p>
<h2><a href="issues.html#analyzer=arrays_arrayindex" id="arrays_arrayindex">Array Index</a></h2><p>[Since 0.8.4] - [ -P Arrays/Arrayindex ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#array-index">Online docs</a> ]</p><p>List of all indexes used in arrays. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Index<br /></span><span style="color: #0000BB">$x</span><span style="color: #007700">[</span><span style="color: #DD0000">'index'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;in&nbsp;array&nbsp;creation<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'index2'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$a2&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #DD0000">'index3'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">];<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=arrays_multidimensional" id="arrays_multidimensional">Multidimensional Arrays</a></h2><p>[Since 0.8.4] - [ -P Arrays/Multidimensional ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#multidimensional-arrays">Online docs</a> ]</p><p>Simply, arrays of arrays. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$x</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">][</span><span style="color: #0000BB">2</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">][</span><span style="color: #0000BB">3</span><span style="color: #007700">][</span><span style="color: #0000BB">4</span><span style="color: #007700">];<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.types.array.php" alt="Type array">Type array</a> and <br />
         <a href="https://www.elated.com/articles/php-multidimensional-arrays/" alt="Using Multidimensional Arrays in PHP">Using Multidimensional Arrays in PHP</a>.<br />
</p>
<h2><a href="issues.html#analyzer=arrays_multipleidenticalkeys" id="arrays_multipleidenticalkeys">Multiple Index Definition</a></h2><p>[Since 0.8.4] - [ -P Arrays/MultipleIdenticalKeys ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#multiple-index-definition">Online docs</a> ]</p><p>Indexes that are defined multiple times in the same array. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Multiple&nbsp;identical&nbsp;keys<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Multiple&nbsp;identical&nbsp;keys&nbsp;(sneaky&nbsp;version)<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">1.1&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">true&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Multiple&nbsp;identical&nbsp;keys&nbsp;(automated&nbsp;version)<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;will&nbsp;be&nbsp;index&nbsp;2<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">);&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;this&nbsp;index&nbsp;is&nbsp;overwritten<br /></span>?&gt;</pre><br />
<br />
They are indeed overwriting each other. This is most probably a typo.<br />
</p>
<h2><a href="issues.html#analyzer=arrays_phparrayindex" id="arrays_phparrayindex">PHP Arrays Index</a></h2><p>[Since 0.8.4] - [ -P Arrays/Phparrayindex ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php-arrays-index">Online docs</a> ]</p><p>List of indexes used when manipulating PHP arrays in the code.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;HTTP_HOST&nbsp;is&nbsp;a&nbsp;PHP&nbsp;array&nbsp;index.&nbsp;<br /></span><span style="color: #0000BB">$ip&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'http'</span><span style="color: #007700">.</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_HOST'</span><span style="color: #007700">].</span><span style="color: #DD0000">'/'</span><span style="color: #007700">.</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">'path'</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//'path'&nbsp;is&nbsp;not&nbsp;a&nbsp;PHP&nbsp;index<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_classnames" id="classes_classnames">Classes Names</a></h2><p>[Since 0.8.4] - [ -P Classes/Classnames ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#classes-names">Online docs</a> ]</p><p>List of all classes, as defined in the application.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;foo&nbsp;is&nbsp;in&nbsp;the&nbsp;list<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{}<br /><br /></span><span style="color: #FF8000">//&nbsp;Anonymous&nbsp;classes&nbsp;are&nbsp;not&nbsp;in&nbsp;the&nbsp;list<br /></span><span style="color: #0000BB">$o&nbsp;</span><span style="color: #007700">=&nbsp;class&nbsp;{&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(){}&nbsp;}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=classes_constantdefinition" id="classes_constantdefinition">Constant Definition</a></h2><p>[Since 0.8.4] - [ -P Classes/ConstantDefinition ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#constant-definition">Online docs</a> ]</p><p>List of class constants being defined.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;traditional&nbsp;way&nbsp;of&nbsp;making&nbsp;constants<br /></span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'aConstant'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;modern&nbsp;way&nbsp;of&nbsp;making&nbsp;constants<br /></span><span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">anotherConstant&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Not&nbsp;a&nbsp;constant,&nbsp;a&nbsp;class&nbsp;constant.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">aClassConstant&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.constants.php" alt="PHP Constants">PHP Constants</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_emptyclass" id="classes_emptyclass">Empty Classes</a></h2><p>[Since 0.8.4] - [ -P Classes/EmptyClass ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#empty-classes">Online docs</a> ]</p><p>Classes that do no define anything at all. This is probably dead code.<br />
<br />
Classes that are directly derived from an exception are omitted.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//Empty&nbsp;class<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">{}<br /><br /></span><span style="color: #FF8000">//Not&nbsp;an&nbsp;empty&nbsp;class<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo2&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">FOO&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//Not&nbsp;an&nbsp;empty&nbsp;class,&nbsp;as&nbsp;derived&nbsp;from&nbsp;Exception<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">barException&nbsp;</span><span style="color: #007700">extends&nbsp;\</span><span style="color: #0000BB">Exception&nbsp;</span><span style="color: #007700">{}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=classes_magicmethod" id="classes_magicmethod">Magic Methods</a></h2><p>[Since 0.8.4] - [ -P Classes/MagicMethod ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#magic-methods">Online docs</a> ]</p><p>List of PHP magic methods being used. The magic methods are <br />
<br />
__call(), __callStatic(), __get(), __set(), __isset(), __<a href="https://www.php.net/unset" alt="unset()">unset()</a>, __<a href="https://www.php.net/sleep" alt="sleep()">sleep()</a>, __wakeup(), __toString(), __invoke(), __set_state(), __clone() and __debugInfo().<br />
<br />
 <span style="border: 1px solid #ddd; background-color: #f5f5f5">__construct</span>  and  <span style="border: 1px solid #ddd; background-color: #f5f5f5">__destruct</span>  are omitted here, as they are routinely used to create and destroy objects.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;PHP&nbsp;Magic&nbsp;method,&nbsp;called&nbsp;when&nbsp;cloning&nbsp;an&nbsp;object.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">__clone</span><span style="color: #007700">()&nbsp;{}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.magic.php" alt="Magic Method">Magic Method</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_nonppp" id="classes_nonppp">Forgotten Visibility</a></h2><p>[Since 0.8.4] - [ -P Classes/NonPpp ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#forgotten-visibility">Online docs</a> ]</p><p>Some classes elements (property, method, constant) are missing their explicit visibility.<br />
<br />
By default, it is public. It should at least be mentioned as public, or may be reviewed as protected or private. <br />
<br />
Class constants support also visibility since PHP 7.1.<br />
<br />
final, static and abstract are not counted as visibility. Only public, private and protected. The PHP 4 var keyword is counted as undefined.<br />
<br />
Traits, classes and interfaces are checked. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Explicit&nbsp;visibility<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">X&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">sconst&nbsp;NO_VISIBILITY_CONST&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;For&nbsp;PHP&nbsp;7.2&nbsp;and&nbsp;later<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">private&nbsp;</span><span style="color: #0000BB">$noVisibilityProperty&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">Method</span><span style="color: #007700">()&nbsp;{}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Missing&nbsp;visibility<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">X&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">NO_VISIBILITY_CONST&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;For&nbsp;PHP&nbsp;7.2&nbsp;and&nbsp;later<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">var&nbsp;</span><span style="color: #0000BB">$noVisibilityProperty&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;Only&nbsp;with&nbsp;var<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">NoVisibilityForMethod</span><span style="color: #007700">()&nbsp;{}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.visibility.php" alt="Visibility">Visibility</a> and <a href="https://torquemag.io/2016/05/understanding-concept-visibility-object-oriented-php/" alt="Understanding The Concept Of Visibility In Object Oriented PHP">Understanding The Concept Of Visibility In Object Oriented PHP</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_nonstaticmethodscalledstatic" id="classes_nonstaticmethodscalledstatic">Non Static Methods Called In A Static</a></h2><p>[Since 0.8.4] - [ -P Classes/NonStaticMethodsCalledStatic ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#non-static-methods-called-in-a-static">Online docs</a> ]</p><p>Static methods have to be declared as such (using the static keyword). Then, one may call them without instantiating the object.<br />
<br />
PHP 7.0, and more recent versions, yield a deprecated error :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Non-static method A::B() should not be called statically</span> .<br />
<br />
PHP 5 and older doesn't check that a method is static or not : at any point, the code may call one method statically.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">sm</span><span style="color: #007700">(&nbsp;)&nbsp;{&nbsp;echo&nbsp;</span><span style="color: #0000BB">__METHOD__</span><span style="color: #007700">.\</span><span style="color: #0000BB">n</span><span style="color: #007700">;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;public&nbsp;</span><span style="color: #0000BB">sm</span><span style="color: #007700">(&nbsp;)&nbsp;{&nbsp;echo&nbsp;</span><span style="color: #0000BB">__METHOD__</span><span style="color: #007700">.\</span><span style="color: #0000BB">n</span><span style="color: #007700">;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">x</span><span style="color: #007700">::</span><span style="color: #0000BB">sm</span><span style="color: #007700">(&nbsp;);&nbsp;</span><span style="color: #FF8000">//&nbsp;echo&nbsp;x::sm&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Dynamic&nbsp;call<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[</span><span style="color: #DD0000">'x'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'sm'</span><span style="color: #007700">]();<br />&nbsp;&nbsp;&nbsp;&nbsp;[\</span><span style="color: #0000BB">x</span><span style="color: #007700">::class,&nbsp;</span><span style="color: #DD0000">'sm'</span><span style="color: #007700">]();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$s&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'x::sm'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$s</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
It is a bad idea to call non-static method statically. Such method may make use of special<br />
variable $this, which will be undefined. PHP will not check those calls at compile time,<br />
nor at running time. <br />
<br />
It is recommended to update this situation : make the method actually static, or use it only <br />
in object context.<br />
<br />
Note that this analysis reports all static method call made on a non-static method,<br />
even within the same class or class hierarchy. PHP silently accepts static call to any<br />
in-family method.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(&nbsp;)&nbsp;{&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(&nbsp;)&nbsp;{&nbsp;echo&nbsp;</span><span style="color: #0000BB">__METHOD__</span><span style="color: #007700">.\</span><span style="color: #0000BB">n</span><span style="color: #007700">;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.static.php" alt="Static Keyword">Static Keyword</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_oldstyleconstructor" id="classes_oldstyleconstructor">Old Style Constructor</a></h2><p>[Since 0.8.4] - [ -P Classes/OldStyleConstructor ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#old-style-constructor">Online docs</a> ]</p><p>PHP classes used to have the method bearing the same name as the class acts as the constructor. That was PHP 4, and early PHP 5. <br />
<br />
The manual issues a warning about this syntax :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Old style constructors are DEPRECATED in PHP 7.0, and will be removed in a future version. You should always use __construct() in new code.</span> <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Global&nbsp;namespace&nbsp;is&nbsp;important<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;acts&nbsp;as&nbsp;the&nbsp;old-style&nbsp;constructor,&nbsp;and&nbsp;is&nbsp;reported&nbsp;by&nbsp;PHP<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;class&nbsp;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&nbsp;{&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;doesn't&nbsp;act&nbsp;as&nbsp;constructor,&nbsp;as&nbsp;bar&nbsp;has&nbsp;a&nbsp;__construct()&nbsp;method<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />namespace&nbsp;</span><span style="color: #0000BB">Foo</span><span style="color: #007700">\</span><span style="color: #0000BB">Bar</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;doesn't&nbsp;act&nbsp;as&nbsp;constructor,&nbsp;as&nbsp;bar&nbsp;is&nbsp;not&nbsp;in&nbsp;the&nbsp;global&nbsp;namespace<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
This is no more the case in PHP 5, which relies on  <span style="border: 1px solid #ddd; background-color: #f5f5f5">__construct()</span>  to do so. Having this old style constructor may bring in confusion, unless you are also supporting old time PHP 4.<br />
<br />
Note that classes with methods bearing the class name, but inside a namespace are not following this convention, as this is not breaking backward compatibility. Those are excluded from the analyze.<br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.decon.php" alt="Constructors and Destructors">Constructors and Destructors</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_staticmethods" id="classes_staticmethods">Static Methods</a></h2><p>[Since 0.8.4] - [ -P Classes/StaticMethods ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#static-methods">Online docs</a> ]</p><p>List of all static methods.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">staticMethod</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">notStaticMethod</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;function&nbsp;</span><span style="color: #0000BB">method</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;not&nbsp;a&nbsp;property<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">new&nbsp;static();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_staticmethodscalledfromobject" id="classes_staticmethodscalledfromobject">Static Methods Called From Object</a></h2><p>[Since 0.8.4] - [ -P Classes/StaticMethodsCalledFromObject ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#static-methods-called-from-object">Online docs</a> ]</p><p>Static methods may be called without instantiating an object. As such, they never interact with the special variable '$this', as they do not depend on object existence. <br />
<br />
Besides this, static methods are normal methods that may be called directly from object context, to perform some utility task. <br />
<br />
To maintain code readability, it is recommended to call static method in a static way, rather than within object context.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">y</span><span style="color: #007700">(&nbsp;)&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$z&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">x</span><span style="color: #007700">(&nbsp;);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$z</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">y</span><span style="color: #007700">(&nbsp;);&nbsp;</span><span style="color: #FF8000">//&nbsp;Readability&nbsp;:&nbsp;no&nbsp;one&nbsp;knows&nbsp;it&nbsp;is&nbsp;a&nbsp;static&nbsp;call<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">x</span><span style="color: #007700">::</span><span style="color: #0000BB">y</span><span style="color: #007700">(&nbsp;);&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Readability&nbsp;:&nbsp;here&nbsp;we&nbsp;know<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_staticproperties" id="classes_staticproperties">Static Properties</a></h2><p>[Since 0.8.4] - [ -P Classes/StaticProperties ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#static-properties">Online docs</a> ]</p><p>List of all static properties.<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;public&nbsp;</span><span style="color: #0000BB">$staticProperty&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$notStaticProperty&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;function&nbsp;</span><span style="color: #0000BB">method</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;not&nbsp;a&nbsp;property<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">new&nbsp;static();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;not&nbsp;a&nbsp;static&nbsp;property<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">static&nbsp;</span><span style="color: #0000BB">$staticVariable</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//....<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=constants_constantstrangenames" id="constants_constantstrangenames">Constants With Strange Names</a></h2><p>[Since 0.8.4] - [ -P Constants/ConstantStrangeNames ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#constants-with-strange-names">Online docs</a> ]</p><p>List of constants being defined with names that are incompatible with PHP standards. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Define&nbsp;a&nbsp;valid&nbsp;PHP&nbsp;constant<br /></span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'ABC'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);&nbsp;<br />const&nbsp;</span><span style="color: #0000BB">ABCD&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;&nbsp;<br /><br /></span><span style="color: #FF8000">//&nbsp;Define&nbsp;an&nbsp;invalid&nbsp;PHP&nbsp;constant<br /></span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'ABC!'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);&nbsp;<br />echo&nbsp;</span><span style="color: #0000BB">defined</span><span style="color: #007700">(</span><span style="color: #DD0000">'ABC!'</span><span style="color: #007700">)&nbsp;?&nbsp;</span><span style="color: #0000BB">constant</span><span style="color: #007700">(</span><span style="color: #DD0000">'ABC!'</span><span style="color: #007700">)&nbsp;:&nbsp;</span><span style="color: #DD0000">'Undefined'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Const&nbsp;doesn't&nbsp;allow&nbsp;illegal&nbsp;names<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.constants.php" alt="PHP Constants">PHP Constants</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=constants_constantusage" id="constants_constantusage">Constants Usage</a></h2><p>[Since 0.8.4] - [ -P Constants/ConstantUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#constants-usage">Online docs</a> ]</p><p>List of constants being used.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">MY_CONST&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Hello'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;PHP_EOL&nbsp;(native&nbsp;PHP&nbsp;Constant)<br />//&nbsp;MY_CONST&nbsp;(custom&nbsp;constant)<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">PHP_EOL&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">MY_CONST</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=constants_constantnames" id="constants_constantnames">Constants</a></h2><p>[Since 0.8.4] - [ -P Constants/Constantnames ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#constants">Online docs</a> ]</p><p>List of PHP constants being defined.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;with&nbsp;const<br /></span><span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">X&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;with&nbsp;`define()&nbsp;&lt;https://www.php.net/define&gt;`_<br /></span><span style="color: #0000BB">define&nbsp;</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=constants_inconsistantcase" id="constants_inconsistantcase">True False Inconsistant Case</a></h2><p>[Since 0.8.4] - [ -P Constants/InconsistantCase ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#true-false-inconsistant-case">Online docs</a> ]</p><p>TRUE or true or True is the favorite.<br />
<br />
Usually, PHP projects choose between ALL CAPS True/False, or all lowercase True/False. Sometimes, the project will have no recommendations. <br />
<br />
When your project use a vast majority of one of the convention, then the analyzer will report all remaining inconsistently cased constant. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a3&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a4&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a5&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a6&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a7&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a8&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a9&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a10&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;convention&nbsp;is&nbsp;inconsistence&nbsp;with&nbsp;the&nbsp;rest<br /></span><span style="color: #0000BB">$b1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">TRUE</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=constants_magicconstantusage" id="constants_magicconstantusage">Magic Constant Usage</a></h2><p>[Since 0.8.4] - [ -P Constants/MagicConstantUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#magic-constant-usage">Online docs</a> ]</p><p>There are eight magical constants that change depending on where they are used. For example, the value of __LINE__ depends on the line that it's used on in your script. These special constants are case-insensitive.<br />
<br />
+ __LINE__<br />
+ __FILE__<br />
+ __DIR__<br />
+ __FUNCTION__<br />
+ __CLASS__<br />
+ __TRAIT__<br />
+ __METHOD__<br />
+ __NAMESPACE__<br />
<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'This&nbsp;code&nbsp;is&nbsp;in&nbsp;file&nbsp;'</span><span style="color: #0000BB">__FILE__</span><span style="color: #007700">.</span><span style="color: #DD0000">',&nbsp;line&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">__LINE__</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also<a href="http://php.net/manual/en/language.constants.predefined.php" alt="Magic Constants">Magic Constants</a>.<br />
 </p>
<h2><a href="issues.html#analyzer=constants_phpconstantusage" id="constants_phpconstantusage">PHP Constant Usage</a></h2><p>[Since 0.8.4] - [ -P Constants/PhpConstantUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php-constant-usage">Online docs</a> ]</p><p>List of PHP constants being used.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">MY_CONST&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Hello'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;PHP_EOL&nbsp;(native&nbsp;PHP&nbsp;Constant)<br />//&nbsp;MY_CONST&nbsp;(custom&nbsp;constant,&nbsp;not&nbsp;reported)<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">PHP_EOL&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">MY_CONST</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/reserved.constants.php" alt="Predefined Constants">Predefined Constants</a>.<br />
</p>
<h2><a href="issues.html#analyzer=exceptions_definedexceptions" id="exceptions_definedexceptions">Defined Exceptions</a></h2><p>[Since 0.8.4] - [ -P Exceptions/DefinedExceptions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#defined-exceptions">Online docs</a> ]</p><p>This is the list of defined exceptions.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">myException&nbsp;</span><span style="color: #007700">extends&nbsp;\</span><span style="color: #0000BB">Exception&nbsp;</span><span style="color: #007700">{}<br /><br /></span><span style="color: #FF8000">//&nbsp;A&nbsp;defined&nbsp;exception<br /></span><span style="color: #007700">throw&nbsp;new&nbsp;</span><span style="color: #0000BB">myException</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;not&nbsp;a&nbsp;defined&nbsp;exception&nbsp;:&nbsp;it&nbsp;is&nbsp;already&nbsp;defined.&nbsp;<br /></span><span style="color: #007700">throw&nbsp;new&nbsp;\</span><span style="color: #0000BB">RuntimeException</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.exceptions.php" alt="Exceptions">Exceptions</a>.<br />
</p>
<h2><a href="issues.html#analyzer=exceptions_thrownexceptions" id="exceptions_thrownexceptions">Thrown Exceptions</a></h2><p>[Since 0.8.4] - [ -P Exceptions/ThrownExceptions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#thrown-exceptions">Online docs</a> ]</p><p>Usage of throw keyword.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">throw&nbsp;new&nbsp;</span><span style="color: #0000BB">MyException</span><span style="color: #007700">(</span><span style="color: #DD0000">'Error&nbsp;happened'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.exceptions.php" alt="Exceptions">Exceptions</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extapc" id="extensions_extapc">ext/apc</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extapc ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-apc">Online docs</a> ] - [ PHP  older than 7.0]</p><p>Extension Alternative PHP Cache.<br />
<br />
The Alternative PHP Cache (APC) is a free and open opcode cache for PHP. Its goal is to provide a free, open, and robust framework for caching and optimizing PHP intermediate code.<br />
<br />
This extension is considered unmaintained and dead. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'BAR'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">apc_add</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">apc_fetch</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'NEVER&nbsp;GETS&nbsp;SET'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">apc_add</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">apc_fetch</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/apc" alt="Alternative PHP Cache">Alternative PHP Cache</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extbcmath" id="extensions_extbcmath">ext/bcmath</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extbcmath ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-bcmath">Online docs</a> ]</p><p>Extension BC Math.<br />
<br />
For arbitrary precision mathematics PHP offers the Binary Calculator which supports numbers of any size and precision up to 2147483647-1 (or 0x7FFFFFFF-1) decimals, represented as strings.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">bcpow</span><span style="color: #007700">(</span><span style="color: #DD0000">'2'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'123'</span><span style="color: #007700">);&nbsp;<br /></span><span style="color: #FF8000">//10633823966279326983230456482242756608<br /><br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">**</span><span style="color: #0000BB">123</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//1.0633823966279E+37<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/bcmath" alt="BC Math Functions">BC Math Functions</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extbzip2" id="extensions_extbzip2">ext/bzip2</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extbzip2 ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-bzip2">Online docs</a> ]</p><p>Extension ext/bzip2.<br />
<br />
Bzip2 Functions for PHP.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$file&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'/tmp/foo.bz2'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$bz&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">bzopen</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'r'</span><span style="color: #007700">)&nbsp;or&nbsp;die(</span><span style="color: #DD0000">'Couldn\'t&nbsp;open&nbsp;$file&nbsp;for&nbsp;reading'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">bzclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$bz</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/bzip2" alt="Bzip2 Functions">Bzip2 Functions</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extcalendar" id="extensions_extcalendar">ext/calendar</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extcalendar ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-calendar">Online docs</a> ]</p><p>Extension ext/calendar.<br />
<br />
The calendar extension presents a series of functions to simplify converting between different calendar formats. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$number&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">cal_days_in_month</span><span style="color: #007700">(</span><span style="color: #0000BB">CAL_GREGORIAN</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">8</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2003</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;31<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"There&nbsp;were&nbsp;</span><span style="color: #007700">{</span><span style="color: #0000BB">$number</span><span style="color: #007700">}</span><span style="color: #DD0000">&nbsp;days&nbsp;in&nbsp;August&nbsp;2003"</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/manual/en/ref.calendar.php" alt="Calendar Functions">Calendar Functions</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extcrypto" id="extensions_extcrypto">ext/crypto</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extcrypto ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-crypto">Online docs</a> ]</p><p>Extension ext/crypto (PECL).<br />
<br />
Objective PHP binding of OpenSSL Crypto library.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">Crypto</span><span style="color: #007700">\</span><span style="color: #0000BB">Cipher</span><span style="color: #007700">;<br />use&nbsp;</span><span style="color: #0000BB">Crypto</span><span style="color: #007700">\</span><span style="color: #0000BB">AlgorihtmException</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$algorithm&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'aes-256-cbc'</span><span style="color: #007700">;<br />if&nbsp;(!</span><span style="color: #0000BB">Cipher</span><span style="color: #007700">::</span><span style="color: #0000BB">hasAlgorithm</span><span style="color: #007700">(</span><span style="color: #0000BB">$algorithm</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #DD0000">'Algorithm&nbsp;$algorithm&nbsp;not&nbsp;found'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">);<br />}<br />try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$cipher&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Cipher</span><span style="color: #007700">(</span><span style="color: #0000BB">$algorithm</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Algorithm&nbsp;method&nbsp;for&nbsp;retrieving&nbsp;algorithm<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'Algorithm:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$cipher</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getAlgorithmName</span><span style="color: #007700">()&nbsp;.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Params<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$key_len&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$cipher</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getKeyLength</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$iv_len&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$cipher</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getIVLength</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Key&nbsp;length:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$key_len&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'IV&nbsp;length:&nbsp;'&nbsp;&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$iv_len&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Block&nbsp;size:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$cipher</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getBlockSize</span><span style="color: #007700">()&nbsp;.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;just&nbsp;for&nbsp;this&nbsp;example.&nbsp;You&nbsp;should&nbsp;never&nbsp;use&nbsp;such&nbsp;key&nbsp;and&nbsp;IV!<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$key&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">str_repeat</span><span style="color: #007700">(</span><span style="color: #DD0000">'x'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$key_len</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$iv&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">str_repeat</span><span style="color: #007700">(</span><span style="color: #DD0000">'i'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$iv_len</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Test&nbsp;data<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$data1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Test'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$data2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Data'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$data&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$data1&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$data2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Simple&nbsp;encryption<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$sim_ct&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$cipher</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">encrypt</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$key</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$iv</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;init/update/finish&nbsp;encryption<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$cipher</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">encryptInit</span><span style="color: #007700">(</span><span style="color: #0000BB">$key</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$iv</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$iuf_ct&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$cipher</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">encryptUpdate</span><span style="color: #007700">(</span><span style="color: #0000BB">$data1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$iuf_ct&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #0000BB">$cipher</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">encryptUpdate</span><span style="color: #007700">(</span><span style="color: #0000BB">$data2</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$iuf_ct&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #0000BB">$cipher</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">encryptFinish</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Raw&nbsp;data&nbsp;output&nbsp;(used&nbsp;base64&nbsp;format&nbsp;for&nbsp;printing)<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'Ciphertext&nbsp;(sim):&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">base64_encode</span><span style="color: #007700">(</span><span style="color: #0000BB">$sim_ct</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Ciphertext&nbsp;(iuf):&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">base64_encode</span><span style="color: #007700">(</span><span style="color: #0000BB">$iuf_ct</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$iuf_out&nbsp;==&nbsp;$sim_out<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ct&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$sim_ct</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Another&nbsp;way&nbsp;how&nbsp;to&nbsp;create&nbsp;a&nbsp;new&nbsp;cipher&nbsp;object&nbsp;(using&nbsp;the&nbsp;same&nbsp;algorithm&nbsp;and&nbsp;mode)<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$cipher&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">Cipher</span><span style="color: #007700">::</span><span style="color: #0000BB">aes</span><span style="color: #007700">(</span><span style="color: #0000BB">Cipher</span><span style="color: #007700">::</span><span style="color: #0000BB">MODE_CBC</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">256</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Simple&nbsp;decryption<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$sim_text&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$cipher</span><span style="color: #007700">-&gt;<</span>?&gt;</pre><br />
<br />
See also <a href="https://pecl.php.net/package/crypto" alt="pecl crypto">pecl crypto</a> and <a href="https://github.com/bukka/php-crypto" alt="php-crypto">php-crypto</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extctype" id="extensions_extctype">ext/ctype</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extctype ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-ctype">Online docs</a> ]</p><p>Extension ext/ctype.<br />
<br />
Ext/ctype checks whether a character or string falls into a certain character class according to the current locale.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$strings&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'AbCd1zyZ9'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'foo!#$bar'</span><span style="color: #007700">);<br />foreach&nbsp;(</span><span style="color: #0000BB">$strings&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$testcase</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">ctype_alnum</span><span style="color: #007700">(</span><span style="color: #0000BB">$testcase</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"The&nbsp;string&nbsp;</span><span style="color: #0000BB">$testcase</span><span style="color: #DD0000">&nbsp;consists&nbsp;of&nbsp;all&nbsp;letters&nbsp;or&nbsp;digits.\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"The&nbsp;string&nbsp;</span><span style="color: #0000BB">$testcase</span><span style="color: #DD0000">&nbsp;does&nbsp;not&nbsp;consist&nbsp;of&nbsp;all&nbsp;letters&nbsp;or&nbsp;digits.\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/ref.ctype.php" alt="Ctype funtions">Ctype funtions</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extcurl" id="extensions_extcurl">ext/curl</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extcurl ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-curl">Online docs</a> ]</p><p>Extension curl.<br />
<br />
PHP supports libcurl, a library created by Daniel Stenberg. It allows the connection and communication to many different types of servers with many different types of protocols.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$ch&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">curl_init</span><span style="color: #007700">(</span><span style="color: #DD0000">"http://www.example.com/"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$fp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">"example_homepage.txt"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"w"</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">curl_setopt</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">CURLOPT_FILE</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$fp</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">curl_setopt</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">CURLOPT_HEADER</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">curl_exec</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">curl_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">fclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.curl.php" alt="Curl for PHP">Curl for PHP</a> and <br />
         <a href="https://curl.haxx.se/libcurl/" alt="curl">curl</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extdate" id="extensions_extdate">ext/date</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extdate ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-date">Online docs</a> ]</p><p>Extension ext/date.<br />
<br />
These functions allows the manipulation of date and time from the server where the PHP scripts are running. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$dt&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">DateTime</span><span style="color: #007700">(</span><span style="color: #DD0000">'2015-11-01&nbsp;00:00:00'</span><span style="color: #007700">,&nbsp;new&nbsp;</span><span style="color: #0000BB">DateTimeZone</span><span style="color: #007700">(</span><span style="color: #DD0000">'America/New_York'</span><span style="color: #007700">));<br />echo&nbsp;</span><span style="color: #DD0000">'Start:&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$dt</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d&nbsp;H:i:s&nbsp;P'</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$dt</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">DateInterval</span><span style="color: #007700">(</span><span style="color: #DD0000">'PT3H'</span><span style="color: #007700">));<br />echo&nbsp;</span><span style="color: #DD0000">'End:&nbsp;&nbsp;&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$dt</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d&nbsp;H:i:s&nbsp;P'</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.datetime.php" alt="Date and Time">Date and Time</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extdba" id="extensions_extdba">ext/dba</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extdba ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-dba">Online docs</a> ]</p><p>Extension ext/dba.<br />
<br />
These functions build the foundation for accessing Berkeley DB style databases.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$id&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">dba_open</span><span style="color: #007700">(</span><span style="color: #DD0000">'/tmp/test.db'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'n'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'db2'</span><span style="color: #007700">);<br /><br />if&nbsp;(!</span><span style="color: #0000BB">$id</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'dba_open&nbsp;failed'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;exit;<br />}<br /><br /></span><span style="color: #0000BB">dba_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'key'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'This&nbsp;is&nbsp;an&nbsp;example!'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$id</span><span style="color: #007700">);<br /><br />if&nbsp;(</span><span style="color: #0000BB">dba_exists</span><span style="color: #007700">(</span><span style="color: #DD0000">'key'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$id</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">dba_fetch</span><span style="color: #007700">(</span><span style="color: #DD0000">'key'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$id</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">dba_delete</span><span style="color: #007700">(</span><span style="color: #DD0000">'key'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$id</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #0000BB">dba_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.dba.php" alt="Database (dbm-style) Abstraction Layer">Database (dbm-style) Abstraction Layer</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extdom" id="extensions_extdom">ext/dom</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extdom ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-dom">Online docs</a> ]</p><p>Extension Document Object Model.<br />
<br />
The DOM extension allows the manipulation of XML documents through the DOM API with PHP.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$dom&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">DOMDocument</span><span style="color: #007700">(</span><span style="color: #DD0000">'1.0'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'utf-8'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$element&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$dom</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">createElement</span><span style="color: #007700">(</span><span style="color: #DD0000">'test'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'This&nbsp;is&nbsp;the&nbsp;root&nbsp;element!'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;We&nbsp;insert&nbsp;the&nbsp;new&nbsp;element&nbsp;as&nbsp;root&nbsp;(child&nbsp;of&nbsp;the&nbsp;document)<br /></span><span style="color: #0000BB">$dom</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">appendChild</span><span style="color: #007700">(</span><span style="color: #0000BB">$element</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #0000BB">$dom</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">saveXML</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.dom.php" alt="Document Object Model">Document Object Model</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extenchant" id="extensions_extenchant">ext/enchant</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extenchant ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-enchant">Online docs</a> ]</p><p>Extension Enchant.<br />
<br />
Enchant is the PHP binding for the <a href="http://php.net/manual/en/book.enchant.php" alt="Enchant spelling library">Enchant spelling library</a>. Enchant steps in to provide uniformity and conformity on top of all spelling libraries, and implement certain features that may be lacking in any individual provider library. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$tag&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'en_US'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$r&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">enchant_broker_init</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$bprovides&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">enchant_broker_describe</span><span style="color: #007700">(</span><span style="color: #0000BB">$r</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">'Current&nbsp;broker&nbsp;provides&nbsp;the&nbsp;following&nbsp;backend(s):'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$bprovides</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$dicts&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">enchant_broker_list_dicts</span><span style="color: #007700">(</span><span style="color: #0000BB">$r</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$dicts</span><span style="color: #007700">);<br />if&nbsp;(</span><span style="color: #0000BB">enchant_broker_dict_exists</span><span style="color: #007700">(</span><span style="color: #0000BB">$r</span><span style="color: #007700">,</span><span style="color: #0000BB">$tag</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">enchant_broker_request_dict</span><span style="color: #007700">(</span><span style="color: #0000BB">$r</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$tag</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$dprovides&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">enchant_dict_describe</span><span style="color: #007700">(</span><span style="color: #0000BB">$d</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'dictionary&nbsp;$tag&nbsp;provides:'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$wordcorrect&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">enchant_dict_check</span><span style="color: #007700">(</span><span style="color: #0000BB">$d</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'soong'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$dprovides</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #0000BB">$wordcorrect</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$suggs&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">enchant_dict_suggest</span><span style="color: #007700">(</span><span style="color: #0000BB">$d</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'soong'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Suggestions&nbsp;for&nbsp;"soong":'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$suggs</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">enchant_broker_free_dict</span><span style="color: #007700">(</span><span style="color: #0000BB">$d</span><span style="color: #007700">);<br />}&nbsp;else&nbsp;{<br />}<br /></span><span style="color: #0000BB">enchant_broker_free</span><span style="color: #007700">(</span><span style="color: #0000BB">$r</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.enchant.php" alt="Enchant spelling library">Enchant spelling library</a> and <br />
         <a href="https://www.abisource.com/projects/enchant/" alt="Enchant">Enchant</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extereg" id="extensions_extereg">ext/ereg</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extereg ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-ereg">Online docs</a> ] - [ PHP  older than 7.0]</p><p>Extension ext/ereg.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">ereg&nbsp;</span><span style="color: #007700">(</span><span style="color: #DD0000">'([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$date</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$regs</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$regs</span><span style="color: #007700">[</span><span style="color: #0000BB">3</span><span style="color: #007700">].</span><span style="color: #DD0000">'.'</span><span style="color: #007700">.</span><span style="color: #0000BB">$regs</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">].</span><span style="color: #DD0000">'.'</span><span style="color: #007700">.</span><span style="color: #0000BB">$regs</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Invalid&nbsp;date&nbsp;format:&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$date</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/function.ereg.php" alt="Ereg">Ereg</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extexif" id="extensions_extexif">ext/exif</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extexif ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-exif">Online docs</a> ]</p><p>Extension EXIF : Exchangeable image file format.<br />
<br />
The EXIF extension manipulates image meta data.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'test1.jpg:&lt;br&nbsp;/&gt;'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$exif&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">exif_read_data</span><span style="color: #007700">(</span><span style="color: #DD0000">'tests/test1.jpg'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'IFD0'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">$exif</span><span style="color: #007700">===</span><span style="color: #0000BB">false&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #DD0000">'No&nbsp;header&nbsp;data&nbsp;found.&lt;br&nbsp;/&gt;'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'Image&nbsp;contains&nbsp;headers&lt;br&nbsp;/&gt;'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$exif&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">exif_read_data</span><span style="color: #007700">(</span><span style="color: #DD0000">'tests/test2.jpg'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">'test2.jpg:&lt;br&nbsp;/&gt;'</span><span style="color: #007700">;<br />foreach&nbsp;(</span><span style="color: #0000BB">$exif&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$key&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$section</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #0000BB">$section&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$name&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$val</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$key</span><span style="color: #007700">.</span><span style="color: #0000BB">$name</span><span style="color: #007700">.</span><span style="color: #DD0000">':&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$val</span><span style="color: #007700">.</span><span style="color: #DD0000">'&lt;br&nbsp;/&gt;'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.exif.php" alt="Exchangeable image information">Exchangeable image information</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extfdf" id="extensions_extfdf">ext/fdf</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extfdf ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-fdf">Online docs</a> ]</p><p>Extension ext/fdf.<br />
<br />
Forms Data Format (<a href="http://www.adobe.com/devnet/acrobat/fdftoolkit.html" alt="FDF">FDF</a>) is a format for handling forms within PDF documents.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$outfdf&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fdf_create</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">fdf_set_value</span><span style="color: #007700">(</span><span style="color: #0000BB">$outfdf</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'volume'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$volume</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">fdf_set_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$outfdf</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'http:/testfdf/resultlabel.pdf'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">fdf_save</span><span style="color: #007700">(</span><span style="color: #0000BB">$outfdf</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'outtest.fdf'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">fdf_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$outfdf</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">Header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Content-type:&nbsp;application/vnd.fdf'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$fp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">'outtest.fdf'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'r'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">fpassthru</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">unlink</span><span style="color: #007700">(</span><span style="color: #DD0000">'outtest.fdf'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.fdf.php" alt="Form Data Format">Form Data Format</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extfileinfo" id="extensions_extfileinfo">ext/fileinfo</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extfileinfo ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-fileinfo">Online docs</a> ]</p><p>Extension ext/fileinfo.<br />
<br />
This module guesses the content type and encoding of a file by looking for certain magic byte sequences at specific positions within the file.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$finfo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">finfo_open</span><span style="color: #007700">(</span><span style="color: #0000BB">FILEINFO_MIME_TYPE</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;return&nbsp;mime&nbsp;type&nbsp;ala&nbsp;mimetype&nbsp;extension<br /></span><span style="color: #007700">foreach&nbsp;(</span><span style="color: #0000BB">glob</span><span style="color: #007700">(</span><span style="color: #DD0000">'*'</span><span style="color: #007700">)&nbsp;as&nbsp;</span><span style="color: #0000BB">$filename</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">finfo_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$finfo</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$filename</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">finfo_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$finfo</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
<br />
See also <a href="http://php.net/manual/en/book.fileinfo.php" alt="Filinfo">Filinfo</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extfilter" id="extensions_extfilter">ext/filter</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extfilter ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-filter">Online docs</a> ]</p><p>Extension filter.<br />
<br />
This extension filters data by either validating or sanitizing it.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$email_a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'joe@example.com'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$email_b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'bogus'</span><span style="color: #007700">;<br /><br />if&nbsp;(</span><span style="color: #0000BB">filter_var</span><span style="color: #007700">(</span><span style="color: #0000BB">$email_a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">FILTER_VALIDATE_EMAIL</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'This&nbsp;($email_a)&nbsp;email&nbsp;address&nbsp;is&nbsp;considered&nbsp;valid.'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />}<br />if&nbsp;(</span><span style="color: #0000BB">filter_var</span><span style="color: #007700">(</span><span style="color: #0000BB">$email_b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">FILTER_VALIDATE_EMAIL</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'This&nbsp;($email_b)&nbsp;email&nbsp;address&nbsp;is&nbsp;considered&nbsp;valid.'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'This&nbsp;($email_b)&nbsp;email&nbsp;address&nbsp;is&nbsp;considered&nbsp;invalid.'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.filter.php" alt="Data filtering">Data filtering</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extftp" id="extensions_extftp">ext/ftp</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extftp ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-ftp">Online docs</a> ]</p><p>Extension FTP.<br />
<br />
The functions in this extension implement client access to files servers speaking the File Transfer Protocol (FTP) as defined in <a href="http://www.faqs.org/rfcs/rfc959" alt="RFC 959">RFC 959</a>.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;set&nbsp;up&nbsp;basic&nbsp;connection<br /></span><span style="color: #0000BB">$conn_id&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ftp_connect</span><span style="color: #007700">(</span><span style="color: #0000BB">$ftp_server</span><span style="color: #007700">);&nbsp;<br /><br /></span><span style="color: #FF8000">//&nbsp;login&nbsp;with&nbsp;username&nbsp;and&nbsp;password<br /></span><span style="color: #0000BB">$login_result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ftp_login</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn_id</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$ftp_user_name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$ftp_user_pass</span><span style="color: #007700">);&nbsp;<br /><br /></span><span style="color: #FF8000">//&nbsp;check&nbsp;connection<br /></span><span style="color: #007700">if&nbsp;((!</span><span style="color: #0000BB">$conn_id</span><span style="color: #007700">)&nbsp;||&nbsp;(!</span><span style="color: #0000BB">$login_result</span><span style="color: #007700">))&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'FTP&nbsp;connection&nbsp;has&nbsp;failed!'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Attempted&nbsp;to&nbsp;connect&nbsp;to&nbsp;$ftp_server&nbsp;for&nbsp;user&nbsp;$ftp_user_name'</span><span style="color: #007700">;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;exit;&nbsp;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Connected&nbsp;to&nbsp;$ftp_server,&nbsp;for&nbsp;user&nbsp;$ftp_user_name'</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;upload&nbsp;the&nbsp;file<br /></span><span style="color: #0000BB">$upload&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ftp_put</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn_id</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$destination_file</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$source_file</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">FTP_BINARY</span><span style="color: #007700">);&nbsp;<br /><br /></span><span style="color: #FF8000">//&nbsp;check&nbsp;upload&nbsp;status<br /></span><span style="color: #007700">if&nbsp;(!</span><span style="color: #0000BB">$upload</span><span style="color: #007700">)&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'FTP&nbsp;upload&nbsp;has&nbsp;failed!'</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Uploaded&nbsp;$source_file&nbsp;to&nbsp;$ftp_server&nbsp;as&nbsp;$destination_file'</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;close&nbsp;the&nbsp;FTP&nbsp;stream&nbsp;<br /></span><span style="color: #0000BB">ftp_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn_id</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.ftp.php" alt="FTP">FTP</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extgd" id="extensions_extgd">ext/gd</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extgd ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-gd">Online docs</a> ]</p><p>Extension GD for PHP.<br />
<br />
This extension allows PHP to create and manipulate image files in a variety of different image formats, including GIF, PNG, JPEG, WBMP, and XPM.<br />
 <br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-type:&nbsp;image/png"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'text'</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">$im&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imagecreatefrompng</span><span style="color: #007700">(</span><span style="color: #DD0000">"images/button1.png"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$orange&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imagecolorallocate</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">220</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">210</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">60</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$px&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;(</span><span style="color: #0000BB">imagesx</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">)&nbsp;-&nbsp;</span><span style="color: #0000BB">7.5&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">))&nbsp;/&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">imagestring</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$px</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">9</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$orange</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">imagepng</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">imagedestroy</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.image.php" alt="Image Processing and GD">Image Processing and GD</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extgmp" id="extensions_extgmp">ext/gmp</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extgmp ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-gmp">Online docs</a> ]</p><p>Extension ext/gmp.<br />
<br />
These functions allow for arbitrary-length integers to be worked with using the GNU MP library.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$pow1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">gmp_pow</span><span style="color: #007700">(</span><span style="color: #DD0000">'2'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">131</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">gmp_strval</span><span style="color: #007700">(</span><span style="color: #0000BB">$pow1</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$pow2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">gmp_pow</span><span style="color: #007700">(</span><span style="color: #DD0000">'0'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">gmp_strval</span><span style="color: #007700">(</span><span style="color: #0000BB">$pow2</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$pow3&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">gmp_pow</span><span style="color: #007700">(</span><span style="color: #DD0000">'2'</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;Negative&nbsp;exp,&nbsp;generates&nbsp;warning<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">gmp_strval</span><span style="color: #007700">(</span><span style="color: #0000BB">$pow3</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.gmp.php" alt="GMP">GMP</a> and <a href="https://gmplib.org/" alt="GNU MP library">GNU MP library</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extgnupg" id="extensions_extgnupg">ext/gnupgp</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extgnupg ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-gnupgp">Online docs</a> ]</p><p>Extension GnuPG.<br />
<br />
This module allows you to interact with gnupg.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;init&nbsp;gnupg<br /></span><span style="color: #0000BB">$res&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">gnupg_init</span><span style="color: #007700">();<br /></span><span style="color: #FF8000">//&nbsp;not&nbsp;really&nbsp;needed.&nbsp;Clearsign&nbsp;is&nbsp;default<br /></span><span style="color: #0000BB">gnupg_setsignmode</span><span style="color: #007700">(</span><span style="color: #0000BB">$res</span><span style="color: #007700">,</span><span style="color: #0000BB">GNUPG_SIG_MODE_CLEAR</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;add&nbsp;key&nbsp;with&nbsp;passphrase&nbsp;'test'&nbsp;for&nbsp;signing<br /></span><span style="color: #0000BB">gnupg_addsignkey</span><span style="color: #007700">(</span><span style="color: #0000BB">$res</span><span style="color: #007700">,</span><span style="color: #DD0000">"8660281B6051D071D94B5B230549F9DC851566DC"</span><span style="color: #007700">,</span><span style="color: #DD0000">"test"</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;sign<br /></span><span style="color: #0000BB">$signed&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">gnupg_sign</span><span style="color: #007700">(</span><span style="color: #0000BB">$res</span><span style="color: #007700">,</span><span style="color: #DD0000">"just&nbsp;a&nbsp;test"</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">$signed</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/manual/en/book.gnupg.php" alt="Gnupg Function for PHP">Gnupg Function for PHP</a> and <br />
         <a href="https://www.gnupg.org/" alt="GnuPG">GnuPG</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_exthash" id="extensions_exthash">ext/hash</a></h2><p>[Since 0.8.4] - [ -P Extensions/Exthash ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-hash">Online docs</a> ]</p><p>Extension for HASH Message Digest Framework.<br />
<br />
Message Digest (hash) engine. Allows direct or incremental processing of arbitrary length messages using a variety of hashing algorithms.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">/*&nbsp;Create&nbsp;a&nbsp;file&nbsp;to&nbsp;calculate&nbsp;hash&nbsp;of&nbsp;*/<br /></span><span style="color: #0000BB">file_put_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">'example.txt'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'The&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumped&nbsp;over&nbsp;the&nbsp;lazy&nbsp;dog.'</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #0000BB">hash_file</span><span style="color: #007700">(</span><span style="color: #DD0000">'md5'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'example.txt'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/manual/en/book.hash.php" alt="HASH Message Digest Framework">HASH Message Digest Framework</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_exticonv" id="extensions_exticonv">ext/iconv</a></h2><p>[Since 0.8.4] - [ -P Extensions/Exticonv ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-iconv">Online docs</a> ]</p><p>Extension ext/iconv.<br />
<br />
 With this module, you can turn a string represented by a local character set into the one represented by another character set, which may be the Unicode character set.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$text&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"This&nbsp;is&nbsp;the&nbsp;Euro&nbsp;symbol&nbsp;''."</span><span style="color: #007700">;<br /><br />echo&nbsp;</span><span style="color: #DD0000">'Original&nbsp;:&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$text</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'TRANSLIT&nbsp;:&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">iconv</span><span style="color: #007700">(</span><span style="color: #DD0000">"UTF-8"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"ISO-8859-1//TRANSLIT"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$text</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'IGNORE&nbsp;&nbsp;&nbsp;:&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">iconv</span><span style="color: #007700">(</span><span style="color: #DD0000">"UTF-8"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"ISO-8859-1//IGNORE"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$text</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'Plain&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">iconv</span><span style="color: #007700">(</span><span style="color: #DD0000">"UTF-8"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"ISO-8859-1"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$text</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/iconv" alt="Iconv">Iconv</a>, and <br />
         <a href="https://www.gnu.org/software/libiconv/" alt="libiconv">libiconv</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extjson" id="extensions_extjson">ext/json</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extjson ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-json">Online docs</a> ]</p><p>Extension JSON.<br />
<br />
This extension implements the JavaScript Object Notation (JSON) data-interchange format. PHP implements a superset of JSON as specified in the original <a href="http://www.faqs.org/rfcs/rfc7159" alt="RFC 7159">RFC 7159</a>.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$arr&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'a'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'b'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'c'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'d'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'e'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #0000BB">json_encode</span><span style="color: #007700">(</span><span style="color: #0000BB">$arr</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.json.php" alt="JavaScript Object Notation">JavaScript Object Notation</a> and <a href="http://www.json.org/" alt="JSON">JSON</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extkdm5" id="extensions_extkdm5">ext/kdm5</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extkdm5 ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-kdm5">Online docs</a> ]</p><p>Extension kdm5 : Kerberos V .<br />
<br />
These package allows you to access Kerberos V administration servers. You can create, modify, and delete Kerberos V principals and policies.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Extracted&nbsp;from&nbsp;the&nbsp;PHP&nbsp;Manual<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$handle&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">kadm5_init_with_password</span><span style="color: #007700">(</span><span style="color: #0000BB">afs</span><span style="color: #007700">-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">GONICUS</span><span style="color: #007700">.</span><span style="color: #0000BB">LOCAL</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">admin</span><span style="color: #007700">/</span><span style="color: #0000BB">admin</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">password</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;print&nbsp;&lt;</span><span style="color: #0000BB">h1</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">get_principals</span><span style="color: #007700">&lt;/</span><span style="color: #0000BB">h1</span><span style="color: #007700">&gt;\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$principals&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">kadm5_get_principals</span><span style="color: #007700">(</span><span style="color: #0000BB">$handle</span><span style="color: #007700">);<br />&nbsp;&nbsp;for(&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$principals</span><span style="color: #007700">);&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">$principals</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">]&lt;</span><span style="color: #0000BB">br</span><span style="color: #007700">&gt;\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;print&nbsp;&lt;</span><span style="color: #0000BB">h1</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">get_policies</span><span style="color: #007700">&lt;/</span><span style="color: #0000BB">h1</span><span style="color: #007700">&gt;\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$policies&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">kadm5_get_policies</span><span style="color: #007700">(</span><span style="color: #0000BB">$handle</span><span style="color: #007700">);<br />&nbsp;&nbsp;for(&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$policies</span><span style="color: #007700">);&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">$policies</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">]&lt;</span><span style="color: #0000BB">br</span><span style="color: #007700">&gt;\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;print&nbsp;&lt;</span><span style="color: #0000BB">h1</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">get_principal&nbsp;burbach</span><span style="color: #007700">@</span><span style="color: #0000BB">GONICUS</span><span style="color: #007700">.</span><span style="color: #0000BB">LOCAL</span><span style="color: #007700">&lt;/</span><span style="color: #0000BB">h1</span><span style="color: #007700">&gt;\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;</span><span style="color: #0000BB">$options&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">kadm5_get_principal</span><span style="color: #007700">(</span><span style="color: #0000BB">$handle</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">burbach</span><span style="color: #007700">@</span><span style="color: #0000BB">GONICUS</span><span style="color: #007700">.</span><span style="color: #0000BB">LOCAL&nbsp;</span><span style="color: #007700">);<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$keys&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_keys</span><span style="color: #007700">(</span><span style="color: #0000BB">$options</span><span style="color: #007700">);<br />&nbsp;&nbsp;for(&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$keys</span><span style="color: #007700">);&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$value&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #0000BB">$keys</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">]];<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">$keys</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">]:&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">br</span><span style="color: #007700">&gt;\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br />&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;</span><span style="color: #0000BB">$options&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">KADM5_PRINC_EXPIRE_TIME&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br />&nbsp;&nbsp;</span><span style="color: #0000BB">kadm5_modify_principal</span><span style="color: #007700">(</span><span style="color: #0000BB">$handle</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">burbach</span><span style="color: #007700">@</span><span style="color: #0000BB">GONICUS</span><span style="color: #007700">.</span><span style="color: #0000BB">LOCAL</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$options</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;</span><span style="color: #0000BB">kadm5_destroy</span><span style="color: #007700">(</span><span style="color: #0000BB">$handle</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.kadm5.php" alt="Kerberos V">Kerberos V</a> and <a href="http://web.mit.edu/kerberos/www/" alt="Kerberos: The Network Authentication Protocol">Kerberos: The Network Authentication Protocol</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extldap" id="extensions_extldap">ext/ldap</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extldap ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-ldap">Online docs</a> ]</p><p>Extension ext/ldap.<br />
<br />
LDAP is the Lightweight Directory Access Protocol, and is a protocol used to access 'Directory Servers'. The Directory is a special kind of database that holds information in a tree structure.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;basic&nbsp;sequence&nbsp;with&nbsp;LDAP&nbsp;is&nbsp;connect,&nbsp;bind,&nbsp;search,&nbsp;interpret&nbsp;search<br />//&nbsp;result,&nbsp;close&nbsp;connection<br /><br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'&lt;h3&gt;LDAP&nbsp;query&nbsp;test&lt;/h3&gt;'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'Connecting&nbsp;...'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$ds</span><span style="color: #007700">=</span><span style="color: #0000BB">ldap_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">);&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;must&nbsp;be&nbsp;a&nbsp;valid&nbsp;LDAP&nbsp;server!<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'connect&nbsp;result&nbsp;is&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$ds&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'&lt;br&nbsp;/&gt;'</span><span style="color: #007700">;<br /><br />if&nbsp;(</span><span style="color: #0000BB">$ds</span><span style="color: #007700">)&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Binding&nbsp;...'</span><span style="color: #007700">;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$r</span><span style="color: #007700">=</span><span style="color: #0000BB">ldap_bind</span><span style="color: #007700">(</span><span style="color: #0000BB">$ds</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;this&nbsp;is&nbsp;an&nbsp;'anonymous'&nbsp;bind,&nbsp;typically<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;read-only&nbsp;access<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'Bind&nbsp;result&nbsp;is&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$r&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'&lt;br&nbsp;/&gt;'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Searching&nbsp;for&nbsp;(sn=S*)&nbsp;...'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Search&nbsp;surname&nbsp;entry<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$sr</span><span style="color: #007700">=</span><span style="color: #0000BB">ldap_search</span><span style="color: #007700">(</span><span style="color: #0000BB">$ds</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'o=My&nbsp;Company,&nbsp;c=US'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'sn=S*'</span><span style="color: #007700">);&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Search&nbsp;result&nbsp;is&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$sr&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'&lt;br&nbsp;/&gt;'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Number&nbsp;of&nbsp;entries&nbsp;returned&nbsp;is&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">ldap_count_entries</span><span style="color: #007700">(</span><span style="color: #0000BB">$ds</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$sr</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">'&lt;br&nbsp;/&gt;'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Getting&nbsp;entries&nbsp;...&lt;p&gt;'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$info&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ldap_get_entries</span><span style="color: #007700">(</span><span style="color: #0000BB">$ds</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$sr</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Data&nbsp;for&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$info</span><span style="color: #007700">[</span><span style="color: #DD0000">'count'</span><span style="color: #007700">]&nbsp;.&nbsp;</span><span style="color: #DD0000">'&nbsp;items&nbsp;returned:&lt;p&gt;'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(</span><span style="color: #0000BB">$i</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">$info</span><span style="color: #007700">[</span><span style="color: #DD0000">'count'</span><span style="color: #007700">];&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'dn&nbsp;is:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$info</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">][</span><span style="color: #DD0000">'dn'</span><span style="color: #007700">]&nbsp;.&nbsp;</span><span style="color: #DD0000">'&lt;br&nbsp;/&gt;'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'first&nbsp;cn&nbsp;entry&nbsp;is:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$info</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">][</span><span style="color: #DD0000">'cn'</span><span style="color: #007700">][</span><span style="color: #0000BB">0</span><span style="color: #007700">]&nbsp;.&nbsp;</span><span style="color: #DD0000">'&lt;br&nbsp;/&gt;'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'first&nbsp;email&nbsp;entry&nbsp;is:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$info</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">][</span><span style="color: #DD0000">'mail'</span><span style="color: #007700">][</span><span style="color: #0000BB">0</span><span style="color: #007700">]&nbsp;.&nbsp;</span><span style="color: #DD0000">'&lt;br&nbsp;/&gt;&lt;hr&nbsp;/&gt;'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Closing&nbsp;connection'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">ldap_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$ds</span><span style="color: #007700">);<br /><br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'&lt;h4&gt;Unable&nbsp;to&nbsp;connect&nbsp;to&nbsp;LDAP&nbsp;server&lt;/h4&gt;'</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.ldap.php" alt="Lightweight Directory Access Protocol">Lightweight Directory Access Protocol</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extlibxml" id="extensions_extlibxml">ext/libxml</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extlibxml ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-libxml">Online docs</a> ]</p><p>Extension libxml.<br />
<br />
These functions/constants are available as of PHP 5.1.0, and the following core extensions rely on this libxml extension: DOM, libxml, SimpleXML, SOAP, WDDX, XSL, XML, XMLReader, XMLRPC and XMLWriter.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;$xmlstr&nbsp;is&nbsp;a&nbsp;string,&nbsp;containing&nbsp;a&nbsp;XML&nbsp;document.&nbsp;<br /><br /></span><span style="color: #0000BB">$doc&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">simplexml_load_string</span><span style="color: #007700">(</span><span style="color: #0000BB">$xmlstr</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$xml&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">explode</span><span style="color: #007700">(</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$xmlstr</span><span style="color: #007700">);<br /><br />if&nbsp;(</span><span style="color: #0000BB">$doc&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$errors&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">libxml_get_errors</span><span style="color: #007700">();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #0000BB">$errors&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$error</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">display_xml_error</span><span style="color: #007700">(</span><span style="color: #0000BB">$error</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$xml</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">libxml_clear_errors</span><span style="color: #007700">();<br />}<br /><br /><br />function&nbsp;</span><span style="color: #0000BB">display_xml_error</span><span style="color: #007700">(</span><span style="color: #0000BB">$error</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$xml</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$return&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$xml</span><span style="color: #007700">[</span><span style="color: #0000BB">$error</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">line&nbsp;</span><span style="color: #007700">-&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">]&nbsp;.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$return&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #0000BB">str_repeat</span><span style="color: #007700">(</span><span style="color: #DD0000">'-'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$error</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">column</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">'^'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;switch&nbsp;(</span><span style="color: #0000BB">$error</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">level</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">LIBXML_ERR_WARNING</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$return&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">'Warning&nbsp;'</span><span style="color: #007700">,</span><span style="color: #0000BB">$error</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">code</span><span style="color: #007700">.</span><span style="color: #DD0000">':&nbsp;'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">LIBXML_ERR_ERROR</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$return&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">'Error&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$error</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">code</span><span style="color: #007700">.</span><span style="color: #DD0000">':&nbsp;'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">LIBXML_ERR_FATAL</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$return&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">'Fatal&nbsp;Error&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$error</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">code</span><span style="color: #007700">.</span><span style="color: #DD0000">':&nbsp;'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$return&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #0000BB">trim</span><span style="color: #007700">(</span><span style="color: #0000BB">$error</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">message</span><span style="color: #007700">)&nbsp;.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">.</span><span style="color: #DD0000">'&nbsp;&nbsp;Line:&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$error</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">line&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">.</span><span style="color: #DD0000">'&nbsp;&nbsp;Column:&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$error</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">column</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$error</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">file</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$return&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">"\n&nbsp;&nbsp;File:&nbsp;</span><span style="color: #0000BB">$error</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">file</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$return</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">.</span><span style="color: #DD0000">'--------------------------------------------'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/manual/en/book.libxml.php" alt="libxml">libxml</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extmbstring" id="extensions_extmbstring">ext/mbstring</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extmbstring ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-mbstring">Online docs</a> ]</p><p>Extension ext/mbstring.<br />
<br />
mbstring provides multibyte specific string functions that help you deal with multibyte encodings in PHP.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">/*&nbsp;Convert&nbsp;internal&nbsp;character&nbsp;encoding&nbsp;to&nbsp;SJIS&nbsp;*/<br /></span><span style="color: #0000BB">$str&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mb_convert_encoding</span><span style="color: #007700">(</span><span style="color: #0000BB">$str</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"SJIS"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Convert&nbsp;EUC-JP&nbsp;to&nbsp;UTF-7&nbsp;*/<br /></span><span style="color: #0000BB">$str&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mb_convert_encoding</span><span style="color: #007700">(</span><span style="color: #0000BB">$str</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"UTF-7"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"EUC-JP"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Auto&nbsp;detect&nbsp;encoding&nbsp;from&nbsp;JIS,&nbsp;eucjp-win,&nbsp;sjis-win,&nbsp;then&nbsp;convert&nbsp;str&nbsp;to&nbsp;UCS-2LE&nbsp;*/<br /></span><span style="color: #0000BB">$str&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mb_convert_encoding</span><span style="color: #007700">(</span><span style="color: #0000BB">$str</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"UCS-2LE"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"JIS,&nbsp;eucjp-win,&nbsp;sjis-win"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;"auto"&nbsp;is&nbsp;expanded&nbsp;to&nbsp;"ASCII,JIS,UTF-8,EUC-JP,SJIS"&nbsp;*/<br /></span><span style="color: #0000BB">$str&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mb_convert_encoding</span><span style="color: #007700">(</span><span style="color: #0000BB">$str</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"EUC-JP"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"auto"</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/manual/en/book.mbstring.php" alt="Mbstring">Mbstring</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extmcrypt" id="extensions_extmcrypt">ext/mcrypt</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extmcrypt ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-mcrypt">Online docs</a> ]</p><p>Extension for mcrypt.<br />
<br />
This extension has been deprecated as of PHP 7.1.0 and moved to PECL as of PHP 7.2.0.<br />
<br />
This is an interface to the mcrypt library, which supports a wide variety of block algorithms such as DES, TripleDES, Blowfish (default), 3-WAY, SAFER-SK64, SAFER-SK128, TWOFISH, TEA, RC2 and GOST in CBC, OFB, CFB and ECB cipher modes. Additionally, it supports RC6 and IDEA which are considered 'non-free'. CFB/OFB are 8bit by default.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">#&nbsp;---&nbsp;ENCRYPTION&nbsp;---<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;the&nbsp;key&nbsp;should&nbsp;be&nbsp;random&nbsp;binary,&nbsp;use&nbsp;scrypt,&nbsp;bcrypt&nbsp;or&nbsp;PBKDF2&nbsp;to<br />&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;convert&nbsp;a&nbsp;string&nbsp;into&nbsp;a&nbsp;key<br />&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;key&nbsp;is&nbsp;specified&nbsp;using&nbsp;hexadecimal<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$key&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pack</span><span style="color: #007700">(</span><span style="color: #DD0000">'H*'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'bcb04b7e103a0cd8b54763051cef08bc55abe029fdebae5e1d417e2ffb2a00a3'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;show&nbsp;key&nbsp;size&nbsp;use&nbsp;either&nbsp;16,&nbsp;24&nbsp;or&nbsp;32&nbsp;byte&nbsp;keys&nbsp;for&nbsp;AES-128,&nbsp;192<br />&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;and&nbsp;256&nbsp;respectively<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$key_size&nbsp;</span><span style="color: #007700">=&nbsp;&nbsp;</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$key</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Key&nbsp;size:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$key_size&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$plaintext&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'This&nbsp;string&nbsp;was&nbsp;AES-256&nbsp;/&nbsp;CBC&nbsp;/&nbsp;ZeroBytePadding&nbsp;encrypted.'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;create&nbsp;a&nbsp;random&nbsp;IV&nbsp;to&nbsp;use&nbsp;with&nbsp;CBC&nbsp;encoding<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$iv_size&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mcrypt_get_iv_size</span><span style="color: #007700">(</span><span style="color: #0000BB">MCRYPT_RIJNDAEL_128</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">MCRYPT_MODE_CBC</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$iv&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mcrypt_create_iv</span><span style="color: #007700">(</span><span style="color: #0000BB">$iv_size</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">MCRYPT_RAND</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;creates&nbsp;a&nbsp;cipher&nbsp;text&nbsp;compatible&nbsp;with&nbsp;AES&nbsp;(Rijndael&nbsp;block&nbsp;size&nbsp;=&nbsp;128)<br />&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;to&nbsp;keep&nbsp;the&nbsp;text&nbsp;confidential&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;only&nbsp;suitable&nbsp;for&nbsp;encoded&nbsp;input&nbsp;that&nbsp;never&nbsp;ends&nbsp;with&nbsp;value&nbsp;00h<br />&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;(because&nbsp;of&nbsp;default&nbsp;zero&nbsp;padding)<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ciphertext&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mcrypt_encrypt</span><span style="color: #007700">(</span><span style="color: #0000BB">MCRYPT_RIJNDAEL_128</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$key</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$plaintext</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">MCRYPT_MODE_CBC</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$iv</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;prepend&nbsp;the&nbsp;IV&nbsp;for&nbsp;it&nbsp;to&nbsp;be&nbsp;available&nbsp;for&nbsp;decryption<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ciphertext&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$iv&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$ciphertext</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;encode&nbsp;the&nbsp;resulting&nbsp;cipher&nbsp;text&nbsp;so&nbsp;it&nbsp;can&nbsp;be&nbsp;represented&nbsp;by&nbsp;a&nbsp;string<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ciphertext_base64&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">base64_encode</span><span style="color: #007700">(</span><span style="color: #0000BB">$ciphertext</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&nbsp;</span><span style="color: #0000BB">$ciphertext_base64&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;===&nbsp;WARNING&nbsp;===<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Resulting&nbsp;cipher&nbsp;text&nbsp;has&nbsp;no&nbsp;integrity&nbsp;or&nbsp;authenticity&nbsp;added<br />&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;and&nbsp;is&nbsp;not&nbsp;protected&nbsp;against&nbsp;padding&nbsp;oracle&nbsp;attacks.<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;---&nbsp;DECRYPTION&nbsp;---<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ciphertext_dec&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">base64_decode</span><span style="color: #007700">(</span><span style="color: #0000BB">$ciphertext_base64</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;retrieves&nbsp;the&nbsp;IV,&nbsp;iv_size&nbsp;should&nbsp;be&nbsp;created&nbsp;using&nbsp;mcrypt_get_iv_size()<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$iv_dec&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$ciphertext_dec</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$iv_size</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;retrieves&nbsp;the&nbsp;cipher&nbsp;text&nbsp;(everything&nbsp;except&nbsp;the&nbsp;$iv_size&nbsp;in&nbsp;the&nbsp;front)<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ciphertext_dec&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$ciphertext_dec</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$iv_size</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;may&nbsp;remove&nbsp;00h&nbsp;valued&nbsp;characters&nbsp;from&nbsp;end&nbsp;of&nbsp;plain&nbsp;text<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$plaintext_dec&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mcrypt_decrypt</span><span style="color: #007700">(</span><span style="color: #0000BB">MCRYPT_RIJNDAEL_128</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$key</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ciphertext_dec</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">MCRYPT_MODE_CBC</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$iv_dec</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&nbsp;</span><span style="color: #0000BB">$plaintext_dec&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/manual/en/book.mcrypt.php" alt="extension mcrypt">extension mcrypt</a> and <a href="http://mcrypt.sourceforge.net/" alt="mcrypt">mcrypt</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extmongo" id="extensions_extmongo">ext/mongo</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extmongo ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-mongo">Online docs</a> ]</p><p>Extension MongoDB driver (legacy).<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;connect<br /></span><span style="color: #0000BB">$m&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MongoClient</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;select&nbsp;a&nbsp;database<br /></span><span style="color: #0000BB">$db&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$m</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">comedy</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;select&nbsp;a&nbsp;collection&nbsp;(analogous&nbsp;to&nbsp;a&nbsp;relational&nbsp;database\'s&nbsp;table)<br /></span><span style="color: #0000BB">$collection&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$db</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">cartoons</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;add&nbsp;a&nbsp;record<br /></span><span style="color: #0000BB">$document&nbsp;</span><span style="color: #007700">=&nbsp;array(&nbsp;</span><span style="color: #DD0000">'title'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Calvin&nbsp;and&nbsp;Hobbes'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'author'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Bill&nbsp;Watterson'&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$collection</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">insert</span><span style="color: #007700">(</span><span style="color: #0000BB">$document</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;add&nbsp;another&nbsp;record,&nbsp;with&nbsp;a&nbsp;different&nbsp;'shape'<br /></span><span style="color: #0000BB">$document&nbsp;</span><span style="color: #007700">=&nbsp;array(&nbsp;</span><span style="color: #DD0000">'title'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'XKCD'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'online'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">true&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$collection</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">insert</span><span style="color: #007700">(</span><span style="color: #0000BB">$document</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;find&nbsp;everything&nbsp;in&nbsp;the&nbsp;collection<br /></span><span style="color: #0000BB">$cursor&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$collection</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">find</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;iterate&nbsp;through&nbsp;the&nbsp;results<br /></span><span style="color: #007700">foreach&nbsp;(</span><span style="color: #0000BB">$cursor&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$document</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$document</span><span style="color: #007700">[</span><span style="color: #DD0000">'title'</span><span style="color: #007700">]&nbsp;.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
Note : this is not the <a href="http://php.net/mongo" alt="MongoDB driver">MongoDB driver</a>. This is the legacy extension.<br />
<br />
See also <a href="http://php.net/manual/en/book.mongo.php" alt="ext/mongo manual">ext/mongo manual</a> and <br />
         <a href="https://www.mongodb.com/" alt="MongdDb">MongdDb</a>.<br />
         <br />
</p>
<h2><a href="issues.html#analyzer=extensions_extmssql" id="extensions_extmssql">ext/mssql</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extmssql ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-mssql">Online docs</a> ]</p><p>Extension MSSQL, Microsoft SQL Server.<br />
<br />
These functions allow you to access MS SQL Server database.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Connect&nbsp;to&nbsp;MSSQL<br /></span><span style="color: #0000BB">$link&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mssql_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'KALLESPC\SQLEXPRESS'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'sa'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'phpfi'</span><span style="color: #007700">);<br /><br />if&nbsp;(!</span><span style="color: #0000BB">$link&nbsp;</span><span style="color: #007700">||&nbsp;!</span><span style="color: #0000BB">mssql_select_db</span><span style="color: #007700">(</span><span style="color: #DD0000">'php'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$link</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #DD0000">'Unable&nbsp;to&nbsp;connect&nbsp;or&nbsp;select&nbsp;database!'</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Do&nbsp;a&nbsp;simple&nbsp;query,&nbsp;select&nbsp;the&nbsp;version&nbsp;of&nbsp;<br />//&nbsp;MSSQL&nbsp;and&nbsp;print&nbsp;it.<br /></span><span style="color: #0000BB">$version&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mssql_query</span><span style="color: #007700">(</span><span style="color: #DD0000">'SELECT&nbsp;@@VERSION'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mssql_fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$version</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;Clean&nbsp;up<br /></span><span style="color: #0000BB">mssql_free_result</span><span style="color: #007700">(</span><span style="color: #0000BB">$version</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/manual/en/book.mssql.php" alt="Microsoft SQL Server">Microsoft SQL Server</a> and <a href="https://docs.microsoft.com/en-us/sql/connect/php/microsoft-php-driver-for-sql-server" alt="Microsoft PHP Driver for SQL Server">Microsoft PHP Driver for SQL Server</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extmysql" id="extensions_extmysql">ext/mysql</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extmysql ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-mysql">Online docs</a> ] - [ PHP  older than 7.0]</p><p>Extension for MySQL (Original MySQL API).<br />
<br />
This extension is deprecated as of PHP 5.5.0, and has been removed as of PHP 7.0.0. Instead, either the mysqli or PDO_MySQL extension should be used. See also the MySQL API Overview for further help while choosing a MySQL API.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mysql_query</span><span style="color: #007700">(</span><span style="color: #DD0000">'SELECT&nbsp;*&nbsp;WHERE&nbsp;1=1'</span><span style="color: #007700">);<br />if&nbsp;(!</span><span style="color: #0000BB">$result</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #DD0000">'Invalid&nbsp;query:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">mysql_error</span><span style="color: #007700">());<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/manual/en/book.mysql.php" alt="Original MySQL API">Original MySQL API</a> and <a href="http://www.mysql.com/" alt="MySQL">MySQL</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extmysqli" id="extensions_extmysqli">ext/mysqli</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extmysqli ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-mysqli">Online docs</a> ]</p><p>Extension mysqli for MySQL.<br />
<br />
The mysqli extension allows you to access the functionality provided by MySQL 4.1 and above.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$mysqli&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">mysqli</span><span style="color: #007700">(</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'my_user'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'my_password'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'world'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;check&nbsp;connection&nbsp;*/<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">mysqli_connect_errno</span><span style="color: #007700">())&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">'Connect&nbsp;failed:&nbsp;%s\n'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">mysqli_connect_error</span><span style="color: #007700">());<br />&nbsp;&nbsp;&nbsp;&nbsp;exit();<br />}<br /><br /></span><span style="color: #0000BB">$city&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Amersfoort'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/*&nbsp;create&nbsp;a&nbsp;prepared&nbsp;statement&nbsp;*/<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$stmt&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">prepare</span><span style="color: #007700">(</span><span style="color: #DD0000">'SELECT&nbsp;District&nbsp;FROM&nbsp;City&nbsp;WHERE&nbsp;Name=?'</span><span style="color: #007700">))&nbsp;{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;bind&nbsp;parameters&nbsp;for&nbsp;markers&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$stmt</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bind_param</span><span style="color: #007700">(</span><span style="color: #DD0000">'s'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$city</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;execute&nbsp;query&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$stmt</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">execute</span><span style="color: #007700">();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;bind&nbsp;result&nbsp;variables&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$stmt</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bind_result</span><span style="color: #007700">(</span><span style="color: #0000BB">$district</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;fetch&nbsp;value&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$stmt</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fetch</span><span style="color: #007700">();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">'%s&nbsp;is&nbsp;in&nbsp;district&nbsp;%s\n'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$city</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$district</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;close&nbsp;statement&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$stmt</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">close</span><span style="color: #007700">();<br />}<br /><br /></span><span style="color: #FF8000">/*&nbsp;close&nbsp;connection&nbsp;*/<br /></span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">close</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.mysqli.php" alt="MySQL Improved Extension">MySQL Improved Extension</a> and <a href="http://www.mysql.com/" alt="MySQL">MySQL</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extodbc" id="extensions_extodbc">ext/odbc</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extodbc ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-odbc">Online docs</a> ]</p><p>Extension ODBC.<br />
<br />
In addition to normal ODBC support, the Unified ODBC functions in PHP allow you to access several databases that have borrowed the semantics of the ODBC API to implement their own API. Instead of maintaining multiple database drivers that were all nearly identical, these drivers have been unified into a single set of ODBC functions.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$stmt&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">odbc_prepare</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'CALL&nbsp;myproc(?,?,?)'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$success&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">odbc_execute</span><span style="color: #007700">(</span><span style="color: #0000BB">$stmt</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">));<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/manual/en/book.uodbc.php" alt="ODBC (Unified)">ODBC (Unified)</a>, <a href="http://www.unixodbc.org/" alt="Unixodbc">Unixodbc</a> and <a href="http://www.iodbc.org/dataspace/doc/iodbc/wiki/iodbcWiki/WelcomeVisitors" alt="IODBC">IODBC</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extopenssl" id="extensions_extopenssl">ext/openssl</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extopenssl ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-openssl">Online docs</a> ]</p><p>Extension Openssl.<br />
<br />
This extension binds functions of  <span style="border: 1px solid #ddd; background-color: #f5f5f5">OpenSS</span> L library for symmetric and asymmetric encryption and decryption,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">PBKDF2</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">PKCS7</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">PKCS12</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">X509</span>  and other cryptographic operations. In addition to that it provides implementation of  <span style="border: 1px solid #ddd; background-color: #f5f5f5">TLS</span>  streams.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;$data&nbsp;and&nbsp;$signature&nbsp;are&nbsp;assumed&nbsp;to&nbsp;contain&nbsp;the&nbsp;data&nbsp;and&nbsp;the&nbsp;signature<br /><br />//&nbsp;fetch&nbsp;public&nbsp;key&nbsp;from&nbsp;certificate&nbsp;and&nbsp;ready&nbsp;it<br /></span><span style="color: #0000BB">$pubkeyid&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">openssl_pkey_get_public</span><span style="color: #007700">(</span><span style="color: #DD0000">"file://src/openssl-0.9.6/demos/sign/cert.pem"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;state&nbsp;whether&nbsp;signature&nbsp;is&nbsp;okay&nbsp;or&nbsp;not<br /></span><span style="color: #0000BB">$ok&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">openssl_verify</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$signature</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$pubkeyid</span><span style="color: #007700">);<br />if&nbsp;(</span><span style="color: #0000BB">$ok&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"good"</span><span style="color: #007700">;<br />}&nbsp;elseif&nbsp;(</span><span style="color: #0000BB">$ok&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"bad"</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"ugly,&nbsp;error&nbsp;checking&nbsp;signature"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #FF8000">//&nbsp;free&nbsp;the&nbsp;key&nbsp;from&nbsp;memory<br /></span><span style="color: #0000BB">openssl_free_key</span><span style="color: #007700">(</span><span style="color: #0000BB">$pubkeyid</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.openssl.php" alt="ext/OpenSSL">ext/OpenSSL</a> and <a href="https://www.openssl.org/" alt="OpenSSL">OpenSSL</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extpcre" id="extensions_extpcre">ext/pcre</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extpcre ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-pcre">Online docs</a> ]</p><p>Extension ext/pcre. PCRE stands for Perl Compatible Regular Expression. It is a standard PHP extension.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$zip_code&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'zip'</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;Canadian&nbsp;Zip&nbsp;code&nbsp;H2M&nbsp;3J1<br /></span><span style="color: #0000BB">$zip_ca&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'/^([a-zA-Z]\d[a-zA-Z])\&nbsp;{0,1}(\d[a-zA-Z]\d)$/'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;French&nbsp;Zip&nbsp;code&nbsp;&nbsp;75017<br /></span><span style="color: #0000BB">$zip_fr&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'/^\d{5}$/'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Chinese&nbsp;Zip&nbsp;code&nbsp;&nbsp;590615<br /></span><span style="color: #0000BB">$zip_cn&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'/^\d{6}$/'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'zip'</span><span style="color: #007700">]));<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.pcre.php" alt="Regular Expressions (Perl-Compatible)">Regular Expressions (Perl-Compatible)</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extpdo" id="extensions_extpdo">ext/pdo</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extpdo ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-pdo">Online docs</a> ]</p><p>Generic extension PDO.<br />
<br />
The PHP Data Objects (PDO) extension defines a lightweight, consistent interface for accessing databases in PHP. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">/*&nbsp;Execute&nbsp;a&nbsp;prepared&nbsp;statement&nbsp;by&nbsp;passing&nbsp;an&nbsp;array&nbsp;of&nbsp;values&nbsp;*/<br /></span><span style="color: #0000BB">$sql&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'SELECT&nbsp;name,&nbsp;colour,&nbsp;calories<br />&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;fruit<br />&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;calories&nbsp;&lt;&nbsp;:calories&nbsp;AND&nbsp;colour&nbsp;=&nbsp;:colour'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$sth&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$dbh</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">prepare</span><span style="color: #007700">(</span><span style="color: #0000BB">$sql</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #0000BB">PDO</span><span style="color: #007700">::</span><span style="color: #0000BB">ATTR_CURSOR&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">PDO</span><span style="color: #007700">::</span><span style="color: #0000BB">CURSOR_FWDONLY</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$sth</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">execute</span><span style="color: #007700">(array(</span><span style="color: #DD0000">':calories'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">150</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">':colour'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'red'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$red&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$sth</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fetchAll</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$sth</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">execute</span><span style="color: #007700">(array(</span><span style="color: #DD0000">':calories'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">175</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">':colour'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'yellow'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$yellow&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$sth</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fetchAll</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.pdo.php" alt="PHP Data Object">PHP Data Object</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extpgsql" id="extensions_extpgsql">ext/pgsql</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extpgsql ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-pgsql">Online docs</a> ]</p><p>Extension PostGreSQL.<br />
<br />
PostgreSQL is an open source descendant of this original Berkeley code.  It provides SQL92/SQL99 language support, transactions, referential integrity, stored procedures and type extensibility. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Connect&nbsp;to&nbsp;a&nbsp;database&nbsp;named&nbsp;'mary'<br /></span><span style="color: #0000BB">$dbconn&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pg_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'dbname=mary'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Prepare&nbsp;a&nbsp;query&nbsp;for&nbsp;execution<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pg_prepare</span><span style="color: #007700">(</span><span style="color: #0000BB">$dbconn</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'my_query'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'SELECT&nbsp;*&nbsp;FROM&nbsp;shops&nbsp;WHERE&nbsp;name&nbsp;=&nbsp;$1'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Execute&nbsp;the&nbsp;prepared&nbsp;query.&nbsp;&nbsp;Note&nbsp;that&nbsp;it&nbsp;is&nbsp;not&nbsp;necessary&nbsp;to&nbsp;escape<br />//&nbsp;the&nbsp;string&nbsp;'Joe's&nbsp;Widgets'&nbsp;in&nbsp;any&nbsp;way<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pg_execute</span><span style="color: #007700">(</span><span style="color: #0000BB">$dbconn</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'my_query'</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #DD0000">'Joe\'s&nbsp;Widgets'</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;Execute&nbsp;the&nbsp;same&nbsp;prepared&nbsp;query,&nbsp;this&nbsp;time&nbsp;with&nbsp;a&nbsp;different&nbsp;parameter<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pg_execute</span><span style="color: #007700">(</span><span style="color: #0000BB">$dbconn</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'my_query'</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #DD0000">'Clothes&nbsp;Clothes&nbsp;Clothes'</span><span style="color: #007700">));<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.pgsql.php" alt="PostgreSQL">PostgreSQL</a> and <a href="https://www.postgresql.org/" alt="PostgreSQL: The world's most advanced open source database">PostgreSQL: The world's most advanced open source database</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extphar" id="extensions_extphar">ext/phar</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extphar ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-phar">Online docs</a> ]</p><p>Extension phar.<br />
<br />
The phar extension provides a way to put entire PHP applications into a single file called a  <span style="border: 1px solid #ddd; background-color: #f5f5f5">phar</span>  (PHP Archive) for easy distribution and installation. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$p&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Phar</span><span style="color: #007700">(</span><span style="color: #DD0000">'/path/to/my.phar'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'my.phar'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$p</span><span style="color: #007700">[</span><span style="color: #DD0000">'myfile.txt'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">'hi'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$file&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$p</span><span style="color: #007700">[</span><span style="color: #DD0000">'myfile.txt'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isCompressed</span><span style="color: #007700">(</span><span style="color: #0000BB">Phar</span><span style="color: #007700">::</span><span style="color: #0000BB">BZ2</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$p</span><span style="color: #007700">[</span><span style="color: #DD0000">'myfile.txt'</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">compress</span><span style="color: #007700">(</span><span style="color: #0000BB">Phar</span><span style="color: #007700">::</span><span style="color: #0000BB">BZ2</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isCompressed</span><span style="color: #007700">(</span><span style="color: #0000BB">Phar</span><span style="color: #007700">::</span><span style="color: #0000BB">BZ2</span><span style="color: #007700">));<br />}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">Exception&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Create/modify&nbsp;operations&nbsp;on&nbsp;my.phar&nbsp;failed:&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$e</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/manual/en/book.phar.php" alt="phar">phar</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extposix" id="extensions_extposix">ext/posix</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extposix ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-posix">Online docs</a> ]</p><p>Extension POSIX.<br />
<br />
Ext/posix contains an interface to those functions defined in the IEEE 1003.1 (POSIX.1) standards document which are not accessible through other means.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">posix_kill</span><span style="color: #007700">(</span><span style="color: #0000BB">999459</span><span style="color: #007700">,</span><span style="color: #0000BB">SIGKILL</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">'Your&nbsp;error&nbsp;returned&nbsp;was&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">posix_get_last_error</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//Your&nbsp;error&nbsp;was&nbsp;___<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://standards.ieee.org/findstds/standard/1003.1-2008.html" alt="1003.1-2008 - IEEE Standard for Information Technology - Portable Operating System Interface (POSIX(R))">1003.1-2008 - IEEE Standard for Information Technology - Portable Operating System Interface (POSIX(R))</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extreadline" id="extensions_extreadline">ext/readline</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extreadline ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-readline">Online docs</a> ]</p><p>Extension readline.<br />
<br />
The readline functions implement an interface to the GNU Readline library. These are functions that provide editable command lines.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//get&nbsp;3&nbsp;commands&nbsp;from&nbsp;user<br /></span><span style="color: #007700">for&nbsp;(</span><span style="color: #0000BB">$i</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$line&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">readline</span><span style="color: #007700">(</span><span style="color: #DD0000">"Command:&nbsp;"</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">readline_add_history</span><span style="color: #007700">(</span><span style="color: #0000BB">$line</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//dump&nbsp;history<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">readline_list_history</span><span style="color: #007700">());<br /><br /></span><span style="color: #FF8000">//dump&nbsp;variables<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">readline_info</span><span style="color: #007700">());<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.readline.php" alt="ext/readline">ext/readline</a> and <br />
         <a href="https://tiswww.case.edu/php/chet/readline/rltop.html" alt="The GNU Readline Library">The GNU Readline Library</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extreflection" id="extensions_extreflection">ext/reflection</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extreflection ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-reflection">Online docs</a> ]</p><p>Extension Reflection.<br />
<br />
PHP comes with a complete reflection API that adds the ability to reverse-engineer classes, interfaces, functions, methods and extensions. Additionally, the reflection API offers ways to retrieve doc comments for functions, classes and methods.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">/**<br />&nbsp;*&nbsp;A&nbsp;simple&nbsp;counter<br />&nbsp;*<br />&nbsp;*&nbsp;@return&nbsp;&nbsp;&nbsp;&nbsp;int<br />&nbsp;*/<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">counter1</span><span style="color: #007700">()<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;++</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">/**<br />&nbsp;*&nbsp;Another&nbsp;simple&nbsp;counter<br />&nbsp;*<br />&nbsp;*&nbsp;@return&nbsp;&nbsp;&nbsp;&nbsp;int<br />&nbsp;*/<br /></span><span style="color: #0000BB">$counter2&nbsp;</span><span style="color: #007700">=&nbsp;function()<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;</span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;++</span><span style="color: #0000BB">$d</span><span style="color: #007700">;<br /><br />};<br /><br />function&nbsp;</span><span style="color: #0000BB">dumpReflectionFunction</span><span style="color: #007700">(</span><span style="color: #0000BB">$func</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Print&nbsp;out&nbsp;basic&nbsp;information<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">.</span><span style="color: #DD0000">'===&gt;&nbsp;The&nbsp;%s&nbsp;function&nbsp;'</span><span style="color: #007700">%</span><span style="color: #0000BB">s</span><span style="color: #DD0000">''</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;declared&nbsp;in&nbsp;%s'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lines&nbsp;%d&nbsp;to&nbsp;%d'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$func</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isInternal</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'internal'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'user-defined'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$func</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getName</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$func</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getFileName</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$func</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getStartLine</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$func</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getEndline</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Print&nbsp;documentation&nbsp;comment<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">'---&gt;&nbsp;Documentation:'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">.</span><span style="color: #DD0000">'&nbsp;%s'</span><span style="color: #007700">,</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$func</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDocComment</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Print&nbsp;static&nbsp;variables&nbsp;if&nbsp;existant<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$statics&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$func</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getStaticVariables</span><span style="color: #007700">())<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">'---&gt;&nbsp;Static&nbsp;variables:&nbsp;%s'</span><span style="color: #007700">,</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$statics</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Create&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;ReflectionFunction&nbsp;class<br /></span><span style="color: #0000BB">dumpReflectionFunction</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">ReflectionFunction</span><span style="color: #007700">(</span><span style="color: #DD0000">'counter1'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">dumpReflectionFunction</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">ReflectionFunction</span><span style="color: #007700">(</span><span style="color: #0000BB">$counter2</span><span style="color: #007700">));<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.reflection.php" alt="Reflection">Reflection</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extsem" id="extensions_extsem">ext/sem</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extsem ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-sem">Online docs</a> ]</p><p>Extension Semaphore, Shared Memory and IPC.<br />
<br />
This module provides wrappers for the System V IPC family of functions. It includes semaphores, shared memory and inter-process messaging (IPC).<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$key&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ftok</span><span style="color: #007700">(</span><span style="color: #0000BB">__FILE__</span><span style="color: #007700">,</span><span style="color: #DD0000">'a'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$semaphore&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">sem_get</span><span style="color: #007700">(</span><span style="color: #0000BB">$key</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">sem_acquire</span><span style="color: #007700">(</span><span style="color: #0000BB">$semaphore</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">sem_release</span><span style="color: #007700">(</span><span style="color: #0000BB">$semaphore</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">sem_remove</span><span style="color: #007700">(</span><span style="color: #0000BB">$semaphore</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.sem.php" alt="Semaphore, Shared Memory and IPC">Semaphore, Shared Memory and IPC</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extsession" id="extensions_extsession">ext/session</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extsession ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-session">Online docs</a> ]</p><p>Extension ext/session.<br />
<br />
Session support in PHP consists of a way to preserve certain data across subsequent accesses.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">session_start</span><span style="color: #007700">();<br />if&nbsp;(!isset(</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'count'</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'count'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'count'</span><span style="color: #007700">]++;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.session.php" alt="Session">Session</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extshmop" id="extensions_extshmop">ext/shmop</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extshmop ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-shmop">Online docs</a> ]</p><p>Extension ext/shmop.<br />
<br />
Shmop is an easy to use set of functions that allows PHP to read, write, create and delete Unix shared memory segments.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Create&nbsp;a&nbsp;temporary&nbsp;file&nbsp;and&nbsp;return&nbsp;its&nbsp;path<br /></span><span style="color: #0000BB">$tmp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">tempnam</span><span style="color: #007700">(</span><span style="color: #DD0000">'/tmp'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'PHP'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Get&nbsp;the&nbsp;file&nbsp;token&nbsp;key<br /></span><span style="color: #0000BB">$key&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ftok</span><span style="color: #007700">(</span><span style="color: #0000BB">$tmp</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'a'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Attach&nbsp;the&nbsp;SHM&nbsp;resource,&nbsp;notice&nbsp;the&nbsp;cast&nbsp;afterwards<br /></span><span style="color: #0000BB">$id&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">shm_attach</span><span style="color: #007700">(</span><span style="color: #0000BB">$key</span><span style="color: #007700">);<br /><br />if&nbsp;(</span><span style="color: #0000BB">$id&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #DD0000">'Unable&nbsp;to&nbsp;create&nbsp;the&nbsp;shared&nbsp;memory&nbsp;segment'</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Cast&nbsp;to&nbsp;integer,&nbsp;since&nbsp;prior&nbsp;to&nbsp;PHP&nbsp;5.3.0&nbsp;the&nbsp;resource&nbsp;id&nbsp;<br />//&nbsp;is&nbsp;returned&nbsp;which&nbsp;can&nbsp;be&nbsp;exposed&nbsp;when&nbsp;casting&nbsp;a&nbsp;resource<br />//&nbsp;to&nbsp;an&nbsp;integer<br /></span><span style="color: #0000BB">$id&nbsp;</span><span style="color: #007700">=&nbsp;(integer)&nbsp;</span><span style="color: #0000BB">$id</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.sem.php" alt="Semaphore, Shared Memory and IPC">Semaphore, Shared Memory and IPC</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extsimplexml" id="extensions_extsimplexml">ext/simplexml</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extsimplexml ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-simplexml">Online docs</a> ]</p><p>Extension  <span style="border: 1px solid #ddd; background-color: #f5f5f5">SimpleXML</span> .<br />
<br />
The  <span style="border: 1px solid #ddd; background-color: #f5f5f5">SimpleXML</span>  extension provides a very simple and easily usable toolset to convert XML to an object that can be processed with normal property selectors and array iterators.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$xml&nbsp;</span><span style="color: #007700">=&nbsp;&lt;&lt;&lt;'XML'<br /></span><span style="color: #DD0000">&lt;?xml&nbsp;version='1.0'&nbsp;standalone='yes'&nbsp;?&nbsp;&gt;<br />&lt;movies&gt;<br />&nbsp;&lt;movie&gt;<br />&nbsp;&nbsp;&lt;title&gt;PHP:&nbsp;Behind&nbsp;the&nbsp;Parser&lt;/title&gt;<br />&nbsp;&nbsp;&lt;characters&gt;<br />&nbsp;&nbsp;&nbsp;&lt;character&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;Ms.&nbsp;Coder&lt;/name&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;actor&gt;Onlivia&nbsp;Actora&lt;/actor&gt;<br />&nbsp;&nbsp;&nbsp;&lt;/character&gt;<br />&nbsp;&nbsp;&nbsp;&lt;character&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;Mr.&nbsp;Coder&lt;/name&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;actor&gt;El&nbsp;Act&amp;#211;r&lt;/actor&gt;<br />&nbsp;&nbsp;&nbsp;&lt;/character&gt;<br />&nbsp;&nbsp;&lt;/characters&gt;<br />&nbsp;&nbsp;&lt;plot&gt;<br />&nbsp;&nbsp;&nbsp;So,&nbsp;this&nbsp;language.&nbsp;It's&nbsp;like,&nbsp;a&nbsp;programming&nbsp;language.&nbsp;Or&nbsp;is&nbsp;it&nbsp;a<br />&nbsp;&nbsp;&nbsp;scripting&nbsp;language?&nbsp;All&nbsp;is&nbsp;revealed&nbsp;in&nbsp;this&nbsp;thrilling&nbsp;horror&nbsp;spoof<br />&nbsp;&nbsp;&nbsp;of&nbsp;a&nbsp;documentary.<br />&nbsp;&nbsp;&lt;/plot&gt;<br />&nbsp;&nbsp;&lt;great-lines&gt;<br />&nbsp;&nbsp;&nbsp;&lt;line&gt;PHP&nbsp;solves&nbsp;all&nbsp;my&nbsp;web&nbsp;problems&lt;/line&gt;<br />&nbsp;&nbsp;&lt;/great-lines&gt;<br />&nbsp;&nbsp;&lt;rating&nbsp;type="thumbs"&gt;7&lt;/rating&gt;<br />&nbsp;&nbsp;&lt;rating&nbsp;type="stars"&gt;5&lt;/rating&gt;<br />&nbsp;&lt;/movie&gt;<br />&lt;/movies&gt;<br /></span><span style="color: #007700">XML;<br /><br /></span><span style="color: #0000BB">$movies&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SimpleXMLElement</span><span style="color: #007700">(</span><span style="color: #0000BB">$xml</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #0000BB">$movies</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">movie</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">plot</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.simplexml.php" alt="SimpleXML">SimpleXML</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extsnmp" id="extensions_extsnmp">ext/snmp</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extsnmp ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-snmp">Online docs</a> ]</p><p>Extension SNMP.<br />
<br />
The SNMP extension provides a very simple and easily usable toolset for managing remote devices via the Simple Network Management Protocol.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$nameOfSecondInterface&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">snmp3_get</span><span style="color: #007700">(</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'james'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'authPriv'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'SHA'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'secret007'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'AES'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'secret007'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'IF-MIB::ifName.2'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.net-snmp.org/" alt="Net SNMP">Net SNMP</a> and <a href="http://php.net/manual/en/book.snmp.php" alt="SNMP">SNMP</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extsoap" id="extensions_extsoap">ext/soap</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extsoap ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-soap">Online docs</a> ]</p><p>Extension SOAP.<br />
<br />
The SOAP extension can be used to write SOAP Servers and Clients. It supports subsets of  SOAP 1.1,  SOAP 1.2 and  WSDL 1.1 specifications.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$client&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SoapClient</span><span style="color: #007700">(</span><span style="color: #DD0000">"some.wsdl"</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$client&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SoapClient</span><span style="color: #007700">(</span><span style="color: #DD0000">"some.wsdl"</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #DD0000">'soap_version'&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">SOAP_1_2</span><span style="color: #007700">));<br /><br /></span><span style="color: #0000BB">$client&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SoapClient</span><span style="color: #007700">(</span><span style="color: #DD0000">"some.wsdl"</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #DD0000">'login'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"some_name"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'password'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"some_password"</span><span style="color: #007700">));<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.soap.php" alt="SOAP">SOAP</a> and <br />
         <a href="https://www.w3.org/TR/soap/" alt="SOAP specifications">SOAP specifications</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extsockets" id="extensions_extsockets">ext/sockets</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extsockets ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-sockets">Online docs</a> ]</p><p>Extension socket.<br />
<br />
The socket extension implements a low-level interface to the socket communication functions based on the popular BSD sockets, providing the possibility to act as a socket server as well as a client.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//Example&nbsp;#2&nbsp;Socket&nbsp;example:&nbsp;Simple&nbsp;TCP/IP&nbsp;client<br />//From&nbsp;the&nbsp;PHP&nbsp;manual<br /><br /></span><span style="color: #0000BB">error_reporting</span><span style="color: #007700">(</span><span style="color: #0000BB">E_ALL</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #DD0000">"&lt;h2&gt;TCP/IP&nbsp;Connection&lt;/h2&gt;\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/*&nbsp;Get&nbsp;the&nbsp;port&nbsp;for&nbsp;the&nbsp;WWW&nbsp;service.&nbsp;*/<br /></span><span style="color: #0000BB">$service_port&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">getservbyname</span><span style="color: #007700">(</span><span style="color: #DD0000">'www'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'tcp'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Get&nbsp;the&nbsp;IP&nbsp;address&nbsp;for&nbsp;the&nbsp;target&nbsp;host.&nbsp;*/<br /></span><span style="color: #0000BB">$address&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">gethostbyname</span><span style="color: #007700">(</span><span style="color: #DD0000">'www.example.com'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Create&nbsp;a&nbsp;TCP/IP&nbsp;socket.&nbsp;*/<br /></span><span style="color: #0000BB">$socket&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">socket_create</span><span style="color: #007700">(</span><span style="color: #0000BB">AF_INET</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">SOCK_STREAM</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">SOL_TCP</span><span style="color: #007700">);<br />if&nbsp;(</span><span style="color: #0000BB">$socket&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'socket_create()&nbsp;failed:&nbsp;reason:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">socket_strerror</span><span style="color: #007700">(</span><span style="color: #0000BB">socket_last_error</span><span style="color: #007700">())&nbsp;.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'OK.'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />}<br /><br />echo&nbsp;</span><span style="color: #DD0000">'Attempting&nbsp;to&nbsp;connect&nbsp;to&nbsp;'</span><span style="color: #0000BB">$address</span><span style="color: #DD0000">'&nbsp;on&nbsp;port&nbsp;'</span><span style="color: #0000BB">$service_port</span><span style="color: #DD0000">'...'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">socket_connect</span><span style="color: #007700">(</span><span style="color: #0000BB">$socket</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$address</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$service_port</span><span style="color: #007700">);<br />if&nbsp;(</span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'socket_connect()&nbsp;failed.\nReason:&nbsp;($result)&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">socket_strerror</span><span style="color: #007700">(</span><span style="color: #0000BB">socket_last_error</span><span style="color: #007700">(</span><span style="color: #0000BB">$socket</span><span style="color: #007700">))&nbsp;.&nbsp;</span><span style="color: #DD0000">'\n'</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'OK.'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">$in&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #0000BB">HEAD&nbsp;</span><span style="color: #007700">/&nbsp;</span><span style="color: #0000BB">HTTP</span><span style="color: #007700">/</span><span style="color: #0000BB">1.1</span><span style="color: #007700">\</span><span style="color: #0000BB">r</span><span style="color: #007700">\</span><span style="color: #0000BB">n</span><span style="color: #DD0000">""</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$in&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #0000BB">Host</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">www</span><span style="color: #007700">.</span><span style="color: #0000BB">example</span><span style="color: #007700">.</span><span style="color: #0000BB">com</span><span style="color: #007700">\</span><span style="color: #0000BB">r</span><span style="color: #007700">\</span><span style="color: #0000BB">n</span><span style="color: #DD0000">""</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$in&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #0000BB">Connection</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">Close</span><span style="color: #007700">\</span><span style="color: #0000BB">r</span><span style="color: #007700">\</span><span style="color: #0000BB">n</span><span style="color: #007700">\</span><span style="color: #0000BB">r</span><span style="color: #007700">\</span><span style="color: #0000BB">n</span><span style="color: #DD0000">""</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$out&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br /><br />echo&nbsp;</span><span style="color: #DD0000">'Sending&nbsp;HTTP&nbsp;HEAD&nbsp;request...'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">socket_write</span><span style="color: #007700">(</span><span style="color: #0000BB">$socket</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$in</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$in</span><span style="color: #007700">));<br />echo&nbsp;</span><span style="color: #DD0000">"OK.\n"</span><span style="color: #007700">;<br /><br />echo&nbsp;</span><span style="color: #DD0000">'Reading&nbsp;response:\n\n'</span><span style="color: #007700">;<br />while&nbsp;(</span><span style="color: #0000BB">$out&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">socket_read</span><span style="color: #007700">(</span><span style="color: #0000BB">$socket</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2048</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$out</span><span style="color: #007700">;<br />}<br /><br />echo&nbsp;</span><span style="color: #DD0000">'Closing&nbsp;socket...'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">socket_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$socket</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">'OK.\n\n'</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.sockets.php" alt="Sockets">Sockets</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extspl" id="extensions_extspl">ext/spl</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extspl ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-spl">Online docs</a> ]</p><p>SPL extension.<br />
<br />
The Standard PHP Library (SPL) is a collection of interfaces and classes that are meant to solve common problems.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Example&nbsp;with&nbsp;FilesystemIterator<br /></span><span style="color: #0000BB">$files&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">FilesystemIterator</span><span style="color: #007700">(</span><span style="color: #DD0000">'/path/to/dir'</span><span style="color: #007700">);<br />foreach(</span><span style="color: #0000BB">$files&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$file</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$file</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getFilename</span><span style="color: #007700">()&nbsp;.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/manual/en/book.spl.php" alt="Standard PHP Library (SPL)">Standard PHP Library (SPL)</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extsqlite" id="extensions_extsqlite">ext/sqlite</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extsqlite ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-sqlite">Online docs</a> ]</p><p>Extension Sqlite 2.<br />
<br />
Support for SQLite version 2 databases. The support for this version of Sqlite is not maintained anymore. It is recommended to use  <span style="border: 1px solid #ddd; background-color: #f5f5f5">SQLite3</span> .<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$db&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">sqlite_open</span><span style="color: #007700">(</span><span style="color: #DD0000">'mysqlitedb'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0666</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$sqliteerror</span><span style="color: #007700">))&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">sqlite_query</span><span style="color: #007700">(</span><span style="color: #0000BB">$db</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'CREATE&nbsp;TABLE&nbsp;foo&nbsp;(bar&nbsp;varchar(10))'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">sqlite_query</span><span style="color: #007700">(</span><span style="color: #0000BB">$db</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'INSERT&nbsp;INTO&nbsp;foo&nbsp;VALUES&nbsp;("fnord")'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">sqlite_query</span><span style="color: #007700">(</span><span style="color: #0000BB">$db</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'select&nbsp;bar&nbsp;from&nbsp;foo'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">sqlite_fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">));&nbsp;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #0000BB">$sqliteerror</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.sqlite.php" alt="ext/sqlite">ext/sqlite</a> and <br />
         <a href="http://sqlite.org/" alt="SQLite">SQLite</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extsqlite3" id="extensions_extsqlite3">ext/sqlite3</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extsqlite3 ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-sqlite3">Online docs</a> ]</p><p>Extension Sqlite3.<br />
<br />
Support for SQLite version 3 databases.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$db&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SQLite3</span><span style="color: #007700">(</span><span style="color: #DD0000">'mysqlitedb.db'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$results&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$db</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">query</span><span style="color: #007700">(</span><span style="color: #DD0000">'SELECT&nbsp;bar&nbsp;FROM&nbsp;foo'</span><span style="color: #007700">);<br />while&nbsp;(</span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$results</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fetchArray</span><span style="color: #007700">())&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$row</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.sqlite3.php" alt="ext/sqlite3">ext/sqlite3</a> and <br />
         <a href="http://sqlite.org/" alt="Sqlite">Sqlite</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extssh2" id="extensions_extssh2">ext/ssh2</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extssh2 ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-ssh2">Online docs</a> ]</p><p>Extension ext/ssh2.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">/*&nbsp;Notify&nbsp;the&nbsp;user&nbsp;if&nbsp;the&nbsp;server&nbsp;terminates&nbsp;the&nbsp;connection&nbsp;*/<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">my_ssh_disconnect</span><span style="color: #007700">(</span><span style="color: #0000BB">$reason</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$message</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$language</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Server&nbsp;disconnected&nbsp;with&nbsp;reason&nbsp;code&nbsp;[%d]&nbsp;and&nbsp;message:&nbsp;%s\n"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$reason</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$message</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #0000BB">$methods&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;&nbsp;</span><span style="color: #DD0000">'kex'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'diffie-hellman-group1-sha1'</span><span style="color: #007700">,<br />&nbsp;&nbsp;</span><span style="color: #DD0000">'client_to_server'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'crypt'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'3des-cbc'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'comp'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'none'</span><span style="color: #007700">),<br />&nbsp;&nbsp;</span><span style="color: #DD0000">'server_to_client'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'crypt'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'aes256-cbc,aes192-cbc,aes128-cbc'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'comp'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'none'</span><span style="color: #007700">));<br /><br /></span><span style="color: #0000BB">$callbacks&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'disconnect'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'my_ssh_disconnect'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$connection&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ssh2_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'shell.example.com'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">22</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$methods</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$callbacks</span><span style="color: #007700">);<br />if&nbsp;(!</span><span style="color: #0000BB">$connection</span><span style="color: #007700">)&nbsp;die(</span><span style="color: #DD0000">'Connection&nbsp;failed'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.ssh2.php" alt="SSH2 functions">SSH2 functions</a> and <br />
         <a href="http://pecl.php.net/package/ssh2" alt="ext/ssh2 on PECL">ext/ssh2 on PECL</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extstandard" id="extensions_extstandard">ext/standard</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extstandard ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-standard">Online docs</a> ]</p><p>Standards PHP functions.<br />
<br />
This is not a real PHP extension : it covers the core functions.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">/*<br />Our&nbsp;php.ini&nbsp;contains&nbsp;the&nbsp;following&nbsp;settings:<br /><br />display_errors&nbsp;=&nbsp;On<br />register_globals&nbsp;=&nbsp;Off<br />post_max_size&nbsp;=&nbsp;8M<br />*/<br /><br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'display_errors&nbsp;=&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">ini_get</span><span style="color: #007700">(</span><span style="color: #DD0000">'display_errors'</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'register_globals&nbsp;=&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">ini_get</span><span style="color: #007700">(</span><span style="color: #DD0000">'register_globals'</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'post_max_size&nbsp;=&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">ini_get</span><span style="color: #007700">(</span><span style="color: #DD0000">'post_max_size'</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'post_max_size+1&nbsp;=&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;(</span><span style="color: #0000BB">ini_get</span><span style="color: #007700">(</span><span style="color: #DD0000">'post_max_size'</span><span style="color: #007700">)+</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'post_max_size&nbsp;in&nbsp;bytes&nbsp;=&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">return_bytes</span><span style="color: #007700">(</span><span style="color: #0000BB">ini_get</span><span style="color: #007700">(</span><span style="color: #DD0000">'post_max_size'</span><span style="color: #007700">));<br /><br />function&nbsp;</span><span style="color: #0000BB">return_bytes</span><span style="color: #007700">(</span><span style="color: #0000BB">$val</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$val&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">trim</span><span style="color: #007700">(</span><span style="color: #0000BB">$val</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$last&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">strtolower</span><span style="color: #007700">(</span><span style="color: #0000BB">$val</span><span style="color: #007700">[</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$val</span><span style="color: #007700">)-</span><span style="color: #0000BB">1</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;switch(</span><span style="color: #0000BB">$last</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;The&nbsp;'G'&nbsp;modifier&nbsp;is&nbsp;available&nbsp;since&nbsp;PHP&nbsp;5.1.0<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">case&nbsp;</span><span style="color: #DD0000">'g'</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$val&nbsp;</span><span style="color: #007700">*=&nbsp;</span><span style="color: #0000BB">1024</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">'m'</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$val&nbsp;</span><span style="color: #007700">*=&nbsp;</span><span style="color: #0000BB">1024</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">'k'</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$val&nbsp;</span><span style="color: #007700">*=&nbsp;</span><span style="color: #0000BB">1024</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$val</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/ref.info.php" alt="PHP Options/Info Functions">PHP Options/Info Functions</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_exttidy" id="extensions_exttidy">ext/tidy</a></h2><p>[Since 0.8.4] - [ -P Extensions/Exttidy ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-tidy">Online docs</a> ]</p><p>Extension Tidy.<br />
<br />
Tidy is a binding for the Tidy HTML clean and repair utility which allows you to not only clean and otherwise manipulate HTML documents, but also traverse the document tree.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">`</span><span style="color: #DD0000">ob_start()&nbsp;&lt;https://www.php.net/ob_start&gt;</span><span style="color: #007700">`</span><span style="color: #0000BB">_</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<html>a html document</html><br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$html&nbsp;</span><span style="color: #007700">=&nbsp;`</span><span style="color: #DD0000">ob_get_clean()&nbsp;&lt;https://www.php.net/ob_get_clean&gt;</span><span style="color: #007700">`</span><span style="color: #0000BB">_</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Specify&nbsp;configuration<br /></span><span style="color: #0000BB">$config&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'indent'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'output-xhtml'&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'wrap'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">200</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Tidy<br /></span><span style="color: #0000BB">$tidy&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">tidy</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$tidy</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">parseString</span><span style="color: #007700">(</span><span style="color: #0000BB">$html</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$config</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'utf8'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$tidy</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">cleanRepair</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;Output<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$tidy</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.tidy.php" alt="Tidy">Tidy</a> and <br />
         <a href="http://www.html-tidy.org/" alt="HTML-tidy">HTML-tidy</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_exttokenizer" id="extensions_exttokenizer">ext/tokenizer</a></h2><p>[Since 0.8.4] - [ -P Extensions/Exttokenizer ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-tokenizer">Online docs</a> ]</p><p>Extension Tokenizer.<br />
<br />
The Tokenizer functions provide an interface to the PHP tokenizer embedded in the Zend Engine.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">/*<br />*&nbsp;T_ML_COMMENT&nbsp;does&nbsp;not&nbsp;exist&nbsp;in&nbsp;PHP&nbsp;5.<br />*&nbsp;The&nbsp;following&nbsp;three&nbsp;lines&nbsp;define&nbsp;it&nbsp;in&nbsp;order&nbsp;to<br />*&nbsp;preserve&nbsp;backwards&nbsp;compatibility.<br />*<br />*&nbsp;The&nbsp;next&nbsp;two&nbsp;lines&nbsp;define&nbsp;the&nbsp;PHP&nbsp;5&nbsp;only&nbsp;T_DOC_COMMENT,<br />*&nbsp;which&nbsp;we&nbsp;will&nbsp;mask&nbsp;as&nbsp;T_ML_COMMENT&nbsp;for&nbsp;PHP&nbsp;4.<br />*/<br /></span><span style="color: #007700">if&nbsp;(!</span><span style="color: #0000BB">defined</span><span style="color: #007700">(</span><span style="color: #DD0000">'T_ML_COMMENT'</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'T_ML_COMMENT'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">T_COMMENT</span><span style="color: #007700">);<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'T_DOC_COMMENT'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">T_ML_COMMENT</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #0000BB">$source&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">'example.php'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$tokens&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">token_get_all</span><span style="color: #007700">(</span><span style="color: #0000BB">$source</span><span style="color: #007700">);<br /><br />foreach&nbsp;(</span><span style="color: #0000BB">$tokens&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$token</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">is_string</span><span style="color: #007700">(</span><span style="color: #0000BB">$token</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;simple&nbsp;1-character&nbsp;token<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$token</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;token&nbsp;array<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">list(</span><span style="color: #0000BB">$id</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$text</span><span style="color: #007700">)&nbsp;=&nbsp;</span><span style="color: #0000BB">$token</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switch&nbsp;(</span><span style="color: #0000BB">$id</span><span style="color: #007700">)&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">T_COMMENT</span><span style="color: #007700">:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">T_ML_COMMENT</span><span style="color: #007700">:&nbsp;</span><span style="color: #FF8000">//&nbsp;we\'ve&nbsp;defined&nbsp;this<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">case&nbsp;</span><span style="color: #0000BB">T_DOC_COMMENT</span><span style="color: #007700">:&nbsp;</span><span style="color: #FF8000">//&nbsp;and&nbsp;this<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;no&nbsp;action&nbsp;on&nbsp;comments<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">break;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;default:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;anything&nbsp;else&nbsp;-&gt;&nbsp;output&nbsp;'as&nbsp;is'<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$text</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/tokenizer" alt="tokenizer">tokenizer</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extwddx" id="extensions_extwddx">ext/wddx</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extwddx ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-wddx">Online docs</a> ]</p><p>Extension WDDX.<br />
<br />
The Web Distributed Data Exchange, or WDDX, is a free, open XML-based technology that allows Web applications created with any platform to easily exchange data with one another over the Web.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">wddx_serialize_value</span><span style="color: #007700">(</span><span style="color: #DD0000">"PHP&nbsp;to&nbsp;WDDX&nbsp;packet&nbsp;example"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"PHP&nbsp;packet"</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/intro.wddx.php" alt="Wddx on PHP">Wddx on PHP</a> and <br />
         <a href="http://www.openwddx.org/" alt="WDDX">WDDX</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extxdebug" id="extensions_extxdebug">ext/xdebug</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extxdebug ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-xdebug">Online docs</a> ]</p><p>Xdebug extension.<br />
<br />
The Xdebug is a extension PHP which provides debugging and profiling capabilities.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Strings<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">fix_string</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">xdebug_call_class</span><span style="color: #007700">().<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"::"</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">xdebug_call_function</span><span style="color: #007700">().<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;is&nbsp;called&nbsp;at&nbsp;"</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">xdebug_call_</span><span style="color: #007700">`</span><span style="color: #DD0000">file()&nbsp;&lt;https://www.php.net/file&gt;</span><span style="color: #007700">`</span><span style="color: #0000BB">_</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">":"</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">xdebug_call_line</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$ret&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">Strings</span><span style="color: #007700">::</span><span style="color: #0000BB">fix_string</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'Derick'&nbsp;</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://xdebug.org/" alt="Xdebug">Xdebug</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extxmlreader" id="extensions_extxmlreader">ext/xmlreader</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extxmlreader ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-xmlreader">Online docs</a> ]</p><p>Extension XMLReader.<br />
<br />
The XMLReader extension is an XML Pull parser. The reader acts as a cursor going forward on the document stream and stopping at each node on the way.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$xmlreader&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">XMLReader</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$xmlreader</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">xml</span><span style="color: #007700">(</span><span style="color: #DD0000">"&lt;xml&gt;&lt;div&gt;Content&lt;/div&gt;&lt;/xml&gt;"</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$xmlreader</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">read</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$xmlreader</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">read</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$xmlreader</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">readString</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/manual/en/book.xmlreader.php" alt="xmlreader">xmlreader</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extxmlrpc" id="extensions_extxmlrpc">ext/xmlrpc</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extxmlrpc ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-xmlrpc">Online docs</a> ]</p><p>Extension ext/xmlrpc.<br />
<br />
This extension can be used to write XML-RPC servers and clients.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$request&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">xmlrpc_encode_request</span><span style="color: #007700">(</span><span style="color: #DD0000">'method'</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$context&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">stream_context_create</span><span style="color: #007700">(array(</span><span style="color: #DD0000">'http'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'method'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'POST'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'header'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Content-Type:&nbsp;text/xml'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'content'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$request<br /></span><span style="color: #007700">)));<br /></span><span style="color: #0000BB">$file&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">'http://www.example.com/xmlrpc'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$context</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$response&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">xmlrpc_decode</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">);<br />if&nbsp;(</span><span style="color: #0000BB">$response&nbsp;</span><span style="color: #007700">&amp;&amp;&nbsp;</span><span style="color: #0000BB">xmlrpc_is_fault</span><span style="color: #007700">(</span><span style="color: #0000BB">$response</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">trigger_error</span><span style="color: #007700">(</span><span style="color: #DD0000">'xmlrpc:&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$response</span><span style="color: #007700">[</span><span style="color: #DD0000">'faultString'</span><span style="color: #007700">].</span><span style="color: #DD0000">'&nbsp;('</span><span style="color: #007700">.</span><span style="color: #0000BB">$response</span><span style="color: #007700">[</span><span style="color: #DD0000">'faultCode'</span><span style="color: #007700">]));<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$response</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/manual/en/book.xmlrpc.php" alt="XML-RPC">XML-RPC</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extxmlwriter" id="extensions_extxmlwriter">ext/xmlwriter</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extxmlwriter ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-xmlwriter">Online docs</a> ]</p><p>Extension ext/xmlwriter.<br />
<br />
The XMLWriter extension wraps the libxml xmlWriter API inside PHP.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$xw&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">xmlwriter_open_memory</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">xmlwriter_set_indent</span><span style="color: #007700">(</span><span style="color: #0000BB">$xw</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">TRUE</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">xmlwriter_start_document</span><span style="color: #007700">(</span><span style="color: #0000BB">$xw</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">NULL</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'UTF-8'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">xmlwriter_start_element</span><span style="color: #007700">(</span><span style="color: #0000BB">$xw</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'root'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">xmlwriter_write_attribute_ns</span><span style="color: #007700">(</span><span style="color: #0000BB">$xw</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'prefix'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'http://www.php.net/uri'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">xmlwriter_start_element</span><span style="color: #007700">(</span><span style="color: #0000BB">$xw</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'elem1'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">xmlwriter_write_attribute</span><span style="color: #007700">(</span><span style="color: #0000BB">$xw</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'attr1'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'first'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">xmlwriter_end_element</span><span style="color: #007700">(</span><span style="color: #0000BB">$xw</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">xmlwriter_full_end_element</span><span style="color: #007700">(</span><span style="color: #0000BB">$xw</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">xmlwriter_end_document</span><span style="color: #007700">(</span><span style="color: #0000BB">$xw</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$output&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">xmlwriter_flush</span><span style="color: #007700">(</span><span style="color: #0000BB">$xw</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br />print&nbsp;</span><span style="color: #0000BB">$output</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;write&nbsp;attribute_ns&nbsp;without&nbsp;start_element&nbsp;first<br /></span><span style="color: #0000BB">$xw&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">xmlwriter_open_memory</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">xmlwriter_write_attribute_ns</span><span style="color: #007700">(</span><span style="color: #0000BB">$xw</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'prefix'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'id'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'http://www.php.net/uri'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'elem1'</span><span style="color: #007700">));<br />print&nbsp;</span><span style="color: #0000BB">xmlwriter_output_memory</span><span style="color: #007700">(</span><span style="color: #0000BB">$xw</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.xmlwriter.php" alt="XMLWriter">XMLWriter</a> and <a href="http://xmlsoft.org/html/libxml-xmlwriter.html" alt="Module xmlwriter from libxml2">Module xmlwriter from libxml2</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extxsl" id="extensions_extxsl">ext/xsl</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extxsl ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-xsl">Online docs</a> ]</p><p>Extension XSL.<br />
<br />
The XSL extension implements the XSL standard, performing XSLT transformations using the libxslt library.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Example&nbsp;from&nbsp;the&nbsp;PHP&nbsp;manual<br /><br /></span><span style="color: #0000BB">$xmldoc&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">DOMDocument</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$xsldoc&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">DOMDocument</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$xsl&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">XSLTProcessor</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">$xmldoc</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">loadXML</span><span style="color: #007700">(</span><span style="color: #DD0000">'fruits.xml'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$xsldoc</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">loadXML</span><span style="color: #007700">(</span><span style="color: #DD0000">'fruits.xsl'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">libxml_use_internal_errors</span><span style="color: #007700">(</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$xsl</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">importStyleSheet</span><span style="color: #007700">(</span><span style="color: #0000BB">$xsldoc</span><span style="color: #007700">);<br />if&nbsp;(!</span><span style="color: #0000BB">$result</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #0000BB">libxml_get_errors</span><span style="color: #007700">()&nbsp;as&nbsp;</span><span style="color: #0000BB">$error</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Libxml&nbsp;error:&nbsp;</span><span style="color: #007700">{</span><span style="color: #0000BB">$error</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">message</span><span style="color: #007700">}</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span><span style="color: #0000BB">libxml_use_internal_errors</span><span style="color: #007700">(</span><span style="color: #0000BB">false</span><span style="color: #007700">);<br /><br />if&nbsp;(</span><span style="color: #0000BB">$result</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$xsl</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">transformToXML</span><span style="color: #007700">(</span><span style="color: #0000BB">$xmldoc</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/intro.xsl.php" alt="XSL extension">XSL extension</a>;<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extyaml" id="extensions_extyaml">ext/yaml</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extyaml ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-yaml">Online docs</a> ]</p><p>Extension YAML.<br />
<br />
This extension implements the <a href="http://www.yaml.org/" alt="YAML Ain't Markup Language">YAML Ain't Markup Language</a> (YAML) data serialization standard. Parsing and emitting are handled by the <a href="http://pyyaml.org/wiki/LibYAML" alt="LibYAML">LibYAML</a> library.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$addr&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'given'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Chris'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'family'</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Dumars'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'address'</span><span style="color: #007700">=&gt;&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'lines'</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'458&nbsp;Walkman&nbsp;Dr.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Suite&nbsp;#292'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'city'</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Royal&nbsp;Oak'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'state'</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'MI'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'postal'</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">48046</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),<br />&nbsp;&nbsp;);<br /></span><span style="color: #0000BB">$invoice&nbsp;</span><span style="color: #007700">=&nbsp;array&nbsp;(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'invoice'</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">34843</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'date'</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'2001-01-23'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'bill-to'</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$addr</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'ship-to'</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$addr</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'product'</span><span style="color: #007700">=&gt;&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'sku'</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'BL394D'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'quantity'</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'description'</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Basketball'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'price'</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">450</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'sku'</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'BL4438H'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'quantity'</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'description'</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Super&nbsp;Hoop'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'price'</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2392</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'tax'</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">251.42</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'total'</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">4443.52</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'comments'</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Late&nbsp;afternoon&nbsp;is&nbsp;best.&nbsp;Backup&nbsp;contact&nbsp;is&nbsp;Nancy&nbsp;Billsmer&nbsp;@&nbsp;338-4338.'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;);<br /><br /></span><span style="color: #FF8000">//&nbsp;generate&nbsp;a&nbsp;YAML&nbsp;representation&nbsp;of&nbsp;the&nbsp;invoice<br /></span><span style="color: #0000BB">$yaml&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">yaml_emit</span><span style="color: #007700">(</span><span style="color: #0000BB">$invoice</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$yaml</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;convert&nbsp;the&nbsp;YAML&nbsp;back&nbsp;into&nbsp;a&nbsp;PHP&nbsp;variable<br /></span><span style="color: #0000BB">$parsed&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">yaml_parse</span><span style="color: #007700">(</span><span style="color: #0000BB">$yaml</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;check&nbsp;that&nbsp;roundtrip&nbsp;conversion&nbsp;produced&nbsp;an&nbsp;equivalent&nbsp;structure<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$parsed&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">$invoice</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
<br />
See also <a href="http://php.net/manual/en/book.yaml.php" alt="YAML">YAML</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extzip" id="extensions_extzip">ext/zip</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extzip ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-zip">Online docs</a> ]</p><p>Extension ext/zip.<br />
<br />
This extension enables you to transparently read or write ZIP compressed archives and the files inside them.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$zip&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ZipArchive</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$filename&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'./test112.zip'</span><span style="color: #007700">;<br /><br />if&nbsp;(</span><span style="color: #0000BB">$zip</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">open</span><span style="color: #007700">(</span><span style="color: #0000BB">$filename</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">ZipArchive</span><span style="color: #007700">::</span><span style="color: #0000BB">CREATE</span><span style="color: #007700">)!==</span><span style="color: #0000BB">TRUE</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;exit(</span><span style="color: #DD0000">'cannot&nbsp;open&nbsp;&lt;$filename&gt;'</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #0000BB">$zip</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addFromString</span><span style="color: #007700">(</span><span style="color: #DD0000">'testfilephp.txt'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">time</span><span style="color: #007700">(),&nbsp;</span><span style="color: #DD0000">'#1&nbsp;This&nbsp;is&nbsp;a&nbsp;test&nbsp;string&nbsp;added&nbsp;as&nbsp;testfilephp.txt.'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$zip</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addFromString</span><span style="color: #007700">(</span><span style="color: #DD0000">'testfilephp2.txt'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">time</span><span style="color: #007700">(),&nbsp;</span><span style="color: #DD0000">'#2&nbsp;This&nbsp;is&nbsp;a&nbsp;test&nbsp;string&nbsp;added&nbsp;as&nbsp;testfilephp2.txt.'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$zip</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addFile</span><span style="color: #007700">(</span><span style="color: #0000BB">$thisdir&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'/too.php'</span><span style="color: #007700">,</span><span style="color: #DD0000">'/testfromfile.php'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">'numfiles:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$zip</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">numFiles&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'status:'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$zip</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">status&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$zip</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">close</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.zip.php" alt="Zip">Zip</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extzlib" id="extensions_extzlib">ext/zlib</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extzlib ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-zlib">Online docs</a> ]</p><p>Extension ext/zlib.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$filename&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">tempnam</span><span style="color: #007700">(</span><span style="color: #DD0000">'/tmp'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'zlibtest'</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">'.gz'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">"&lt;html&gt;\n&lt;head&gt;&lt;/head&gt;\n&lt;body&gt;\n&lt;pre&gt;\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$s&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"Only&nbsp;a&nbsp;test,&nbsp;test,&nbsp;test,&nbsp;test,&nbsp;test,&nbsp;test,&nbsp;test,&nbsp;test!\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;open&nbsp;file&nbsp;for&nbsp;writing&nbsp;with&nbsp;maximum&nbsp;compression<br /></span><span style="color: #0000BB">$zp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">gzopen</span><span style="color: #007700">(</span><span style="color: #0000BB">$filename</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'w9'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;write&nbsp;string&nbsp;to&nbsp;file<br /></span><span style="color: #0000BB">gzwrite</span><span style="color: #007700">(</span><span style="color: #0000BB">$zp</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$s</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;close&nbsp;file<br /></span><span style="color: #0000BB">gzclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$zp</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.zlib.php" alt="Zlib">Zlib</a>.</p>
<h2><a href="issues.html#analyzer=functions_closures" id="functions_closures">Closures Glossary</a></h2><p>[Since 0.8.4] - [ -P Functions/Closures ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#closures-glossary">Online docs</a> ]</p><p>List of all the closures in the code.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;A&nbsp;closure&nbsp;is&nbsp;also&nbsp;a&nbsp;unnamed&nbsp;function<br /></span><span style="color: #0000BB">$closure&nbsp;</span><span style="color: #007700">=&nbsp;function&nbsp;(</span><span style="color: #0000BB">$arg</span><span style="color: #007700">)&nbsp;{&nbsp;return&nbsp;</span><span style="color: #DD0000">'A'</span><span style="color: #007700">.</span><span style="color: #0000BB">strtolower</span><span style="color: #007700">(</span><span style="color: #0000BB">$arg</span><span style="color: #007700">);&nbsp;}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/class.closure.php" alt="The Closure Class">The Closure Class</a>.<br />
</p>
<h2><a href="issues.html#analyzer=functions_emptyfunction" id="functions_emptyfunction">Empty Function</a></h2><p>[Since 0.8.4] - [ -P Functions/EmptyFunction ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#empty-function">Online docs</a> ]</p><p>Function or method whose body is empty. <br />
<br />
Such functions or methods are rarely useful. As a bare minimum, the function should return some useful value, even if constant.<br />
<br />
A method is considered empty when it contains nothing, or contains expressions without impact. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;classic&nbsp;empty&nbsp;function<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">emptyFunction</span><span style="color: #007700">()&nbsp;{}<br /><br />class&nbsp;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;classic&nbsp;empty&nbsp;method<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">emptyMethod</span><span style="color: #007700">()&nbsp;{}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;classic&nbsp;empty&nbsp;function<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">emptyMethodWithParent</span><span style="color: #007700">()&nbsp;{}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">barbar&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;NOT&nbsp;an&nbsp;empty&nbsp;method&nbsp;:&nbsp;it&nbsp;overwrites&nbsp;the&nbsp;parent&nbsp;method<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">emptyMethodWithParent</span><span style="color: #007700">()&nbsp;{}<br />}<br /></span>?&gt;</pre><br />
<br />
Methods which overwrite another methods are omitted. Methods which are the concrete version of an abstract method are considered.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=functions_functionnames" id="functions_functionnames">Functions Glossary</a></h2><p>[Since 0.8.4] - [ -P Functions/Functionnames ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#functions-glossary">Online docs</a> ]</p><p>List of all the defined functions in the code.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;A&nbsp;function<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">aFunction</span><span style="color: #007700">()&nbsp;{}<br /><br /></span><span style="color: #FF8000">//&nbsp;Closures&nbsp;(not&nbsp;reported)<br /></span><span style="color: #0000BB">$closure&nbsp;</span><span style="color: #007700">=&nbsp;function&nbsp;(</span><span style="color: #0000BB">$arg</span><span style="color: #007700">)&nbsp;{&nbsp;&nbsp;}<br /><br /></span><span style="color: #FF8000">//&nbsp;Methods<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">aMethod</span><span style="color: #007700">()&nbsp;{}<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=functions_recursive" id="functions_recursive">Recursive Functions</a></h2><p>[Since 0.8.4] - [ -P Functions/Recursive ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#recursive-functions">Online docs</a> ]</p><p>Recursive functions are functions that calls itself.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;a&nbsp;recursive&nbsp;function&nbsp;;&nbsp;it&nbsp;calls&nbsp;itself<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">factorial</span><span style="color: #007700">(</span><span style="color: #0000BB">$n</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$n&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{&nbsp;return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">factorial</span><span style="color: #007700">(</span><span style="color: #0000BB">$n&nbsp;</span><span style="color: #007700">-&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;*&nbsp;</span><span style="color: #0000BB">$n</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
Methods are not handled here.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=functions_redeclaredphpfunction" id="functions_redeclaredphpfunction">Redeclared PHP Functions</a></h2><p>[Since 0.8.4] - [ -P Functions/RedeclaredPhpFunction ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#redeclared-php-functions">Online docs</a> ]</p><p>Function that bear the same name as a PHP function, and that are declared. <br />
<br />
This is possible when managing some backward compatibility, like emulating an old function, or preparing for newer PHP version, like emulating new upcoming function.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">version_compare</span><span style="color: #007700">(</span><span style="color: #0000BB">PHP_VERSION</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">7.0</span><span style="color: #007700">)&nbsp;&gt;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">split</span><span style="color: #007700">(</span><span style="color: #0000BB">$separator</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">explode</span><span style="color: #007700">(</span><span style="color: #0000BB">$separator</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">split</span><span style="color: #007700">(</span><span style="color: #DD0000">'&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'2&nbsp;3'</span><span style="color: #007700">));<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=functions_typehints" id="functions_typehints">Typehints</a></h2><p>[Since 0.8.4] - [ -P Functions/Typehints ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#typehints">Online docs</a> ]</p><p>List of all the types (classes or scalar) used in Typehinting.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;here,&nbsp;array,&nbsp;myObject&nbsp;and&nbsp;string&nbsp;are&nbsp;all&nbsp;typehints.<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(array&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">myObject&nbsp;$x</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">string&nbsp;$string</span><span style="color: #007700">)&nbsp;{<br /><br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/functions.arguments.php#functions.arguments.type-declaration" alt="Type declarations">Type declarations</a>.<br />
</p>
<h2><a href="issues.html#analyzer=functions_withoutreturn" id="functions_withoutreturn">Methods Without Return</a></h2><p>[Since 0.8.4] - [ -P Functions/WithoutReturn ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#methods-without-return">Online docs</a> ]</p><p>List of all the function, closures, methods that have no explicit return. <br />
<br />
Functions that hold the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">void</span>  return type are omitted.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;With&nbsp;return&nbsp;null&nbsp;:&nbsp;Explicitly&nbsp;not&nbsp;returning<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">withExplicitReturn</span><span style="color: #007700">(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Without&nbsp;indication<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">withoutExplicitReturn</span><span style="color: #007700">(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">++;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;With&nbsp;return&nbsp;type&nbsp;void&nbsp;:&nbsp;Explicitly&nbsp;not&nbsp;returning<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">withExplicitReturnType</span><span style="color: #007700">(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;:&nbsp;</span><span style="color: #0000BB">void&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">++;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.php.net/manual/en/function.return.php" alt="return">return</a>.<br />
</p>
<h2><a href="issues.html#analyzer=interfaces_emptyinterface" id="interfaces_emptyinterface">Empty Interfaces</a></h2><p>[Since 0.8.4] - [ -P Interfaces/EmptyInterface ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#empty-interfaces">Online docs</a> ]</p><p>Empty interfaces are a code smell. Interfaces should contains at least a method or a constant, and not be totally empty.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;an&nbsp;empty&nbsp;interface<br /></span><span style="color: #007700">interface&nbsp;empty&nbsp;{}<br /><br /></span><span style="color: #FF8000">//&nbsp;an&nbsp;normal&nbsp;interface<br /></span><span style="color: #007700">interface&nbsp;</span><span style="color: #0000BB">normal&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">i</span><span style="color: #007700">()&nbsp;;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;a&nbsp;constants&nbsp;interface<br /></span><span style="color: #007700">interface&nbsp;</span><span style="color: #0000BB">constantsOnly&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">FOO&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://r.je/empty-interfaces-bad-practice.html" alt="Empty interfaces are bad practice">Empty interfaces are bad practice</a> and <a href="https://hackernoon.com/are-interfaces-code-smell-bd19abc266d3" alt="Blog : Are empty interfaces code smell?">Blog : Are empty interfaces code smell?</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=interfaces_interfacenames" id="interfaces_interfacenames">Interfaces Glossary</a></h2><p>[Since 0.8.4] - [ -P Interfaces/Interfacenames ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#interfaces-glossary">Online docs</a> ]</p><p>List of all the defined interfaces in the code.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;interfaceName&nbsp;is&nbsp;reported<br /></span><span style="color: #007700">interface&nbsp;</span><span style="color: #0000BB">interfaceName&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">interfaceMethod</span><span style="color: #007700">()&nbsp;;&nbsp;<br />}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=namespaces_alias" id="namespaces_alias">Aliases</a></h2><p>[Since 0.8.4] - [ -P Namespaces/Alias ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#aliases">Online docs</a> ]</p><p>List of all aliases used, to alias namespaces.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;an&nbsp;alias<br /></span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">stdClass&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">aClass</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;not&nbsp;an&nbsp;alias&nbsp;:&nbsp;it&nbsp;is&nbsp;not&nbsp;explicit<br /></span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">stdClass</span><span style="color: #007700">;<br /><br />trait&nbsp;</span><span style="color: #0000BB">t&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;not&nbsp;an&nbsp;alias,&nbsp;it's&nbsp;a&nbsp;trait&nbsp;usage<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">otherTrait</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.namespaces.importing.php" alt="Using namespaces: Aliasing/Importing">Using namespaces: Aliasing/Importing</a>.<br />
</p>
<h2><a href="issues.html#analyzer=namespaces_namespacesnames" id="namespaces_namespacesnames">Namespaces Glossary</a></h2><p>[Since 0.8.4] - [ -P Namespaces/Namespacesnames ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#namespaces-glossary">Online docs</a> ]</p><p>List of all the defined namespaces in the code, using the namespace keyword. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;One&nbsp;reported&nbsp;namespace<br /></span><span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">one</span><span style="color: #007700">\</span><span style="color: #0000BB">name</span><span style="color: #007700">\</span><span style="color: #0000BB">space&nbsp;</span><span style="color: #007700">{}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;global&nbsp;namespace&nbsp;is&nbsp;reported,&nbsp;as&nbsp;it&nbsp;is&nbsp;explicit<br /></span><span style="color: #007700">namespace&nbsp;{&nbsp;}<br /></span>?&gt;</pre><br />
<br />
Global namespaces are mentioned when they are explicitly used.</p>
<h2><a href="issues.html#analyzer=php_autoloadusage" id="php_autoloadusage">Autoloading</a></h2><p>[Since 0.8.4] - [ -P Php/AutoloadUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#autoloading">Online docs</a> ]</p><p>Usage of the autoloading feature of PHP. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">spl_autoload_register</span><span style="color: #007700">(</span><span style="color: #DD0000">'my_autoloader'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Old&nbsp;way&nbsp;to&nbsp;autoload.&nbsp;Deprecated&nbsp;in&nbsp;PHP&nbsp;7.2<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">__autoload</span><span style="color: #007700">(</span><span style="color: #0000BB">$class&nbsp;</span><span style="color: #007700">)&nbsp;{}<br /></span>?&gt;</pre><br />
<br />
Defining the __autoload() function is obsolete since PHP 7.2.<br />
<br />
See also <a href="http://php.net/autoload" alt="__autoload">__autoload</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_caseforpss" id="php_caseforpss">Use Lower Case For Parent, Static And Self</a></h2><p>[Since 0.8.4] - [ -P Php/CaseForPSS ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-lower-case-for-parent,-static-and-self">Online docs</a> ] - [ PHP  older than 5.5]</p><p>The special parent, static and self keywords needed to be lowercase to be usable. This was fixed in PHP 5.5; otherwise, they would yield a 'PHP Fatal error:  Class 'PARENT' not found'.<br />
<br />
parent, static and self are traditionally written in lowercase only. Mixed case and Upper case are both valid, though.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">aConstante&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">233</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">method</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Wrong&nbsp;case,&nbsp;error&nbsp;with&nbsp;PHP&nbsp;5.4.*&nbsp;and&nbsp;older<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">SELF</span><span style="color: #007700">::</span><span style="color: #0000BB">aConstante</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Always&nbsp;right.&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">aConstante</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
Until PHP 5.5, non-lowercase version of those keywords are generating a bug. <br />
</p>
<h2><a href="issues.html#analyzer=php_gotonames" id="php_gotonames">Goto Names</a></h2><p>[Since 0.8.4] - [ -P Php/Gotonames ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#goto-names">Online docs</a> ]</p><p>List of all goto labels used in the code. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">GOTO_NAME_1</span><span style="color: #007700">:&nbsp;<br /><br /></span><span style="color: #FF8000">//&nbsp;reports&nbsp;the&nbsp;usage&nbsp;of&nbsp;GOTO_NAME_1<br /></span><span style="color: #007700">goto&nbsp;</span><span style="color: #0000BB">GOTO_NAME_1</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">UNUSED_GOTO_NAME_1</span><span style="color: #007700">:<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_haltcompiler" id="php_haltcompiler">__halt_compiler</a></h2><p>[Since 0.8.4] - [ -P Php/Haltcompiler ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#__halt_compiler">Online docs</a> ]</p><p>__halt_compiler() usage.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;open&nbsp;this&nbsp;file<br /></span><span style="color: #0000BB">$fp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #0000BB">__FILE__</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'r'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;seek&nbsp;file&nbsp;pointer&nbsp;to&nbsp;data<br /></span><span style="color: #0000BB">fseek</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">__COMPILER_HALT_OFFSET__</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;and&nbsp;output&nbsp;it<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">stream_get_contents</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;script&nbsp;execution<br /></span><span style="color: #007700">__halt_compiler();&nbsp;</span><span style="color: #0000BB">the&nbsp;installation&nbsp;data&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">eg</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">tar</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">gz</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PHP</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">etc</span><span style="color: #007700">.)<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=php_incompilable" id="php_incompilable">Incompilable Files</a></h2><p>[Since 0.8.4] - [ -P Php/Incompilable ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#incompilable-files">Online docs</a> ]</p><p>Files that cannot be compiled, and, as such, be run by PHP. Scripts are linted against various versions of PHP. <br />
<br />
This is usually undesirable, as all code must compile before being executed. It may be that such files are not compilable because they are not yet ready for an upcoming PHP version.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Can't&nbsp;compile&nbsp;this&nbsp;:&nbsp;Print&nbsp;only&nbsp;accepts&nbsp;one&nbsp;argument<br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
Code that is not compilable with older PHP versions means that the code is breaking backward compatibility : good or bad is project decision.<br />
<br />
When the code is used as a template for PHP code generation, for example at installation time, it is recommended to use a distinct file extension, so as to distinguish them from actual PHP code.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_labelnames" id="php_labelnames">Labels</a></h2><p>[Since 0.8.4] - [ -P Php/Labelnames ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#labels">Online docs</a> ]</p><p>List of all labels used in the code. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;A&nbsp;is&nbsp;label.&nbsp;<br /></span><span style="color: #007700">goto&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">:<br /><br /></span><span style="color: #0000BB">A</span><span style="color: #007700">:<br /><br /></span><span style="color: #FF8000">//&nbsp;A&nbsp;label&nbsp;may&nbsp;be&nbsp;used&nbsp;by&nbsp;several&nbsp;gotos.<br /></span><span style="color: #007700">goto&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">:<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_php54removedfunctions" id="php_php54removedfunctions">Functions Removed In PHP 5.4</a></h2><p>[Since 0.8.4] - [ -P Php/Php54RemovedFunctions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#functions-removed-in-php-5.4">Online docs</a> ] - [ PHP  older than 5.4]</p><p>Those functions were removed in PHP 5.4.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Deprecated&nbsp;as&nbsp;of&nbsp;PHP&nbsp;5.4.0<br /></span><span style="color: #0000BB">$link&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mysql_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'mysql_user'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'mysql_password'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$db_list&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mysql_list_dbs</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">);<br /><br />while&nbsp;(</span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mysql_fetch_object</span><span style="color: #007700">(</span><span style="color: #0000BB">$db_list</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">Database&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/migration54.deprecated.php" alt="Deprecated features in PHP 5.4.x">Deprecated features in PHP 5.4.x</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_php55removedfunctions" id="php_php55removedfunctions">Functions Removed In PHP 5.5</a></h2><p>[Since 0.8.4] - [ -P Php/Php55RemovedFunctions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#functions-removed-in-php-5.5">Online docs</a> ] - [ PHP  older than 5.5]</p><p>Those functions were removed in PHP 5.5.<br />
<br />
+ <a href="https://www.php.net/php_logo_guid" alt="php_logo_guid()">php_logo_guid()</a><br />
+ <a href="https://www.php.net/php_egg_logo_guid" alt="php_egg_logo_guid()">php_egg_logo_guid()</a><br />
+ <a href="https://www.php.net/php_real_logo_guid" alt="php_real_logo_guid()">php_real_logo_guid()</a><br />
+ <a href="https://www.php.net/zend_logo_guid" alt="zend_logo_guid()">zend_logo_guid()</a><br />
+ mcrypt_cbc()<br />
+ mcrypt_cfb()<br />
+ mcrypt_ecb()<br />
+ mcrypt_ofb()<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'&lt;img&nbsp;src="'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'PHP_SELF'</span><span style="color: #007700">]&nbsp;.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'?='&nbsp;</span><span style="color: #007700">.&nbsp;`</span><span style="color: #DD0000">php_logo_guid()&nbsp;&lt;https://www.php.net/php_logo_guid&gt;</span><span style="color: #007700">`</span><span style="color: #0000BB">_&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'"&nbsp;alt="PHP&nbsp;Logo&nbsp;!"&nbsp;/&gt;'</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/fr/migration55.deprecated.php" alt="Deprecated features in PHP 5.5.x">Deprecated features in PHP 5.5.x</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_throwusage" id="php_throwusage">Throw</a></h2><p>[Since 0.8.4] - [ -P Php/ThrowUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#throw">Online docs</a> ]</p><p>List of thrown exceptions.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$divisor&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Throw&nbsp;native&nbsp;exception<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">throw&nbsp;new&nbsp;</span><span style="color: #0000BB">DivisionByZeroError</span><span style="color: #007700">(</span><span style="color: #DD0000">"Shouldn't&nbsp;divide&nbsp;by&nbsp;one"</span><span style="color: #007700">);<br />}<br /><br />if&nbsp;(</span><span style="color: #0000BB">$divisor&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Throw&nbsp;custom&nbsp;exception<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">throw&nbsp;new&nbsp;</span><span style="color: #0000BB">DontDivideByOneException</span><span style="color: #007700">(</span><span style="color: #DD0000">"Shouldn't&nbsp;divide&nbsp;by&nbsp;one"</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.exceptions.php" alt="Exceptions">Exceptions</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_triggererrorusage" id="php_triggererrorusage">Trigger Errors</a></h2><p>[Since 0.8.4] - [ -P Php/TriggerErrorUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#trigger-errors">Online docs</a> ]</p><p>List of situations where user errors are triggered.<br />
<br />
PHP errors are triggered with <a href="https://www.php.net/trigger_error" alt="trigger_error()">trigger_error()</a>.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$divisor&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">trigger_error</span><span style="color: #007700">(</span><span style="color: #DD0000">'Cannot&nbsp;divide&nbsp;by&nbsp;zero'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">E_USER_ERROR</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/trigger_error" alt="trigger_error">trigger_error</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_trycatchusage" id="php_trycatchusage">Caught Expressions</a></h2><p>[Since 0.8.4] - [ -P Php/TryCatchUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#caught-expressions">Online docs</a> ]</p><p>List of caught exceptions.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;analyzer&nbsp;reports&nbsp;MyException&nbsp;and&nbsp;Exception<br /></span><span style="color: #007700">try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">MyException&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">fixIt</span><span style="color: #007700">();<br />}&nbsp;catch&nbsp;(\</span><span style="color: #0000BB">Exception&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">fixIt</span><span style="color: #007700">();<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_break0" id="structures_break0">Break With 0</a></h2><p>[Since 0.8.4] - [ -P Structures/Break0 ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#break-with-0">Online docs</a> ] - [ PHP  older than 5.4]</p><p>Cannot break 0, as this makes no sense. Break 1 is the minimum, and is the default value.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Can't&nbsp;break&nbsp;0.&nbsp;Must&nbsp;be&nbsp;1&nbsp;or&nbsp;more,&nbsp;depending&nbsp;on&nbsp;the&nbsp;level&nbsp;of&nbsp;nesting.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">for(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;for(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(</span><span style="color: #0000BB">$j&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$j&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$j</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_breaknoninteger" id="structures_breaknoninteger">Break With Non Integer</a></h2><p>[Since 0.8.4] - [ -P Structures/BreakNonInteger ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#break-with-non-integer">Online docs</a> ] - [ PHP  older than 5.4]</p><p>When using a break, the argument of the operator must be a positive non-null integer literal or be omitted.<br />
<br />
Other values were acceptable in PHP 5.3 and previous version, but this is now reported as an error.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Can't&nbsp;break&nbsp;$a,&nbsp;even&nbsp;if&nbsp;it&nbsp;contains&nbsp;an&nbsp;integer.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;for(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;can't&nbsp;break&nbsp;on&nbsp;float<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">for(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(</span><span style="color: #0000BB">$j&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$j&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$j</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break&nbsp;</span><span style="color: #0000BB">2.2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_calltimepassbyreference" id="structures_calltimepassbyreference">Calltime Pass By Reference</a></h2><p>[Since 0.8.4] - [ -P Structures/CalltimePassByReference ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#calltime-pass-by-reference">Online docs</a> ] - [ PHP  older than 5.4]</p><p>PHP doesn't allow when a value is turned into a reference at functioncall, since PHP 5.4. <br />
<br />
Either the function use a reference in its signature, either the reference won't pass.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$arg&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ucfirst</span><span style="color: #007700">(</span><span style="color: #0000BB">strtolower</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Hello&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$arg</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'name'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(&amp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_errorreportingwithinteger" id="structures_errorreportingwithinteger">error_reporting() With Integers</a></h2><p>[Since 0.8.4] - [ -P Structures/ErrorReportingWithInteger ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#error_reporting---with-integers">Online docs</a> ]</p><p>Using named constants with error_reporting is strongly encouraged to ensure compatibility for future versions. As error levels are added, the range of integers increases, so older integer-based error levels will not always behave as expected. (Adapted from the documentation).<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;ready&nbsp;for&nbsp;PHP&nbsp;next&nbsp;version<br /></span><span style="color: #0000BB">error_reporting</span><span style="color: #007700">(</span><span style="color: #0000BB">E_ALL&nbsp;</span><span style="color: #007700">&amp;&nbsp;~</span><span style="color: #0000BB">E_DEPRECATED&nbsp;</span><span style="color: #007700">&amp;&nbsp;~</span><span style="color: #0000BB">E_STRICT&nbsp;</span><span style="color: #007700">&amp;&nbsp;~</span><span style="color: #0000BB">E_NOTICE&nbsp;</span><span style="color: #007700">&amp;&nbsp;~</span><span style="color: #0000BB">E_WARNING</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;not&nbsp;ready&nbsp;for&nbsp;PHP&nbsp;next&nbsp;version<br /></span><span style="color: #0000BB">error_reporting</span><span style="color: #007700">(</span><span style="color: #0000BB">2047</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;-1&nbsp;and&nbsp;0&nbsp;are&nbsp;omitted,&nbsp;as&nbsp;they&nbsp;will&nbsp;be&nbsp;valid&nbsp;even&nbsp;is&nbsp;constants&nbsp;changes.<br /></span><span style="color: #0000BB">error_reporting</span><span style="color: #007700">(-</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">error_reporting</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/errorfunc.configuration.php#ini.error-reporting" alt="directive error_reporting">directive error_reporting</a> and <br />
         <a href="http://php.net/manual/en/function.error-reporting.php" alt="error_reporting">error_reporting</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_evalusage" id="structures_evalusage">Eval() Usage</a></h2><p>[Since 0.8.4] - [ -P Structures/EvalUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#eval---usage">Online docs</a> ]</p><p>Using <a href="https://www.php.net/eval" alt="eval()">eval()</a> is evil. <br />
<br />
Using <a href="https://www.php.net/eval" alt="eval()">eval()</a> is bad for performances (compilation time), for caches (it won't be compiled), and for security (if it includes external data).<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Avoid&nbsp;using&nbsp;incoming&nbsp;data&nbsp;to&nbsp;build&nbsp;the&nbsp;`eval()&nbsp;&lt;https://www.php.net/eval&gt;`_&nbsp;expression&nbsp;:&nbsp;any&nbsp;filtering&nbsp;error&nbsp;leads&nbsp;to&nbsp;PHP&nbsp;injection<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$mathExpression&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'mathExpression'</span><span style="color: #007700">];&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$mathExpression&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">preg_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'#[^0-9+\-*/\(/)]#is'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$mathExpression</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;expecting&nbsp;1+2<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$literalCode&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'$a&nbsp;=&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$mathExpression</span><span style="color: #007700">.</span><span style="color: #DD0000">';'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;eval(</span><span style="color: #0000BB">$literalCode</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;If&nbsp;the&nbsp;code&nbsp;code&nbsp;given&nbsp;to&nbsp;`eval()&nbsp;&lt;https://www.php.net/eval&gt;`_&nbsp;is&nbsp;known&nbsp;at&nbsp;compile&nbsp;time,&nbsp;it&nbsp;is&nbsp;best&nbsp;to&nbsp;put&nbsp;it&nbsp;inline<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$literalCode&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'`phpinfo()&nbsp;&lt;https://www.php.net/phpinfo&gt;`_;'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;eval(</span><span style="color: #0000BB">$literalCode</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
Most of the time, it is possible to replace the code by some standard PHP, like variable variable for accessing a variable for which you have the name.<br />
At worse, including a pregenerated file is faster and cacheable. <br />
<br />
There are several situations where <a href="https://www.php.net/eval" alt="eval()">eval()</a> is actually the only solution : <br />
<br />
For PHP 7.0 and later, it is important to put <a href="https://www.php.net/eval" alt="eval()">eval()</a> in a try..catch expression.<br />
<br />
See also <a href="http://www.php.net/eval" alt="eval">eval</a> and <br />
         <a href="https://www.php.net/eval" alt="The Land Where PHP  Uses `eval()">The Land Where PHP  Uses `eval()</a> <https://www.exakat.io/land-where-php-uses-eval/>`_.<br />
</p>
<h2><a href="issues.html#analyzer=structures_exitusage" id="structures_exitusage">Exit() Usage</a></h2><p>[Since 0.8.4] - [ -P Structures/ExitUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#exit---usage">Online docs</a> ]</p><p>Using exit or die() in the code makes the code untestable (it will break unit tests). Moreover, if there is no reason or string to display, it may take a long time to spot where the application is stuck. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Throw&nbsp;an&nbsp;exception,&nbsp;that&nbsp;may&nbsp;be&nbsp;caught&nbsp;somewhere<br /></span><span style="color: #007700">throw&nbsp;new&nbsp;\</span><span style="color: #0000BB">Exception</span><span style="color: #007700">(</span><span style="color: #DD0000">'error'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Dying&nbsp;with&nbsp;error&nbsp;message.&nbsp;<br /></span><span style="color: #007700">die(</span><span style="color: #DD0000">'error'</span><span style="color: #007700">);<br /><br />function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//exiting&nbsp;the&nbsp;function&nbsp;but&nbsp;not&nbsp;dying<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">somethingWrong</span><span style="color: #007700">())&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
Try exiting the function/class with return, or throw exception that may be caught later in the code.<br />
</p>
<h2><a href="issues.html#analyzer=structures_forwithfunctioncall" id="structures_forwithfunctioncall">For Using Functioncall</a></h2><p>[Since 0.8.4] - [ -P Structures/ForWithFunctioncall ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#for-using-functioncall">Online docs</a> ]</p><p>It is recommended to avoid functioncall in the for() statement. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Fastest&nbsp;way<br /></span><span style="color: #0000BB">$nb&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);&nbsp;<br />for(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">$nb</span><span style="color: #007700">;&nbsp;++</span><span style="color: #0000BB">$i</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">(</span><span style="color: #0000BB">$i</span><span style="color: #007700">);<br />}&nbsp;<br /><br /></span><span style="color: #FF8000">//&nbsp;Same&nbsp;as&nbsp;above,&nbsp;but&nbsp;slow<br /></span><span style="color: #007700">for(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);&nbsp;++</span><span style="color: #0000BB">$i</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">(</span><span style="color: #0000BB">$i</span><span style="color: #007700">);<br />}&nbsp;<br /><br /></span><span style="color: #FF8000">//&nbsp;Same&nbsp;as&nbsp;above,&nbsp;but&nbsp;slow<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$portions&nbsp;</span><span style="color: #007700">as&nbsp;&amp;</span><span style="color: #0000BB">$portion</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;here,&nbsp;`array_sum()&nbsp;&lt;https://www.php.net/array_sum&gt;`_&nbsp;doesn't&nbsp;depends&nbsp;on&nbsp;the&nbsp;$grade.&nbsp;It&nbsp;should&nbsp;be&nbsp;out&nbsp;of&nbsp;the&nbsp;loop<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$portion&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$portion&nbsp;</span><span style="color: #007700">/&nbsp;</span><span style="color: #0000BB">array_sum</span><span style="color: #007700">(</span><span style="color: #0000BB">$portions</span><span style="color: #007700">);<br />}&nbsp;<br /><br /></span><span style="color: #0000BB">$total&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_sum</span><span style="color: #007700">(</span><span style="color: #0000BB">$portion</span><span style="color: #007700">);<br />foreach(</span><span style="color: #0000BB">$portion&nbsp;</span><span style="color: #007700">as&nbsp;&amp;</span><span style="color: #0000BB">$portion</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$portion&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$portion&nbsp;</span><span style="color: #007700">/&nbsp;</span><span style="color: #0000BB">$total</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
This is true with any kind of functioncall that returns the same value throughout the loop. <br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_forgottenwhitespace" id="structures_forgottenwhitespace">Forgotten Whitespace</a></h2><p>[Since 0.8.4] - [ -P Structures/ForgottenWhiteSpace ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#forgotten-whitespace">Online docs</a> ]</p><p>Forgotten whitespaces only bring misery to the code.<br />
<br />
White spaces have been left at either end of a file : before the PHP opening tag, or after the closing tag. <br />
<br />
Usually, such whitespaces are forgotten, and may end up summoning the infamous 'headers already sent' error. It is better to remove them. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;script&nbsp;has&nbsp;no&nbsp;forgotten&nbsp;whitespace,&nbsp;not&nbsp;at&nbsp;the&nbsp;beginning<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;script&nbsp;has&nbsp;no&nbsp;forgotten&nbsp;whitespace,&nbsp;not&nbsp;at&nbsp;the&nbsp;end<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://stackoverflow.com/questions/8028957/how-to-fix-headers-already-sent-error-in-php" alt="How to fix Headers already sent error in PHP">How to fix Headers already sent error in PHP</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_iffectation" id="structures_iffectation">Iffectations</a></h2><p>[Since 0.8.4] - [ -P Structures/Iffectation ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#iffectations">Online docs</a> ]</p><p>Affectations that appears in a condition. <br />
<br />
Iffectations are a way to do both a test and an affectations. <br />
They may also be typos, such as if ($x = 3) { ... }, leading to a constant condition. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;an&nbsp;iffectation&nbsp;:&nbsp;assignation&nbsp;in&nbsp;a&nbsp;If&nbsp;condition<br /></span><span style="color: #007700">if(</span><span style="color: #0000BB">$connexion&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mysql_connect</span><span style="color: #007700">(</span><span style="color: #0000BB">$host</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$user</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$pass</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$res&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mysql_query</span><span style="color: #007700">(</span><span style="color: #0000BB">$connexion</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$query</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Iffectation&nbsp;may&nbsp;happen&nbsp;in&nbsp;while&nbsp;too.<br /></span><span style="color: #007700">while(</span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mysql_fetch</span><span style="color: #007700">(</span><span style="color: #0000BB">$res</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$store</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_multiplybyone" id="structures_multiplybyone">Multiply By One</a></h2><p>[Since 0.8.4] - [ -P Structures/MultiplyByOne ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#multiply-by-one">Online docs</a> ]</p><p>Multiplying by 1 is a fancy type cast. <br />
<br />
If it is used to type cast a value to number, then casting (integer) or (real) is clearer. This behavior may change with PHP 7.1, which has unified the behavior of all hidden casts. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Still&nbsp;the&nbsp;same&nbsp;value&nbsp;than&nbsp;$m,&nbsp;but&nbsp;now&nbsp;cast&nbsp;to&nbsp;integer&nbsp;or&nbsp;real<br /></span><span style="color: #0000BB">$m&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$m&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;<br /><br /></span><span style="color: #FF8000">//&nbsp;Still&nbsp;the&nbsp;same&nbsp;value&nbsp;than&nbsp;$m,&nbsp;but&nbsp;now&nbsp;cast&nbsp;to&nbsp;integer&nbsp;or&nbsp;real<br /></span><span style="color: #0000BB">$n&nbsp;</span><span style="color: #007700">*=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;<br /><br /></span><span style="color: #FF8000">//&nbsp;make&nbsp;typecasting&nbsp;clear,&nbsp;and&nbsp;merge&nbsp;it&nbsp;with&nbsp;the&nbsp;producing&nbsp;call.<br /></span><span style="color: #0000BB">$n&nbsp;</span><span style="color: #007700">=&nbsp;(int)&nbsp;</span><span style="color: #0000BB">$n</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.types.type-juggling.php" alt="Type Juggling">Type Juggling</a><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_noscream" id="structures_noscream">@ Operator</a></h2><p>[Since 0.8.4] - [ -P Structures/Noscream ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#@-operator">Online docs</a> ]</p><p>@ is the 'no scream' operator : it suppresses error output. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Set&nbsp;x&nbsp;with&nbsp;incoming&nbsp;value,&nbsp;or&nbsp;else&nbsp;null.&nbsp;<br /></span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;@</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'x'</span><span style="color: #007700">];<br /></span>?&gt;</pre><br />
<br />
This operator is actually very slow : it will process the error all the way up, and finally decide not to display it. It is often faster to check the conditions first, then run the method without  <span style="border: 1px solid #ddd; background-color: #f5f5f5">@</span> .<br />
<br />
You may also set display_error to 0 in the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">php.ini</span>  : this will avoid user's error display, but will keep the error in the PHP logs, for later processing. <br />
<br />
The only situation where  <span style="border: 1px solid #ddd; background-color: #f5f5f5">@</span>  is useful is when a native PHP function displays errors messages when error happens and there is no way to check it from the code. <br />
<br />
This is the case with <a href="https://www.php.net/fopen" alt="fopen()">fopen()</a>, <a href="https://www.php.net/stream_socket_server" alt="stream_socket_server()">stream_socket_server()</a>, <a href="https://www.php.net/token_get_all" alt="token_get_all()">token_get_all()</a>. <br />
<br />
See also <a href="http://php.net/manual/en/language.operators.errorcontrol.php" alt="Error Control Operators">Error Control Operators</a> and <br />
         <a href="https://derickrethans.nl/five-reasons-why-the-shutop-operator-should-be-avoided.html" alt="Five reasons why the shut-op operator should be avoided">Five reasons why the shut-op operator should be avoided</a>. <br />
</p>
<h2><a href="issues.html#analyzer=structures_notnot" id="structures_notnot">Not Not</a></h2><p>[Since 0.8.4] - [ -P Structures/NotNot ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#not-not">Online docs</a> ]</p><p>Double not makes a boolean, not a  <span style="border: 1px solid #ddd; background-color: #f5f5f5">true</span> .<br />
<br />
This is a wrong casting to boolean. PHP supports  <span style="border: 1px solid #ddd; background-color: #f5f5f5">(boolean)</span>  to do the same, faster and cleaner.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Explicit&nbsp;code<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;(boolean)&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;(bool)&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">;&nbsp;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Wrong&nbsp;type&nbsp;casting<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;!!</span><span style="color: #0000BB">$x</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.operators.logical.php" alt="Logical Operators">Logical Operators</a> and <br />
         <a href="http://php.net/manual/en/language.types.type-juggling.php" alt="Type Juggling">Type Juggling</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_onceusage" id="structures_onceusage">include_once() Usage</a></h2><p>[Since 0.8.4] - [ -P Structures/OnceUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#include_once---usage">Online docs</a> ]</p><p>include_once() and require_once() functions should be avoided for performances reasons.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Including&nbsp;a&nbsp;library.&nbsp;<br /></span><span style="color: #007700">include&nbsp;</span><span style="color: #DD0000">'lib/helpers.inc'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Including&nbsp;a&nbsp;library,&nbsp;and&nbsp;avoiding&nbsp;double&nbsp;inclusion<br /></span><span style="color: #007700">include_once&nbsp;</span><span style="color: #DD0000">'lib/helpers.inc'</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
Try using autoload for loading classes, or use include() or require() and make it possible to include several times the same file without errors.<br />
</p>
<h2><a href="issues.html#analyzer=structures_phpinfousage" id="structures_phpinfousage">Phpinfo</a></h2><p>[Since 0.8.4] - [ -P Structures/PhpinfoUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#phpinfo">Online docs</a> ]</p><p><a href="https://www.php.net/phpinfo" alt="phpinfo()">phpinfo()</a> is a great function to learn about the current configuration of the server.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">DEBUG</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;`</span><span style="color: #DD0000">phpinfo()&nbsp;&lt;https://www.php.net/phpinfo&gt;</span><span style="color: #007700">`</span><span style="color: #0000BB">_</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
If left in the production code, it may lead to a critical leak, as any attacker gaining access to this data will know a lot about the server configuration.<br />
<br />
It is advised to never leave that kind of instruction in a production code. <br />
<br />
<a href="https://www.php.net/phpinfo" alt="phpinfo()">phpinfo()</a> may be necessary to access some specific configuration of the server : for example,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Apache</span>  module list are only available via <a href="https://www.php.net/phpinfo" alt="phpinfo()">phpinfo()</a>, and apache_get(), when they are loaded.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_shorttags" id="structures_shorttags">Using Short Tags</a></h2><p>[Since 0.8.4] - [ -P Structures/ShortTags ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#using-short-tags">Online docs</a> ]</p><p>The code makes use of short tags. Short tags are the following :  <span style="border: 1px solid #ddd; background-color: #f5f5f5"><?</span>  . A full scripts looks like that :  <span style="border: 1px solid #ddd; background-color: #f5f5f5"><? /* php code */ ?></span>  .<br />
<br />
It is recommended to not use short tags, and use standard PHP tags. This makes PHP code compatible with XML standards. Short tags used to be popular, but have lost it.<br />
<br />
See also <a href="http://php.net/manual/en/language.basic-syntax.phptags.php" alt="PHP Tags">PHP Tags</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_strposcompare" id="structures_strposcompare">Strpos()-like Comparison</a></h2><p>[Since 0.8.4] - [ -P Structures/StrposCompare ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#strpos---like-comparison">Online docs</a> ]</p><p>The result of that function may be mistaken with an error.<br />
<br />
<a href="https://www.php.net/strpos" alt="strpos()">strpos()</a>, along with several PHP native functions, returns a string position, starting at 0, or false, in case of failure. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;the&nbsp;best&nbsp;comparison<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'a'</span><span style="color: #007700">)&nbsp;===&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">)&nbsp;{&nbsp;}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;OK,&nbsp;as&nbsp;2&nbsp;won't&nbsp;be&nbsp;mistaken&nbsp;with&nbsp;false<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'a'</span><span style="color: #007700">)&nbsp;==&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;{&nbsp;}<br /><br /></span><span style="color: #FF8000">//&nbsp;strpos&nbsp;is&nbsp;one&nbsp;of&nbsp;the&nbsp;26&nbsp;functions&nbsp;that&nbsp;may&nbsp;behave&nbsp;this&nbsp;way<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #0000BB">$regex</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">))&nbsp;{&nbsp;}&nbsp;<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;works&nbsp;like&nbsp;above,&nbsp;catching&nbsp;the&nbsp;value&nbsp;for&nbsp;later&nbsp;reuse<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'a'</span><span style="color: #007700">))&nbsp;{&nbsp;}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;misses&nbsp;the&nbsp;case&nbsp;where&nbsp;'a'&nbsp;is&nbsp;the&nbsp;first&nbsp;char&nbsp;of&nbsp;the&nbsp;string<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'a'</span><span style="color: #007700">))&nbsp;{&nbsp;}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;misses&nbsp;the&nbsp;case&nbsp;where&nbsp;'a'&nbsp;is&nbsp;the&nbsp;first&nbsp;char&nbsp;of&nbsp;the&nbsp;string,&nbsp;just&nbsp;like&nbsp;above<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'a'</span><span style="color: #007700">)&nbsp;==&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{&nbsp;}<br /></span>?&gt;</pre><br />
<br />
It is recommended to check the result of <a href="https://www.php.net/strpos" alt="strpos()">strpos()</a> with === or !==, so as to avoid confusing 0 and false. <br />
<br />
This analyzer list all the <a href="https://www.php.net/strpos" alt="strpos()">strpos()</a>-like functions that are directly compared with == or !=. preg_match(), when its first argument is a literal, is omitted : this function only returns NULL in case of regex error. <br />
<br />
The full list is the following : <br />
<br />
<br />
<ul>
<li><a href="https://www.php.net/array_search" alt="array_search()">array_search()</a></li>
<li>collator_compare()</li>
<li>collator_get_sort_<a href="https://www.php.net/key" alt="key()">key()</a></li>
<li><a href="https://www.php.net/current" alt="current()">current()</a></li>
<li><a href="https://www.php.net/fgetc" alt="fgetc()">fgetc()</a></li>
<li><a href="https://www.php.net/file_get_contents" alt="file_get_contents()">file_get_contents()</a></li>
<li><a href="https://www.php.net/file_put_contents" alt="file_put_contents()">file_put_contents()</a></li>
<li><a href="https://www.php.net/fread" alt="fread()">fread()</a></li>
<li>iconv_<a href="https://www.php.net/strpos" alt="strpos()">strpos()</a></li>
<li>iconv_<a href="https://www.php.net/strrpos" alt="strrpos()">strrpos()</a></li>
<li>imagecolorallocate()</li>
<li>imagecolorallocatealpha()</li>
<li>mb_strlen()</li>
<li><a href="https://www.php.net/next" alt="next()">next()</a></li>
<li>pcntl_getpriority()</li>
<li>preg_match()</li>
<li><a href="https://www.php.net/prev" alt="prev()">prev()</a></li>
<li><a href="https://www.php.net/readdir" alt="readdir()">readdir()</a></li>
<li><a href="https://www.php.net/stripos" alt="stripos()">stripos()</a></li>
<li><a href="https://www.php.net/strpos" alt="strpos()">strpos()</a></li>
<li><a href="https://www.php.net/strripos" alt="strripos()">strripos()</a></li>
<li><a href="https://www.php.net/strrpos" alt="strrpos()">strrpos()</a></li>
<li><a href="https://www.php.net/strtok" alt="strtok()">strtok()</a></li>
<li>curl_<a href="https://www.php.net/exec" alt="exec()">exec()</a></li>
</ul>
<br />
<br />
See also <a href="https://bugs.php.net/bug.php?id=52198" alt="strpos not working correctly">strpos not working correctly</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_throwsandassign" id="structures_throwsandassign">Throws An Assignement</a></h2><p>[Since 0.8.4] - [ -P Structures/ThrowsAndAssign ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#throws-an-assignement">Online docs</a> ]</p><p>It is possible to throw an exception, and, in the same time, assign this exception to a variable.<br />
<br />
However, the variable will never be used, as the exception is thrown, and any following code is not executed. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;$e&nbsp;is&nbsp;useful,&nbsp;though&nbsp;not&nbsp;by&nbsp;much<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$e&nbsp;</span><span style="color: #007700">=&nbsp;new()&nbsp;</span><span style="color: #0000BB">Exception</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;</span><span style="color: #0000BB">$e</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$e&nbsp;is&nbsp;useless<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">throw&nbsp;</span><span style="color: #0000BB">$e&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Exception</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
The assignment should be removed.<br />
</p>
<h2><a href="issues.html#analyzer=structures_vardumpusage" id="structures_vardumpusage">var_dump()... Usage</a></h2><p>[Since 0.8.4] - [ -P Structures/VardumpUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#var_dump--...-usage">Online docs</a> ]</p><p><a href="https://www.php.net/var_dump" alt="var_dump()">var_dump()</a>, <a href="https://www.php.net/print_r" alt="print_r()">print_r()</a> or <a href="https://www.php.net/var_export" alt="var_export()">var_export()</a> should not be left in any production code. They are debugging functions.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$error</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Debugging&nbsp;usage&nbsp;of&nbsp;var_dump<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;And&nbsp;major&nbsp;security&nbsp;problem&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$query</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;OK&nbsp;:&nbsp;the&nbsp;$query&nbsp;is&nbsp;logged,&nbsp;and&nbsp;not&nbsp;displayed<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">log</span><span style="color: #007700">(</span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$query</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">));<br />}<br /></span>?&gt;</pre><br />
<br />
They may be tolerated during development time, but must be removed so as not to have any chance to be run in production.<br />
</p>
<h2><a href="issues.html#analyzer=structures_tostringthrowsexception" id="structures_tostringthrowsexception">__toString() Throws Exception</a></h2><p>[Since 0.8.4] - [ -P Structures/toStringThrowsException ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#__tostring---throws-exception">Online docs</a> ]</p><p>Magical method __toString() can't throw exceptions.<br />
<br />
In fact, __toString() may not let an exception pass. If it throw an exception, but must catch it. If an underlying method throws an exception, it must be caught.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">myString&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__toString</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Do&nbsp;not&nbsp;throw&nbsp;exceptions&nbsp;in&nbsp;__toString<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(!</span><span style="color: #0000BB">is_string</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">string</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;</span><span style="color: #0000BB">Exception</span><span style="color: #007700">(</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">string</span><span style="color: #DD0000">&nbsp;is&nbsp;not&nbsp;a&nbsp;string!!"</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">string</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
A fatal error is displayed, when an exception is not intercepted in the __toString() function. <br />
<br />
::<br />
<br />
    PHP Fatal error:  Method myString::__toString() must not throw an exception, caught Exception: 'Exception message' in  <span style="border: 1px solid #ddd; background-color: #f5f5f5">file.php</span> <br />
<br />
See also __toString().<br />
</p>
<h2><a href="issues.html#analyzer=type_binary" id="type_binary">Binary Glossary</a></h2><p>[Since 0.8.4] - [ -P Type/Binary ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#binary-glossary">Online docs</a> ] - [ PHP 5.4 and more recent ]</p><p>List of all the integer values using the binary format.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0b10</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0B0101</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=type_email" id="type_email">Email Addresses</a></h2><p>[Since 0.8.4] - [ -P Type/Email ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#email-addresses">Online docs</a> ]</p><p>List of all the email addresses that were found in the code.<br />
<br />
Emails are detected with regex :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">[_A-Za-z0-9-]+(\\.[_A-Za-z0-9-]+)*@[A-Za-z0-9]+(\\.[A-Za-z0-9]+)*(\\.[A-Za-z]{2,})</span> <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$email&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'contact@exakat.io'</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=type_heredoc" id="type_heredoc">Heredoc Delimiter Glossary</a></h2><p>[Since 0.8.4] - [ -P Type/Heredoc ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#heredoc-delimiter-glossary">Online docs</a> ]</p><p>List of all the delimiters used to build a Heredoc string. <br />
<br />
In the example below,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">EOD</span>  is the delimiter.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;&lt;&lt;&lt;EOD<br /></span><span style="color: #DD0000">heredoc<br /></span><span style="color: #007700">EOD;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.types.string.php#language.types.string.syntax.heredoc" alt="Heredoc">Heredoc</a>.<br />
</p>
<h2><a href="issues.html#analyzer=type_hexadecimal" id="type_hexadecimal">Hexadecimal Glossary</a></h2><p>[Since 0.8.4] - [ -P Type/Hexadecimal ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#hexadecimal-glossary">Online docs</a> ]</p><p>List of all the integer values using the hexadecimal format.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$hexadecimal&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0x10</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$anotherHexadecimal&nbsp;</span><span style="color: #007700">=</span><span style="color: #0000BB">0XAF</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.types.integer.php#language.types.integer.syntax" alt="Integer Syntax">Integer Syntax</a>.<br />
</p>
<h2><a href="issues.html#analyzer=type_httpheader" id="type_httpheader">Http Headers</a></h2><p>[Since 0.8.4] - [ -P Type/HttpHeader ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#http-headers">Online docs</a> ]</p><p>List of HTTP headers use in the code. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Location:&nbsp;http://www.example.com/'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Parseable&nbsp;headers&nbsp;are&nbsp;also&nbsp;reported<br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Location:&nbsp;http://www.example.com/'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;UnParseable&nbsp;headers&nbsp;are&nbsp;not&nbsp;reported<br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'GarbagexxxxXXXXxxxGarbagexxxxXXXXxxx'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #0000BB">$header</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
Those headers are mostly used with <a href="https://www.php.net/header" alt="header()">header()</a> function to send to browser.<br />
<br />
See also <a href="https://en.wikipedia.org/wiki/List_of_HTTP_header_fields" alt="List of HTTP header fields">List of HTTP header fields</a>.</p>
<h2><a href="issues.html#analyzer=type_httpstatus" id="type_httpstatus">HTTP Status Code</a></h2><p>[Since 0.8.4] - [ -P Type/HttpStatus ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#http-status-code">Online docs</a> ]</p><p>List of all the HTTP status codes mentioned in the code.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">http_response_code</span><span style="color: #007700">(</span><span style="color: #0000BB">418</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'HTTP/1.1&nbsp;418&nbsp;I\'m&nbsp;a&nbsp;teapot'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes" alt="List of HTTP status codes">List of HTTP status codes</a>.<br />
</p>
<h2><a href="issues.html#analyzer=type_malformedoctal" id="type_malformedoctal">Malformed Octal</a></h2><p>[Since 0.8.4] - [ -P Type/MalformedOctal ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#malformed-octal">Online docs</a> ] - [ PHP  older than 7.0]</p><p>Those numbers starts with a 0, so they are using the PHP octal convention. Therefore, one can't use 8 or 9 figures in those numbers, as they don't belong to the octal base. The resulting number will be truncated at the first erroneous figure. For example, 090 is actually 0, and 02689 is actually 22. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;A&nbsp;long&nbsp;way&nbsp;to&nbsp;write&nbsp;0&nbsp;in&nbsp;PHP&nbsp;5<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0890</span><span style="color: #007700">;&nbsp;<br /><br /></span><span style="color: #FF8000">//&nbsp;A&nbsp;fatal&nbsp;error&nbsp;since&nbsp;PHP&nbsp;7<br /></span>?&gt;</pre><br />
<br />
Also, note that very large octal, usually with more than 21 figures, will be turned into a real number and undergo a reduction in precision.<br />
<br />
See also <a href="http://php.net/manual/en/language.types.integer.php" alt="Integers">Integers</a>.<br />
</p>
<h2><a href="issues.html#analyzer=type_md5string" id="type_md5string">Md5 Strings</a></h2><p>[Since 0.8.4] - [ -P Type/Md5String ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#md5-strings">Online docs</a> ]</p><p>List of all the MD5 values hard coded in the application.<br />
<br />
MD5 values are detected as hexadecimal strings, of length 32. No attempt at recognizing the origin value is made, so any such strings, including dummy '11111111111111111111111111111111' are reported.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;32&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'0cc175b9c0f1b6a831c399e269771111'</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/md5" alt="MD5">MD5</a>.<br />
</p>
<h2><a href="issues.html#analyzer=type_mimetype" id="type_mimetype">Mime Types</a></h2><p>[Since 0.8.4] - [ -P Type/MimeType ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#mime-types">Online docs</a> ]</p><p>List of Mime Types that are mentioned in the code. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$mimeType&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'multipart/form-data'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$mimeType&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'image/jpeg'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$mimeType&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'application/zip'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Content-Type:&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$mimeType</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://en.wikipedia.org/wiki/Media_type" alt="Media Type">Media Type</a> and<br />
         <a href="https://en.wikipedia.org/wiki/MIME" alt="MIME">MIME</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=type_nowdoc" id="type_nowdoc">Nowdoc Delimiter Glossary</a></h2><p>[Since 0.8.4] - [ -P Type/Nowdoc ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#nowdoc-delimiter-glossary">Online docs</a> ]</p><p>List of all the delimiters used to build a Nowdoc string. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$nowdoc&nbsp;</span><span style="color: #007700">=&nbsp;&lt;&lt;&lt;'EOD'<br /></span><span style="color: #DD0000"><br /></span><span style="color: #007700">EOD;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.types.string.php#language.types.string.syntax.nowdoc" alt="Nowdoc">Nowdoc</a> and <br />
         <a href="http://php.net/manual/en/language.types.string.php#language.types.string.syntax.heredoc" alt="Heredoc">Heredoc</a>.<br />
</p>
<h2><a href="issues.html#analyzer=type_octal" id="type_octal">Octal Glossary</a></h2><p>[Since 0.8.4] - [ -P Type/Octal ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#octal-glossary">Online docs</a> ]</p><p>List of all the integer values using the octal format : an integer starting with an initial 0. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1234</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;decimal&nbsp;number<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0123</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;octal&nbsp;number&nbsp;(equivalent&nbsp;to&nbsp;83&nbsp;decimal)<br /><br />&nbsp;&nbsp;//&nbsp;silently&nbsp;valid&nbsp;for&nbsp;PHP&nbsp;5.x<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">01283</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;octal&nbsp;number&nbsp;(equivalent&nbsp;to&nbsp;10&nbsp;decimal)<br /></span>?&gt;</pre><br />
<br />
Putting an initial 0 is often innocuous, but in PHP, 0755 and 755 are not the same. The second is actually 1363 in octal, and will not provide the expected privileges.<br />
<br />
See also <a href="http://php.net/manual/en/language.types.integer.php" alt="Integers">Integers</a>.<br />
</p>
<h2><a href="issues.html#analyzer=type_pcre" id="type_pcre">Perl Regex</a></h2><p>[Since 0.8.4] - [ -P Type/Pcre ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#perl-regex">Online docs</a> ]</p><p>List of all the Perl Regex (Pcre-style).<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/[abc]/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$haystack</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">preg_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'#[0-9A-Z]+#is'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$y</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$z</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
Regex are spotted when they are literals : dynamically built regex, (including /$x/) are not reported.</p>
<h2><a href="issues.html#analyzer=type_ports" id="type_ports">Internet Ports</a></h2><p>[Since 0.8.4] - [ -P Type/Ports ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#internet-ports">Online docs</a> ]</p><p>List of all the Internet ports mentioned in the code. <br />
<br />
Ports are recognized based on a internal database of port. They are found in Integers.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;21&nbsp;is&nbsp;the&nbsp;default&nbsp;port&nbsp;for&nbsp;FTP<br /></span><span style="color: #0000BB">$ftp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ftp_connect</span><span style="color: #007700">(</span><span style="color: #0000BB">$host</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">21</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$timeout&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">90</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers" alt="List of TCP and UDP port numbers">List of TCP and UDP port numbers</a>.<br />
</p>
<h2><a href="issues.html#analyzer=type_specialintegers" id="type_specialintegers">Special Integers</a></h2><p>[Since 0.8.4] - [ -P Type/SpecialIntegers ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#special-integers">Online docs</a> ]</p><p>Short and incomplete list of integers that may hold special values. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;86400&nbsp;is&nbsp;the&nbsp;number&nbsp;of&nbsp;seconds&nbsp;in&nbsp;a&nbsp;day<br /></span><span style="color: #0000BB">$day&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">86400</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;1400&nbsp;is&nbsp;the&nbsp;number&nbsp;of&nbsp;minutes&nbsp;in&nbsp;a&nbsp;day<br /></span><span style="color: #0000BB">$day&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1440</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
The list includes powers of 2, duration in various units, factorial, ASCII codes and years.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=type_charstring" id="type_charstring">All strings</a></h2><p>[Since 0.10.1] - [ -P Type/CharString ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#all-strings">Online docs</a> ]</p><p>Strings and heredocs in one place.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'string'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$query&nbsp;</span><span style="color: #007700">=&nbsp;&lt;&lt;&lt;SQL<br /></span><span style="color: #DD0000">Heredoc<br /></span><span style="color: #007700">SQL;<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=type_unicodeblock" id="type_unicodeblock">Unicode Blocks</a></h2><p>[Since 0.8.4] - [ -P Type/UnicodeBlock ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unicode-blocks">Online docs</a> ]</p><p>List of the Unicode blocks used in string literals.<br />
<br />
This is the kind of characters that can be found in the applications strings.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">zoo</span><span style="color: #007700">;&nbsp;<br /><br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB"></span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;Telugu&nbsp;character<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;\</span><span style="color: #0000BB">u</span><span style="color: #007700">{</span><span style="color: #0000BB">0C12</span><span style="color: #007700">};&nbsp;</span><span style="color: #0000BB">Same&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">above<br /><br />$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB"></span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;Chinese&nbsp;Mandarin&nbsp;character<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;\</span><span style="color: #0000BB">u</span><span style="color: #007700">{</span><span style="color: #0000BB">4EBA</span><span style="color: #007700">};&nbsp;</span><span style="color: #0000BB">Same&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">above</span>?&gt;</pre><br />
<br />
Note that Exakat only analyze PHP scripts : any translation available in a  <span style="border: 1px solid #ddd; background-color: #f5f5f5">.po</span>  or external resource is not parsed and will not show.<br />
<br />
See also <a href="https://en.wikipedia.org/wiki/Unicode_block" alt="Unicode block">Unicode block</a>.<br />
</p>
<h2><a href="issues.html#analyzer=type_url" id="type_url">URL List</a></h2><p>[Since 0.8.4] - [ -P Type/Url ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#url-list">Online docs</a> ]</p><p>List of all the URL addresses that were found in the code.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;the&nbsp;first&nbsp;argument&nbsp;is&nbsp;recognized&nbsp;as&nbsp;an&nbsp;URL<br /></span><span style="color: #0000BB">ftp_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'http://www.example.com/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$port</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$timeout</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;the&nbsp;string&nbsp;argument&nbsp;&nbsp;is&nbsp;recognized&nbsp;as&nbsp;an&nbsp;URL<br /></span><span style="color: #0000BB">$source&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'https://www.other-example.com/'</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=variables_references" id="variables_references">References</a></h2><p>[Since 0.8.4] - [ -P Variables/References ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#references">Online docs</a> ]</p><p>Variables that are references. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'1'</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;not&nbsp;a&nbsp;reference<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;&amp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;a&nbsp;reference<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/references" alt="References">References</a>.<br />
</p>
<h2><a href="issues.html#analyzer=variables_staticvariables" id="variables_staticvariables">Static Variables</a></h2><p>[Since 0.8.4] - [ -P Variables/StaticVariables ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#static-variables">Online docs</a> ]</p><p>In PHP, variables may be static. They will survive after the function execution end, and will be available at the next function run. They are distinct from globals, which are available application wide, and from static properties, which are tied to a class of objects. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;static&nbsp;variable<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">static&nbsp;</span><span style="color: #0000BB">$count&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;++</span><span style="color: #0000BB">$count</span><span style="color: #007700">;<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;not&nbsp;a&nbsp;static&nbsp;variable&nbsp;:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;it&nbsp;is&nbsp;a&nbsp;static&nbsp;property<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">static&nbsp;</span><span style="color: #0000BB">$property&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=variables_variablelong" id="variables_variablelong">Variables With Long Names</a></h2><p>[Since 0.8.4] - [ -P Variables/VariableLong ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#variables-with-long-names">Online docs</a> ]</p><p>VariablesLong collect all variables with more than 20 characters longs.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Quite&nbsp;a&nbsp;long&nbsp;variable&nbsp;name<br /></span><span style="color: #0000BB">$There_is&nbsp;nothing_wrong_with_long_variable_names_They_tend_to_be_rare_and_that_make_them_noteworthy&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
There is nothing wrong with long variable names. They tend to be rare, and that make them noteworthy.<br />
<br />
See also <a href="http://php.net/manual/en/language.variables.basics.php" alt="Basics">Basics</a>.<br />
</p>
<h2><a href="issues.html#analyzer=variables_variablenonascii" id="variables_variablenonascii">Non Ascii Variables</a></h2><p>[Since 0.8.4] - [ -P Variables/VariableNonascii ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#non-ascii-variables">Online docs</a> ]</p><p>PHP allows certain characters in variable names. The variable name must only include letters, figures, underscores and ASCII characters from 128 to 255. <br />
<br />
In practice, letters outside the scope of  <span style="border: 1px solid #ddd; background-color: #f5f5f5">a-zA-Z0-9</span>  are rare, and require more care when editing the code or passing it from OS to OS. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;An&nbsp;actual&nbsp;working&nbsp;class&nbsp;in&nbsp;PHP.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">__CLASS__</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB"></span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.variables.basics.php" alt="Variables">Variables</a>.<br />
</p>
<h2><a href="issues.html#analyzer=variables_variableusedonce" id="variables_variableusedonce">Used Once Variables</a></h2><p>[Since 0.8.4] - [ -P Variables/VariableUsedOnce ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#used-once-variables">Online docs</a> ]</p><p>This is the list of used once variables. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;The&nbsp;variables&nbsp;below&nbsp;never&nbsp;appear&nbsp;again&nbsp;in&nbsp;the&nbsp;code<br /></span><span style="color: #0000BB">$writtenOnce&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$readOnce</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
Such variables are useless. Variables must be used at least twice : once for writing, once for reading, at least. It is recommended to remove them.<br />
<br />
In special situations, variables may be used once : <br />
<br />
+ PHP predefined variables, as they are already initialized. They are omitted in this analyze.<br />
+ Interface function's arguments, since the function has no body; They are omitted in this analyze.<br />
+ Dynamically created variables ($$x, ${$this->y} or also using extract), as they are runtime values and can't be determined at static code time. They are reported for manual review.<br />
+ Dynamically included files will provide in-scope extra variables.<br />
<br />
The current analyzer count variables at the application level, and not at a method scope level. </p>
<h2><a href="issues.html#analyzer=variables_variablevariables" id="variables_variablevariables">Variables Variables</a></h2><p>[Since 0.8.4] - [ -P Variables/VariableVariables ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#variables-variables">Online docs</a> ]</p><p>A variable variable takes the value of a variable and treats that as the name of a variable.<br />
<br />
PHP has the ability to dynamically use a variable. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Normal&nbsp;variable<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'c'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Variable&nbsp;variable<br /></span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">=&nbsp;$</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Variable&nbsp;variable&nbsp;in&nbsp;string<br /></span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"$\{</span><span style="color: #0000BB">$b</span><span style="color: #DD0000">\}"</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.variables.variable.php" alt="Variable variables">Variable variables</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_abstractclass" id="classes_abstractclass">Abstract Class Usage</a></h2><p>[Since 0.8.4] - [ -P Classes/Abstractclass ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#abstract-class-usage">Online docs</a> ]</p><p>List of all abstract classes being used.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">abstract&nbsp;class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foobar</span><span style="color: #007700">();&nbsp;<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;extended&nbsp;method<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foobar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;doSomething()<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;extra&nbsp;method<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">barbar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;doSomething()<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/abstract" alt="Classes abstraction">Classes abstraction</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_abstractmethods" id="classes_abstractmethods">Abstract Methods Usage</a></h2><p>[Since 0.8.4] - [ -P Classes/Abstractmethods ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#abstract-methods-usage">Online docs</a> ]</p><p>List of all abstract methods being used.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;abstract&nbsp;class<br /></span><span style="color: #007700">abstract&nbsp;class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;abstract&nbsp;method<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foobar</span><span style="color: #007700">();&nbsp;<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;extended&nbsp;abstract&nbsp;method<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foobar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;doSomething()<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;extra&nbsp;method<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">barbar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;doSomething()<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/abstract" alt="Classes abstraction">Classes abstraction</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_cloningusage" id="classes_cloningusage">Clone Usage</a></h2><p>[Since 0.8.4] - [ -P Classes/CloningUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#clone-usage">Online docs</a> ]</p><p>List of all clone situations.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$dateTime&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">DateTime</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;(clone&nbsp;</span><span style="color: #0000BB">$dateTime</span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.cloning.php" alt="Object cloning">Object cloning</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_finalclass" id="classes_finalclass">Final Class Usage</a></h2><p>[Since 0.8.4] - [ -P Classes/Finalclass ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#final-class-usage">Online docs</a> ]</p><p>List of all final classes being used.<br />
<br />
final may be applied to classes and methods.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">BaseClass&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">test</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'BaseClass::test()&nbsp;called'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;final&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">moreTesting</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'BaseClass::moreTesting()&nbsp;called'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">ChildClass&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">BaseClass&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">moreTesting</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'ChildClass::moreTesting()&nbsp;called'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}<br />}<br /></span><span style="color: #FF8000">//&nbsp;Results&nbsp;in&nbsp;Fatal&nbsp;error:&nbsp;Cannot&nbsp;override&nbsp;final&nbsp;method&nbsp;BaseClass::moreTesting()<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.final.php" alt="Final Keyword">Final Keyword</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_finalmethod" id="classes_finalmethod">Final Methods Usage</a></h2><p>[Since 0.8.4] - [ -P Classes/Finalmethod ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#final-methods-usage">Online docs</a> ]</p><p>List of all final methods being used.<br />
<br />
final may be applied to classes and methods.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">BaseClass&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">test</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'BaseClass::test()&nbsp;called'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;final&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">moreTesting</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'BaseClass::moreTesting()&nbsp;called'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">ChildClass&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">BaseClass&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">moreTesting</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'ChildClass::moreTesting()&nbsp;called'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}<br />}<br /></span><span style="color: #FF8000">//&nbsp;Results&nbsp;in&nbsp;Fatal&nbsp;error:&nbsp;Cannot&nbsp;override&nbsp;final&nbsp;method&nbsp;BaseClass::moreTesting()<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.final.php" alt="Final Keyword">Final Keyword</a>.<br />
</p>
<h2><a href="issues.html#analyzer=constants_badconstantnames" id="constants_badconstantnames">Bad Constants Names</a></h2><p>[Since 0.8.4] - [ -P Constants/BadConstantnames ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#bad-constants-names">Online docs</a> ]</p><p>PHP's manual recommends that developer do not use constants with the convention  <span style="border: 1px solid #ddd; background-color: #f5f5f5">__NAME__</span> . Those are reserved for PHP future use. <br />
<br />
For example,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">__TRAIT__</span>  recently appeared in PHP, as a magic constant. In the future, other may appear. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">__MY_APP_CONST__&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br />const&nbsp;</span><span style="color: #0000BB">__MY_APP_CONST__&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'__MY_OTHER_APP_CONST__'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
The analyzer will report any constant which name is  <span style="border: 1px solid #ddd; background-color: #f5f5f5">__.*.__</span> , or even  <span style="border: 1px solid #ddd; background-color: #f5f5f5">_.*_</span>  (only one underscore).<br />
<br />
See also <a href="http://php.net/manual/en/language.constants.php" alt="Constants">Constants</a>.<br />
</p>
<h2><a href="issues.html#analyzer=constants_variableconstant" id="constants_variableconstant">Variable Constants</a></h2><p>[Since 0.8.4] - [ -P Constants/VariableConstant ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#variable-constants">Online docs</a> ]</p><p>Variable constants are actually constants whose value is accessed via the function <a href="https://www.php.net/constant" alt="constant()">constant()</a>. Otherwise, there is no way to dynamically access a constant (aka, when the developer has the name of the constant as a incoming parameter, and it requires the value of it). <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'constant_value'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$constant_name&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'A'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$variableConstant&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">constant</span><span style="color: #007700">(</span><span style="color: #0000BB">$constant_name</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.php.net/constant" alt="`constant()">`constant()</a> <http://php.net/constant>`_.<br />
</p>
<h2><a href="issues.html#analyzer=traits_emptytrait" id="traits_emptytrait">Empty Traits</a></h2><p>[Since 0.8.4] - [ -P Traits/EmptyTrait ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#empty-traits">Online docs</a> ]</p><p>List of all empty trait defined in the code. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;empty&nbsp;trait<br /></span><span style="color: #007700">trait&nbsp;</span><span style="color: #0000BB">t&nbsp;</span><span style="color: #007700">{&nbsp;}<br /><br /></span><span style="color: #FF8000">//&nbsp;Another&nbsp;empty&nbsp;trait<br /></span><span style="color: #007700">trait&nbsp;</span><span style="color: #0000BB">t2&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">t</span><span style="color: #007700">;&nbsp;<br />}<br /></span>?&gt;</pre><br />
<br />
Such traits may be reserved for future use. They may also be forgotten, and dead code.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=traits_php" id="traits_php">Redefined PHP Traits</a></h2><p>[Since 0.8.4] - [ -P Traits/Php ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#redefined-php-traits">Online docs</a> ]</p><p>List of all traits that bears name of a PHP trait. Although, at the moment, there are no PHP trait defined.</p>
<h2><a href="issues.html#analyzer=traits_traitusage" id="traits_traitusage">Traits Usage</a></h2><p>[Since 0.8.4] - [ -P Traits/TraitUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#traits-usage">Online docs</a> ]</p><p>Usage of traits in the code.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">trait&nbsp;</span><span style="color: #0000BB">t&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">t</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'I\'m&nbsp;in&nbsp;t'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">t</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$x</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">t</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.traits.php" alt="Traits">Traits</a>.<br />
</p>
<h2><a href="issues.html#analyzer=traits_traitnames" id="traits_traitnames">Trait Names</a></h2><p>[Since 0.8.4] - [ -P Traits/Traitnames ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#trait-names">Online docs</a> ]</p><p>List all the traits names in the code.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;trait&nbsp;is&nbsp;called&nbsp;'t'<br /></span><span style="color: #007700">trait&nbsp;</span><span style="color: #0000BB">t&nbsp;</span><span style="color: #007700">{}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.traits.php" alt="Traits">Traits</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_alternativesyntax" id="php_alternativesyntax">Alternative Syntax</a></h2><p>[Since 0.8.4] - [ -P Php/AlternativeSyntax ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#alternative-syntax">Online docs</a> ]</p><p>Identify the usage of alternative syntax in the code, for If then, Switch, While, For and Foreach.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Normal&nbsp;syntax<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Alternative&nbsp;syntax&nbsp;:&nbsp;identical&nbsp;to&nbsp;the&nbsp;previous&nbsp;one.<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />endif;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/control-structures.alternative-syntax.php" alt="Alternative syntax">Alternative syntax</a>.<br />
</p>
<h2><a href="issues.html#analyzer=arrays_arraynsusage" id="arrays_arraynsusage">Short Syntax For Arrays</a></h2><p>[Since 0.8.4] - [ -P Arrays/ArrayNSUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#short-syntax-for-arrays">Online docs</a> ]</p><p>Arrays written with the new short syntax. <br />
<br />
PHP 5.4 introduced the new short syntax, with square brackets. The previous syntax, based on the array() keyword is still available.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;All&nbsp;PHP&nbsp;versions&nbsp;array<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;PHP&nbsp;5.4+&nbsp;arrays<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">];<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.types.array.php" alt="Array">Array</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_includeusage" id="structures_includeusage">Inclusions</a></h2><p>[Since 0.8.4] - [ -P Structures/IncludeUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#inclusions">Online docs</a> ]</p><p>List of all inclusions. Inclusions are made with include(), include_once(), require() and require_once().<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">include&nbsp;</span><span style="color: #DD0000">'library.php'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;display&nbsp;is&nbsp;a&nbsp;function&nbsp;defined&nbsp;in&nbsp;'library.php';<br /></span><span style="color: #0000BB">display</span><span style="color: #007700">(</span><span style="color: #DD0000">'Message'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extfile" id="extensions_extfile">ext/file</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extfile ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-file">Online docs</a> ]</p><p>Filesystem functions from standard.<br />
<br />
Extension that handle access to file on the file system.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />if&nbsp;((</span><span style="color: #0000BB">$handle&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">'test.csv'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'r'</span><span style="color: #007700">))&nbsp;!==&nbsp;</span><span style="color: #0000BB">FALSE</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;((</span><span style="color: #0000BB">$data&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fgetcsv</span><span style="color: #007700">(</span><span style="color: #0000BB">$handle</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1000</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">','</span><span style="color: #007700">))&nbsp;!==&nbsp;</span><span style="color: #0000BB">FALSE</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$num&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'&lt;p&gt;&nbsp;$num&nbsp;fields&nbsp;in&nbsp;line&nbsp;$row:&nbsp;&lt;br&nbsp;/&gt;&lt;/p&gt;'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(</span><span style="color: #0000BB">$c</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">$num</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #0000BB">$c</span><span style="color: #007700">]&nbsp;.&nbsp;</span><span style="color: #DD0000">'&lt;br&nbsp;/&gt;'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">fclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$handle</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/manual/en/book.filesystem.php" alt="filesystem">filesystem</a>.</p>
<h2><a href="issues.html#analyzer=namespaces_unuseduse" id="namespaces_unuseduse">Unused Use</a></h2><p>[Since 0.8.4] - [ -P Namespaces/UnusedUse ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unused-use">Online docs</a> ]</p><p>Unused use statements. They may be removed, as they clutter the code and slows PHP by forcing it to search in this list for nothing.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">B</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;Used&nbsp;in&nbsp;a&nbsp;new&nbsp;call.<br /></span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">Unused</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;Never&nbsp;used.&nbsp;May&nbsp;be&nbsp;removed<br /><br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">B</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=namespaces_usewithfullyqualifiedns" id="namespaces_usewithfullyqualifiedns">Use With Fully Qualified Name</a></h2><p>[Since 0.8.4] - [ -P Namespaces/UseWithFullyQualifiedNS ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-with-fully-qualified-name">Online docs</a> ]</p><p>Use statement doesn't require a fully qualified name.<br />
<br />
PHP manual recommends not to use fully qualified name (starting with \) when using the 'use' statement : they are "the leading backslash is unnecessary and not recommended, as import names must be fully qualified, and are not processed relative to the current namespace".<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Recommended&nbsp;way&nbsp;to&nbsp;write&nbsp;a&nbsp;use&nbsp;statement.<br /></span><span style="color: #007700">use&nbsp;&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">\</span><span style="color: #0000BB">B</span><span style="color: #007700">\</span><span style="color: #0000BB">C</span><span style="color: #007700">\</span><span style="color: #0000BB">D&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">E</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;No&nbsp;need&nbsp;to&nbsp;use&nbsp;the&nbsp;initial&nbsp;\<br /></span><span style="color: #007700">use&nbsp;\</span><span style="color: #0000BB">A</span><span style="color: #007700">\</span><span style="color: #0000BB">B</span><span style="color: #007700">\</span><span style="color: #0000BB">C</span><span style="color: #007700">\</span><span style="color: #0000BB">D&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">F</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extarray" id="extensions_extarray">ext/array</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extarray ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-array">Online docs</a> ]</p><p>Core functions processing arrays.<br />
<br />
These functions manipulate arrays in various ways. Arrays are essential for storing, managing, and operating on sets of variables.<br />
<br />
This is not a real extension : it is a documentation section, that helps classifying the functions.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">odd</span><span style="color: #007700">(</span><span style="color: #0000BB">$var</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;returns&nbsp;whether&nbsp;the&nbsp;input&nbsp;integer&nbsp;is&nbsp;odd<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return(</span><span style="color: #0000BB">$var&nbsp;</span><span style="color: #007700">&amp;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />}<br /><br />function&nbsp;</span><span style="color: #0000BB">even</span><span style="color: #007700">(</span><span style="color: #0000BB">$var</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;returns&nbsp;whether&nbsp;the&nbsp;input&nbsp;integer&nbsp;is&nbsp;even<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return(!(</span><span style="color: #0000BB">$var&nbsp;</span><span style="color: #007700">&amp;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br />}<br /><br /></span><span style="color: #0000BB">$array1&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'a'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'c'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'d'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">4</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'e'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">5</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$array2&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">6</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">7</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">8</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">9</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">11</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">12</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #DD0000">'Odd&nbsp;:'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">array_filter</span><span style="color: #007700">(</span><span style="color: #0000BB">$array1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'odd'</span><span style="color: #007700">));<br />echo&nbsp;</span><span style="color: #DD0000">'Even:'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">array_filter</span><span style="color: #007700">(</span><span style="color: #0000BB">$array2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'even'</span><span style="color: #007700">));<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.array.php" alt="Arrays">Arrays</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extffmpeg" id="extensions_extffmpeg">ext/ffmpeg</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extffmpeg ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-ffmpeg">Online docs</a> ]</p><p>Extension  <span style="border: 1px solid #ddd; background-color: #f5f5f5">ffmpeg</span>  for PHP.<br />
<br />
 <span style="border: 1px solid #ddd; background-color: #f5f5f5">ffmpeg-php</span>  is an extension for PHP that adds an easy to use, object-oriented API for accessing and retrieving information from video and audio files.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$movie&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ffmpeg_movie</span><span style="color: #007700">(</span><span style="color: #0000BB">$path_to_media</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$persistent</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">'The&nbsp;movie&nbsp;lasts&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$movie</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDuration</span><span style="color: #007700">().</span><span style="color: #DD0000">'&nbsp;seconds'</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://ffmpeg-php.sourceforge.net/" alt="ffmpeg-php">ffmpeg-php</a> and <br />
         <a href="https://www.ffmpeg.org/" alt="FFMPEG">FFMPEG</a>. <br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extinfo" id="extensions_extinfo">ext/info</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extinfo ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-info">Online docs</a> ]</p><p>PHP Options and Information.<br />
<br />
These functions enable you to get a lot of information about PHP itself, e.g. runtime configuration, loaded extensions, version and much more. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">/*<br />Our&nbsp;php.ini&nbsp;contains&nbsp;the&nbsp;following&nbsp;settings:<br /><br />display_errors&nbsp;=&nbsp;On<br />register_globals&nbsp;=&nbsp;Off<br />post_max_size&nbsp;=&nbsp;8M<br />*/<br /><br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'display_errors&nbsp;=&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">ini_get</span><span style="color: #007700">(</span><span style="color: #DD0000">'display_errors'</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'register_globals&nbsp;=&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">ini_get</span><span style="color: #007700">(</span><span style="color: #DD0000">'register_globals'</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'post_max_size&nbsp;=&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">ini_get</span><span style="color: #007700">(</span><span style="color: #DD0000">'post_max_size'</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'post_max_size+1&nbsp;=&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;(</span><span style="color: #0000BB">ini_get</span><span style="color: #007700">(</span><span style="color: #DD0000">'post_max_size'</span><span style="color: #007700">)+</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'post_max_size&nbsp;in&nbsp;bytes&nbsp;=&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">return_bytes</span><span style="color: #007700">(</span><span style="color: #0000BB">ini_get</span><span style="color: #007700">(</span><span style="color: #DD0000">'post_max_size'</span><span style="color: #007700">));<br /><br />function&nbsp;</span><span style="color: #0000BB">return_bytes</span><span style="color: #007700">(</span><span style="color: #0000BB">$val</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$val&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">trim</span><span style="color: #007700">(</span><span style="color: #0000BB">$val</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$last&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">strtolower</span><span style="color: #007700">(</span><span style="color: #0000BB">$val</span><span style="color: #007700">[</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$val</span><span style="color: #007700">)-</span><span style="color: #0000BB">1</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;switch(</span><span style="color: #0000BB">$last</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;The&nbsp;'G'&nbsp;modifier&nbsp;is&nbsp;available&nbsp;since&nbsp;PHP&nbsp;5.1.0<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">case&nbsp;</span><span style="color: #DD0000">'g'</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$val&nbsp;</span><span style="color: #007700">*=&nbsp;</span><span style="color: #0000BB">1024</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">'m'</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$val&nbsp;</span><span style="color: #007700">*=&nbsp;</span><span style="color: #0000BB">1024</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">'k'</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$val&nbsp;</span><span style="color: #007700">*=&nbsp;</span><span style="color: #0000BB">1024</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$val</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.info.php" alt="PHP Options And Information">PHP Options And Information</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extmath" id="extensions_extmath">ext/math</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extmath ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-math">Online docs</a> ]</p><p>Core functions that provides math standard functions.<br />
<br />
This is not a real extension : it is a documentation section, that helps sorting the functions. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">decbin</span><span style="color: #007700">(</span><span style="color: #0000BB">12</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">decbin</span><span style="color: #007700">(</span><span style="color: #0000BB">26</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.math.php" alt="Mathematical Functions">Mathematical Functions</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_rawpostdatausage" id="php_rawpostdatausage">$HTTP_RAW_POST_DATA Usage</a></h2><p>[Since 0.8.4] - [ -P Php/RawPostDataUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#$http_raw_post_data-usage">Online docs</a> ]</p><p> <span style="border: 1px solid #ddd; background-color: #f5f5f5">$HTTP_RAW_POST_DATA</span>  is deprecated, and should be replaced by  <span style="border: 1px solid #ddd; background-color: #f5f5f5">php://input</span> . <br />
<br />
 <span style="border: 1px solid #ddd; background-color: #f5f5f5">$HTTP_RAW_POST_DATA</span>  is deprecated since PHP 5.6.<br />
<br />
It is possible to ready by setting  <span style="border: 1px solid #ddd; background-color: #f5f5f5">always_populate_raw_post_data</span>  to -1.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;PHP&nbsp;5.5&nbsp;and&nbsp;older<br /></span><span style="color: #0000BB">$postdata&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$HTTP_RAW_POST_DATA</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;PHP&nbsp;5.6&nbsp;and&nbsp;more&nbsp;recent<br /></span><span style="color: #0000BB">$postdata&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #0000BB">php</span><span style="color: #007700">:</span><span style="color: #FF8000">//input);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/reserved.variables.httprawpostdata.php" alt="$HTTP_RAW_POST_DATA variable">$HTTP_RAW_POST_DATA variable</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extyis" id="extensions_extyis">ext/yis</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extyis ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-yis">Online docs</a> ]</p><p>Yellow Pages extensions (NIS).<br />
<br />
NIS (formerly called Yellow Pages) allows network management of important administrative files (e.g. the password file).<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$entry&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">yp_first</span><span style="color: #007700">(</span><span style="color: #0000BB">$domain</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'passwd.byname'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$key&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">key</span><span style="color: #007700">(</span><span style="color: #0000BB">$entry</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$value&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$entry</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">];<br /><br />echo&nbsp;</span><span style="color: #DD0000">'First&nbsp;entry&nbsp;in&nbsp;this&nbsp;map&nbsp;has&nbsp;key&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$key&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'&nbsp;and&nbsp;value&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.tldp.org/HOWTO/NIS-HOWTO/index.html" alt="The Linux NIS(YP)/NYS/NIS+ HOWTO">The Linux NIS(YP)/NYS/NIS+ HOWTO</a> and <a href="http://php.net/manual/en/book.nis.php" alt="YP/NIS">YP/NIS</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_php54newfunctions" id="php_php54newfunctions">New Functions In PHP 5.4</a></h2><p>[Since 0.8.4] - [ -P Php/Php54NewFunctions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#new-functions-in-php-5.4">Online docs</a> ] - [ PHP  older than 5.3]</p><p>PHP introduced new functions in PHP 5.4. If there are defined functions with such names, there will be a conflict when upgrading. It is advised to change those functions' name.<br />
</p>
<h2><a href="issues.html#analyzer=php_php55newfunctions" id="php_php55newfunctions">New Functions In PHP 5.5</a></h2><p>[Since 0.8.4] - [ -P Php/Php55NewFunctions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#new-functions-in-php-5.5">Online docs</a> ] - [ PHP  older than 5.5]</p><p>PHP introduced new functions in PHP 5.5. If you have already defined functions with such names, you will get a conflict when trying to upgrade. It is advised to change those functions' name.<br />
</p>
<h2><a href="issues.html#analyzer=structures_uselessinstruction" id="structures_uselessinstruction">Useless Instructions</a></h2><p>[Since 0.8.4] - [ -P Structures/UselessInstruction ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#useless-instructions">Online docs</a> ]</p><p>Those instructions are useless, or contains useless parts. <br />
<br />
For example, an addition whose result is not stored in a variable, or immediately reused, does nothing : it is actually performed, and the result is lost. Just plain lost. <br />
<br />
Here the useless instructions that are spotted : <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Concatenating&nbsp;with&nbsp;an&nbsp;empty&nbsp;string&nbsp;is&nbsp;useless.<br /></span><span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'This&nbsp;part&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$is</span><span style="color: #007700">.</span><span style="color: #DD0000">'&nbsp;usefull&nbsp;but&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$not</span><span style="color: #007700">.</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;a&nbsp;typo,&nbsp;that&nbsp;PHP&nbsp;turns&nbsp;into&nbsp;a&nbsp;constant,&nbsp;then&nbsp;a&nbsp;string,&nbsp;then&nbsp;nothing.<br /></span><span style="color: #007700">continue;<br /><br /></span><span style="color: #FF8000">//&nbsp;Empty&nbsp;string&nbsp;in&nbsp;a&nbsp;concatenation<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'abc'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Returning&nbsp;expression,&nbsp;whose&nbsp;result&nbsp;is&nbsp;not&nbsp;used&nbsp;(additions,&nbsp;comparisons,&nbsp;properties,&nbsp;closures,&nbsp;new&nbsp;without&nbsp;=,&nbsp;...)<br /></span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Returning&nbsp;post-incrementation<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">++;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;`array_replace()&nbsp;&lt;https://www.php.net/array_replace&gt;`_&nbsp;with&nbsp;only&nbsp;one&nbsp;argument<br /></span><span style="color: #0000BB">$replaced&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_replace</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;`array_replace()&nbsp;&lt;https://www.php.net/array_replace&gt;`_&nbsp;is&nbsp;OK&nbsp;with&nbsp;...&nbsp;<br /></span><span style="color: #0000BB">$replaced&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_replace</span><span style="color: #007700">(...</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;@&nbsp;operator&nbsp;on&nbsp;source&nbsp;array,&nbsp;in&nbsp;foreach,&nbsp;or&nbsp;when&nbsp;assigning&nbsp;literals<br /></span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;@array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">,</span><span style="color: #0000BB">3</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Multiple&nbsp;comparisons&nbsp;in&nbsp;a&nbsp;for&nbsp;loop&nbsp;:&nbsp;only&nbsp;the&nbsp;last&nbsp;is&nbsp;actually&nbsp;used.<br /></span><span style="color: #007700">for(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$j&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$j&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">20</span><span style="color: #007700">;&nbsp;++</span><span style="color: #0000BB">$j</span><span style="color: #007700">,&nbsp;++</span><span style="color: #0000BB">$i</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">.</span><span style="color: #DD0000">'&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$j</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_abstractstatic" id="classes_abstractstatic">Abstract Static Methods</a></h2><p>[Since 0.8.4] - [ -P Classes/AbstractStatic ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#abstract-static-methods">Online docs</a> ] - [ PHP  older than 7.0]</p><p>Methods cannot be both abstract and static. Static methods belong to a class, and will not be overridden by the child class. For normal methods, PHP will start at the object level, then go up the hierarchy to find the method. With static, it is necessary to mention the name, or use Late Static Binding, with self or static. Hence, it is useless to have an abstract static method : it should be a static method.<br />
<br />
A child class is able to declare a method with the same name than a static method in the parent, but those two methods will stay independent. <br />
<br />
This is not the case anymore in PHP 7.0+.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">abstract&nbsp;class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;not&nbsp;possible<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">static&nbsp;abstract&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://stackoverflow.com/questions/999066/why-does-php-5-2-disallow-abstract-static-class-methods" alt="Why does PHP 5.2+ disallow abstract static class methods?">Why does PHP 5.2+ disallow abstract static class methods?</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_php56newfunctions" id="php_php56newfunctions">New Functions In PHP 5.6</a></h2><p>[Since 0.8.4] - [ -P Php/Php56NewFunctions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#new-functions-in-php-5.6">Online docs</a> ] - [ PHP  older than 5.6]</p><p>PHP introduced new functions in PHP 5.6. If you have already defined functions with such names, you will get a conflict when trying to upgrade. It is advised to change those functions' name.<br />
</p>
<h2><a href="issues.html#analyzer=constants_invalidname" id="constants_invalidname">Invalid Constant Name</a></h2><p>[Since 0.8.4] - [ -P Constants/InvalidName ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#invalid-constant-name">Online docs</a> ]</p><p>There is a naming convention for PHP constants names. <br />
<br />
According to PHP's manual, constant names, ' A valid constant name starts with a letter or underscore, followed by any number of letters, numbers, or underscores.'.<br />
<br />
Constant, must follow this regex :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/</span> .<br />
<br />
In particular when defined using <a href="https://www.php.net/define" alt="define()">define()</a> function, no error is produced. When using  <span style="border: 1px solid #ddd; background-color: #f5f5f5">const</span> , on the other hand, the <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'+3'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;wrong&nbsp;constant!&nbsp;<br /><br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">constant</span><span style="color: #007700">(</span><span style="color: #DD0000">'+3'</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;invalid&nbsp;constant&nbsp;access<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.constants.php" alt="Constants">Constants</a>.<br />
</p>
<h2><a href="issues.html#analyzer=constants_multipleconstantdefinition" id="constants_multipleconstantdefinition">Multiple Constant Definition</a></h2><p>[Since 0.8.4] - [ -P Constants/MultipleConstantDefinition ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#multiple-constant-definition">Online docs</a> ]</p><p>Some constants are defined several times in your code. This will lead to a fatal error, if they are defined during the same execution. <br />
<br />
Multiple definitions may happens at bootstrap, when the application code is collecting information about the current environment. It may also happen at inclusion time, which one set of constant being loaded, while other definition are not, avoiding conflict. Both are false positive. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;OS&nbsp;is&nbsp;defined&nbsp;twice.&nbsp;<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">PHP_OS&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #DD0000">'Windows'</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'OS'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Win'</span><span style="color: #007700">);<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'OS'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Other'</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=functions_wrongoptionalparameter" id="functions_wrongoptionalparameter">Wrong Optional Parameter</a></h2><p>[Since 0.8.4] - [ -P Functions/WrongOptionalParameter ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#wrong-optional-parameter">Online docs</a> ]</p><p>Wrong placement of optional parameters.<br />
<br />
PHP parameters are optional when they defined with a default value, like this : <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">x</span><span style="color: #007700">(</span><span style="color: #0000BB">$arg&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;PHP&nbsp;code&nbsp;here<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
When a function have both compulsory and optional parameters, the compulsory ones should appear first, and the optional should appear last : <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">x</span><span style="color: #007700">(</span><span style="color: #0000BB">$arg</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$arg2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;PHP&nbsp;code&nbsp;here<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
PHP will solve this problem at runtime, assign values in the same other, but will miss some of the default values and emits warnings. <br />
<br />
It is better to put all the optional parameters at the end of the method's signature.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=functions_multiplesamearguments" id="functions_multiplesamearguments">Multiple Definition Of The Same Argument</a></h2><p>[Since 0.8.4] - [ -P Functions/MultipleSameArguments ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#multiple-definition-of-the-same-argument">Online docs</a> ] - [ PHP  older than 7.0]</p><p>A method's signature is holding twice (or more) the same argument. For example, function x ($a, $a) { ... }. <br />
<br />
This is accepted as is by PHP 5, and the last parameter's value will be assigned to the variable. PHP 7.0 and more recent has dropped this feature, and reports a fatal error when linting the code.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{&nbsp;print&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;&nbsp;};<br />&nbsp;&nbsp;</span><span style="color: #0000BB">x</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">);&nbsp;=&gt;&nbsp;</span><span style="color: #0000BB">display&nbsp;2<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;special&nbsp;case&nbsp;with&nbsp;a&nbsp;closure&nbsp;:&nbsp;<br />&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;use&nbsp;(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{&nbsp;print&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;&nbsp;};<br />&nbsp;&nbsp;</span><span style="color: #0000BB">x</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">);&nbsp;=&gt;&nbsp;</span><span style="color: #0000BB">display&nbsp;2</span>?&gt;</pre><br />
<br />
However, this is not common programming practise : all arguments should be named differently.<br />
<br />
See also <a href="https://www.exakat.io/prepare-for-php-7-error-messages-part-3/" alt="Prepare for PHP 7 error messages (part 3)">Prepare for PHP 7 error messages (part 3)</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_echoprintconsistance" id="structures_echoprintconsistance">Echo Or Print</a></h2><p>[Since 0.8.4] - [ -P Structures/EchoPrintConsistance ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#echo-or-print">Online docs</a> ]</p><p>Echo and print have the same functional use. <?= and <a href="https://www.php.net/printf" alt="printf()">printf()</a> are also considered in this analysis. <br />
<br />
There seems to be a choice that is not enforced : one form is dominant, (> 90%) while the others are rare. <br />
<br />
The analyzed code has less than 10% of one of the three : for consistency reasons, it is recommended to make them all the same. <br />
<br />
It happens that print, echo or <?= are used depending on coding style and files. One file may be consistently using print, while the others are all using echo. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'a'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'c'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'d'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'e'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'f'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'g'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'h'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'i'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'j'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'k'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;should&nbsp;probably&nbsp;be&nbsp;written&nbsp;'echo';<br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #DD0000">'l'</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=php_isnullvsequalnull" id="php_isnullvsequalnull">Use === null</a></h2><p>[Since 0.8.4] - [ -P Php/IsnullVsEqualNull ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-===-null">Online docs</a> ]</p><p>It is faster to use === null instead of <a href="https://www.php.net/is_null" alt="is_null()">is_null()</a>.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Operator&nbsp;===&nbsp;is&nbsp;fast<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">)&nbsp;{<br /><br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Function&nbsp;call&nbsp;is&nbsp;slow&nbsp;<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">is_null</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">))&nbsp;{<br /><br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_constantcomparisonconsistance" id="structures_constantcomparisonconsistance">Constant Comparison</a></h2><p>[Since 0.8.4] - [ -P Structures/ConstantComparisonConsistance ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#constant-comparison">Online docs</a> ]</p><p>Constant to the left or right is a favorite. <br />
<br />
Comparisons are commutative : they may be $a == B or B == $a. The analyzed code show less than 10% of one of the two : for consistency reasons, it is recommended to make them all the same. <br />
<br />
Putting the constant on the left is also called 'Yoda Comparison', as it mimics the famous characters style of speech. It prevents errors like 'B = $a' where the comparison is turned into an assignation. <br />
<br />
The natural way is to put the constant on the right. It is often less surprising. <br />
<br />
Every comparison operator is used when finding the favorite.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">B</span><span style="color: #007700">)&nbsp;{&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();&nbsp;}<br />if&nbsp;(</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">D</span><span style="color: #007700">)&nbsp;{&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();&nbsp;}<br />if&nbsp;(</span><span style="color: #0000BB">$e&nbsp;</span><span style="color: #007700">!==&nbsp;</span><span style="color: #0000BB">G</span><span style="color: #007700">)&nbsp;{&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();&nbsp;}<br />do&nbsp;{&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();&nbsp;}&nbsp;while&nbsp;(</span><span style="color: #0000BB">$f&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">B</span><span style="color: #007700">);<br />while&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">B</span><span style="color: #007700">)&nbsp;{&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();&nbsp;}<br /><br /></span><span style="color: #FF8000">//&nbsp;be&nbsp;consistent<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{}<br /><br /></span><span style="color: #FF8000">//&nbsp;Compari<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">&lt;=&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=php_assertionusage" id="php_assertionusage">Assertions</a></h2><p>[Since 0.8.4] - [ -P Php/AssertionUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#assertions">Online docs</a> ]</p><p>Usage of assertions, to add checks within PHP code.<br />
<br />
Assertions should be used as a debugging feature only. You may use them for sanity-checks that test for conditions that should always be TRUE and that indicate some programming errors if not or to check for the presence of certain features like extension functions or certain system limits and features.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">assert</span><span style="color: #007700">(!empty(</span><span style="color: #0000BB">$string</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">'An&nbsp;empty&nbsp;string&nbsp;was&nbsp;provided!'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'['</span><span style="color: #007700">.</span><span style="color: #0000BB">$string</span><span style="color: #007700">.</span><span style="color: #DD0000">']'</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/assert" alt="assert">assert</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_thisisnotanarray" id="classes_thisisnotanarray">$this Is Not An Array</a></h2><p>[Since 0.8.4] - [ -P Classes/ThisIsNotAnArray ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#$this-is-not-an-array">Online docs</a> ]</p><p> <span style="border: 1px solid #ddd; background-color: #f5f5f5">$this</span>  variable represents the current object and it is not an array. <br />
<br />
This is unless the class (or its parents) has the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">ArrayAccess</span>  interface, or extends  <span style="border: 1px solid #ddd; background-color: #f5f5f5">ArrayObject</span>  or  <span style="border: 1px solid #ddd; background-color: #f5f5f5">SimpleXMLElement</span> .<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;$this&nbsp;is&nbsp;an&nbsp;array<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">ArrayAccess&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++</span><span style="color: #0000BB">$this</span><span style="color: #007700">[</span><span style="color: #0000BB">3</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;$this&nbsp;is&nbsp;not&nbsp;an&nbsp;array<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Foo2&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++</span><span style="color: #0000BB">$this</span><span style="color: #007700">[</span><span style="color: #0000BB">3</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/class.arrayaccess.php" alt="ArrayAccess">ArrayAccess</a>,<br />
         <a href="http://php.net/manual/en/class.arrayobject.php" alt="ArrayObject">ArrayObject</a> and<br />
         <a href="http://php.net/manual/en/language.oop5.basic.php" alt="The Basics">The Basics</a>.<br />
</p>
<h2><a href="issues.html#analyzer=type_onevariablestrings" id="type_onevariablestrings">One Variable String</a></h2><p>[Since 0.8.4] - [ -P Type/OneVariableStrings ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#one-variable-string">Online docs</a> ]</p><p>These strings only contains one variable or property or array. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$a</span><span style="color: #DD0000">"</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;a&nbsp;one-variable&nbsp;string<br /><br />//&nbsp;Better&nbsp;way&nbsp;to&nbsp;write&nbsp;the&nbsp;above<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;(string)&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Alternatives&nbsp;:&nbsp;<br /></span><span style="color: #0000BB">$b2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]</span><span style="color: #DD0000">"</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;a&nbsp;one-variable&nbsp;string<br /></span><span style="color: #0000BB">$b3&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">b</span><span style="color: #DD0000">"</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;a&nbsp;one-variable&nbsp;string<br /></span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"d"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"D"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$b4&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #007700">{$</span><span style="color: #0000BB">$c</span><span style="color: #007700">}</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$b5&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #007700">{</span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()}</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
When the goal is to convert a variable to a string, it is recommended to use the type casting (string) operator : it is then clearer to understand the conversion. It is also marginally faster, though very little. <br />
<br />
See also <a href="http://php.net/manual/en/language.types.string.php" alt="Strings">Strings</a> and<br />
         <a href="http://php.net/manual/en/language.types.type-juggling.php" alt="Type Juggling">Type Juggling</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_castingusage" id="php_castingusage">Cast Usage</a></h2><p>[Since 0.8.4] - [ -P Php/CastingUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#cast-usage">Online docs</a> ]</p><p>List of all cast usage.<br />
<br />
PHP does not require (or support) explicit type definition in variable declaration; a variable's type is determined by the context in which the variable is used. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">is_int</span><span style="color: #007700">(</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'x'</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$number&nbsp;</span><span style="color: #007700">=&nbsp;(int)&nbsp;</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'x'</span><span style="color: #007700">];<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">error_display</span><span style="color: #007700">(</span><span style="color: #DD0000">'a&nbsp;wrong&nbsp;value&nbsp;was&nbsp;provided&nbsp;for&nbsp;"x"'</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
Until PHP 7.2, a  <span style="border: 1px solid #ddd; background-color: #f5f5f5">(unset)</span>  operator was available. It had the same role as  <span style="border: 1px solid #ddd; background-color: #f5f5f5">unset() <https://www.php.net/unset>`_</span>  as a function.<br />
<br />
See also <a href="http://php.net/manual/en/language.types.type-juggling.php" alt="Type Juggling">Type Juggling</a> and <br />
         <a href="http://php.net/unset" alt="unset">unset</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_functionsubscripting" id="structures_functionsubscripting">Function Subscripting</a></h2><p>[Since 0.8.4] - [ -P Structures/FunctionSubscripting ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#function-subscripting">Online docs</a> ] - [ PHP 5.4 and more recent ]</p><p>It is possible to use the result of a methodcall directly as an array, without storing the result in a temporary variable.<br />
<br />
This works, given that the method actually returns an array. <br />
<br />
This syntax was not possible until PHP 5.4. Until then, it was compulsory to store the result in a variable first. Although this is now superfluous, it has been a standard syntax in PHP, and is still being used.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;array(</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'c'</span><span style="color: #007700">);<br />}<br /><br />echo&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()[</span><span style="color: #0000BB">1</span><span style="color: #007700">];&nbsp;</span><span style="color: #FF8000">//&nbsp;displays&nbsp;'a';<br /><br />//&nbsp;Function&nbsp;subscripting,&nbsp;the&nbsp;old&nbsp;way<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;array(</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'c'</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br />echo&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];&nbsp;</span><span style="color: #FF8000">//&nbsp;displays&nbsp;'a';<br /></span>?&gt;</pre><br />
<br />
Storing the result in a variable is still useful if the result is actually used more than once. <br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_nestedloops" id="structures_nestedloops">Nested Loops</a></h2><p>[Since 0.8.4] - [ -P Structures/NestedLoops ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#nested-loops">Online docs</a> ]</p><p>Nested loops happens when a loop (while, do..while, for, foreach), is used inside another loop. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Nested&nbsp;loops<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #0000BB">$letters&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;performed&nbsp;count($array)&nbsp;*&nbsp;count($letters)&nbsp;times.&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
Such structure tends to require a lot of processing, as the size of both loops have to be multiplied to estimate the actual payload. They should be avoided as much as possible. This may no be always possible, though.<br />
<br />
Nested loops are worth a check for performances reasons, as they will process a lot of times the same instructions.<br />
</p>
<h2><a href="issues.html#analyzer=php_echotagusage" id="php_echotagusage"><?= Usage</a></h2><p>[Since 0.8.4] - [ -P Php/EchoTagUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#<?=-usage">Online docs</a> ]</p><p>Usage of the <?= tag, that echo's directly the following content.<br />
<br />
<?= $variable; <br />
?><br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_staticcontainsthis" id="classes_staticcontainsthis">Static Methods Can't Contain $this</a></h2><p>[Since 0.8.4] - [ -P Classes/StaticContainsThis ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#static-methods-can't-contain-$this">Online docs</a> ]</p><p>Static methods are also called  <span style="border: 1px solid #ddd; background-color: #f5f5f5">class methods</span>  : they may be called even if the class has no instantiated object. Thus, the local variable  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$this</span>  won't exist, PHP will set it to NULL as usual. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Static&nbsp;method&nbsp;may&nbsp;access&nbsp;other&nbsp;static&nbsp;methods,&nbsp;or&nbsp;property,&nbsp;or&nbsp;none.&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">static&nbsp;function&nbsp;</span><span style="color: #0000BB">staticBar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;not&nbsp;possible&nbsp;in&nbsp;a&nbsp;static&nbsp;method<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">otherStaticBar</span><span style="color: #007700">()&nbsp;.&nbsp;static::</span><span style="color: #0000BB">$staticProperty</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;not&nbsp;possible&nbsp;in&nbsp;a&nbsp;static&nbsp;method<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">property</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
Either this is not a static method, which is fixed by removing the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">static</span>  keyword, or replace all $this mention by static properties  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Class::$property</span> .<br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.static.php" alt="Static Keyword">Static Keyword</a><br />
</p>
<h2><a href="issues.html#analyzer=php_closurethissupport" id="php_closurethissupport">Closure May Use $this</a></h2><p>[Since 0.8.4] - [ -P Php/ClosureThisSupport ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#closure-may-use-$this">Online docs</a> ] - [ PHP  older than 5.4]</p><p>$this is automatically accessible to closures.<br />
<br />
When closures were introduced in PHP, they couldn't use the $this variable, making is cumbersome to access local properties when the closure was created within an object. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Invalid&nbsp;code&nbsp;in&nbsp;PHP&nbsp;5.4&nbsp;and&nbsp;less<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Test<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">testing</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;function()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$object&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Test</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$function&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$object</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">testing</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$function</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
This is not the case anymore since PHP 5.4.<br />
<br />
See also <a href="http://php.net/manual/en/functions.anonymous.php" alt="Anonymous functions">Anonymous functions</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_whilelisteach" id="structures_whilelisteach">While(List() = Each())</a></h2><p>[Since 0.8.4] - [ -P Structures/WhileListEach ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#while-list---=-each---">Online docs</a> ]</p><p>This code structure is quite old : it should be replace by the more modern and efficient foreach.<br />
<br />
This structure is deprecated since PHP 7.2. It may disappear in the future.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">while(list(</span><span style="color: #0000BB">$key</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&nbsp;=&nbsp;</span><span style="color: #0000BB">each</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomethingWith</span><span style="color: #007700">(</span><span style="color: #0000BB">$key</span><span style="color: #007700">)&nbsp;and&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$key&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomethingWith</span><span style="color: #007700">(</span><span style="color: #0000BB">$key</span><span style="color: #007700">)&nbsp;and&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /></span>?&gt;</pre> <br />
<br />
See also <a href="https://wiki.php.net/rfc/deprecations_php_7_2#each" alt="PHP RFC: Deprecations for PHP 7.2 : Each()">PHP RFC: Deprecations for PHP 7.2 : Each()</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_onelinetwoinstructions" id="structures_onelinetwoinstructions">Several Instructions On The Same Line</a></h2><p>[Since 0.8.4] - [ -P Structures/OneLineTwoInstructions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#several-instructions-on-the-same-line">Online docs</a> ]</p><p>Usually, instructions do not share their line : one instruction, one line. <br />
<br />
This is good for readability, and help at understanding the code. This is especially important when fast-reading the code to find some special situation, where such double-meaning line way have an impact.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">switch&nbsp;(</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Is&nbsp;it&nbsp;a&nbsp;fallthrough&nbsp;or&nbsp;not&nbsp;?&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">case&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();&nbsp;break;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Easily&nbsp;spotted&nbsp;break.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">case&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomethingElse</span><span style="color: #007700">();&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;default&nbsp;:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doDefault</span><span style="color: #007700">();&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://williamdurand.fr/2013/06/03/object-calisthenics/#one-dot-per-line" alt="Object Calisthenics, rule # 5">Object Calisthenics, rule # 5</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_multipledefinedcase" id="structures_multipledefinedcase">Multiples Identical Case</a></h2><p>[Since 0.8.4] - [ -P Structures/MultipleDefinedCase ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#multiples-identical-case">Online docs</a> ]</p><p>Some cases are defined multiple times, but only one will be processed. Check the list of cases, and remove the extra one.<br />
<br />
Exakat tries to find the value of the case as much as possible, and ignore any dynamic cases (using variables).<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br />case&nbsp;(</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">:&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;a&nbsp;duplicate&nbsp;of&nbsp;the&nbsp;previous<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">break;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">:&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;a&nbsp;duplicate&nbsp;of&nbsp;the&nbsp;previous<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">break;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">1.0&nbsp;</span><span style="color: #007700">:&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;a&nbsp;duplicate&nbsp;of&nbsp;the&nbsp;previous<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">break;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;The&nbsp;A&nbsp;constant&nbsp;is&nbsp;actually&nbsp;1<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">break;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">$y&nbsp;&nbsp;</span><span style="color: #007700">:&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;not&nbsp;reported.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">break;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;default:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=structures_switchwithoutdefault" id="structures_switchwithoutdefault">Switch Without Default</a></h2><p>[Since 0.8.4] - [ -P Structures/SwitchWithoutDefault ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#switch-without-default">Online docs</a> ]</p><p>Always use a default statement in switch().<br />
<br />
Switch statements hold a number of 'case' that cover all known situations, and a 'default' one which is executed when all other options are exhausted. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Missing&nbsp;default<br /></span><span style="color: #007700">switch(</span><span style="color: #0000BB">$format</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">'gif'&nbsp;</span><span style="color: #007700">:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">processGif</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">'jpeg'&nbsp;</span><span style="color: #007700">:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">processJpeg</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">'bmp'&nbsp;</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;</span><span style="color: #0000BB">UnsupportedFormat</span><span style="color: #007700">(</span><span style="color: #0000BB">$format</span><span style="color: #007700">);<br />}<br /></span><span style="color: #FF8000">//&nbsp;In&nbsp;case&nbsp;$format&nbsp;is&nbsp;not&nbsp;known,&nbsp;then&nbsp;switch&nbsp;is&nbsp;ignored&nbsp;and&nbsp;no&nbsp;processing&nbsp;happens,&nbsp;leading&nbsp;to&nbsp;preparation&nbsp;errors<br /><br /><br />//&nbsp;switch&nbsp;with&nbsp;default<br /></span><span style="color: #007700">switch(</span><span style="color: #0000BB">$format</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">'text'&nbsp;</span><span style="color: #007700">:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">processText</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">'jpeg'&nbsp;</span><span style="color: #007700">:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">processJpeg</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">'rtf'&nbsp;</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;</span><span style="color: #0000BB">UnsupportedFormat</span><span style="color: #007700">(</span><span style="color: #0000BB">$format</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;default&nbsp;:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;</span><span style="color: #0000BB">UnknownFileFormat</span><span style="color: #007700">(</span><span style="color: #0000BB">$format</span><span style="color: #007700">);<br />}<br /></span><span style="color: #FF8000">//&nbsp;In&nbsp;case&nbsp;$format&nbsp;is&nbsp;not&nbsp;known,&nbsp;an&nbsp;exception&nbsp;is&nbsp;thrown&nbsp;for&nbsp;processing<br /></span>?&gt;</pre><br />
<br />
Most of the time, switch() do need a default case, so as to catch the odd situation where the 'value is not what it was expected'. This is a good place to catch unexpected values, to set a default behavior. <br />
</p>
<h2><a href="issues.html#analyzer=structures_functionpresubscripting" id="structures_functionpresubscripting">Function Subscripting, Old Style</a></h2><p>[Since 0.8.4] - [ -P Structures/FunctionPreSubscripting ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#function-subscripting,-old-style">Online docs</a> ] - [ PHP 5.4 and more recent ]</p><p>Since PHP 5.4, it is now possible use function results as an array, and access directly its element : <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;array(</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'c'</span><span style="color: #007700">);<br />}<br /><br />echo&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()[</span><span style="color: #0000BB">1</span><span style="color: #007700">];&nbsp;</span><span style="color: #FF8000">//&nbsp;displays&nbsp;'a';<br /><br />//&nbsp;Function&nbsp;subscripting,&nbsp;the&nbsp;old&nbsp;way<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;array(</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'c'</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br />echo&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];&nbsp;</span><span style="color: #FF8000">//&nbsp;displays&nbsp;'a';<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_thisisforclasses" id="classes_thisisforclasses">$this Belongs To Classes Or Traits</a></h2><p>[Since 0.8.4] - [ -P Classes/ThisIsForClasses ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#$this-belongs-to-classes-or-traits">Online docs</a> ]</p><p>$this variable represents only the current object. <br />
<br />
It is a pseudo-variable, and should be used within class's or trait's methods (except for static) and not outside.<br />
<br />
PHP 7.1 is stricter and check for $this at several positions. Some are found by static analysis, some are dynamic analysis.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;as&nbsp;an&nbsp;argument<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Using&nbsp;global<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">global&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Using&nbsp;static&nbsp;(not&nbsp;a&nbsp;property)<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">static&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Can't&nbsp;unset&nbsp;it<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">unset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;inside&nbsp;a&nbsp;foreach<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">)&nbsp;{&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$this&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">)&nbsp;{&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">Exception&nbsp;$this</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;inside&nbsp;a&nbsp;catch<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;with&nbsp;Variable&nbsp;Variable<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">this</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;$</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">42</span><span style="color: #007700">;<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Using&nbsp;references<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&amp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">42</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Using&nbsp;`extract()&nbsp;&lt;https://www.php.net/extract&gt;`_,&nbsp;`parse_str()&nbsp;&lt;https://www.php.net/parse_str&gt;`_&nbsp;or&nbsp;similar&nbsp;functions<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">extract</span><span style="color: #007700">([</span><span style="color: #0000BB">this&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">42</span><span style="color: #007700">]);&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;throw&nbsp;new&nbsp;Error(Cannot&nbsp;re-assign&nbsp;$this)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">__call</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$args</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Using&nbsp;__call<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;prints&nbsp;object(C)#1&nbsp;(0)&nbsp;{},&nbsp;php-7.0&nbsp;printed&nbsp;NULL<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">test</span><span style="color: #007700">();&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;prints&nbsp;ops<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /><br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_nestedternary" id="structures_nestedternary">Nested Ternary</a></h2><p>[Since 0.8.4] - [ -P Structures/NestedTernary ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#nested-ternary">Online docs</a> ]</p><p>Ternary operators should not be nested too deep.<br />
<br />
They are a convenient instruction to apply some condition, and avoid a if() structure. It works best when it is simple, like in a one liner. <br />
<br />
However, ternary operators tends to make the syntax very difficult to read when they are nested. It is then recommended to use an if() structure, and make the whole code readable.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Simple&nbsp;ternary&nbsp;expression<br /></span><span style="color: #007700">echo&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">)&nbsp;;<br /><br /></span><span style="color: #FF8000">//&nbsp;Nested&nbsp;ternary&nbsp;expressions<br /></span><span style="color: #007700">echo&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">3&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #0000BB">$e&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">)&nbsp;;<br />echo&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #0000BB">$f&nbsp;</span><span style="color: #007700">===</span><span style="color: #0000BB">4&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #0000BB">$g&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">$h&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">3&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #0000BB">$e&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">5&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #0000BB">$j&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">$k</span><span style="color: #007700">)&nbsp;;<br /><br /></span><span style="color: #FF8000">//Previous&nbsp;expressions,&nbsp;written&nbsp;as&nbsp;a&nbsp;if&nbsp;/&nbsp;Then&nbsp;expression<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$d</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$e</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$f&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$g</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$h</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$d</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$e</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$j</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$k</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://medium.com/javascript-scene/nested-ternaries-are-great-361bddd0f340" alt="Nested Ternaries are Great">Nested Ternaries are Great</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_switchwithmultipledefault" id="structures_switchwithmultipledefault">Switch With Too Many Default</a></h2><p>[Since 0.8.4] - [ -P Structures/SwitchWithMultipleDefault ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#switch-with-too-many-default">Online docs</a> ] - [ PHP  older than 7.0]</p><p>Switch statements should only hold one default, not more. Check the code and remove the extra default.  <br />
<br />
PHP 7.0 won't compile a script that allows for several default cases. <br />
<br />
Multiple default happens often with large switch().<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">switch(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;default&nbsp;:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;default&nbsp;:&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;default&nbsp;is&nbsp;never&nbsp;reached<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">break;<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=arrays_nonconstantarray" id="arrays_nonconstantarray">Non-constant Index In Array</a></h2><p>[Since 0.8.4] - [ -P Arrays/NonConstantArray ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#non-constant-index-in-array">Online docs</a> ]</p><p>Undefined constants revert as strings in Arrays. They are also called  <span style="border: 1px solid #ddd; background-color: #f5f5f5">barewords</span> .<br />
<br />
In  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$array[index]</span> , PHP cannot find index as a constant, but, as a default behavior, turns it into the string  <span style="border: 1px solid #ddd; background-color: #f5f5f5">index</span> . <br />
<br />
This default behavior raise concerns when a corresponding constant is defined, either using <a href="https://www.php.net/define" alt="define()">define()</a> or the const keyword (outside a class). The definition of the index constant will modify the behavior of the index, as it will now use the constant definition, and not the 'index' string. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;assign&nbsp;1&nbsp;to&nbsp;the&nbsp;element&nbsp;index&nbsp;in&nbsp;$array<br />//&nbsp;index&nbsp;will&nbsp;fallback&nbsp;to&nbsp;string<br /></span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #0000BB">index</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;<br /></span><span style="color: #FF8000">//PHP&nbsp;Notice:&nbsp;&nbsp;Use&nbsp;of&nbsp;undefined&nbsp;constant&nbsp;index&nbsp;-&nbsp;assumed&nbsp;'index'<br /><br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #0000BB">index</span><span style="color: #007700">];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;display&nbsp;1&nbsp;and&nbsp;the&nbsp;above&nbsp;error<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #0000BB">index</span><span style="color: #007700">]</span><span style="color: #DD0000">"</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;display&nbsp;1<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #DD0000">'index']"</span><span style="color: #007700">;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Syntax&nbsp;error<br /><br /><br /></span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'index'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br />&nbsp;<br />&nbsp;</span><span style="color: #FF8000">//&nbsp;now&nbsp;1&nbsp;to&nbsp;the&nbsp;element&nbsp;2&nbsp;in&nbsp;$array<br />&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #0000BB">index</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
It is recommended to make index a real string (with ' or "), or to define the corresponding constant to avoid any future surprise.<br />
<br />
Note that PHP 7.2 removes the support for this feature.<br />
<br />
See also <a href="https://wiki.php.net/rfc/deprecate-bareword-strings" alt="PHP RFC: Deprecate and Remove Bareword (Unquoted) Strings">PHP RFC: Deprecate and Remove Bareword (Unquoted) Strings</a> and <br />
         <a href="http://php.net/manual/en/language.constants.syntax.php" alt="Syntax">Syntax</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=constants_undefinedconstants" id="constants_undefinedconstants">Undefined Constants</a></h2><p>[Since 0.8.4] - [ -P Constants/UndefinedConstants ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#undefined-constants">Online docs</a> ]</p><p>Constants definition can't be located.<br />
<br />
Those constants are not defined in the code, and will raise errors, or use the fallback mechanism of being treated like a string. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'B'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;here,&nbsp;C&nbsp;is&nbsp;not&nbsp;defined&nbsp;in&nbsp;the&nbsp;code&nbsp;and&nbsp;is&nbsp;reported<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">.</span><span style="color: #0000BB">B</span><span style="color: #007700">.</span><span style="color: #0000BB">C</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
It is recommended to define them all, or to avoid using them.<br />
<br />
See also <a href="http://php.net/manual/en/language.constants.php" alt="Constants">Constants</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_instantiatingabstractclass" id="classes_instantiatingabstractclass">Instantiating Abstract Class</a></h2><p>[Since 0.8.4] - [ -P Classes/InstantiatingAbstractClass ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#instantiating-abstract-class">Online docs</a> ]</p><p>PHP cannot instantiate an abstract class. <br />
<br />
The classes are actually abstract classes, and should be derived into a concrete class to be instantiated.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">abstract&nbsp;class&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">Bar&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;instantiating&nbsp;a&nbsp;concrete&nbsp;class.<br /></span><span style="color: #007700">new&nbsp;</span><span style="color: #0000BB">Bar</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;instantiating&nbsp;an&nbsp;abstract&nbsp;class.<br />//&nbsp;In&nbsp;real&nbsp;life,&nbsp;this&nbsp;is&nbsp;not&nbsp;possible&nbsp;also&nbsp;because&nbsp;the&nbsp;definition&nbsp;and&nbsp;the&nbsp;instantiation&nbsp;are&nbsp;in&nbsp;the&nbsp;same&nbsp;file<br /></span><span style="color: #007700">new&nbsp;</span><span style="color: #0000BB">Foo</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/abstract" alt="Class Abstraction">Class Abstraction</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_mutualextension" id="classes_mutualextension">Classes Mutually Extending Each Other</a></h2><p>[Since 0.8.4] - [ -P Classes/MutualExtension ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#classes-mutually-extending-each-other">Online docs</a> ]</p><p>Those classes are extending each other, creating an extension loop. PHP will yield a fatal error at running time, even if it is compiling the code.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;code&nbsp;is&nbsp;lintable&nbsp;but&nbsp;won't&nbsp;run<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Bar&nbsp;</span><span style="color: #007700">{&nbsp;}<br />class&nbsp;</span><span style="color: #0000BB">Bar&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">{&nbsp;}<br /><br /></span><span style="color: #FF8000">//&nbsp;The&nbsp;loop&nbsp;may&nbsp;be&nbsp;quite&nbsp;large<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Bar&nbsp;</span><span style="color: #007700">{&nbsp;}<br />class&nbsp;</span><span style="color: #0000BB">Bar&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Bar2&nbsp;</span><span style="color: #007700">{&nbsp;}<br />class&nbsp;</span><span style="color: #0000BB">Bar2&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">{&nbsp;}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_citsamename" id="classes_citsamename">Class, Interface Or Trait With Identical Names</a></h2><p>[Since 0.8.4] - [ -P Classes/CitSameName ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#class,-interface-or-trait-with-identical-names">Online docs</a> ]</p><p>The following names are used at the same time for classes, interfaces or traits. For example, <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">{&nbsp;</span><span style="color: #FF8000">/*&nbsp;some&nbsp;definitions&nbsp;*/&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;interface&nbsp;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">{&nbsp;</span><span style="color: #FF8000">/*&nbsp;some&nbsp;definitions&nbsp;*/&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;trait&nbsp;</span><span style="color: #0000BB">a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">{&nbsp;</span><span style="color: #FF8000">/*&nbsp;some&nbsp;definitions&nbsp;*/&nbsp;</span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
Even if they are in different namespaces, identical names makes classes easy to confuse. This is often solved by using alias at import time : this leads to more confusion, as a class suddenly changes its name. <br />
<br />
Internally, PHP use the same list for all classes, interfaces and traits. As such, it is not allowed to have both a trait and a class with the same name.<br />
<br />
In PHP 4, and PHP 5 before namespaces, it was not possible to have classes with the same name. They were simply included after a check. <br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_emptytrycatch" id="structures_emptytrycatch">Empty Try Catch</a></h2><p>[Since 0.8.4] - [ -P Structures/EmptyTryCatch ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#empty-try-catch">Online docs</a> ]</p><p>The code does try, then catch errors but do no act upon the error. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">try&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">Throwable&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;ignore&nbsp;this<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
At worst, the error should be logged, so as to measure the actual usage of the catch expression.<br />
<br />
 <span style="border: 1px solid #ddd; background-color: #f5f5f5">catch( Exception $e)</span>  (PHP 5) or  <span style="border: 1px solid #ddd; background-color: #f5f5f5">catch(Throwable $e)</span>  with empty catch block should be banned. They ignore any error and proceed as if nothing happened. At worst, the event should be logged for future analysis. <br />
<br />
See also <a href="http://wiki.c2.com/?EmptyCatchClause" alt="Empty Catch Clause">Empty Catch Clause</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extpcntl" id="extensions_extpcntl">ext/pcntl</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extpcntl ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-pcntl">Online docs</a> ]</p><p>Extension for process control.<br />
<br />
Process Control support in PHP implements the Unix style of process creation, program execution, signal handling and process termination. Process Control should not be enabled within a web server environment and unexpected results may happen if any Process Control functions are used within a web server environment.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">declare(</span><span style="color: #0000BB">ticks</span><span style="color: #007700">=</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$pid&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pcntl_fork</span><span style="color: #007700">();<br />if&nbsp;(</span><span style="color: #0000BB">$pid&nbsp;</span><span style="color: #007700">==&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #DD0000">'could&nbsp;not&nbsp;fork'</span><span style="color: #007700">);&nbsp;<br />}&nbsp;else&nbsp;if&nbsp;(</span><span style="color: #0000BB">$pid</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit();&nbsp;</span><span style="color: #FF8000">//&nbsp;we&nbsp;are&nbsp;the&nbsp;parent&nbsp;<br /></span><span style="color: #007700">}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;we&nbsp;are&nbsp;the&nbsp;child<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;detatch&nbsp;from&nbsp;the&nbsp;controlling&nbsp;terminal<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">posix_setsid</span><span style="color: #007700">()&nbsp;==&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #DD0000">'could&nbsp;not&nbsp;detach&nbsp;from&nbsp;terminal'</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;setup&nbsp;signal&nbsp;handlers<br /></span><span style="color: #0000BB">pcntl_signal</span><span style="color: #007700">(</span><span style="color: #0000BB">SIGTERM</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'sig_handler'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">pcntl_signal</span><span style="color: #007700">(</span><span style="color: #0000BB">SIGHUP</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'sig_handler'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;loop&nbsp;forever&nbsp;performing&nbsp;tasks<br /></span><span style="color: #007700">while&nbsp;(</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;do&nbsp;something&nbsp;interesting&nbsp;here<br /><br /></span><span style="color: #007700">}<br /><br />function&nbsp;</span><span style="color: #0000BB">sig_handler</span><span style="color: #007700">(</span><span style="color: #0000BB">$signo</span><span style="color: #007700">)&nbsp;<br />{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switch&nbsp;(</span><span style="color: #0000BB">$signo</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">SIGTERM</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;handle&nbsp;shutdown&nbsp;tasks<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">exit;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">SIGHUP</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;handle&nbsp;restart&nbsp;tasks<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;default:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;handle&nbsp;all&nbsp;other&nbsp;signals<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /><br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.pcntl.php" alt="Process Control">Process Control</a>.</p>
<h2><a href="issues.html#analyzer=classes_undefinedclasses" id="classes_undefinedclasses">Undefined Classes</a></h2><p>[Since 0.8.4] - [ -P Classes/UndefinedClasses ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#undefined-classes">Online docs</a> ]</p><p>Those classes are used in the code, but there are no definition for them.<br />
<br />
This may happens under normal conditions, if the application makes use of an unsupported extension, that defines extra classes; <br />
or if some external libraries, such as PEAR, are not provided during the analysis.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;FPDF&nbsp;is&nbsp;a&nbsp;classic&nbsp;PDF&nbsp;class,&nbsp;that&nbsp;is&nbsp;usually&nbsp;omitted&nbsp;by&nbsp;Exakat.&nbsp;<br /></span><span style="color: #0000BB">$o&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">FPDF</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;Exakat&nbsp;reports&nbsp;undefined&nbsp;classes&nbsp;in&nbsp;instanceof<br />//&nbsp;PHP&nbsp;ignores&nbsp;them<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$o&nbsp;</span><span style="color: #007700">instanceof&nbsp;</span><span style="color: #0000BB">SomeClass</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;doSomething();<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;Classes&nbsp;may&nbsp;be&nbsp;used&nbsp;in&nbsp;typehint&nbsp;too<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">TypeHintClass&nbsp;$x</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;doSomething();<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extming" id="extensions_extming">ext/ming</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extming ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-ming">Online docs</a> ]</p><p>Extension ext/ming, to create swf files with PHP.<br />
<br />
Ming is an open-source (LGPL) library which allows you to create SWF ('Flash') format movies. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$s&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SWFShape</span><span style="color: #007700">();<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$f&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$s</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addFill</span><span style="color: #007700">(</span><span style="color: #0000BB">0xff</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$s</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setRightFill</span><span style="color: #007700">(</span><span style="color: #0000BB">$f</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;</span><span style="color: #0000BB">$s</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">movePenTo</span><span style="color: #007700">(-</span><span style="color: #0000BB">500</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">500</span><span style="color: #007700">);<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$s</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">drawLineTo</span><span style="color: #007700">(</span><span style="color: #0000BB">500</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">500</span><span style="color: #007700">);<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$s</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">drawLineTo</span><span style="color: #007700">(</span><span style="color: #0000BB">500</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">500</span><span style="color: #007700">);<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$s</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">drawLineTo</span><span style="color: #007700">(-</span><span style="color: #0000BB">500</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">500</span><span style="color: #007700">);<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$s</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">drawLineTo</span><span style="color: #007700">(-</span><span style="color: #0000BB">500</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">500</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;</span><span style="color: #0000BB">$p&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SWFSprite</span><span style="color: #007700">();<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$p</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(</span><span style="color: #0000BB">$s</span><span style="color: #007700">);<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setDepth</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$p</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">nextFrame</span><span style="color: #007700">();<br /><br />&nbsp;&nbsp;for&nbsp;(</span><span style="color: #0000BB">$n</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$n</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">5</span><span style="color: #007700">;&nbsp;++</span><span style="color: #0000BB">$n</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">rotate</span><span style="color: #007700">(-</span><span style="color: #0000BB">15</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$p</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">nextFrame</span><span style="color: #007700">();<br />&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;</span><span style="color: #0000BB">$m&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SWFMovie</span><span style="color: #007700">();<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$m</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setBackground</span><span style="color: #007700">(</span><span style="color: #0000BB">0xff</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0xff</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0xff</span><span style="color: #007700">);<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$m</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setDimension</span><span style="color: #007700">(</span><span style="color: #0000BB">6000</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4000</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$m</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(</span><span style="color: #0000BB">$p</span><span style="color: #007700">);<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setDepth</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">moveTo</span><span style="color: #007700">(-</span><span style="color: #0000BB">500</span><span style="color: #007700">,</span><span style="color: #0000BB">2000</span><span style="color: #007700">);<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setName</span><span style="color: #007700">(</span><span style="color: #DD0000">'box'</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;</span><span style="color: #0000BB">$m</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">SWFAction</span><span style="color: #007700">(</span><span style="color: #DD0000">'/box.x&nbsp;+=&nbsp;3;'</span><span style="color: #007700">));<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$m</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">nextFrame</span><span style="color: #007700">();<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$m</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">SWFAction</span><span style="color: #007700">(</span><span style="color: #DD0000">'gotoFrame(0);&nbsp;play();'</span><span style="color: #007700">));<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$m</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">nextFrame</span><span style="color: #007700">();<br /><br />&nbsp;&nbsp;</span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Content-type:&nbsp;application/x-shockwave-flash'</span><span style="color: #007700">);<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$m</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">output</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.libming.org/" alt="Ming (flash)">Ming (flash)</a> and <a href="http://www.libming.org/" alt="Ming">Ming</a>. <br />
</p>
<h2><a href="issues.html#analyzer=extensions_extredis" id="extensions_extredis">ext/redis</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extredis ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-redis">Online docs</a> ]</p><p>Extension ext/redis.<br />
<br />
The phpredis extension provides an API for communicating with the Redis key-value store. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$redis&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Redis</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$redis</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'127.0.0.1'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">6379</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$redis</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setOption</span><span style="color: #007700">(</span><span style="color: #0000BB">Redis</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_SERIALIZER</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">Redis</span><span style="color: #007700">::</span><span style="color: #0000BB">SERIALIZER_NONE</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;don't&nbsp;serialize&nbsp;data<br /></span><span style="color: #0000BB">$redis</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setOption</span><span style="color: #007700">(</span><span style="color: #0000BB">Redis</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_SERIALIZER</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">Redis</span><span style="color: #007700">::</span><span style="color: #0000BB">SERIALIZER_PHP</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;use&nbsp;built-in&nbsp;serialize/unserialize<br /></span><span style="color: #0000BB">$redis</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setOption</span><span style="color: #007700">(</span><span style="color: #0000BB">Redis</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_SERIALIZER</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">Redis</span><span style="color: #007700">::</span><span style="color: #0000BB">SERIALIZER_IGBINARY</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;use&nbsp;igBinary&nbsp;serialize/unserialize<br /><br /></span><span style="color: #0000BB">$redis</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setOption</span><span style="color: #007700">(</span><span style="color: #0000BB">Redis</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_PREFIX</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'myAppName:'</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;use&nbsp;custom&nbsp;prefix&nbsp;on&nbsp;all&nbsp;keys<br /><br />/*&nbsp;Options&nbsp;for&nbsp;the&nbsp;SCAN&nbsp;family&nbsp;of&nbsp;commands,&nbsp;indicating&nbsp;whether&nbsp;to&nbsp;abstract<br />&nbsp;&nbsp;&nbsp;empty&nbsp;results&nbsp;from&nbsp;the&nbsp;user.&nbsp;&nbsp;If&nbsp;set&nbsp;to&nbsp;SCAN_NORETRY&nbsp;(the&nbsp;default),&nbsp;phpredis<br />&nbsp;&nbsp;&nbsp;will&nbsp;just&nbsp;issue&nbsp;one&nbsp;SCAN&nbsp;command&nbsp;at&nbsp;a&nbsp;time,&nbsp;sometimes&nbsp;returning&nbsp;an&nbsp;empty<br />&nbsp;&nbsp;&nbsp;array&nbsp;of&nbsp;results.&nbsp;&nbsp;If&nbsp;set&nbsp;to&nbsp;SCAN_RETRY,&nbsp;phpredis&nbsp;will&nbsp;retry&nbsp;the&nbsp;scan&nbsp;command<br />&nbsp;&nbsp;&nbsp;until&nbsp;keys&nbsp;come&nbsp;back&nbsp;OR&nbsp;Redis&nbsp;returns&nbsp;an&nbsp;iterator&nbsp;of&nbsp;zero<br />*/<br /></span><span style="color: #0000BB">$redis</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setOption</span><span style="color: #007700">(</span><span style="color: #0000BB">Redis</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_SCAN</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">Redis</span><span style="color: #007700">::</span><span style="color: #0000BB">SCAN_NORETRY</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$redis</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setOption</span><span style="color: #007700">(</span><span style="color: #0000BB">Redis</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_SCAN</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">Redis</span><span style="color: #007700">::</span><span style="color: #0000BB">SCAN_RETRY</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://github.com/phpredis/phpredis/" alt="A PHP extension for Redis">A PHP extension for Redis</a> and <a href="https://redis.io/" alt="Redis">Redis</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_htmlentitiescall" id="structures_htmlentitiescall">Htmlentities Calls</a></h2><p>[Since 0.8.4] - [ -P Structures/Htmlentitiescall ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#htmlentities-calls">Online docs</a> ]</p><p><a href="https://www.php.net/htmlentities" alt="htmlentities()">htmlentities()</a> and <a href="https://www.php.net/htmlspecialchars" alt="htmlspecialchars()">htmlspecialchars()</a> are used to prevent injecting special characters in HTML code. As a bare minimum, they take a string and encode it for HTML.<br />
<br />
The second argument of the functions is the type of protection. The protection may apply to quotes or not, to HTML 4 or 5, etc. It is highly recommended to set it explicitly.<br />
<br />
The third argument of the functions is the encoding of the string. In PHP 5.3, it is  <span style="border: 1px solid #ddd; background-color: #f5f5f5">ISO-8859-1</span> , in 5.4, was  <span style="border: 1px solid #ddd; background-color: #f5f5f5">UTF-8</span> , and in 5.6, it is now default_charset, a  <span style="border: 1px solid #ddd; background-color: #f5f5f5">php.ini</span>  configuration that has the default value of  <span style="border: 1px solid #ddd; background-color: #f5f5f5">UTF-8</span> . It is highly recommended to set this argument too, to avoid distortions from the configuration.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$str&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'A&nbsp;quote&nbsp;is&nbsp;&lt;b&gt;bold&lt;/b&gt;'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Outputs,&nbsp;without&nbsp;depending&nbsp;on&nbsp;the&nbsp;php.ini:&nbsp;A&nbsp;&amp;#039;quote&amp;#039;&nbsp;is&nbsp;&amp;lt;b&amp;gt;bold&amp;lt;/b&amp;gt;&nbsp;<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">htmlentities</span><span style="color: #007700">(</span><span style="color: #0000BB">$str</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">ENT_QUOTES</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'UTF-8'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Outputs,&nbsp;while&nbsp;depending&nbsp;on&nbsp;the&nbsp;php.ini:&nbsp;A&nbsp;quote&nbsp;is&nbsp;&amp;lt;b&amp;gt;bold&amp;lt;/b&amp;gt;<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">htmlentities</span><span style="color: #007700">(</span><span style="color: #0000BB">$str</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
Also, note that arguments 2 and 3 are constants and string, respectively, and should be issued from the list of values available in the manual. Other values than those will make PHP use the default values. <br />
<br />
See also <a href="http://www.php.net/htmlentities" alt="htmlentities">htmlentities</a> and <a href="http://www.php.net/htmlspecialchars" alt="htmlspecialchars">htmlspecialchars</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_undefinedconstants" id="classes_undefinedconstants">Undefined Class Constants</a></h2><p>[Since 0.8.4] - [ -P Classes/UndefinedConstants ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#undefined-class-constants">Online docs</a> ]</p><p>Class constants that are used, but never defined. This should yield a fatal error upon execution, but no feedback at compile level.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'B'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;here,&nbsp;C&nbsp;is&nbsp;not&nbsp;defined&nbsp;in&nbsp;the&nbsp;code&nbsp;and&nbsp;is&nbsp;reported<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">::</span><span style="color: #0000BB">A</span><span style="color: #007700">.</span><span style="color: #0000BB">foo</span><span style="color: #007700">::</span><span style="color: #0000BB">B</span><span style="color: #007700">.</span><span style="color: #0000BB">foo</span><span style="color: #007700">::</span><span style="color: #0000BB">C</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=classes_unusedprivateproperty" id="classes_unusedprivateproperty">Unused Private Properties</a></h2><p>[Since 0.8.4] - [ -P Classes/UnusedPrivateProperty ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unused-private-properties">Online docs</a> ]</p><p>Unused static properties should be removed. <br />
<br />
Unused private properties are dead code. They are usually leftovers of development or refactorisation : they used to have a mission, but are now left. <br />
<br />
Being private, those properties are only accessible to the current class or trait. As such, validating the <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;a&nbsp;used&nbsp;property&nbsp;(see&nbsp;bar&nbsp;method)<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">private&nbsp;</span><span style="color: #0000BB">$used&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;an&nbsp;unused&nbsp;property<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">private&nbsp;</span><span style="color: #0000BB">$unused&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">used&nbsp;</span><span style="color: #007700">+=&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">used</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_unusedprivatemethod" id="classes_unusedprivatemethod">Unused Private Methods</a></h2><p>[Since 0.8.4] - [ -P Classes/UnusedPrivateMethod ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unused-private-methods">Online docs</a> ]</p><p>Private methods that are not used are dead code. <br />
<br />
Private methods are reserved for the defining class. Thus, they must be used with the current class, with  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$this</span>  or  <span style="border: 1px solid #ddd; background-color: #f5f5f5">self::</span> .<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Those&nbsp;methods&nbsp;are&nbsp;used<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">private&nbsp;function&nbsp;</span><span style="color: #0000BB">method</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">staticMethod</span><span style="color: #007700">()&nbsp;{}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Those&nbsp;methods&nbsp;are&nbsp;not&nbsp;used<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">private&nbsp;function&nbsp;</span><span style="color: #0000BB">unusedMethod</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">staticUnusedMethod</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">staticMethod</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">method</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=functions_unusedfunctions" id="functions_unusedfunctions">Unused Functions</a></h2><p>[Since 0.8.4] - [ -P Functions/UnusedFunctions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unused-functions">Online docs</a> ]</p><p>The functions below are unused. They look like dead code.<br />
<br />
Recursive functions, level 1, are detected : they are only reported when a call from outside the function is made. Recursive functions calls of higher level (A calls B calls A) are not handled.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">used</span><span style="color: #007700">()&nbsp;{}<br /></span><span style="color: #FF8000">//&nbsp;The&nbsp;'unused'&nbsp;function&nbsp;is&nbsp;defined&nbsp;but&nbsp;never&nbsp;called<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">unused</span><span style="color: #007700">()&nbsp;{}<br /><br /></span><span style="color: #FF8000">//&nbsp;The&nbsp;'used'&nbsp;function&nbsp;is&nbsp;called&nbsp;at&nbsp;least&nbsp;once<br /></span><span style="color: #0000BB">used</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=variables_variableusedoncebycontext" id="variables_variableusedoncebycontext">Used Once Variables (In Scope)</a></h2><p>[Since 0.8.4] - [ -P Variables/VariableUsedOnceByContext ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#used-once-variables--in-scope-">Online docs</a> ]</p><p>This is the list of used once variables, scope by scope. Those variables are used once in a function, a method, a class or a namespace. In any case, this means the variable is read or written, while it should be used at least twice. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;The&nbsp;variables&nbsp;below&nbsp;never&nbsp;appear&nbsp;twice,&nbsp;inside&nbsp;foo()<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$writtenOnce&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$readOnce</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;They&nbsp;do&nbsp;appear&nbsp;again&nbsp;in&nbsp;other&nbsp;functions,&nbsp;or&nbsp;in&nbsp;global&nbsp;space.&nbsp;<br /></span><span style="color: #007700">}<br /><br />function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$writtenOnce&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$readOnce</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=functions_undefinedfunctions" id="functions_undefinedfunctions">Undefined Functions</a></h2><p>[Since 0.8.4] - [ -P Functions/UndefinedFunctions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#undefined-functions">Online docs</a> ]</p><p>Some functions are called, but not defined in the code. This means that the functions are probably defined in a missing library, or in an extension. If not, this will yield a Fatal error at execution.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Undefined&nbsp;function&nbsp;<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;valid&nbsp;function,&nbsp;as&nbsp;it&nbsp;belongs&nbsp;to&nbsp;the&nbsp;ext/yaml&nbsp;extension<br /></span><span style="color: #0000BB">$parsed&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">yaml_parse</span><span style="color: #007700">(</span><span style="color: #0000BB">$yaml</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;function&nbsp;is&nbsp;not&nbsp;defined&nbsp;in&nbsp;the&nbsp;a\b\c&nbsp;namespace,&nbsp;nor&nbsp;in&nbsp;the&nbsp;global&nbsp;namespace<br /></span><span style="color: #0000BB">a</span><span style="color: #007700">\</span><span style="color: #0000BB">b</span><span style="color: #007700">\</span><span style="color: #0000BB">c</span><span style="color: #007700">\</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.functions.php" alt="Functions">Functions</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_deprecated" id="php_deprecated">Deprecated Functions</a></h2><p>[Since 0.8.4] - [ -P Php/Deprecated ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#deprecated-functions">Online docs</a> ]</p><p>The following functions are deprecated. It is recommended to stop using them now and replace them with a durable equivalent. <br />
<br />
Note that these functions may be still usable : they generate warning that help tracking their usage in the log. To eradicate their usage, watch the logs, and update any deprecated warning. This way, the code won't be stuck when the function is actually removed from PHP.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;the&nbsp;current&nbsp;function<br /></span><span style="color: #007700">list(</span><span style="color: #0000BB">$day</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$month</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$year</span><span style="color: #007700">)&nbsp;=&nbsp;</span><span style="color: #0000BB">explode</span><span style="color: #007700">(</span><span style="color: #DD0000">'/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'08/06/1995'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;deprecated<br /></span><span style="color: #007700">list(</span><span style="color: #0000BB">$day</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$month</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$year</span><span style="color: #007700">)&nbsp;=&nbsp;</span><span style="color: #0000BB">split</span><span style="color: #007700">(</span><span style="color: #DD0000">'/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'08/06/1995'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_cryptwithoutsalt" id="structures_cryptwithoutsalt">crypt() Without Salt</a></h2><p>[Since 0.8.4] - [ -P Structures/CryptWithoutSalt ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#crypt---without-salt">Online docs</a> ] - [ PHP  older than 5.6]</p><p>PHP requires a salt when calling <a href="https://www.php.net/crypt" alt="crypt()">crypt()</a>. 5.5 and previous versions didn't require it. Salt is a simple string, that is usually only known by the application.<br />
<br />
According to the manual : The salt parameter is optional. However, <a href="https://www.php.net/crypt" alt="crypt()">crypt()</a> creates a weak hash without the salt. PHP 5.6 or later raise an E_NOTICE error without it. Make sure to specify a strong enough salt for better security.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Set&nbsp;the&nbsp;password<br /></span><span style="color: #0000BB">$password&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'mypassword'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Get&nbsp;the&nbsp;hash,&nbsp;letting&nbsp;the&nbsp;salt&nbsp;be&nbsp;automatically&nbsp;generated<br />//&nbsp;This&nbsp;generates&nbsp;a&nbsp;notice&nbsp;after&nbsp;PHP&nbsp;5.6<br /></span><span style="color: #0000BB">$hash&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">crypt</span><span style="color: #007700">(</span><span style="color: #0000BB">$password</span><span style="color: #007700">);<br /><br /><br /></span><span style="color: #0000BB">$hash&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">crypt</span><span style="color: #007700">(</span><span style="color: #0000BB">$password</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/crypt" alt="crypt">crypt</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_mcryptcreateivwithoutoption" id="structures_mcryptcreateivwithoutoption">mcrypt_create_iv() With Default Values</a></h2><p>[Since 0.8.4] - [ -P Structures/McryptcreateivWithoutOption ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#mcrypt_create_iv---with-default-values">Online docs</a> ] - [ PHP  older than 5.6]</p><p>Avoid using <a href="http://php.net/manual/en/function.mcrypt-create-iv.php" alt="mcrypt_create_iv()">mcrypt_create_iv()</a> default values.<br />
<br />
<a href="http://php.net/manual/en/function.mcrypt-create-iv.php" alt="mcrypt_create_iv()">mcrypt_create_iv()</a> used to have  <span style="border: 1px solid #ddd; background-color: #f5f5f5">MCRYPT_DEV_RANDOM</span>  as default values, and in PHP 5.6, it now uses  <span style="border: 1px solid #ddd; background-color: #f5f5f5">MCRYPT_DEV_URANDOM</span> .<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$size&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mcrypt_get_iv_size</span><span style="color: #007700">(</span><span style="color: #0000BB">MCRYPT_CAST_256</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">MCRYPT_MODE_CFB</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;mcrypt_create_iv&nbsp;is&nbsp;missing&nbsp;the&nbsp;second&nbsp;argument<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$iv&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mcrypt_create_iv</span><span style="color: #007700">(</span><span style="color: #0000BB">$size</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Identical&nbsp;to&nbsp;the&nbsp;line&nbsp;below<br />//&nbsp;&nbsp;&nbsp;&nbsp;$iv&nbsp;=&nbsp;mcrypt_create_iv($size,&nbsp;MCRYPT_DEV_RANDOM);<br /></span>?&gt;</pre><br />
<br />
If the code doesn't have a second argument, it relies on the default value. It is recommended to set explicitly the value, so has to avoid problems while migrating.<br />
<br />
See also <a href="http://php.net/manual/en/function.mcrypt-create-iv.php" alt="mcrypt_create_iv()">mcrypt_create_iv()</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_danglingarrayreferences" id="structures_danglingarrayreferences">Dangling Array References</a></h2><p>[Since 0.8.4] - [ -P Structures/DanglingArrayReferences ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#dangling-array-references">Online docs</a> ]</p><p>Always unset a referenced-variable used in a loop.<br />
<br />
It is highly recommended to unset blind variables when they are set up as references after a loop. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">,</span><span style="color: #0000BB">3</span><span style="color: #007700">,</span><span style="color: #0000BB">4</span><span style="color: #007700">);<br /><br />foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;&amp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">+=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;only&nbsp;unset&nbsp;the&nbsp;reference,&nbsp;not&nbsp;the&nbsp;value<br /></span><span style="color: #007700">unset(</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br /><br /><br /><br /><br /></span><span style="color: #FF8000">//&nbsp;Dangling&nbsp;array&nbsp;problem<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;&amp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">+=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br /></span><span style="color: #FF8000">//$array&nbsp;===&nbsp;array(3,4,5,6);<br /><br />//&nbsp;This&nbsp;does&nbsp;nothing&nbsp;(apparently)<br />//&nbsp;$a&nbsp;is&nbsp;already&nbsp;a&nbsp;reference,&nbsp;even&nbsp;if&nbsp;it&nbsp;doesn't&nbsp;show&nbsp;here.<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{}<br /></span><span style="color: #FF8000">//$array&nbsp;===&nbsp;array(3,4,5,5);<br /></span>?&gt;</pre><br />
<br />
When omitting this step, the next loop that will also require this variable will deal with garbage values, and produce unexpected results.<br />
<br />
See also : <a href="https://github.com/dseguy/clearPHP/blob/master/rules/no-dangling-reference.md" alt="No Dangling Reference">No Dangling Reference</a>, <br />
           <a href="https://coderwall.com/p/qx3fpa/php-foreach-pass-by-reference-do-it-right-or-better-not-at-all" alt="PHP foreach pass-by-reference: Do it right, or better not at all">PHP foreach pass-by-reference: Do it right, or better not at all</a>,<br />
           <a href="https://stackoverflow.com/questions/10057671/how-does-php-foreach-actually-work/14854568#14854568" alt="How does PHP 'foreach' actually work?">How does PHP 'foreach' actually work?</a>,<br />
           <a href="https://schlueters.de/blog/archives/141-references-and-foreach.html" alt="References and foreach">References and foreach</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extcyrus" id="extensions_extcyrus">ext/cyrus</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extcyrus ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-cyrus">Online docs</a> ]</p><p>Extension ext/cyrus.<br />
<br />
The Cyrus IMAP server is electronic mail server software developed by Carnegie Mellon University. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$connexion&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">cyrus_connect&nbsp;</span><span style="color: #007700">(</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.cyrus.php" alt="Cyrus">Cyrus</a> and <a href="https://en.wikipedia.org/wiki/Cyrus_IMAP_server" alt="Cyrus IMAP server">Cyrus IMAP server</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extsqlsrv" id="extensions_extsqlsrv">ext/sqlsrv</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extsqlsrv ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-sqlsrv">Online docs</a> ]</p><p>Extension for Microsoft SQL Server Driver.<br />
<br />
The SQLSRV extension allows you to access Microsoft SQL Server and SQL Azure databases when running PHP on Windows. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$serverName&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'serverName\sqlexpress'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$connectionInfo&nbsp;</span><span style="color: #007700">=&nbsp;array(&nbsp;</span><span style="color: #DD0000">'Database'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'dbName'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'UID'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'username'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'PWD'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'password'&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$conn&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">sqlsrv_connect</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$serverName</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$connectionInfo</span><span style="color: #007700">);<br />if(&nbsp;</span><span style="color: #0000BB">$conn&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">false&nbsp;</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;die(&nbsp;</span><span style="color: #0000BB">print_r</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">sqlsrv_errors</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">));<br />}<br /><br /></span><span style="color: #0000BB">$sql&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'INSERT&nbsp;INTO&nbsp;Table_1&nbsp;(id,&nbsp;data)&nbsp;VALUES&nbsp;(?,&nbsp;?)'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$params&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'some&nbsp;data'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$stmt&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">sqlsrv_query</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$conn</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$sql</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$params</span><span style="color: #007700">);<br />if(&nbsp;</span><span style="color: #0000BB">$stmt&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">false&nbsp;</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;die(&nbsp;</span><span style="color: #0000BB">print_r</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">sqlsrv_errors</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">));<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/sqlsrv" alt="Microsoft SQL Server Driver">Microsoft SQL Server Driver</a> and <a href="http://msdn.microsoft.com/en-us/library/hh487161.aspx" alt="PHP Driver for SQL Server Support for LocalDB">PHP Driver for SQL Server Support for LocalDB</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_queriesinloop" id="structures_queriesinloop">Queries In Loops</a></h2><p>[Since 0.8.4] - [ -P Structures/QueriesInLoop ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#queries-in-loops">Online docs</a> ]</p><p>Avoid querying databases in a loop. <br />
<br />
Querying an external database in a loop usually leads to performances problems. This is also called the 'n + 1 problem'. <br />
<br />
This problem applies also to prepared statement : when such statement are called in a loop, they are slower than one-time large queries.<br />
<br />
It is recommended to reduce the number of queries by making one query, and dispatching the results afterwards. This is true with SQL databases, graph queries, LDAP queries, etc. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Typical&nbsp;N&nbsp;=&nbsp;1&nbsp;problem&nbsp;:&nbsp;there&nbsp;will&nbsp;be&nbsp;as&nbsp;many&nbsp;queries&nbsp;as&nbsp;there&nbsp;are&nbsp;elements&nbsp;in&nbsp;$array<br /></span><span style="color: #0000BB">$ids&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">,</span><span style="color: #0000BB">3</span><span style="color: #007700">,</span><span style="color: #0000BB">5</span><span style="color: #007700">,</span><span style="color: #0000BB">6</span><span style="color: #007700">,</span><span style="color: #0000BB">10</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$db&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SQLite3</span><span style="color: #007700">(</span><span style="color: #DD0000">'mysqlitedb.db'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;all&nbsp;the&nbsp;IDS&nbsp;are&nbsp;merged&nbsp;into&nbsp;the&nbsp;query&nbsp;at&nbsp;once<br /></span><span style="color: #0000BB">$results&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$db</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">query</span><span style="color: #007700">(</span><span style="color: #DD0000">'SELECT&nbsp;bar&nbsp;FROM&nbsp;foo&nbsp;WHERE&nbsp;id&nbsp;&nbsp;in&nbsp;('</span><span style="color: #007700">.</span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #DD0000">','</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$id</span><span style="color: #007700">).</span><span style="color: #DD0000">')'</span><span style="color: #007700">);<br />while&nbsp;(</span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$results</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fetchArray</span><span style="color: #007700">())&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$row</span><span style="color: #007700">);<br />}<br /><br /><br /></span><span style="color: #FF8000">//&nbsp;Typical&nbsp;N&nbsp;=&nbsp;1&nbsp;problem&nbsp;:&nbsp;there&nbsp;will&nbsp;be&nbsp;as&nbsp;many&nbsp;queries&nbsp;as&nbsp;there&nbsp;are&nbsp;elements&nbsp;in&nbsp;$array<br /></span><span style="color: #0000BB">$ids&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">,</span><span style="color: #0000BB">3</span><span style="color: #007700">,</span><span style="color: #0000BB">5</span><span style="color: #007700">,</span><span style="color: #0000BB">6</span><span style="color: #007700">,</span><span style="color: #0000BB">10</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$db&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SQLite3</span><span style="color: #007700">(</span><span style="color: #DD0000">'mysqlitedb.db'</span><span style="color: #007700">);<br /><br />foreach(</span><span style="color: #0000BB">$ids&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$id</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$results&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$db</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">query</span><span style="color: #007700">(</span><span style="color: #DD0000">'SELECT&nbsp;bar&nbsp;FROM&nbsp;foo&nbsp;WHERE&nbsp;id&nbsp;=&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$id</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(</span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$results</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fetchArray</span><span style="color: #007700">())&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$row</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
This optimisation is not always possible : for example, some SQL queries may not be prepared, like  <span style="border: 1px solid #ddd; background-color: #f5f5f5">DROP TABLE</span>  or  <span style="border: 1px solid #ddd; background-color: #f5f5f5">DESC</span> .  <span style="border: 1px solid #ddd; background-color: #f5f5f5">UPDATE</span>  commands often update one row at a time, and grouping such queries may be counter-productive or unsafe. <br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_oldstylevar" id="classes_oldstylevar">Var Keyword</a></h2><p>[Since 0.8.4] - [ -P Classes/OldStyleVar ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#var-keyword">Online docs</a> ]</p><p>Var was used in PHP 4 to mark properties as public. Nowadays, new keywords are available : public, protected, private. Var is equivalent to public. <br />
<br />
It is recommended to avoid using var, and explicitly use the new keywords.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Avoid&nbsp;var<br />&nbsp;&nbsp;&nbsp;&nbsp;//var&nbsp;$bar&nbsp;=&nbsp;1;&nbsp;<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.visibility.php" alt="Visibility">Visibility</a>.<br />
</p>
<h2><a href="issues.html#analyzer=functions_aliasesusage" id="functions_aliasesusage">Aliases Usage</a></h2><p>[Since 0.8.4] - [ -P Functions/AliasesUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#aliases-usage">Online docs</a> ]</p><p>PHP manual recommends to avoid function aliases.<br />
<br />
Some functions have several names, and both may be used the same way. However, one of the names is the main name, and the others are aliases. Aliases may be removed or change or dropped in the future. Even if this is not forecast, it is good practice to use the main name, instead of the aliases. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;official&nbsp;way&nbsp;to&nbsp;count&nbsp;an&nbsp;array<br /></span><span style="color: #0000BB">$n&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;official&nbsp;way&nbsp;to&nbsp;count&nbsp;an&nbsp;array<br /></span><span style="color: #0000BB">$n&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">sizeof</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
Aliases are compiled in PHP, and do not provide any performances over the normal function. <br />
<br />
Aliases are more likely to be removed later, but they have been around for a long time.<br />
<br />
See documentation : <a href="http://php.net/manual/en/aliases.php" alt="List of function aliases">List of function aliases</a>.<br />
</p>
<h2><a href="issues.html#analyzer=functions_usesdefaultarguments" id="functions_usesdefaultarguments">Uses Default Values</a></h2><p>[Since 0.8.4] - [ -P Functions/UsesDefaultArguments ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#uses-default-values">Online docs</a> ]</p><p>Default values are provided to methods so as to make it convenient to use. However, with new versions, those values may change. For example, in PHP 5.4, <a href="https://www.php.net/htmlentities" alt="htmlentities()">htmlentities()</a> switched from  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Latin1</span>  to  <span style="border: 1px solid #ddd; background-color: #f5f5f5">UTF-8</span>  default encoding.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">Eu&nbsp;no&nbsp;sou&nbsp;o&nbsp;po</span><span style="color: #007700">;<br /><br />echo&nbsp;</span><span style="color: #0000BB">htmlentities</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;PHP&nbsp;5.3&nbsp;:&nbsp;Eu&nbsp;n&amp;Atilde;&amp;pound;o&nbsp;sou&nbsp;o&nbsp;p&amp;Atilde;&amp;pound;o<br />//&nbsp;PHP&nbsp;5.4&nbsp;:&nbsp;Eu&nbsp;n&amp;atilde;o&nbsp;sou&nbsp;o&nbsp;p&amp;atilde;o<br /><br />//&nbsp;Stable&nbsp;across&nbsp;versions<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">htmlentities</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'UTF8'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
As much as possible, it is recommended to use explicit values in those methods, so as to prevent from being surprise at a future PHP evolution. <br />
<br />
This analyzer tend to report a lot of false positives, including usage of <a href="https://www.php.net/count" alt="count()">count()</a>. Count() indeed has a second argument for recursive counts, and a default value. This may be ignored safely.</p>
<h2><a href="issues.html#analyzer=functions_wrongnumberofarguments" id="functions_wrongnumberofarguments">Wrong Number Of Arguments</a></h2><p>[Since 0.8.4] - [ -P Functions/WrongNumberOfArguments ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#wrong-number-of-arguments">Online docs</a> ]</p><p>Those functioncalls are made with too many or too few arguments. <br />
<br />
When the number arguments is wrong for native functions, PHP emits a warning. <br />
When the number arguments is too small for custom functions, PHP raises an exception. <br />
When the number arguments is too high for custom functions, PHP ignores the arguments. Such arguments should be handled with the variadic operator, or with <a href="https://www.php.net/func_get_args" alt="func_get_args()">func_get_args()</a> family of functions.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">strtoupper</span><span style="color: #007700">(</span><span style="color: #DD0000">'This&nbsp;function&nbsp;is'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'ignoring&nbsp;arguments'</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//Warning:&nbsp;`strtoupper()&nbsp;&lt;https://www.php.net/strtoupper&gt;`_&nbsp;expects&nbsp;exactly&nbsp;1&nbsp;parameter,&nbsp;2&nbsp;given&nbsp;in&nbsp;Command&nbsp;line&nbsp;code&nbsp;on&nbsp;line&nbsp;1<br /><br /></span><span style="color: #007700">echo&nbsp;`</span><span style="color: #DD0000">strtoupper()&nbsp;&lt;https://www.php.net/strtoupper&gt;</span><span style="color: #007700">`</span><span style="color: #0000BB">_</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//Warning:&nbsp;`strtoupper()&nbsp;&lt;https://www.php.net/strtoupper&gt;`_&nbsp;expects&nbsp;exactly&nbsp;1&nbsp;parameter,&nbsp;0&nbsp;given&nbsp;in&nbsp;Command&nbsp;line&nbsp;code&nbsp;on&nbsp;line&nbsp;1<br /><br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$argument</span><span style="color: #007700">)&nbsp;{}<br />echo&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /></span><span style="color: #FF8000">//Fatal&nbsp;error:&nbsp;Uncaught&nbsp;ArgumentCountError:&nbsp;Too&nbsp;few&nbsp;arguments&nbsp;to&nbsp;function&nbsp;foo(),&nbsp;0&nbsp;passed&nbsp;in&nbsp;/Users/famille/Desktop/analyzeG3/test.php&nbsp;on&nbsp;line&nbsp;10&nbsp;and&nbsp;exactly&nbsp;1&nbsp;expected&nbsp;in&nbsp;/Users/famille/Desktop/analyzeG3/test.php:3<br /><br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #DD0000">'This&nbsp;function&nbsp;is'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'ignoring&nbsp;arguments'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
It is recommended to check the signature of the methods, and fix the arguments. </p>
<h2><a href="issues.html#analyzer=functions_hardcodedpasswords" id="functions_hardcodedpasswords">Hardcoded Passwords</a></h2><p>[Since 0.8.4] - [ -P Functions/HardcodedPasswords ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#hardcoded-passwords">Online docs</a> ]</p><p>Hardcoded passwords in the code. <br />
<br />
Hardcoding passwords is a bad idea. Not only it make the code difficult to change, but it is an information leak. It is better to hide this kind of information out of the code.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$ftp_server&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'300.1.2.3'</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;yes,&nbsp;this&nbsp;doesn't&nbsp;exists,&nbsp;it's&nbsp;an&nbsp;example<br /></span><span style="color: #0000BB">$conn_id&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ftp_connect</span><span style="color: #007700">(</span><span style="color: #0000BB">$ftp_server</span><span style="color: #007700">);&nbsp;<br /><br /></span><span style="color: #FF8000">//&nbsp;login&nbsp;with&nbsp;username&nbsp;and&nbsp;password<br /></span><span style="color: #0000BB">$login_result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ftp_login</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn_id</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'login'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'password'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://snyk.io/blog/ten-git-hub-security-best-practices/" alt="10 GitHub Security Best Practices">10 GitHub Security Best Practices</a> and <br />
         <a href="https://davidverhasselt.com/git-how-to-remove-your-password-from-a-repository/" alt="Git How-To: Remove Your Password from a Repository">Git How-To: Remove Your Password from a Repository</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_unresolvedclasses" id="classes_unresolvedclasses">Unresolved Classes</a></h2><p>[Since 0.8.4] - [ -P Classes/UnresolvedClasses ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unresolved-classes">Online docs</a> ]</p><p>The following classes are instantiated in the code, but their definition couldn't be found. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Bar&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;function&nbsp;</span><span style="color: #0000BB">foobar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;here,&nbsp;parent&nbsp;is&nbsp;not&nbsp;resolved,&nbsp;as&nbsp;Bar&nbsp;is&nbsp;not&nbsp;defined&nbsp;in&nbsp;the&nbsp;code.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">$prop</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_ellipsisusage" id="php_ellipsisusage">Ellipsis Usage</a></h2><p>[Since 0.8.4] - [ -P Php/EllipsisUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ellipsis-usage">Online docs</a> ] - [ PHP 5.6 and more recent ]</p><p>Usage of the ellipsis keyword. The keyword is three dots : ... . It is also named variadic or splat operator.<br />
<br />
It may be in function definitions, either in functioncalls.<br />
<br />
... allows for packing or unpacking arguments into an array.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$args&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(...</span><span style="color: #0000BB">$args</span><span style="color: #007700">);&nbsp;<br /></span><span style="color: #FF8000">//&nbsp;Identical&nbsp;to&nbsp;foo(1,2,3);<br /><br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(...</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Identical&nbsp;to&nbsp;:&nbsp;$a&nbsp;=&nbsp;`func_get_args()&nbsp;&lt;https://www.php.net/func_get_args&gt;`_;<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://wiki.php.net/rfc/variadics" alt="PHP RFC: Syntax for variadic functions">PHP RFC: Syntax for variadic functions</a>,<br />
         <a href="https://lornajane.net/posts/2014/php-5-6-and-the-splat-operator" alt="PHP 5.6 and the Splat Operator">PHP 5.6 and the Splat Operator</a>, and<br />
         <a href="http://php.net/manual/en/functions.arguments.php#functions.variable-arg-list" alt="Variable-length argument lists">Variable-length argument lists</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_exponentusage" id="php_exponentusage">Exponent Usage</a></h2><p>[Since 0.8.4] - [ -P Php/ExponentUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#exponent-usage">Online docs</a> ] - [ PHP 5.6 and more recent ]</p><p>Usage of the ** operator or **=, to make exponents.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$eight&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">**&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$sixteen&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$sixteen&nbsp;</span><span style="color: #007700">**=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.operators.arithmetic.php" alt="Arithmetic Operators">Arithmetic Operators</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_newexponent" id="php_newexponent">** For Exponent</a></h2><p>[Since 0.8.4] - [ -P Php/NewExponent ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#**-for-exponent">Online docs</a> ] - [ PHP 5.6 and more recent ]</p><p>The operator  <span style="border: 1px solid #ddd; background-color: #f5f5f5">**</span>  calculates exponents, also known as power. <br />
<br />
Use it instead of the slower function <a href="https://www.php.net/pow" alt="pow()">pow()</a>. This operator was introduced in PHP 5.6.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$cube&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pow</span><span style="color: #007700">(</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;8<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$cubeInPHP56&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">**&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;8<br /></span>?&gt;</pre><br />
<br />
If the code needs to be backward compatible to 5.5 or less, don't use the new operator.<br />
<br />
Be aware the the '-' operator has lower priority than the ** operator : this leads to the following confusing result.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">echo&nbsp;-</span><span style="color: #0000BB">3&nbsp;</span><span style="color: #007700">**&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;displays&nbsp;-9,&nbsp;instead&nbsp;of&nbsp;9<br /></span>?&gt;</pre><br />
<br />
This is due to the parser that processes separately  <span style="border: 1px solid #ddd; background-color: #f5f5f5">-</span>  and the following number. Since  <span style="border: 1px solid #ddd; background-color: #f5f5f5">**</span>  has priority, the power operation happens first.<br />
<br />
Being an operator,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">**</span>  is faster than <a href="https://www.php.net/pow" alt="pow()">pow()</a>. This is a microoptimisation. <br />
<br />
See also <a href="http://php.net/manual/en/language.operators.arithmetic.php" alt="Arithmetic Operators">Arithmetic Operators</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_uselessconstructor" id="classes_uselessconstructor">Useless Constructor</a></h2><p>[Since 0.8.4] - [ -P Classes/UselessConstructor ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#useless-constructor">Online docs</a> ]</p><p>Class constructor that have empty bodies are useless. They may be removed.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">X&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Do&nbsp;nothing<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">Y&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">X&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Useful&nbsp;constructor,&nbsp;as&nbsp;it&nbsp;prevents&nbsp;usage&nbsp;of&nbsp;the&nbsp;parent<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Do&nbsp;nothing<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=classes_toomanychildren" id="classes_toomanychildren">Too Many Children</a></h2><p>[Since 0.8.4] - [ -P Classes/TooManyChildren ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#too-many-children">Online docs</a> ]</p><p>Classes that have more than 15 children. It is worth checking if they cannot be refactored in anyway.<br />
<br />
The threshold of 15 children can be configured. There is no technical limitation of the number of children and grand-children for a class. <br />
<br />
The analysis doesn't work recursively : only direct generations are counted. Only children that can be found in the code are counted. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;parent&nbsp;class<br />//&nbsp;calling&nbsp;it&nbsp;grandparent&nbsp;to&nbsp;avoid&nbsp;confusion&nbsp;with&nbsp;'parent'<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">grandparent&nbsp;</span><span style="color: #007700">{}<br /><br /><br />class&nbsp;</span><span style="color: #0000BB">children1&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">grandparent&nbsp;</span><span style="color: #007700">{}<br />class&nbsp;</span><span style="color: #0000BB">children2&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">grandparent&nbsp;</span><span style="color: #007700">{}<br />class&nbsp;</span><span style="color: #0000BB">children3&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">grandparent&nbsp;</span><span style="color: #007700">{}<br />class&nbsp;</span><span style="color: #0000BB">children4&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">grandparent&nbsp;</span><span style="color: #007700">{}<br />class&nbsp;</span><span style="color: #0000BB">children5&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">grandparent&nbsp;</span><span style="color: #007700">{}<br />class&nbsp;</span><span style="color: #0000BB">children6&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">grandparent&nbsp;</span><span style="color: #007700">{}<br />class&nbsp;</span><span style="color: #0000BB">children7&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">grandparent&nbsp;</span><span style="color: #007700">{}<br />class&nbsp;</span><span style="color: #0000BB">children8&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">grandparent&nbsp;</span><span style="color: #007700">{}<br />class&nbsp;</span><span style="color: #0000BB">children9&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">grandparent&nbsp;</span><span style="color: #007700">{}<br />class&nbsp;</span><span style="color: #0000BB">children11&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">grandparent&nbsp;</span><span style="color: #007700">{}<br />class&nbsp;</span><span style="color: #0000BB">children12&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">grandparent&nbsp;</span><span style="color: #007700">{}<br />class&nbsp;</span><span style="color: #0000BB">children13&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">grandparent&nbsp;</span><span style="color: #007700">{}<br />class&nbsp;</span><span style="color: #0000BB">children14&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">grandparent&nbsp;</span><span style="color: #007700">{}<br />class&nbsp;</span><span style="color: #0000BB">children15&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">grandparent&nbsp;</span><span style="color: #007700">{}<br />class&nbsp;</span><span style="color: #0000BB">children16&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">grandparent&nbsp;</span><span style="color: #007700">{}<br />class&nbsp;</span><span style="color: #0000BB">children17&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">grandparent&nbsp;</span><span style="color: #007700">{}<br />class&nbsp;</span><span style="color: #0000BB">children18&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">grandparent&nbsp;</span><span style="color: #007700">{}<br />class&nbsp;</span><span style="color: #0000BB">children19&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">grandparent&nbsp;</span><span style="color: #007700">{}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://softwareengineering.stackexchange.com/questions/137687/why-is-subclassing-too-much-bad-and-hence-why-should-we-use-prototypes-to-do-aw" alt="Why is subclassing too much bad (and hence why should we use prototypes to do away with it)?">Why is subclassing too much bad (and hence why should we use prototypes to do away with it)?</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_implementisforinterface" id="classes_implementisforinterface">Implement Is For Interface</a></h2><p>[Since 0.8.4] - [ -P Classes/ImplementIsForInterface ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#implement-is-for-interface">Online docs</a> ]</p><p>With class heritage, implements should be used for interfaces, and extends with classes.<br />
<br />
PHP defers the implements check until execution : the code in example does lint, but won,t run.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{}<br />}<br /><br />interface&nbsp;</span><span style="color: #0000BB">y&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Use&nbsp;implements&nbsp;with&nbsp;an&nbsp;interface<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">z&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">y&nbsp;</span><span style="color: #007700">{}<br /><br /></span><span style="color: #FF8000">//&nbsp;Implements&nbsp;is&nbsp;for&nbsp;an&nbsp;interface,&nbsp;not&nbsp;a&nbsp;class<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">z&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">{}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=constants_constrecommended" id="constants_constrecommended">Use const</a></h2><p>[Since 0.8.4] - [ -P Constants/ConstRecommended ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-const">Online docs</a> ]</p><p>The const keyword may be used to define constant, just like the <a href="https://www.php.net/define" alt="define()">define()</a> function. <br />
<br />
When defining a constant, it is recommended to use 'const' when the features of the constant are not dynamical (name or value are known at compile time). <br />
This way, constant will be defined at compile time, and not at execution time. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//Do<br />&nbsp;&nbsp;</span><span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Don't&nbsp;<br />&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'A'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
<a href="https://www.php.net/define" alt="define()">define()</a> function is useful when the constant is not known at compile time, or when case sensitivity is necessary.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Read&nbsp;$a&nbsp;in&nbsp;database&nbsp;or&nbsp;config&nbsp;file<br />&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'A'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Read&nbsp;$a&nbsp;in&nbsp;database&nbsp;or&nbsp;config&nbsp;file<br />&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'B'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">b</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.constants.syntax.php" alt="Syntax">Syntax</a>.<br />
</p>
<h2><a href="issues.html#analyzer=namespaces_unresolveduse" id="namespaces_unresolveduse">Unresolved Use</a></h2><p>[Since 0.8.4] - [ -P Namespaces/UnresolvedUse ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unresolved-use">Online docs</a> ]</p><p>The following use instructions cannot be resolved to a class or a namespace. They should be dropped or fixed.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;class&nbsp;B&nbsp;is&nbsp;defined<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">{}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;class&nbsp;C&nbsp;is&nbsp;not&nbsp;defined<br /></span><span style="color: #007700">}<br /><br />namespace&nbsp;</span><span style="color: #0000BB">X</span><span style="color: #007700">/</span><span style="color: #0000BB">Y&nbsp;</span><span style="color: #007700">{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">/</span><span style="color: #0000BB">B</span><span style="color: #007700">;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;use&nbsp;is&nbsp;valid<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">/</span><span style="color: #0000BB">C</span><span style="color: #007700">;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;use&nbsp;point&nbsp;to&nbsp;nothing.<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">new&nbsp;</span><span style="color: #0000BB">B</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;</span><span style="color: #0000BB">C</span><span style="color: #007700">();<br />}<br /></span>?&gt;</pre><br />
<br />
Use expression are options for the current namespace. <br />
<br />
See also <a href="http://php.net/manual/en/language.namespaces.importing.php" alt="Using namespaces: Aliasing/Importing">Using namespaces: Aliasing/Importing</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=constants_unusedconstants" id="constants_unusedconstants">Unused Constants</a></h2><p>[Since 0.8.4] - [ -P Constants/UnusedConstants ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unused-constants">Online docs</a> ]</p><p>Those constants are defined in the code but never used. Defining unused constants slow down the application, as they are executed and stored in PHP hashtables. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;const-defined&nbsp;constant<br /></span><span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">USED_CONSTANT&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />const&nbsp;</span><span style="color: #0000BB">UNUSED_CONSTANT&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">USED_CONSTANT</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;define-defined&nbsp;constant<br /></span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'ANOTHER_UNUSED_CONSTANT'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
It is recommended to comment them out, and only define them when it is necessary.</p>
<h2><a href="issues.html#analyzer=classes_undefinedparentmp" id="classes_undefinedparentmp">Undefined Parent</a></h2><p>[Since 0.8.4] - [ -P Classes/UndefinedParentMP ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#undefined-parent">Online docs</a> ]</p><p>List of properties and methods that are accessed using  <span style="border: 1px solid #ddd; background-color: #f5f5f5">parent</span>  keyword but are not defined in the parent classes. <br />
<br />
This may compile but, eventually yields a fatal error during execution.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">theParent&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;No&nbsp;bar()&nbsp;method<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;private&nbsp;bar()&nbsp;method&nbsp;is&nbsp;not&nbsp;accessible&nbsp;to&nbsp;theChild&nbsp;<br /></span><span style="color: #007700">}<br /><br />class&nbsp;</span><span style="color: #0000BB">theChild&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">theParent&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;bar&nbsp;is&nbsp;defined&nbsp;in&nbsp;theChild,&nbsp;but&nbsp;not&nbsp;theParent<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">bar</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
Note that if the parent is defined using  <span style="border: 1px solid #ddd; background-color: #f5f5f5">extends someClass</span>  but  <span style="border: 1px solid #ddd; background-color: #f5f5f5">someClass</span>  is not available in the tested code, it will not be reported : it may be in composer, another dependency, or just missing.<br />
<br />
See also <a href="http://php.net/manual/en/keyword.parent.php" alt="parent">parent</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_undefinedstaticmp" id="classes_undefinedstaticmp">Undefined static:: Or self::</a></h2><p>[Since 0.8.4] - [ -P Classes/UndefinedStaticMP ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#undefined-static::-or-self::">Online docs</a> ]</p><p>self and static refer to the current class, or one of its parent. The property or the method may be undefined.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">definedStatic</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">definedStatic&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">method</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">definedStatic</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">undefinedStatic</span><span style="color: #007700">();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;static::</span><span style="color: #0000BB">definedStatic</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;static::</span><span style="color: #0000BB">undefinedStatic</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.late-static-bindings.php" alt="Late Static Bindings">Late Static Bindings</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_accessprivate" id="classes_accessprivate">Accessing Private</a></h2><p>[Since 0.8.4] - [ -P Classes/AccessPrivate ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#accessing-private">Online docs</a> ]</p><p>List of calls to private properties/methods that will compile but yield some fatal error upon execution.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">b&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">c</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=classes_accessprotected" id="classes_accessprotected">Access Protected Structures</a></h2><p>[Since 0.8.4] - [ -P Classes/AccessProtected ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#access-protected-structures">Online docs</a> ]</p><p>It is not allowed to access protected properties or methods from outside the class or its relatives.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Foo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$foo</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_psswithoutclass" id="classes_psswithoutclass">Parent, Static Or Self Outside Class</a></h2><p>[Since 0.8.4] - [ -P Classes/PssWithoutClass ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#parent,-static-or-self-outside-class">Online docs</a> ]</p><p>Parent, static and self keywords must be used within a class or a trait. They make no sens outside a class or trait scope, as self and static refers to the current class and parent refers to one of parent above.<br />
<br />
PHP 7.0 and later detect their usage at compile time, and emits a fatal error.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">Y&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;self&nbsp;is&nbsp;\x<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">Y</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />const&nbsp;</span><span style="color: #0000BB">Z&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;doesn't&nbsp;compile&nbsp;anymore<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">Z</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
Static may be used in a function or a closure, but not globally.</p>
<h2><a href="issues.html#analyzer=extensions_extzmq" id="extensions_extzmq">ext/0mq</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extzmq ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-0mq">Online docs</a> ]</p><p>Extension ext/zmq for 0mq.<br />
<br />
 <span style="border: 1px solid #ddd; background-color: #f5f5f5">MQ is a software library that lets you quickly design and implement a fast message-based application.</span>  --0MQ Website<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Example&nbsp;from&nbsp;https://github.com/kuying/ZeroMQ/blob/d80dcc3dc1c14a343ca90bbd656b98fd55366548/zguide/examples/PHP/msgqueue.php<br />&nbsp;&nbsp;&nbsp;&nbsp;/*<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;Simple&nbsp;message&nbsp;queuing&nbsp;broker<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;Same&nbsp;as&nbsp;request-reply&nbsp;broker&nbsp;but&nbsp;using&nbsp;QUEUE&nbsp;device<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@author&nbsp;Ian&nbsp;Barber&nbsp;&lt;ian(dot)barber(at)gmail(dot)com&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$context&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ZMQContext</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;&nbsp;Socket&nbsp;facing&nbsp;clients<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$frontend&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$context</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getSocket</span><span style="color: #007700">(</span><span style="color: #0000BB">ZMQ</span><span style="color: #007700">::</span><span style="color: #0000BB">SOCKET_ROUTER</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$frontend</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bind</span><span style="color: #007700">(</span><span style="color: #0000BB">tcp</span><span style="color: #007700">:</span><span style="color: #FF8000">//*:5559);<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;Socket&nbsp;facing&nbsp;services<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$backend&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$context</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getSocket</span><span style="color: #007700">(</span><span style="color: #0000BB">ZMQ</span><span style="color: #007700">::</span><span style="color: #0000BB">SOCKET_DEALER</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$backend</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bind</span><span style="color: #007700">(</span><span style="color: #0000BB">tcp</span><span style="color: #007700">:</span><span style="color: #FF8000">//*:5560);<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;Start&nbsp;built-in&nbsp;device<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">new&nbsp;</span><span style="color: #0000BB">ZMQDevice</span><span style="color: #007700">(</span><span style="color: #0000BB">$frontend</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$backend</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://zeromq.org/" alt="ZeroMQ">ZeroMQ</a> and <a href="http://php.net/manual/en/book.zmq.php" alt="ZMQ">ZMQ</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extmemcache" id="extensions_extmemcache">ext/memcache</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extmemcache ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-memcache">Online docs</a> ]</p><p>Extension Memcache.<br />
<br />
Memcache module provides handy procedural and object oriented interface to memcached, highly effective caching daemon, which was especially designed to decrease database load in dynamic web applications.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$memcache&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Memcache</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$memcache</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">11211</span><span style="color: #007700">)&nbsp;or&nbsp;die&nbsp;(</span><span style="color: #DD0000">'Could&nbsp;not&nbsp;connect'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$version&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$memcache</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getVersion</span><span style="color: #007700">();<br />echo&nbsp;</span><span style="color: #DD0000">'Server\'s&nbsp;version:&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$version</span><span style="color: #007700">.</span><span style="color: #DD0000">'&lt;br/&gt;'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$tmp_object&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">stdClass</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$tmp_object</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">str_attr&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'test'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$tmp_object</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">int_attr&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">123</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$memcache</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">set</span><span style="color: #007700">(</span><span style="color: #DD0000">'key'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$tmp_object</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">)&nbsp;or&nbsp;die&nbsp;(</span><span style="color: #DD0000">'Failed&nbsp;to&nbsp;save&nbsp;data&nbsp;at&nbsp;the&nbsp;server'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">'Store&nbsp;data&nbsp;in&nbsp;the&nbsp;cache&nbsp;(data&nbsp;will&nbsp;expire&nbsp;in&nbsp;10&nbsp;seconds)&lt;br/&gt;'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$get_result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$memcache</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">get</span><span style="color: #007700">(</span><span style="color: #DD0000">'key'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">'Data&nbsp;from&nbsp;the&nbsp;cache:&lt;br/&gt;'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$get_result</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/manual/en/book.memcache.php" alt="Memcache on PHP">Memcache on PHP</a> and <a href="http://www.memcached.org/" alt="memcached">memcached</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extmemcached" id="extensions_extmemcached">ext/memcached</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extmemcached ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-memcached">Online docs</a> ]</p><p>Extension Memcached.<br />
<br />
This extension uses the libmemcached library to provide an API for communicating with memcached servers. It also provides a session handler (memcached).<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$m&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Memcached</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$m</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addServer</span><span style="color: #007700">(</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">11211</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$m</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">set</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$m</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">get</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">));<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.memcached.php" alt="ext/memcached manual">ext/memcached manual</a> and <br />
         <a href="http://www.memcached.org/" alt="memcached">memcached</a>.<br />
</p>
<h2><a href="issues.html#analyzer=functions_dynamiccall" id="functions_dynamiccall">Dynamic Function Call</a></h2><p>[Since 0.8.4] - [ -P Functions/Dynamiccall ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#dynamic-function-call">Online docs</a> ]</p><p>Mark a functioncall made with a variable name.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;function&nbsp;definition<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{}<br /><br /></span><span style="color: #FF8000">//&nbsp;function&nbsp;name&nbsp;is&nbsp;in&nbsp;a&nbsp;variable,&nbsp;as&nbsp;a&nbsp;string.<br /></span><span style="color: #0000BB">$var&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">;&nbsp;<br /><br /></span><span style="color: #FF8000">//&nbsp;dynamic&nbsp;call&nbsp;of&nbsp;a&nbsp;function<br /></span><span style="color: #0000BB">$var</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">call_user_func</span><span style="color: #007700">(</span><span style="color: #0000BB">$var</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=functions_variablearguments" id="functions_variablearguments">Has Variable Arguments</a></h2><p>[Since 0.8.4] - [ -P Functions/VariableArguments ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#has-variable-arguments">Online docs</a> ]</p><p>Indicates if this function or method accept an arbitrary number of arguments, based on ... or <a href="https://www.php.net/func_get_args" alt="func_get_args()">func_get_args()</a> usage.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Variables&nbsp;number&nbsp;of&nbsp;arguments<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">fixedNumberOfArguments</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;...</span><span style="color: #0000BB">$c</span><span style="color: #007700">)&nbsp;{}<br /><br /></span><span style="color: #FF8000">//&nbsp;Fixed&nbsp;number&nbsp;of&nbsp;arguments<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">fixedNumberOfArguments</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(`</span><span style="color: #DD0000">func_num_args()&nbsp;&lt;https://www.php.net/func_num_args&gt;</span><span style="color: #007700">`</span><span style="color: #0000BB">_&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;`</span><span style="color: #DD0000">func_get_args()&nbsp;&lt;https://www.php.net/func_get_args&gt;</span><span style="color: #007700">`</span><span style="color: #0000BB">_</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">array_shift</span><span style="color: #007700">(</span><span style="color: #0000BB">$c</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;$a<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">array_shift</span><span style="color: #007700">(</span><span style="color: #0000BB">$c</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;$b<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;do&nbsp;something<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;Fixed&nbsp;number&nbsp;of&nbsp;arguments<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">fixedNumberOfArguments</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_multiplecatch" id="structures_multiplecatch">Multiple Catch</a></h2><p>[Since 0.8.4] - [ -P Structures/MultipleCatch ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#multiple-catch">Online docs</a> ]</p><p>Indicates if a try structure have several catch statement.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;try&nbsp;has&nbsp;several&nbsp;catch<br /></span><span style="color: #007700">try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">RuntimeException&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">processRuntimeException</span><span style="color: #007700">();<br />}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">OtherException&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">processOtherException</span><span style="color: #007700">();<br />}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=classes_variableclasses" id="classes_variableclasses">Dynamically Called Classes</a></h2><p>[Since 0.8.4] - [ -P Classes/VariableClasses ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#dynamically-called-classes">Online docs</a> ]</p><p>Indicates if a class is called dynamically.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;class&nbsp;is&nbsp;called&nbsp;dynamically<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">X&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">CONSTANTE&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">$classe&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'X'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">$classe</span><span style="color: #007700">();<br /><br />echo&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">::</span><span style="color: #0000BB">CONSTANTE</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=functions_conditionedfunctions" id="functions_conditionedfunctions">Conditioned Function</a></h2><p>[Since 0.8.4] - [ -P Functions/ConditionedFunctions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#conditioned-function">Online docs</a> ]</p><p>Indicates if a function is defined only if a condition is met.<br />
<br />
<?php<br />
<br />
// This is a conditioned function. <br />
// it only exists if the PHP binary doesn't have it already.<br />
if (!function_exists('join')) {<br />
    function join($glue, $array) {<br />
        return implode($glue, $array);<br />
    }<br />
<br />
}<br />
<br />
</p>
<h2><a href="issues.html#analyzer=constants_conditionedconstants" id="constants_conditionedconstants">Conditioned Constants</a></h2><p>[Since 0.8.4] - [ -P Constants/ConditionedConstants ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#conditioned-constants">Online docs</a> ]</p><p>Indicates if a constant will be defined only if a condition is met.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">time</span><span style="color: #007700">()&nbsp;&gt;&nbsp;</span><span style="color: #0000BB">1519629617</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'MY_CONST'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">);<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'MY_CONST'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">time</span><span style="color: #007700">()&nbsp;-&nbsp;</span><span style="color: #0000BB">1519629617</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=functions_isgenerator" id="functions_isgenerator">Is Generator</a></h2><p>[Since 0.8.4] - [ -P Functions/IsGenerator ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#is-generator">Online docs</a> ]</p><p>Mark as such functions or methods that are using yield and yield from.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">generator</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;yield&nbsp;from&nbsp;</span><span style="color: #0000BB">generator2</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br />}<br /><br />function&nbsp;</span><span style="color: #0000BB">generator2</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;yield&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;yield&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=structures_tryfinally" id="structures_tryfinally">Try With Finally</a></h2><p>[Since 0.8.4] - [ -P Structures/TryFinally ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#try-with-finally">Online docs</a> ] - [ PHP 5.5 and more recent ]</p><p>Indicates if a try use a finally statement.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">Throwable&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Fix&nbsp;the&nbsp;problem<br /></span><span style="color: #007700">}&nbsp;finally&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;remove&nbsp;$a&nbsp;anyway<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">unset(</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.exceptions.php" alt="Exceptions">Exceptions</a>, to learn about catching an exception.<br />
</p>
<h2><a href="issues.html#analyzer=php_password55" id="php_password55">Use password_hash()</a></h2><p>[Since 0.8.4] - [ -P Php/Password55 ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-password_hash--">Online docs</a> ] - [ PHP 5.5 and more recent ]</p><p><a href="https://www.php.net/password_hash" alt="password_hash()">password_hash()</a> and password_check() are a better choice to replace the use of <a href="https://www.php.net/crypt" alt="crypt()">crypt()</a> to check password.<br />
<br />
PHP 5.5 introduced these functions.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$password&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'rasmuslerdorf'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$hash&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'$2y$10$YCFsG6elYca568hBi2pZ0.3LDL5wjgxct1N8w/oLR/jfHsiQwCqTS'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;The&nbsp;cost&nbsp;parameter&nbsp;can&nbsp;change&nbsp;over&nbsp;time&nbsp;as&nbsp;hardware&nbsp;improves<br /></span><span style="color: #0000BB">$options&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'cost'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">11</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Verify&nbsp;stored&nbsp;hash&nbsp;against&nbsp;plain-text&nbsp;password<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">password_verify</span><span style="color: #007700">(</span><span style="color: #0000BB">$password</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$hash</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Check&nbsp;if&nbsp;a&nbsp;newer&nbsp;hashing&nbsp;algorithm&nbsp;is&nbsp;available<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;or&nbsp;the&nbsp;cost&nbsp;has&nbsp;changed<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">password_needs_rehash</span><span style="color: #007700">(</span><span style="color: #0000BB">$hash</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PASSWORD_DEFAULT</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$options</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;If&nbsp;so,&nbsp;create&nbsp;a&nbsp;new&nbsp;hash,&nbsp;and&nbsp;replace&nbsp;the&nbsp;old&nbsp;one<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$newHash&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">password_hash</span><span style="color: #007700">(</span><span style="color: #0000BB">$password</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PASSWORD_DEFAULT</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$options</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Log&nbsp;user&nbsp;in<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.password.php" alt="Password hashing">Password hashing</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_dereferencingas" id="structures_dereferencingas">Dereferencing String And Arrays</a></h2><p>[Since 0.8.4] - [ -P Structures/DereferencingAS ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#dereferencing-string-and-arrays">Online docs</a> ] - [ PHP  older than 5.3]</p><p>PHP allows the direct dereferencing of strings and arrays. <br />
<br />
This was added in PHP 5.5. There is no need anymore for an intermediate variable between a string and array (or any expression generating such value) and accessing an index.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">4</span><span style="color: #007700">,</span><span style="color: #0000BB">5</span><span style="color: #007700">,</span><span style="color: #0000BB">6</span><span style="color: #007700">);&nbsp;<br /></span><span style="color: #0000BB">$y&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">]&nbsp;;&nbsp;</span><span style="color: #FF8000">//&nbsp;is&nbsp;6<br /><br /></span><span style="color: #0000BB">May&nbsp;be&nbsp;replaced&nbsp;by&nbsp;<br />$y&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">4</span><span style="color: #007700">,</span><span style="color: #0000BB">5</span><span style="color: #007700">,</span><span style="color: #0000BB">6</span><span style="color: #007700">)[</span><span style="color: #0000BB">2</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">$y&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">4</span><span style="color: #007700">,</span><span style="color: #0000BB">5</span><span style="color: #007700">,</span><span style="color: #0000BB">6</span><span style="color: #007700">][</span><span style="color: #0000BB">2</span><span style="color: #007700">];<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_staticclassusage" id="php_staticclassusage">::class</a></h2><p>[Since 0.8.4] - [ -P Php/StaticclassUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#::class">Online docs</a> ] - [ PHP 5.5 and more recent ]</p><p>PHP has a special class constant to hold the name of the class :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">class</span>  keyword. It represents the class name that is used in the left part of the operator.<br />
<br />
Using  <span style="border: 1px solid #ddd; background-color: #f5f5f5">::class</span>  is safer than relying on a string. It does adapt if the class's name or its namespace is changed'. It is also faster, though it is a micro-optimisation. <br />
<br />
It is introduced in PHP 5.5.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">\</span><span style="color: #0000BB">B</span><span style="color: #007700">\</span><span style="color: #0000BB">C&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">UsedName</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(&nbsp;)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">ClassName</span><span style="color: #007700">::class;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">UsedName</span><span style="color: #007700">::class;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$f&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Foo</span><span style="color: #007700">(&nbsp;);<br /></span><span style="color: #0000BB">$f</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(&nbsp;);<br /></span><span style="color: #FF8000">//&nbsp;displays&nbsp;ClassName&nbsp;<br />//&nbsp;displays&nbsp;A\B\C<br /></span>?&gt;</pre><br />
<br />
Be aware that  <span style="border: 1px solid #ddd; background-color: #f5f5f5">::class</span>  is a replacement for __CLASS__ magic constant. <br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.constants.php" alt="Class Constant">Class Constant</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_foreachwithlist" id="structures_foreachwithlist">Foreach With list()</a></h2><p>[Since 0.8.4] - [ -P Structures/ForeachWithList ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#foreach-with-list--">Online docs</a> ] - [ PHP 5.5 and more recent ]</p><p>Foreach loops have the ability to use list as blind variables. This syntax assign directly array elements to various variables. <br />
<br />
PHP 5.5 introduced the usage of list in for<a href="https://www.php.net/each" alt="each()">each()</a> loops. Until PHP 7.1, it was not possible to use non-numerical arrays as list() wouldn't support string-indexed arrays.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;PHP&nbsp;5.5&nbsp;and&nbsp;later,&nbsp;with&nbsp;numerically-indexed&nbsp;arrays<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;list(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">))&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;do&nbsp;something&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;PHP&nbsp;7.1&nbsp;and&nbsp;later,&nbsp;with&nbsp;arrays<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;list(</span><span style="color: #DD0000">'col1'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'col3'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">))&nbsp;{&nbsp;</span><span style="color: #FF8000">//&nbsp;'col2&nbsp;is&nbsp;ignored'<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;do&nbsp;something&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
Previously, it was compulsory to <a href="https://www.php.net/extract" alt="extract()">extract()</a> the data from the blind array : <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">)&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;=&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;do&nbsp;something&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://sebastiandedeyne.com/the-list-function-and-practical-uses-of-array-destructuring-in-php" alt="The list function & practical uses of array destructuring in PHP">The list function & practical uses of array destructuring in PHP</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_emptywithexpression" id="structures_emptywithexpression">Empty With Expression</a></h2><p>[Since 0.8.4] - [ -P Structures/EmptyWithExpression ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#empty-with-expression">Online docs</a> ] - [ PHP 5.5 and more recent ]</p><p><a href="https://www.php.net/empty" alt="empty()">empty()</a> doesn't accept expressions until PHP 5.5. Until then, it is necessary to store the result of the expression in a variable and then, test it with <a href="https://www.php.net/empty" alt="empty()">empty()</a>.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;PHP&nbsp;5.5+&nbsp;`empty()&nbsp;&lt;https://www.php.net/empty&gt;`_&nbsp;usage<br /></span><span style="color: #007700">if&nbsp;(empty(</span><span style="color: #0000BB">strtolower</span><span style="color: #007700">(</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">)))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomethingWithoutA</span><span style="color: #007700">();<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Compatible&nbsp;`empty()&nbsp;&lt;https://www.php.net/empty&gt;`_&nbsp;usage<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">strtolower</span><span style="color: #007700">(</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">);<br />if&nbsp;(empty(</span><span style="color: #0000BB">$a</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomethingWithoutA</span><span style="color: #007700">();<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/empty" alt="empty">empty</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_listomissions" id="structures_listomissions">list() May Omit Variables</a></h2><p>[Since 0.8.4] - [ -P Structures/ListOmissions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#list---may-omit-variables">Online docs</a> ]</p><p>Simply omit any unused variable in a list() call. <br />
<br />
list() is the only PHP function that accepts to have omitted arguments. If the following code makes no usage of a listed variable, just omit it. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;No&nbsp;need&nbsp;for&nbsp;'2',&nbsp;so&nbsp;no&nbsp;assignation<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">list&nbsp;(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;=&nbsp;array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;works&nbsp;with&nbsp;PHP&nbsp;7.1&nbsp;short&nbsp;syntax<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">]&nbsp;=&nbsp;array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;No&nbsp;need&nbsp;for&nbsp;'2',&nbsp;so&nbsp;no&nbsp;assignation<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">list&nbsp;(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;=&nbsp;array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/function.list.php" alt="list">list</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_ordie" id="structures_ordie">Or Die</a></h2><p>[Since 0.8.4] - [ -P Structures/OrDie ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#or-die">Online docs</a> ]</p><p>Classic old style failed error management. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;In&nbsp;case&nbsp;the&nbsp;connexion&nbsp;fails,&nbsp;this&nbsp;kills&nbsp;the&nbsp;current&nbsp;script<br /></span><span style="color: #0000BB">mysql_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$user</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$pass</span><span style="color: #007700">)&nbsp;or&nbsp;die();<br /></span>?&gt;</pre><br />
<br />
Interrupting a script will leave the application with a blank page, will make your life miserable for testing. Just don't do that.<br />
<br />
See also <a href="http://php.net/manual/en/function.pg-last-error.php" alt="pg_last_error">pg_last_error</a> or <br />
         <a href="http://php.net/manual/en/pdo.exec.php" alt="PDO::exec">PDO::exec</a>.<br />
</p>
<h2><a href="issues.html#analyzer=namespaces_usefunctionsconstants" id="namespaces_usefunctionsconstants">Use Const And Functions</a></h2><p>[Since 0.8.4] - [ -P Namespaces/UseFunctionsConstants ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-const-and-functions">Online docs</a> ] - [ PHP 5.6 and more recent ]</p><p>Since PHP 5.6 it is possible to import specific functions or constants from other namespaces.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">X&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{&nbsp;echo&nbsp;</span><span style="color: #0000BB">__FUNCTION__</span><span style="color: #007700">;&nbsp;}<br />}<br /><br />namespace&nbsp;</span><span style="color: #0000BB">My</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;function&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">\</span><span style="color: #0000BB">foo</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">constant&nbsp;A</span><span style="color: #007700">\</span><span style="color: #0000BB">X</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">X</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.namespaces.importing.php" alt="Using namespaces: Aliasing/Importing">Using namespaces: Aliasing/Importing</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_constantscalarexpression" id="structures_constantscalarexpression">Constant Scalar Expressions</a></h2><p>[Since 0.8.4] - [ -P Structures/ConstantScalarExpression ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#constant-scalar-expressions">Online docs</a> ] - [ PHP 5.6 and more recent ]</p><p>Define constant with the result of static expressions. This means that constants may be defined with the const keyword, with the help of various operators but without any functioncalls. <br />
<br />
This feature was introduced in PHP 5.6. It also supports array(), and expressions in arrays.<br />
<br />
Those expressions (using simple operators) may only manipulate other constants, and all values must be known at compile time. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;simple&nbsp;definition<br /></span><span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;constant&nbsp;scalar&nbsp;expression<br /></span><span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;constant&nbsp;scalar&nbsp;expression<br /></span><span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">C&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">**&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'3'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">B</span><span style="color: #007700">];<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://wiki.php.net/rfc/const_scalar_exprs" alt="Constant Scalar Expressions">Constant Scalar Expressions</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_unreachablecode" id="structures_unreachablecode">Unreachable Code</a></h2><p>[Since 0.8.4] - [ -P Structures/UnreachableCode ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unreachable-code">Online docs</a> ]</p><p>Code may be unreachable, because other instructions prevent its reaching. <br />
For example, it be located after throw, return, exit(), die(), goto, break or continue : this way, it cannot be reached, as the previous instruction will divert the engine to another part of the code. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">++;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$b++&nbsp;can't&nbsp;be&nbsp;reached;<br /></span><span style="color: #007700">}<br /><br />function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">++;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$b++&nbsp;can't&nbsp;be&nbsp;reached;<br /></span><span style="color: #007700">}<br /><br />foreach(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">+=&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">--;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">+=&nbsp;</span><span style="color: #0000BB">$e</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;this&nbsp;can't&nbsp;be&nbsp;reached<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />goto&nbsp;</span><span style="color: #0000BB">B</span><span style="color: #007700">;<br />class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{}&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Definitions&nbsp;are&nbsp;accessible,&nbsp;but&nbsp;not&nbsp;functioncalls<br /></span><span style="color: #0000BB">B</span><span style="color: #007700">:&nbsp;<br />echo&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
This is dead code, that may be removed.</p>
<h2><a href="issues.html#analyzer=variables_writtenonlyvariable" id="variables_writtenonlyvariable">Written Only Variables</a></h2><p>[Since 0.8.4] - [ -P Variables/WrittenOnlyVariable ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#written-only-variables">Online docs</a> ]</p><p>Those variables are being written, but never read. This way, they are useless and should be removed, or read at some point.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;$a&nbsp;is&nbsp;used&nbsp;multiple&nbsp;times,&nbsp;but&nbsp;never&nbsp;read<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'a'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;&nbsp;<br /></span><span style="color: #FF8000">//$b&nbsp;is&nbsp;actually&nbsp;read&nbsp;once<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=functions_mustreturn" id="functions_mustreturn">Must Return Methods</a></h2><p>[Since 0.8.4] - [ -P Functions/MustReturn ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#must-return-methods">Online docs</a> ]</p><p>The following methods are expected to return a value that will be used later. Without return, they are useless.<br />
<br />
Methods that must return are : __get(), __isset(), __<a href="https://www.php.net/sleep" alt="sleep()">sleep()</a>, __toString(), __set_state(), __invoke(), __debugInfo().<br />
Methods that may not return, but are often expected to : __call(), __callStatic().<br />
<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__isset</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;returning&nbsp;something&nbsp;useful<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;isset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">$var</span><span style="color: #007700">[</span><span style="color: #0000BB">$a</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__get</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">$a</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;not&nbsp;returning...&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__call</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$args</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">$name</span><span style="color: #007700">(...</span><span style="color: #0000BB">$args</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;not&nbsp;returning&nbsp;anything,&nbsp;but&nbsp;that's&nbsp;OK<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /><br />}<br /></span>?&gt;</pre><br />
<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_debuginfousage" id="php_debuginfousage">__debugInfo() Usage</a></h2><p>[Since 0.8.4] - [ -P Php/debugInfoUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#__debuginfo---usage">Online docs</a> ] - [ PHP 5.6 and more recent ]</p><p>The magic method __debugInfo() provides a custom way to dump an object. <br />
<br />
It has been introduced in PHP 5.6. In the previous versions of PHP, this method is ignored and won't be called when debugging.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;PHP&nbsp;5.6&nbsp;or&nbsp;later<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$reallyHidden&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__debugInfo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;[</span><span style="color: #DD0000">'bar'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bar</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'reallyHidden'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Secret'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$f&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Foo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$f</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Displays&nbsp;:&nbsp;<br />object(foo)#1&nbsp;(2)&nbsp;{<br />&nbsp;&nbsp;[bar]=&gt;<br />&nbsp;&nbsp;int(1)<br />&nbsp;&nbsp;[reallyHidden]=&gt;<br />&nbsp;&nbsp;string(6)&nbsp;Secret<br />}<br />*/<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.magic.php" alt="Magic methods">Magic methods</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_emptylines" id="structures_emptylines">Empty Instructions</a></h2><p>[Since 0.8.4] - [ -P Structures/EmptyLines ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#empty-instructions">Online docs</a> ]</p><p>Empty instructions are part of the code that have no instructions. <br />
<br />
This may be trailing semi-colon or empty blocks for if-then structures.<br />
<br />
Comments that explains the reason of the situation are not taken into account.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$condition&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;;;;<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$condition</span><span style="color: #007700">)&nbsp;{&nbsp;}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=arrays_mixedkeys" id="arrays_mixedkeys">Mixed Keys Arrays</a></h2><p>[Since 0.8.4] - [ -P Arrays/MixedKeys ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#mixed-keys-arrays">Online docs</a> ] - [ PHP 5.6 and more recent ]</p><p>Avoid mixing constants and literals in array keys.<br />
<br />
When defining default values in arrays, it is recommended to avoid mixing constants and literals, as PHP may mistake them and overwrite the previous with the latter.<br />
<br />
Either switch to a newer version of PHP (5.5 or newer), or make sure the resulting array hold the expected data. If not, reorder the definitions.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">ONE&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;[&nbsp;</span><span style="color: #0000BB">1&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">ONE&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">];<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=extensions_extimagick" id="extensions_extimagick">ext/imagick</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extimagick ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-imagick">Online docs</a> ]</p><p>Extension Imagick for PHP.<br />
<br />
Imagick is a native php extension to create and modify images using the ImageMagick API.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Content-type:&nbsp;image/jpeg'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$image&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Imagick</span><span style="color: #007700">(</span><span style="color: #DD0000">'image.jpg'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;If&nbsp;0&nbsp;is&nbsp;provided&nbsp;as&nbsp;a&nbsp;width&nbsp;or&nbsp;height&nbsp;parameter,<br />//&nbsp;aspect&nbsp;ratio&nbsp;is&nbsp;maintained<br /></span><span style="color: #0000BB">$image</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">thumbnailImage</span><span style="color: #007700">(</span><span style="color: #0000BB">100</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #0000BB">$image</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.imagick.php" alt="Imagick for PHP">Imagick for PHP</a> and <a href="https://www.imagemagick.org/script/index.php" alt="Imagick">Imagick</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_unusedmethods" id="classes_unusedmethods">Unused Methods</a></h2><p>[Since 0.8.4] - [ -P Classes/UnusedMethods ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unused-methods">Online docs</a> ]</p><p>Those methods are never called as methods. <br />
<br />
They are probably dead code, unless they are called dynamically.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">used</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">used</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">unused</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">used</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">some</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">used</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">used</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=extensions_extoci8" id="extensions_extoci8">ext/oci8</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extoci8 ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-oci8">Online docs</a> ]</p><p>Extension ext/oci8.<br />
<br />
OCI8 gives access Oracle Database 12c, 11g, 10g, 9i and 8i. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$conn&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">oci_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'hr'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'welcome'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'localhost/XE'</span><span style="color: #007700">);<br />if&nbsp;(!</span><span style="color: #0000BB">$conn</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$e&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">oci_error</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">trigger_error</span><span style="color: #007700">(</span><span style="color: #0000BB">htmlentities</span><span style="color: #007700">(</span><span style="color: #0000BB">$e</span><span style="color: #007700">[</span><span style="color: #DD0000">'message'</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">ENT_QUOTES</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">E_USER_ERROR</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Prepare&nbsp;the&nbsp;statement<br /></span><span style="color: #0000BB">$stid&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">oci_parse</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'SELECT&nbsp;*&nbsp;FROM&nbsp;departments'</span><span style="color: #007700">);<br />if&nbsp;(!</span><span style="color: #0000BB">$stid</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$e&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">oci_error</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">trigger_error</span><span style="color: #007700">(</span><span style="color: #0000BB">htmlentities</span><span style="color: #007700">(</span><span style="color: #0000BB">$e</span><span style="color: #007700">[</span><span style="color: #DD0000">'message'</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">ENT_QUOTES</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">E_USER_ERROR</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Perform&nbsp;the&nbsp;logic&nbsp;of&nbsp;the&nbsp;query<br /></span><span style="color: #0000BB">$r&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">oci_execute</span><span style="color: #007700">(</span><span style="color: #0000BB">$stid</span><span style="color: #007700">);<br />if&nbsp;(!</span><span style="color: #0000BB">$r</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$e&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">oci_error</span><span style="color: #007700">(</span><span style="color: #0000BB">$stid</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">trigger_error</span><span style="color: #007700">(</span><span style="color: #0000BB">htmlentities</span><span style="color: #007700">(</span><span style="color: #0000BB">$e</span><span style="color: #007700">[</span><span style="color: #DD0000">'message'</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">ENT_QUOTES</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">E_USER_ERROR</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Fetch&nbsp;the&nbsp;results&nbsp;of&nbsp;the&nbsp;query<br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #DD0000">'&lt;table&nbsp;border='</span><span style="color: #0000BB">1</span><span style="color: #DD0000">'&gt;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />while&nbsp;(</span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">oci_fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$stid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">OCI_ASSOC</span><span style="color: #007700">+</span><span style="color: #0000BB">OCI_RETURN_NULLS</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">'&lt;tr&gt;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$item</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">'&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;'&nbsp;</span><span style="color: #007700">.&nbsp;(</span><span style="color: #0000BB">$item&nbsp;</span><span style="color: #007700">!==&nbsp;</span><span style="color: #0000BB">null&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #0000BB">htmlentities</span><span style="color: #007700">(</span><span style="color: #0000BB">$item</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">ENT_QUOTES</span><span style="color: #007700">)&nbsp;:&nbsp;</span><span style="color: #DD0000">'&amp;nbsp;'</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">'&lt;/td&gt;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">'&lt;/tr&gt;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />}<br />print&nbsp;</span><span style="color: #DD0000">'&lt;/table&gt;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">oci_free_statement</span><span style="color: #007700">(</span><span style="color: #0000BB">$stid</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">oci_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.oci8.php" alt="Oracle OCI8">Oracle OCI8</a> and <a href="https://www.oracle.com/" alt="Oracle">Oracle</a>.<br />
</p>
<h2><a href="issues.html#analyzer=exceptions_overwriteexception" id="exceptions_overwriteexception">Overwritten Exceptions</a></h2><p>[Since 0.8.4] - [ -P Exceptions/OverwriteException ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#overwritten-exceptions">Online docs</a> ]</p><p>In catch blocks, it is good practice not to overwrite the incoming exception, as information about the exception will be lost.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">SomeException&nbsp;$e</span><span style="color: #007700">)&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$e&nbsp;is&nbsp;overwritten&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$e&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">anotherException</span><span style="color: #007700">(</span><span style="color: #0000BB">$e</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMessage</span><span style="color: #007700">());&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;</span><span style="color: #0000BB">$e</span><span style="color: #007700">;<br />}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">SomeOtherException&nbsp;$e</span><span style="color: #007700">)&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$e&nbsp;is&nbsp;chained&nbsp;with&nbsp;the&nbsp;next&nbsp;exception&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$e&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Exception</span><span style="color: #007700">(</span><span style="color: #0000BB">$e</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMessage</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$e</span><span style="color: #007700">);&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;</span><span style="color: #0000BB">$e</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=structures_foreachreferenceisnotmodified" id="structures_foreachreferenceisnotmodified">Foreach Reference Is Not Modified</a></h2><p>[Since 0.8.4] - [ -P Structures/ForeachReferenceIsNotModified ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#foreach-reference-is-not-modified">Online docs</a> ]</p><p>Foreach statement may loop using a reference, especially when the loop has to change values of the array it is looping on. <br />
<br />
In the spotted loop, reference are used but never modified. They may be removed.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$letters&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">range</span><span style="color: #007700">(</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'z'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;$letter&nbsp;is&nbsp;not&nbsp;used&nbsp;here<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$letters&nbsp;</span><span style="color: #007700">as&nbsp;&amp;</span><span style="color: #0000BB">$letter</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$alphabet&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #0000BB">$letter</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;$letter&nbsp;is&nbsp;actually&nbsp;used&nbsp;here<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$letters&nbsp;</span><span style="color: #007700">as&nbsp;&amp;</span><span style="color: #0000BB">$letter</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$letter&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">strtoupper</span><span style="color: #007700">(</span><span style="color: #0000BB">$letter</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extimap" id="extensions_extimap">ext/imap</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extimap ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-imap">Online docs</a> ]</p><p>Extension ext/imap.<br />
<br />
This extension operate with the IMAP protocol, as well as the NNTP, POP3 and local mailbox access methods.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$mbox&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imap_open</span><span style="color: #007700">(</span><span style="color: #DD0000">'{imap.example.org}'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'username'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'password'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">OP_HALFOPEN</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;die(</span><span style="color: #DD0000">'can'</span><span style="color: #0000BB">t&nbsp;connect</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'&nbsp;.&nbsp;imap_last_error());<br /><br />$list&nbsp;=&nbsp;imap_list($mbox,&nbsp;'</span><span style="color: #007700">{</span><span style="color: #0000BB">imap</span><span style="color: #007700">.</span><span style="color: #0000BB">example</span><span style="color: #007700">.</span><span style="color: #0000BB">org</span><span style="color: #007700">}</span><span style="color: #DD0000">',&nbsp;'</span><span style="color: #007700">*</span><span style="color: #DD0000">');<br />if&nbsp;(is_array($list))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;($list&nbsp;as&nbsp;$val)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;imap_utf7_decode($val)&nbsp;.&nbsp;PHP_EOL;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;'</span><span style="color: #0000BB">imap_list&nbsp;failed</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'&nbsp;.&nbsp;imap_last_error()&nbsp;.&nbsp;PHP_EOL;<br />}<br /><br />imap_close($mbox);</span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/imap" alt="IMAP">IMAP</a>.</p>
<h2><a href="issues.html#analyzer=classes_overwrittenconst" id="classes_overwrittenconst">Overwritten Class Const</a></h2><p>[Since 0.8.4] - [ -P Classes/OverwrittenConst ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#overwritten-class-const">Online docs</a> ]</p><p>Those class constants are overwritten in a parent class. This may lead to confusion, as the value of the constant may change depending on the way it is called.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">C&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">C&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">x</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;depending&nbsp;on&nbsp;the&nbsp;access&nbsp;to&nbsp;C,&nbsp;value&nbsp;is&nbsp;different.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">print&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">C</span><span style="color: #007700">.</span><span style="color: #DD0000">'&nbsp;'</span><span style="color: #007700">.static::</span><span style="color: #0000BB">C</span><span style="color: #007700">.</span><span style="color: #DD0000">'&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">C</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=security_directinjection" id="security_directinjection">Direct Injection</a></h2><p>[Since 0.8.4] - [ -P Security/DirectInjection ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#direct-injection">Online docs</a> ]</p><p>The following code act directly upon PHP incoming variables like  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$_GET</span>  and  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$_POST</span> . This makes those snippets very unsafe.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Direct&nbsp;injection<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">Hello</span><span style="color: #007700">.</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'user'</span><span style="color: #007700">].,&nbsp;</span><span style="color: #0000BB">welcome</span><span style="color: #007700">.;<br /><br /></span><span style="color: #FF8000">//&nbsp;less&nbsp;direct&nbsp;injection<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'user'</span><span style="color: #007700">]);<br />function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$user</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">Hello</span><span style="color: #007700">.</span><span style="color: #0000BB">$user</span><span style="color: #007700">.,&nbsp;</span><span style="color: #0000BB">welcome</span><span style="color: #007700">.;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://phpsecurity.readthedocs.io/en/latest/Cross-Site-Scripting-(XSS).html" alt="Cross-Site Scripting (XSS)">Cross-Site Scripting (XSS)</a><br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_dynamicconstantcall" id="classes_dynamicconstantcall">Dynamic Class Constant</a></h2><p>[Since 0.8.4] - [ -P Classes/DynamicConstantCall ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#dynamic-class-constant">Online docs</a> ]</p><p>Dynamic calls to class constants.<br />
<br />
Constant may be dynamically called with the <a href="https://www.php.net/constant" alt="constant()">constant()</a> function.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Dynamic&nbsp;access&nbsp;to&nbsp;'E_ALL'<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">constant</span><span style="color: #007700">(</span><span style="color: #DD0000">'E_ALL'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;interface&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">MY_CONSTANT&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Dynamic&nbsp;access&nbsp;to&nbsp;'E_ALL'<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">constant</span><span style="color: #007700">(</span><span style="color: #DD0000">'i::MY_CONSTANT'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_dynamicmethodcall" id="classes_dynamicmethodcall">Dynamic Methodcall</a></h2><p>[Since 0.8.4] - [ -P Classes/DynamicMethodCall ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#dynamic-methodcall">Online docs</a> ]</p><p>Dynamic calls to class methods.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{}<br />}<br /><br /></span><span style="color: #0000BB">$staticmethod&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;dynamic&nbsp;static&nbsp;method&nbsp;call&nbsp;to&nbsp;x::foo()<br /></span><span style="color: #0000BB">x</span><span style="color: #007700">::</span><span style="color: #0000BB">$staticmethod</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">$method&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;dynamic&nbsp;method&nbsp;call&nbsp;to&nbsp;bar()<br /></span><span style="color: #0000BB">$object&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">x</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$object</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">$method</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_dynamicnew" id="classes_dynamicnew">Dynamic New</a></h2><p>[Since 0.8.4] - [ -P Classes/DynamicNew ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#dynamic-new">Online docs</a> ]</p><p>Dynamic instantiation of classes.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$object&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">$classname</span><span style="color: #007700">()<br /></span>?&gt;</pre><br />
.</p>
<h2><a href="issues.html#analyzer=classes_dynamicpropertycall" id="classes_dynamicpropertycall">Dynamic Property</a></h2><p>[Since 0.8.4] - [ -P Classes/DynamicPropertyCall ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#dynamic-property">Online docs</a> ]</p><p>Dynamic access to class property.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;public&nbsp;</span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">$staticproperty&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;dynamic&nbsp;static&nbsp;property&nbsp;call&nbsp;to&nbsp;x::$foo<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">x</span><span style="color: #007700">::${</span><span style="color: #0000BB">$staticproperty</span><span style="color: #007700">};<br /><br /></span><span style="color: #0000BB">$property&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;dynamic&nbsp;property&nbsp;call&nbsp;to&nbsp;bar()<br /></span><span style="color: #0000BB">$object&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">x</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$object</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">$property&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_nochangeincomingvariables" id="structures_nochangeincomingvariables">Don't Change Incomings</a></h2><p>[Since 0.8.4] - [ -P Structures/NoChangeIncomingVariables ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#don't-change-incomings">Online docs</a> ]</p><p>PHP hands over a lot of information using special variables like $_GET, $_POST, etc... Modifying those variables and those values inside variables means that the original content is lost, while it will still look like raw data, and, as such, will be untrustworthy.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;filtering&nbsp;and&nbsp;keeping&nbsp;the&nbsp;incoming&nbsp;value.&nbsp;<br /></span><span style="color: #0000BB">$_DATA</span><span style="color: #DD0000">'id'</span><span style="color: #007700">]&nbsp;=&nbsp;(int)&nbsp;</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'id'</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;filtering&nbsp;and&nbsp;changing&nbsp;the&nbsp;incoming&nbsp;value.&nbsp;<br /></span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'id'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">strtolower</span><span style="color: #007700">(</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'id'</span><span style="color: #007700">]);<br /></span>?&gt;</pre><br />
<br />
It is recommended to put the modified values in another variable, and keep the original one intact.</p>
<h2><a href="issues.html#analyzer=classes_dynamicclass" id="classes_dynamicclass">Dynamic Classes</a></h2><p>[Since 0.8.4] - [ -P Classes/DynamicClass ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#dynamic-classes">Online docs</a> ]</p><p>Dynamic calls of classes.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">staticMethod</span><span style="color: #007700">()&nbsp;{}<br />}<br /><br /></span><span style="color: #0000BB">$class&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'x'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$class</span><span style="color: #007700">::</span><span style="color: #0000BB">staticMethod</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_comparedcomparison" id="structures_comparedcomparison">Compared Comparison</a></h2><p>[Since 0.8.4] - [ -P Structures/ComparedComparison ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#compared-comparison">Online docs</a> ]</p><p>Usually, comparison are sufficient, and it is rare to have to compare the result of comparison. Check if this two-stage comparison is really needed.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$needle</span><span style="color: #007700">)&nbsp;&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;{}<br /><br /></span><span style="color: #FF8000">//&nbsp;the&nbsp;expression&nbsp;above&nbsp;apply&nbsp;precedence&nbsp;:&nbsp;<br />//&nbsp;it&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;:&nbsp;<br /></span><span style="color: #007700">if&nbsp;((</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$needle</span><span style="color: #007700">))&nbsp;&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;{}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.operators.precedence.php" alt="Operators Precedence">Operators Precedence</a>.<br />
</p>
<h2><a href="issues.html#analyzer=functions_uselessreturn" id="functions_uselessreturn">Useless Return</a></h2><p>[Since 0.8.4] - [ -P Functions/UselessReturn ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#useless-return">Online docs</a> ]</p><p>The spotted functions or methods have a return statement, but this statement is useless. This is the case for constructor and destructors, whose return value are ignored or inaccessible.<br />
<br />
When return is void, and the last element in a function, it is also useless.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;return&nbsp;is&nbsp;not&nbsp;used&nbsp;by&nbsp;PHP<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(&amp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;The&nbsp;last&nbsp;return,&nbsp;when&nbsp;empty,&nbsp;is&nbsp;useless<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return;<br />}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=classes_multipleclassesinfile" id="classes_multipleclassesinfile">Multiple Classes In One File</a></h2><p>[Since 0.8.4] - [ -P Classes/MultipleClassesInFile ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#multiple-classes-in-one-file">Online docs</a> ]</p><p>It is regarded as a bad practice to store several classes in the same file. This is usually done to make life of __autoload() easier. <br />
<br />
It is often unexpected to find class  <span style="border: 1px solid #ddd; background-color: #f5f5f5">foo</span>  in the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">bar.php</span>  file. This is also the case for interfaces and traits.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;three&nbsp;classes&nbsp;in&nbsp;the&nbsp;same&nbsp;file<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{}<br />class&nbsp;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">{}<br />class&nbsp;</span><span style="color: #0000BB">foobar</span><span style="color: #007700">{}<br /></span>?&gt;</pre><br />
<br />
One good reason to have multiple classes in one file is to reduce include time by providing everything into one nice include. <br />
<br />
See also <a href="https://stackoverflow.com/questions/360643/is-it-a-bad-practice-to-have-multiple-classes-in-the-same-file" alt="Is it a bad practice to have multiple classes in the same file?">Is it a bad practice to have multiple classes in the same file?</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_fileuploadusage" id="structures_fileuploadusage">File Uploads</a></h2><p>[Since 0.8.4] - [ -P Structures/FileUploadUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#file-uploads">Online docs</a> ]</p><p>This code makes usage of file upload features of PHP.<br />
<br />
Upload file feature is detected through the usage of specific functions : <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$uploaddir&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'/var/www/uploads/'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$uploadfile&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$uploaddir&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">basename</span><span style="color: #007700">(</span><span style="color: #0000BB">$_FILES</span><span style="color: #007700">[</span><span style="color: #DD0000">'userfile'</span><span style="color: #007700">][</span><span style="color: #DD0000">'name'</span><span style="color: #007700">]);<br /><br />echo&nbsp;</span><span style="color: #DD0000">'&lt;pre&gt;'</span><span style="color: #007700">;<br />if&nbsp;(</span><span style="color: #0000BB">move_uploaded_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$_FILES</span><span style="color: #007700">[</span><span style="color: #DD0000">'userfile'</span><span style="color: #007700">][</span><span style="color: #DD0000">'tmp_name'</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">$uploadfile</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'File&nbsp;is&nbsp;valid,&nbsp;and&nbsp;was&nbsp;successfully&nbsp;uploaded.'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Possible&nbsp;file&nbsp;upload&nbsp;attack!'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />}<br /><br />echo&nbsp;</span><span style="color: #DD0000">'Here&nbsp;is&nbsp;some&nbsp;more&nbsp;debugging&nbsp;info:'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$_FILES</span><span style="color: #007700">);<br /><br />print&nbsp;</span><span style="color: #DD0000">'&lt;/pre&gt;'</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/features.file-upload.php" alt="Handling file uploads">Handling file uploads</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_returnwithparenthesis" id="php_returnwithparenthesis">Return With Parenthesis</a></h2><p>[Since 0.8.4] - [ -P Php/ReturnWithParenthesis ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#return-with-parenthesis">Online docs</a> ]</p><p>return statement doesn't need parenthesis. PHP tolerates them with return statement, but it is recommended not to use them. <br />
<br />
From the PHP Manual : 'Note: Note that since return is a language construct and not a function, the parentheses surrounding its argument are not required and their use is discouraged.'.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">rand</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;No&nbsp;need&nbsp;for&nbsp;parenthesis<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Parenthesis&nbsp;are&nbsp;useless&nbsp;here<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;(</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Parenthesis&nbsp;are&nbsp;useful&nbsp;here:&nbsp;they&nbsp;are&nbsp;needed&nbsp;by&nbsp;the&nbsp;multplication.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;*&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://stackoverflow.com/questions/2921843/php-returnvalue-vs-return-value" alt="PHP return(value); vs return value;">PHP return(value); vs return value;</a> and <br />
         <a href="https://www.php.net/manual/en/function.return.php" alt="return">return</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_unusedclass" id="classes_unusedclass">Unused Classes</a></h2><p>[Since 0.8.4] - [ -P Classes/UnusedClass ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unused-classes">Online docs</a> ]</p><p>The following classes are never explicitly used in the code.<br />
<br />
Note that this may be valid in case the current code is a library or framework, since it defines classes that are used by other (unprovided) codes.<br />
Also, this analyzer may find classes that are, in fact, dynamically loaded. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">unusedClasss&nbsp;</span><span style="color: #007700">{}<br />class&nbsp;</span><span style="color: #0000BB">usedClass&nbsp;</span><span style="color: #007700">{}<br /><br /></span><span style="color: #0000BB">$y&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">usedClass</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extintl" id="extensions_extintl">ext/intl</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extintl ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-intl">Online docs</a> ]</p><p>Extension international.<br />
<br />
Internationalization extension (further is referred as Intl) is a wrapper for <a href="http://site.icu-project.org/" alt="ICU">ICU</a> library, enabling PHP programmers to perform various locale-aware operations including but not limited to formatting, transliteration, encoding conversion, calendar operations, <a href="http://www.unicode.org/reports/tr10/" alt="UCA">UCA</a>-conformant collation, locating text boundaries and working with locale identifiers, timezones and graphemes.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$coll&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Collator</span><span style="color: #007700">(</span><span style="color: #DD0000">'en_US'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$al&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$coll</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getLocale</span><span style="color: #007700">(</span><span style="color: #0000BB">Locale</span><span style="color: #007700">::</span><span style="color: #0000BB">ACTUAL_LOCALE</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">Actual&nbsp;locale</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">$al</span><span style="color: #007700">\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$formatter&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">NumberFormatter</span><span style="color: #007700">(</span><span style="color: #DD0000">'en_US'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">NumberFormatter</span><span style="color: #007700">::</span><span style="color: #0000BB">DECIMAL</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">$formatter</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #0000BB">1234567</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.intl.php" alt="Internationalization Functions">Internationalization Functions</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extcairo" id="extensions_extcairo">ext/cairo</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extcairo ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-cairo">Online docs</a> ]</p><p>Extension ext/cairo.<br />
<br />
Cairo is a native PHP extension to create and modify graphics using the <a href="https://cairographics.org/" alt="Cairo Graphics Library">Cairo Graphics Library</a>.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Example&nbsp;from&nbsp;https://github.com/gtkforphp/cairo/blob/master/examples/big-line.php<br /></span><span style="color: #0000BB">$width&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$height&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$sur&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">CairoPSSurface</span><span style="color: #007700">(</span><span style="color: #0000BB">temp</span><span style="color: #007700">.</span><span style="color: #0000BB">ps</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$width</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$height</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$con&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">CairoContext</span><span style="color: #007700">(</span><span style="color: #0000BB">$sur</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$con</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setSourceRgb</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$con</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">moveTo</span><span style="color: #007700">(</span><span style="color: #0000BB">50</span><span style="color: #007700">,</span><span style="color: #0000BB">50</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$con</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">lineTo</span><span style="color: #007700">(</span><span style="color: #0000BB">50000</span><span style="color: #007700">,</span><span style="color: #0000BB">50000</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$con</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">stroke</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$con</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setSourceRgb</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$con</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">moveTo</span><span style="color: #007700">(</span><span style="color: #0000BB">50</span><span style="color: #007700">,</span><span style="color: #0000BB">50</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$con</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">lineTo</span><span style="color: #007700">(-</span><span style="color: #0000BB">50000</span><span style="color: #007700">,</span><span style="color: #0000BB">50000</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$con</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">stroke</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$con</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setSourceRgb</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$con</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">moveTo</span><span style="color: #007700">(</span><span style="color: #0000BB">50</span><span style="color: #007700">,</span><span style="color: #0000BB">50</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$con</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">lineTo</span><span style="color: #007700">(</span><span style="color: #0000BB">50000</span><span style="color: #007700">,-</span><span style="color: #0000BB">50000</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$con</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">stroke</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$con</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setSourceRgb</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$con</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">moveTo</span><span style="color: #007700">(</span><span style="color: #0000BB">50</span><span style="color: #007700">,</span><span style="color: #0000BB">50</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$con</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">lineTo</span><span style="color: #007700">(-</span><span style="color: #0000BB">50000</span><span style="color: #007700">,-</span><span style="color: #0000BB">50000</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$con</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">stroke</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">$sur</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">writeToPng</span><span style="color: #007700">(</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">__FILE__</span><span style="color: #007700">)&nbsp;&nbsp;.&nbsp;/</span><span style="color: #0000BB">big</span><span style="color: #007700">-</span><span style="color: #0000BB">line</span><span style="color: #007700">-</span><span style="color: #0000BB">php</span><span style="color: #007700">.</span><span style="color: #0000BB">png</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/cairo" alt="Cairo">Cairo</a>, <a href="https://github.com/gtkforphp/cairo" alt="gtkforphp/cairo">gtkforphp/cairo</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_dynamiccode" id="structures_dynamiccode">Dynamic Code</a></h2><p>[Since 0.8.4] - [ -P Structures/DynamicCode ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#dynamic-code">Online docs</a> ]</p><p>List of instructions that were left during analysis, as they rely on dynamic data. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Dynamic&nbsp;call&nbsp;to&nbsp;'method';<br /></span><span style="color: #0000BB">$name&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'method'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$object</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">$name</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;Hard&nbsp;coded&nbsp;call&nbsp;to&nbsp;'method';<br /></span><span style="color: #0000BB">$object</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">method</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
Any further analysis will need to start from here.<br />
<br />
See also <a href="http://php.net/manual/en/functions.variable-functions.php" alt="Variable functions">Variable functions</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_unpreprocessed" id="structures_unpreprocessed">Unpreprocessed Values</a></h2><p>[Since 0.8.4] - [ -P Structures/Unpreprocessed ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unpreprocessed-values">Online docs</a> ]</p><p>Preprocessing values is the preparation of values before PHP executes the code. <br />
<br />
There is no macro language in PHP, that prepares the code before compilation, bringing some comfort and short syntax. Most of the time, one uses PHP itself to preprocess data. <br />
<br />
For example : <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$days_en&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'monday,tuesday,wednesday,thursday,friday,saturday,sunday'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$days_zh&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">',,,,,,'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$days&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">explode</span><span style="color: #007700">(</span><span style="color: #DD0000">','</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$lang&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #DD0000">'en'&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #0000BB">$days_en&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">$days_zh</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
could be written <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$lang&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #DD0000">'en'</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$days&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #DD0000">'monday'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'tuesday'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'wednesday'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'thursday'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'friday'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'saturday'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'sunday'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$days&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /></span>?&gt;</pre><br />
<br />
and avoid preprocessing the string into an array first. <br />
<br />
Preprocessing could be done anytime the script includes all the needed values to process the expression. <br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extpspell" id="extensions_extpspell">ext/pspell</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extpspell ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-pspell">Online docs</a> ]</p><p>Extension pspell.<br />
<br />
These functions allow you to check the spelling of a word and offer suggestions.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$pspell_link&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pspell_new</span><span style="color: #007700">(</span><span style="color: #DD0000">'en'</span><span style="color: #007700">);<br /><br />if&nbsp;(</span><span style="color: #0000BB">pspell_check</span><span style="color: #007700">(</span><span style="color: #0000BB">$pspell_link</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'testt'</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'This&nbsp;is&nbsp;a&nbsp;valid&nbsp;spelling'</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Sorry,&nbsp;wrong&nbsp;spelling'</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.pspell.php" alt="Pspell">Pspell</a> and <a href="https://en.wikipedia.org/wiki/Pspell" alt="pspell">pspell</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_nodirectaccess" id="structures_nodirectaccess">No Direct Access</a></h2><p>[Since 0.8.4] - [ -P Structures/NoDirectAccess ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-direct-access">Online docs</a> ]</p><p>This expression protects files against direct access. It will kill the process if it realizes this is not supposed to be directly accessed.<br />
<br />
Those expressions are used in applications and framework, to prevent direct access to definition files. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;CONSTANT_EXEC&nbsp;is&nbsp;defined&nbsp;in&nbsp;the&nbsp;main&nbsp;file&nbsp;of&nbsp;the&nbsp;application<br />&nbsp;&nbsp;</span><span style="color: #0000BB">defined</span><span style="color: #007700">(</span><span style="color: #DD0000">'CONSTANT_EXEC'</span><span style="color: #007700">)&nbsp;or&nbsp;die(</span><span style="color: #DD0000">'Access&nbsp;not&nbsp;allowed'</span><span style="color: #007700">);&nbsp;:&nbsp;</span><span style="color: #0000BB">Constant&nbsp;used</span><span style="color: #007700">!<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=extensions_extopcache" id="extensions_extopcache">ext/opcache</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extopcache ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-opcache">Online docs</a> ]</p><p>Extension opcache.<br />
<br />
OPcache improves PHP performance by storing precompiled script bytecode in shared memory, thereby removing the need for PHP to load and parse scripts on each request.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">opcache_compile_file</span><span style="color: #007700">(</span><span style="color: #DD0000">'/var/www/index.php'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">opcache_get_status</span><span style="color: #007700">());<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/manual/en/book.opcache.php" alt="OPcache functions">OPcache functions</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extexpect" id="extensions_extexpect">ext/expect</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extexpect ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-expect">Online docs</a> ]</p><p>Extension Expect.<br />
<br />
This extension allows to interact with processes through  <span style="border: 1px solid #ddd; background-color: #f5f5f5">PTY</span> . You may consider using the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">expect://</span>  wrapper with the filesystem functions which provide a simpler and more intuitive interface.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">ini_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'expect.loguser'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Off'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$stream&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">'expect://ssh&nbsp;root@remotehost&nbsp;uptime'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'r'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$cases&nbsp;</span><span style="color: #007700">=&nbsp;array&nbsp;(<br />&nbsp;&nbsp;&nbsp;&nbsp;array&nbsp;(</span><span style="color: #0000BB">0&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'password:'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">PASSWORD</span><span style="color: #007700">)<br />);<br /><br />switch&nbsp;(</span><span style="color: #0000BB">expect_expectl&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">$stream</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$cases</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">PASSWORD</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">fwrite&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">$stream</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'password'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;default:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;die&nbsp;(</span><span style="color: #DD0000">'Error&nbsp;was&nbsp;occurred&nbsp;while&nbsp;connecting&nbsp;to&nbsp;the&nbsp;remote&nbsp;host!'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">);<br />}<br /><br />while&nbsp;(</span><span style="color: #0000BB">$line&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fgets</span><span style="color: #007700">(</span><span style="color: #0000BB">$stream</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">$line</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">fclose&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">$stream</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.expect.php" alt="expect">expect</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_undefinedproperty" id="classes_undefinedproperty">Undefined Properties</a></h2><p>[Since 0.8.4] - [ -P Classes/UndefinedProperty ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#undefined-properties">Online docs</a> ]</p><p>List of properties that are not explicitly defined in the class, its parents or traits.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;property&nbsp;definition<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">private&nbsp;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foofoo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$this-&gt;bar&nbsp;is&nbsp;defined&nbsp;in&nbsp;the&nbsp;class<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;$this-&gt;barbar&nbsp;is&nbsp;NOT&nbsp;defined&nbsp;in&nbsp;the&nbsp;class<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">barbar</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
It is possible to spot unidentified properties by using the PHP's magic methods  <span style="border: 1px solid #ddd; background-color: #f5f5f5">__get</span>  and  <span style="border: 1px solid #ddd; background-color: #f5f5f5">__set</span> . Even if the class doesn't use magic methods, any call to an undefined property will be directed to those methods, and they can be used as a canary, warning that the code is missing a definition. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">trait&nbsp;</span><span style="color: #0000BB">NoUnefinedProperties&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__get</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">assert</span><span style="color: #007700">(</span><span style="color: #0000BB">false</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Attempt&nbsp;to&nbsp;read&nbsp;the&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">&nbsp;property,&nbsp;on&nbsp;the&nbsp;class&nbsp;"</span><span style="color: #007700">.</span><span style="color: #0000BB">__CLASS__</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__set</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">assert</span><span style="color: #007700">(</span><span style="color: #0000BB">false</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Attempt&nbsp;to&nbsp;read&nbsp;the&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">&nbsp;property,&nbsp;on&nbsp;the&nbsp;class&nbsp;"</span><span style="color: #007700">.</span><span style="color: #0000BB">__CLASS__</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.properties.php" alt="Properties">Properties</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extrecode" id="extensions_extrecode">ext/recode</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extrecode ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-recode">Online docs</a> ]</p><p>Extension GNU Recode.<br />
<br />
This module contains an interface to the GNU Recode library. The GNU Recode library converts files between various coded character sets and surface encodings.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">recode_string</span><span style="color: #007700">(</span><span style="color: #DD0000">'us..flat'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'The&nbsp;following&nbsp;character&nbsp;has&nbsp;a&nbsp;diacritical&nbsp;mark:&nbsp;'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
This extension is not available on Windows.<br />
<br />
See also <a href="http://www.php.net/manual/en/book.recode.php" alt="ext/recode">ext/recode</a> and <a href="https://github.com/pinard/Recode" alt="Recode">Recode</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extparsekit" id="extensions_extparsekit">ext/parsekit</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extparsekit ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-parsekit">Online docs</a> ]</p><p>Extension Parsekit.<br />
<br />
These functions allow runtime analysis of opcodes compiled from PHP scripts.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">parsekit_compile_file</span><span style="color: #007700">(</span><span style="color: #DD0000">'hello_world.php'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$errors</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PARSEKIT_SIMPLE</span><span style="color: #007700">));<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/manual/en/book.parsekit.php" alt="Parsekit">Parsekit</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extrunkit" id="extensions_extrunkit">ext/runkit</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extrunkit ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-runkit">Online docs</a> ]</p><p>Extension Runkit.<br />
<br />
The runkit extension provides means to modify constants, user-defined functions, and user-defined classes. It also provides for custom superglobal variables and embeddable sub-interpreters via sandboxing.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Example&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'foo!'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;create&nbsp;an&nbsp;Example&nbsp;object<br /></span><span style="color: #0000BB">$e&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Example</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;Add&nbsp;a&nbsp;new&nbsp;public&nbsp;method<br /></span><span style="color: #0000BB">runkit_method_add</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Example'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'add'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'$num1,&nbsp;$num2'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'return&nbsp;$num1&nbsp;+&nbsp;$num2;'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">RUNKIT_ACC_PUBLIC<br /></span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;add&nbsp;12&nbsp;+&nbsp;4<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$e</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(</span><span style="color: #0000BB">12</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.runkit.php" alt="runkit">runkit</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extgettext" id="extensions_extgettext">ext/gettext</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extgettext ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-gettext">Online docs</a> ]</p><p>Extension Gettext.<br />
<br />
The gettext functions implement an NLS (Native Language Support) API which can be used to internationalize your PHP applications.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Set&nbsp;language&nbsp;to&nbsp;German<br /></span><span style="color: #0000BB">putenv</span><span style="color: #007700">(</span><span style="color: #DD0000">'LC_ALL=de_DE'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">setlocale</span><span style="color: #007700">(</span><span style="color: #0000BB">LC_ALL</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'de_DE'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Specify&nbsp;location&nbsp;of&nbsp;translation&nbsp;tables<br /></span><span style="color: #0000BB">bindtextdomain</span><span style="color: #007700">(</span><span style="color: #DD0000">'myPHPApp'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'./locale'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Choose&nbsp;domain<br /></span><span style="color: #0000BB">textdomain</span><span style="color: #007700">(</span><span style="color: #DD0000">'myPHPApp'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Translation&nbsp;is&nbsp;looking&nbsp;for&nbsp;in&nbsp;./locale/de_DE/LC_MESSAGES/myPHPApp.mo&nbsp;now<br /><br />//&nbsp;Print&nbsp;a&nbsp;test&nbsp;message<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">gettext</span><span style="color: #007700">(</span><span style="color: #DD0000">'Welcome&nbsp;to&nbsp;My&nbsp;PHP&nbsp;Application'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Or&nbsp;use&nbsp;the&nbsp;alias&nbsp;_()&nbsp;for&nbsp;gettext()<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">_</span><span style="color: #007700">(</span><span style="color: #DD0000">'Have&nbsp;a&nbsp;nice&nbsp;day'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.gnu.org/software/gettext/manual/gettext.html" alt="Gettext">Gettext</a> and <a href="http://php.net/manual/en/book.gettext.php" alt="ext/gettext">ext/gettext</a></p>
<h2><a href="issues.html#analyzer=php_shortopentagrequired" id="php_shortopentagrequired">Short Open Tags</a></h2><p>[Since 0.8.4] - [ -P Php/ShortOpenTagRequired ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#short-open-tags">Online docs</a> ]</p><p>Usage of short open tags is discouraged. The following files were found to be impacted by the short open tag directive at compilation time. They must be reviewed to ensure no &lt;? tags are found in the code.</p>
<h2><a href="issues.html#analyzer=structures_booleanstrictcomparison" id="structures_booleanstrictcomparison">Strict Comparison With Booleans</a></h2><p>[Since 0.8.4] - [ -P Structures/BooleanStrictComparison ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#strict-comparison-with-booleans">Online docs</a> ]</p><p>Strict comparisons prevent from mistaking an error with a false. <br />
<br />
Boolean values may be easily mistaken with other values, especially when the function may return integer or boolean as a normal course of action. <br />
<br />
It is encouraged to use strict comparison === or !== when booleans are involved in a comparison.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;distinguish&nbsp;between&nbsp;:&nbsp;$b&nbsp;isn't&nbsp;in&nbsp;$a,&nbsp;and,&nbsp;$b&nbsp;is&nbsp;at&nbsp;the&nbsp;beginning&nbsp;of&nbsp;$a&nbsp;<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;===&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;DOES&nbsp;NOT&nbsp;distinguish&nbsp;between&nbsp;:&nbsp;$b&nbsp;isn't&nbsp;in&nbsp;$a,&nbsp;and,&nbsp;$b&nbsp;is&nbsp;at&nbsp;the&nbsp;beginning&nbsp;of&nbsp;$a&nbsp;<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;will&nbsp;NOT&nbsp;mistake&nbsp;1&nbsp;and&nbsp;true<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br />if&nbsp;(</span><span style="color: #0000BB">in_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;will&nbsp;mistake&nbsp;1&nbsp;and&nbsp;true<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br />if&nbsp;(</span><span style="color: #0000BB">in_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}<br /></span>?&gt;</pre><br />
<br />
switch() structures always uses == comparisons. <br />
<br />
Native function <a href="https://www.php.net/in_array" alt="in_array()">in_array()</a> has a third parameter to make it use strict comparisons.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_loneblock" id="structures_loneblock">Lone Blocks</a></h2><p>[Since 0.8.4] - [ -P Structures/LoneBlock ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#lone-blocks">Online docs</a> ]</p><p>Any grouped code without a commanding structure is useless. <br />
<br />
Blocks are compulsory when defining a structure, such as a class or a function. They are most often used with flow control instructions, like if then or switch. <br />
<br />
Blocks are also valid syntax that group several instructions together, though they have no effect at all, except confuse the reader. Most often, it is a ruin from a previous flow control instruction, whose condition was removed or commented. They should be removed. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Lone&nbsp;block<br />&nbsp;&nbsp;&nbsp;&nbsp;//foreach($a&nbsp;as&nbsp;$b)&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_thisisnotforstatic" id="classes_thisisnotforstatic">$this Is Not For Static Methods</a></h2><p>[Since 0.8.4] - [ -P Classes/ThisIsNotForStatic ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#$this-is-not-for-static-methods">Online docs</a> ]</p><p>Static methods shouldn't use $this variable.<br />
<br />
$this variable represents an object, the current object. It is not compatible with a static method, which may operate without any object. <br />
<br />
While executing a static method, $this is actually set to NULL.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;</span><span style="color: #0000BB">$staticProperty&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Static&nbsp;methods&nbsp;should&nbsp;use&nbsp;static&nbsp;properties<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">static&nbsp;public&nbsp;function&nbsp;`</span><span style="color: #DD0000">count()&nbsp;&lt;https://www.php.net/count&gt;</span><span style="color: #007700">`</span><span style="color: #0000BB">_&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$staticProperty</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Static&nbsp;methods&nbsp;can't&nbsp;use&nbsp;$this<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">static&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;No&nbsp;$this&nbsp;usage&nbsp;in&nbsp;a&nbsp;static&nbsp;method<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.static.php" alt="Static Keyword">Static Keyword</a>.<br />
</p>
<h2><a href="issues.html#analyzer=security_nosleep" id="security_nosleep">Avoid sleep()/usleep()</a></h2><p>[Since 0.8.4] - [ -P Security/NoSleep ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#avoid-sleep---usleep--">Online docs</a> ]</p><p><a href="https://www.php.net/sleep" alt="sleep()">sleep()</a> and <a href="https://www.php.net/usleep" alt="usleep()">usleep()</a> help saturate the web server. <br />
<br />
Pausing the script for a specific amount of time means that the Web server is also making all related resources sleep, such as database, sockets, session, etc. This may used to set up a DOS on the server.  <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$begin&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">microtime</span><span style="color: #007700">(</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">checkLogin</span><span style="color: #007700">(</span><span style="color: #0000BB">$user</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$password</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$end&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">microtime</span><span style="color: #007700">(</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Making&nbsp;all&nbsp;login&nbsp;checks&nbsp;looks&nbsp;the&nbsp;same<br /></span><span style="color: #0000BB">usleep</span><span style="color: #007700">(</span><span style="color: #0000BB">1000000&nbsp;</span><span style="color: #007700">-&nbsp;(</span><span style="color: #0000BB">$end&nbsp;</span><span style="color: #007700">-&nbsp;</span><span style="color: #0000BB">$begin</span><span style="color: #007700">)&nbsp;*&nbsp;</span><span style="color: #0000BB">1000000</span><span style="color: #007700">);&nbsp;<br /><br /></span><span style="color: #FF8000">//&nbsp;Any&nbsp;hit&nbsp;on&nbsp;this&nbsp;page&nbsp;now&nbsp;uses&nbsp;1&nbsp;second,&nbsp;no&nbsp;matter&nbsp;if&nbsp;load&nbsp;is&nbsp;high&nbsp;or&nbsp;not<br />//&nbsp;Is&nbsp;it&nbsp;now&nbsp;possible&nbsp;to&nbsp;saturate&nbsp;the&nbsp;webserver&nbsp;in&nbsp;1&nbsp;s&nbsp;?<br /></span>?&gt;</pre><br />
<br />
As much as possible, avoid delaying the end of the script. <br />
<br />
<a href="https://www.php.net/sleep" alt="sleep()">sleep()</a> and <a href="https://www.php.net/usleep" alt="usleep()">usleep()</a> have less impact in commandline ( <span style="border: 1px solid #ddd; background-color: #f5f5f5">CLI</span> ).<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_superglobalusage" id="php_superglobalusage">Super Global Usage</a></h2><p>[Since 0.8.4] - [ -P Php/SuperGlobalUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#super-global-usage">Online docs</a> ]</p><p>Spot usage of Super global variables, such as $_GET, $_POST or $_REQUEST.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">htmlspecialchars</span><span style="color: #007700">(</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'name'</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">UTF</span><span style="color: #007700">-</span><span style="color: #0000BB">8</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.variables.superglobals.php" alt="Superglobals">Superglobals</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_globalusage" id="structures_globalusage">Global Usage</a></h2><p>[Since 0.8.4] - [ -P Structures/GlobalUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#global-usage">Online docs</a> ]</p><p>List usage of globals variables, with global keywords or direct access to $GLOBALS.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">/*&nbsp;global&nbsp;scope&nbsp;*/&nbsp;<br /><br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">test</span><span style="color: #007700">()<br />{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">/*&nbsp;reference&nbsp;to&nbsp;local&nbsp;scope&nbsp;variable&nbsp;*/&nbsp;<br /></span><span style="color: #007700">}&nbsp;<br /><br /></span><span style="color: #0000BB">test</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
It is recommended to avoid using global variables, at it makes it very difficult to track changes in values across the whole application. <br />
<br />
See also <a href="http://php.net/manual/en/language.variables.scope.php" alt="Variable scope">Variable scope</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_reservednames" id="php_reservednames">PHP Keywords As Names</a></h2><p>[Since 0.8.4] - [ -P Php/ReservedNames ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php-keywords-as-names">Online docs</a> ]</p><p>PHP has a set of reserved keywords. It is recommended not to use those keywords for names structures. <br />
<br />
PHP does check that a number of structures, such as classes, methods, interfaces... can't be named or called using one of the keywords. However, in a few other situations, no check are enforced. Using keywords in such situation is confusing. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;keyword&nbsp;is&nbsp;reserved&nbsp;since&nbsp;PHP&nbsp;7.2<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">object&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;_POST&nbsp;is&nbsp;used&nbsp;by&nbsp;PHP&nbsp;for&nbsp;the&nbsp;$_POST&nbsp;variable<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;This&nbsp;methods&nbsp;name&nbsp;is&nbsp;probably&nbsp;confusing,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;and&nbsp;may&nbsp;attract&nbsp;more&nbsp;than&nbsp;its&nbsp;share&nbsp;of&nbsp;attention<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">_POST</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/reserved.keywords.php" alt="List of Keywords">List of Keywords</a>,<br />
         <a href="http://php.net/manual/en/reserved.classes.php" alt="Predefined Classes">Predefined Classes</a>,<br />
         <a href="http://php.net/manual/en/reserved.constants.php" alt="Predefined Constants">Predefined Constants</a>,<br />
         <a href="http://php.net/manual/en/reserved.other-reserved-words.php" alt="List of other reserved words">List of other reserved words</a> and <br />
         <a href="http://php.net/manual/en/reserved.variables.php" alt="Predefined Variables">Predefined Variables</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_logicalinletters" id="php_logicalinletters">Logical Should Use Symbolic Operators</a></h2><p>[Since 0.8.4] - [ -P Php/LogicalInLetters ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#logical-should-use-symbolic-operators">Online docs</a> ]</p><p>Logical operators come in two flavors :  and / &&, || / or, ^ / xor. However, they are not exchangeable, as && and and have different precedence. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Avoid&nbsp;lettered&nbsp;operator,&nbsp;as&nbsp;they&nbsp;have&nbsp;lower&nbsp;priority&nbsp;than&nbsp;expected<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">and&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;$a&nbsp;===&nbsp;3&nbsp;because&nbsp;equivalent&nbsp;to&nbsp;($a&nbsp;=&nbsp;$b)&nbsp;and&nbsp;$c;<br /><br />//&nbsp;safe&nbsp;way&nbsp;to&nbsp;write&nbsp;the&nbsp;above&nbsp;:&nbsp;<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;(</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">and&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">&amp;&amp;&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;$a&nbsp;===&nbsp;1<br /></span>?&gt;</pre><br />
<br />
It is recommended to use the symbol operators, rather than the letter ones.<br />
<br />
See also <a href="http://php.net/manual/en/language.operators.logical.php" alt="Logical Operators">Logical Operators</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_shoulduseself" id="classes_shoulduseself">Could Use self</a></h2><p>[Since 0.8.4] - [ -P Classes/ShouldUseSelf ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#could-use-self">Online docs</a> ]</p><p> <span style="border: 1px solid #ddd; background-color: #f5f5f5">self</span>  keyword refers to the current class, or any of its parents. Using it is just as fast as the full class name, it is as readable and it is will not be changed upon class or namespace change.<br />
<br />
It is also routinely used in traits : there,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">self</span>  represents the class in which the trait is used, or the trait itself. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">FOO&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">FOO</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;same&nbsp;as&nbsp;return&nbsp;x::FOO;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.paamayim-nekudotayim.php" alt="Scope Resolution Operator (::)">Scope Resolution Operator (::)</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_implicitglobal" id="structures_implicitglobal">Implicit Global</a></h2><p>[Since 0.8.4] - [ -P Structures/ImplicitGlobal ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#implicit-global">Online docs</a> ]</p><p>Global variables, that are used in local scope with global keyword, but are not declared as global in the global scope. They may be mistaken with distinct values, while, in PHP, variables in the global scope are truly global.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;implicitely&nbsp;global<br /></span><span style="color: #0000BB">$implicitGlobal&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br />global&nbsp;</span><span style="color: #0000BB">$explicitGlobal</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$explicitGlobal&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br />echo&nbsp;</span><span style="color: #0000BB">$explicitFunctionGlobal</span><span style="color: #007700">;<br /><br />function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;global&nbsp;is&nbsp;needed,&nbsp;but&nbsp;not&nbsp;the&nbsp;one&nbsp;in&nbsp;the&nbsp;global&nbsp;space<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">global&nbsp;</span><span style="color: #0000BB">$implicitGlobal</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$explicitGlobal</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$explicitFunctionGlobal</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;won't&nbsp;be&nbsp;a&nbsp;global,&nbsp;as&nbsp;it&nbsp;must&nbsp;be&nbsp;'global'&nbsp;in&nbsp;a&nbsp;function&nbsp;scope<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$notImplicitGlobal&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$explicitFunctionGlobal&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=php_constwitharray" id="php_constwitharray">Const With Array</a></h2><p>[Since 0.8.4] - [ -P Php/ConstWithArray ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#const-with-array">Online docs</a> ] - [ PHP 5.5 and more recent ]</p><p>The const keyword supports array. This feature was added in PHP 5.6. <br />
<br />
The array must be filled with other constants. It may also be build using the '+' operator. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">PRIMES&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">7</span><span style="color: #007700">];<br /><br />class&nbsp;</span><span style="color: #0000BB">X&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">TWENTY_THREE&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">23</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">MORE_PRIMES&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">PRIMES&nbsp;</span><span style="color: #007700">+&nbsp;[</span><span style="color: #0000BB">11</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">13</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">17</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">19</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">EVEN_MORE_PRIMES&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">MORE_PRIMES&nbsp;</span><span style="color: #007700">+&nbsp;[</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">TWENTY_THREE</span><span style="color: #007700">];<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.constants.php" alt="Class Constants">Class Constants</a> and <br />
         <a href="http://php.net/manual/en/language.constants.syntax.php" alt="Constants Syntax">Constants Syntax</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_catchshadowsvariable" id="structures_catchshadowsvariable">Catch Overwrite Variable</a></h2><p>[Since 0.8.4] - [ -P Structures/CatchShadowsVariable ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#catch-overwrite-variable">Online docs</a> ]</p><p>The try/catch structure uses some variables that are also in use in this scope. In case of a caught exception, the exception will be put in the catch variable, and overwrite the current value, loosing some data.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;variables&nbsp;and&nbsp;caught&nbsp;exceptions&nbsp;are&nbsp;distinct<br /></span><span style="color: #0000BB">$argument&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">methodThatMayRaiseException</span><span style="color: #007700">(</span><span style="color: #0000BB">$argument</span><span style="color: #007700">);<br />}&nbsp;(</span><span style="color: #0000BB">Exception&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;here,&nbsp;$e&nbsp;has&nbsp;been&nbsp;changed&nbsp;to&nbsp;an&nbsp;exception.<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;variables&nbsp;and&nbsp;caught&nbsp;exceptions&nbsp;are&nbsp;overlapping<br /></span><span style="color: #0000BB">$e&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">methodThatMayRaiseException</span><span style="color: #007700">();<br />}&nbsp;(</span><span style="color: #0000BB">Exception&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;here,&nbsp;$e&nbsp;has&nbsp;been&nbsp;changed&nbsp;to&nbsp;an&nbsp;exception.<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
It is recommended to use another name for these catch variables.</p>
<h2><a href="issues.html#analyzer=namespaces_namespaceusage" id="namespaces_namespaceusage">Namespaces</a></h2><p>[Since 0.8.4] - [ -P Namespaces/NamespaceUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#namespaces">Online docs</a> ]</p><p>Inventory of all namespaces.</p>
<h2><a href="issues.html#analyzer=structures_noarrayunique" id="structures_noarrayunique">Avoid array_unique()</a></h2><p>[Since 0.8.4] - [ -P Structures/NoArrayUnique ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#avoid-array_unique--">Online docs</a> ]</p><p>The native function <a href="https://www.php.net/array_unique" alt="array_unique()">array_unique()</a> is much slower than using other alternatives, such as <a href="https://www.php.net/array_count_values" alt="array_count_values()">array_count_values()</a>, <a href="https://www.php.net/array_flip" alt="array_flip()">array_flip()</a>/<a href="https://www.php.net/array_keys" alt="array_keys()">array_keys()</a>, or even a for<a href="https://www.php.net/each" alt="each()">each()</a> loops. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;using&nbsp;`array_unique()&nbsp;&lt;https://www.php.net/array_unique&gt;`_<br /></span><span style="color: #0000BB">$uniques&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_unique</span><span style="color: #007700">(</span><span style="color: #0000BB">$someValues</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;When&nbsp;values&nbsp;are&nbsp;strings&nbsp;or&nbsp;integers<br /></span><span style="color: #0000BB">$uniques&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_keys</span><span style="color: #007700">(</span><span style="color: #0000BB">array_count_values</span><span style="color: #007700">(</span><span style="color: #0000BB">$someValues</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$uniques&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_flip</span><span style="color: #007700">(</span><span style="color: #0000BB">array_flip</span><span style="color: #007700">(</span><span style="color: #0000BB">$someValues</span><span style="color: #007700">))<br /><br /></span><span style="color: #FF8000">//even&nbsp;some&nbsp;loops&nbsp;are&nbsp;faster.<br /></span><span style="color: #0000BB">$uniques&nbsp;</span><span style="color: #007700">=&nbsp;[];<br />foreach(</span><span style="color: #0000BB">$someValues&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$s</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #0000BB">in_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$uniques</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$s</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$uniques</span><span style="color: #007700">[]&nbsp;</span><span style="color: #0000BB">$s</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/array_unique" alt="array_unique">array_unique</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=functions_deepdefinitions" id="functions_deepdefinitions">Deep Definitions</a></h2><p>[Since 0.8.4] - [ -P Functions/DeepDefinitions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#deep-definitions">Online docs</a> ]</p><p>Structures, such as functions, classes, interfaces, traits, etc. may be defined anywhere in the code, including inside functions. This is legit code for PHP. <br />
<br />
Since the availability of autoload, with spl_register_autoload(), there is no need for that kind of code. Structures should be defined, and accessible to the autoloading. Inclusions and deep definitions should be avoided, as they compel code to load some definitions, while autoloading will only load them if needed. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">X&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">init</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;myFunction&nbsp;is&nbsp;defined&nbsp;when&nbsp;and&nbsp;only&nbsp;if&nbsp;X::init()&nbsp;is&nbsp;called.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(!</span><span style="color: #0000BB">function_exists</span><span style="color: #007700">(</span><span style="color: #DD0000">'myFunction'</span><span style="color: #007700">){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">myFunction</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
Functions are excluded from autoload, but shall be gathered in libraries, and not hidden inside other code.<br />
<br />
Constants definitions are tolerated inside functions : they may be used for avoiding repeat, or noting the usage of such function. <br />
<br />
Definitions inside a if/then statement, that include PHP version check are accepted here.<br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.autoload.php" alt="Autoloading Classes">Autoloading Classes</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_constantclass" id="classes_constantclass">Constant Class</a></h2><p>[Since 0.8.4] - [ -P Classes/ConstantClass ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#constant-class">Online docs</a> ]</p><p>A class or an interface only made up of constants. Constants usually have to be used in conjunction of some behavior (methods, class...) and never alone. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">ConstantClass&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">KBIT&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1000</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">MBIT&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">KBIT&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">1000</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">GBIT&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">MBIT&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">1000</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">PBIT&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">GBIT&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">1000</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
As such, they should be PHP constants (build with define or const), or included in a class with other methods and properties. <br />
<br />
See also <a href="https://stackoverflow.com/questions/16838266/php-classes-containing-only-constants" alt="PHP Classes containing only constants">PHP Classes containing only constants</a>.<br />
</p>
<h2><a href="issues.html#analyzer=files_notdefinitionsonly" id="files_notdefinitionsonly">Not Definitions Only</a></h2><p>[Since 0.8.4] - [ -P Files/NotDefinitionsOnly ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#not-definitions-only">Online docs</a> ]</p><p>Files should only include definitions (class, functions, traits, interfaces, constants), or global instructions, but not both. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;whole&nbsp;script&nbsp;is&nbsp;a&nbsp;file<br /><br />//&nbsp;It&nbsp;contains&nbsp;definitions&nbsp;and&nbsp;global&nbsp;code<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;public&nbsp;</span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br />}<br /></span><span style="color: #FF8000">//This&nbsp;can&nbsp;be&nbsp;a&nbsp;singleton&nbsp;creation<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">::</span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /><br />trait&nbsp;</span><span style="color: #0000BB">t&nbsp;</span><span style="color: #007700">{}<br /><br />class&nbsp;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">{}<br /></span>?&gt;</pre><br />
<br />
Within this context, globals, use, and namespaces instructions are not considered a warning.</p>
<h2><a href="issues.html#analyzer=arrays_shouldpreprocess" id="arrays_shouldpreprocess">Preprocess Arrays</a></h2><p>[Since 0.8.4] - [ -P Arrays/ShouldPreprocess ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#preprocess-arrays">Online docs</a> ]</p><p>Using long list of assignations for initializing arrays is significantly slower than the declaring them as an array. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Slow&nbsp;way<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;[];&nbsp;</span><span style="color: #FF8000">//&nbsp;also&nbsp;with&nbsp;$a&nbsp;=&nbsp;array();<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">3</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">4</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">7</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">5</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">11</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Faster&nbsp;way<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">3&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">4&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">7</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">5&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">11</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;Even&nbsp;faster&nbsp;way&nbsp;if&nbsp;indexing&nbsp;is&nbsp;implicit<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">7</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">11</span><span style="color: #007700">];<br /></span>?&gt;</pre><br />
<br />
If the array has to be completed rather than created, it is also faster to use += when there are more than ten elements to add.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Slow&nbsp;way<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;[];&nbsp;</span><span style="color: #FF8000">//&nbsp;also&nbsp;with&nbsp;$a&nbsp;=&nbsp;array();<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">3</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;some&nbsp;expressions&nbsp;to&nbsp;get&nbsp;$seven&nbsp;and&nbsp;$eleven<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">4</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$seven</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">5</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$eleven</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Faster&nbsp;way<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">3&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">];<br /></span><span style="color: #FF8000">//&nbsp;some&nbsp;expressions&nbsp;to&nbsp;get&nbsp;$seven&nbsp;and&nbsp;$eleven<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">+=&nbsp;[</span><span style="color: #0000BB">4&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$seven</span><span style="color: #007700">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">5&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$eleven</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;Even&nbsp;faster&nbsp;way&nbsp;if&nbsp;indexing&nbsp;is&nbsp;implicit<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">];<br /></span><span style="color: #FF8000">//&nbsp;some&nbsp;expressions&nbsp;to&nbsp;get&nbsp;$seven&nbsp;and&nbsp;$eleven<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">+=&nbsp;[</span><span style="color: #0000BB">$seven</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$eleven</span><span style="color: #007700">];<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=structures_repeatedprint" id="structures_repeatedprint">Repeated print()</a></h2><p>[Since 0.8.4] - [ -P Structures/RepeatedPrint ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#repeated-print--">Online docs</a> ]</p><p>Always merge several print or echo in one call.<br />
<br />
It is recommended to use echo with multiple arguments, or a concatenation with print, instead of multiple calls to print echo, when outputting several blob of text.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//Write&nbsp;:&nbsp;<br />&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'c'</span><span style="color: #007700">;<br />&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">'a'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'c'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//Don't&nbsp;write&nbsp;:&nbsp;&nbsp;<br />&nbsp;&nbsp;</span><span style="color: #007700">print&nbsp;</span><span style="color: #DD0000">'a'</span><span style="color: #007700">;<br />&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br />&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">'c'</span><span style="color: #007700">;<br /></span>?&gt;</pre>  <br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_printwithoutparenthesis" id="structures_printwithoutparenthesis">Avoid Parenthesis</a></h2><p>[Since 0.8.4] - [ -P Structures/PrintWithoutParenthesis ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#avoid-parenthesis">Online docs</a> ]</p><p>Avoid Parenthesis for language construct. Languages constructs are a few PHP native elements, that looks like functions but are not. <br />
<br />
Among other distinction, those elements cannot be directly used as variable function call, and they may be used with or without parenthesis.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;normal&nbsp;usage&nbsp;of&nbsp;include<br /></span><span style="color: #007700">include&nbsp;</span><span style="color: #DD0000">'file.php'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;looks&nbsp;like&nbsp;a&nbsp;function&nbsp;and&nbsp;is&nbsp;not<br /></span><span style="color: #007700">include(</span><span style="color: #DD0000">'file2.php'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
The usage of parenthesis actually give some feeling of comfort, it won't prevent PHP from combining those argument with any later operators, leading to unexpected results.<br />
<br />
Even if most of the time, usage of parenthesis is legit, it is recommended to avoid them. </p>
<h2><a href="issues.html#analyzer=structures_objectreferences" id="structures_objectreferences">Objects Don't Need References</a></h2><p>[Since 0.8.4] - [ -P Structures/ObjectReferences ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#objects-don't-need-references">Online docs</a> ]</p><p>There is no need to create references for objects, as those are always passed by reference when used as arguments.<br />
<br />
Note that when the argument is assigned another value, including another object, then the reference is needed : PHP forgets about reference when they are replaced.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$object&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">stdClass</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$object</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'a'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$object</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">$object</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;Name&nbsp;is&nbsp;'b'<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;No&nbsp;need&nbsp;to&nbsp;make&nbsp;$o&nbsp;a&nbsp;reference<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(&amp;</span><span style="color: #0000BB">$o</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$o</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$o&nbsp;is&nbsp;assigned&nbsp;inside&nbsp;the&nbsp;function&nbsp;:&nbsp;it&nbsp;must&nbsp;be&nbsp;called&nbsp;with&nbsp;a&nbsp;&amp;,&nbsp;or&nbsp;the&nbsp;object&nbsp;won't&nbsp;make&nbsp;it&nbsp;out&nbsp;of&nbsp;the&nbsp;foo3&nbsp;scope<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo3</span><span style="color: #007700">(&amp;</span><span style="color: #0000BB">$o</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$o&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">stdClass</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">$object</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;&amp;</span><span style="color: #0000BB">$o</span><span style="color: #007700">)&nbsp;{&nbsp;</span><span style="color: #FF8000">//&nbsp;No&nbsp;need&nbsp;to&nbsp;make&nbsp;this&nbsp;a&nbsp;reference<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$o</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'c'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.references.pass.php" alt="Passing by reference">Passing by reference</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_redefinedproperty" id="classes_redefinedproperty">Redefined Property</a></h2><p>[Since 0.8.4] - [ -P Classes/RedefinedProperty ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#redefined-property">Online docs</a> ]</p><p>Property redefined in a parent class. <br />
<br />
Using heritage, it is possible to define several times the same property, at different levels of the hierarchy.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$aProperty&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;property&nbsp;is&nbsp;redefined&nbsp;in&nbsp;the&nbsp;parent&nbsp;class,&nbsp;leading&nbsp;to&nbsp;potential&nbsp;confusion<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">protected&nbsp;</span><span style="color: #0000BB">$aProperty&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
When this is the case, it is difficult to understand which class will actually handle the property. <br />
<br />
In the case of a private property, the different instances will stay distinct. In the case of protected or public properties, they will all share the same value. <br />
<br />
It is recommended to avoid redefining the same property in a hierarchy. </p>
<h2><a href="issues.html#analyzer=classes_locallyunusedproperty" id="classes_locallyunusedproperty">Locally Unused Property</a></h2><p>[Since 0.8.4] - [ -P Classes/LocallyUnusedProperty ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#locally-unused-property">Online docs</a> ]</p><p>Those properties are defined in a class, and this class doesn't have any method that makes use of them. <br />
<br />
While this is syntactically correct, it is unusual that defined resources are used in a child class. It may be worth moving the definition to another class, or to move accessing methods to the class.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$unused</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$used</span><span style="color: #007700">;</span><span style="color: #FF8000">//&nbsp;property&nbsp;$unused&nbsp;is&nbsp;never&nbsp;used&nbsp;in&nbsp;this&nbsp;class<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">used</span><span style="color: #007700">++;&nbsp;</span><span style="color: #FF8000">//&nbsp;property&nbsp;$used&nbsp;is&nbsp;used&nbsp;in&nbsp;this&nbsp;method<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">foofoo&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">unused</span><span style="color: #007700">++;&nbsp;</span><span style="color: #FF8000">//&nbsp;property&nbsp;$unused&nbsp;is&nbsp;used&nbsp;in&nbsp;this&nbsp;method,&nbsp;but&nbsp;defined&nbsp;in&nbsp;the&nbsp;parent&nbsp;class<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=variables_lostreferences" id="variables_lostreferences">Lost References</a></h2><p>[Since 0.8.4] - [ -P Variables/LostReferences ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#lost-references">Online docs</a> ]</p><p>Either avoid references, or propagate them correctly.<br />
<br />
When assigning a referenced variable with another reference, the initial reference is lost, while the intend was to transfer the content. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(&amp;</span><span style="color: #0000BB">$lostReference</span><span style="color: #007700">,&nbsp;&amp;</span><span style="color: #0000BB">$keptReference</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'c'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$lostReference&nbsp;was&nbsp;a&nbsp;reference,&nbsp;but&nbsp;now,&nbsp;it&nbsp;is&nbsp;another<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$lostReference&nbsp;</span><span style="color: #007700">=&amp;&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$keptReference&nbsp;was&nbsp;a&nbsp;reference&nbsp;:&nbsp;now&nbsp;it&nbsp;contains&nbsp;the&nbsp;actual&nbsp;value<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$keptReference&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$bar2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$bar</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$bar2</span><span style="color: #007700">);&nbsp;<br /><br /></span><span style="color: #FF8000">//displays&nbsp;bar&nbsp;c,&nbsp;instead&nbsp;of&nbsp;bar&nbsp;bar<br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$bar2</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
Do not reassign a reference with another reference. Assign new content to the reference to change its value.</p>
<h2><a href="issues.html#analyzer=constants_createdoutsideitsnamespace" id="constants_createdoutsideitsnamespace">Constants Created Outside Its Namespace</a></h2><p>[Since 0.8.4] - [ -P Constants/CreatedOutsideItsNamespace ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#constants-created-outside-its-namespace">Online docs</a> ]</p><p>Constants Created Outside Its Namespace.<br />
<br />
Using the <a href="https://www.php.net/define" alt="define()">define()</a> function, it is possible to create constant outside their namespace, but using the fully qualified namespace.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">\</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;define&nbsp;A\B\C&nbsp;as&nbsp;1<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'C'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />}<br /><br />namespace&nbsp;</span><span style="color: #0000BB">D</span><span style="color: #007700">\</span><span style="color: #0000BB">E&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;define&nbsp;A\B\C&nbsp;as&nbsp;1,&nbsp;while&nbsp;outside&nbsp;the&nbsp;A\B&nbsp;namespace<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'A\B\C'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
However, this makes the code confusing and difficult to debug. It is recommended to move the constant definition to its namespace.</p>
<h2><a href="issues.html#analyzer=namespaces_constantfullyqualified" id="namespaces_constantfullyqualified">Fully Qualified Constants</a></h2><p>[Since 0.8.4] - [ -P Namespaces/ConstantFullyQualified ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#fully-qualified-constants">Online docs</a> ]</p><p>Constants defined with their namespace.<br />
<br />
When defining constants with <a href="https://www.php.net/define" alt="define()">define()</a> function, it is possible to include the actual namespace : <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'a\b\c'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
However, the name should be fully qualified without the initial \. Here, \a\b\c constant will never be accessible as a namespace constant, though it will be accessible via the <a href="https://www.php.net/constant" alt="constant()">constant()</a> function.<br />
<br />
Also, the namespace will be absolute, and not a relative namespace of the current one. </p>
<h2><a href="issues.html#analyzer=classes_propertyneverused" id="classes_propertyneverused">Never Used Properties</a></h2><p>[Since 0.8.4] - [ -P Classes/PropertyNeverUsed ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#never-used-properties">Online docs</a> ]</p><p>Properties that are never used. They are defined in a class or a trait, but they never actually used.<br />
<br />
Properties are considered used when they are used locally, in the same class as their definition, or in a parent class : a parent class is always included with the current class. <br />
<br />
On the other hand, properties which are defined in a class, but only used in children classes is considered unused, since children may also avoid using it. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$usedProperty&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Never&nbsp;used&nbsp;anywhere<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;</span><span style="color: #0000BB">$unusedProperty&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Used&nbsp;internally<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">++</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">usedProperty</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">foo2&nbsp;&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">bar2</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Used&nbsp;in&nbsp;child&nbsp;class<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">++</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">usedProperty</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Used&nbsp;externally<br /></span><span style="color: #007700">++</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">usedProperty</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=type_norealcomparison" id="type_norealcomparison">No Real Comparison</a></h2><p>[Since 0.8.4] - [ -P Type/NoRealComparison ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-real-comparison">Online docs</a> ]</p><p>Avoid comparing decimal numbers with ==, ===, !==, !=. Real numbers have an error margin which is random, and makes it very difficult to match even if the compared value is a literal. <br />
<br />
PHP uses an internal representation in base 2 : any number difficult to represent with this base (like 0.1 or 0.7) will have a margin of error.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">/</span><span style="color: #0000BB">7</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2.0</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;7&nbsp;*&nbsp;$a&nbsp;is&nbsp;a&nbsp;real,&nbsp;not&nbsp;an&nbsp;integer<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">7&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;rounding&nbsp;error&nbsp;leads&nbsp;to&nbsp;wrong&nbsp;comparison<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(&nbsp;(</span><span style="color: #0000BB">0.1&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">0.7</span><span style="color: #007700">)&nbsp;*&nbsp;</span><span style="color: #0000BB">10&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">8</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;although<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(&nbsp;(</span><span style="color: #0000BB">0.1&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">0.7</span><span style="color: #007700">)&nbsp;*&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;displays&nbsp;8<br /><br />//&nbsp;precision&nbsp;formula&nbsp;to&nbsp;use&nbsp;with&nbsp;reals.&nbsp;Adapt&nbsp;0.0001&nbsp;to&nbsp;your&nbsp;precision&nbsp;needs<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">abs</span><span style="color: #007700">(((</span><span style="color: #0000BB">0.1&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">0.7</span><span style="color: #007700">)&nbsp;*&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">)&nbsp;-&nbsp;</span><span style="color: #0000BB">8</span><span style="color: #007700">)&nbsp;&lt;&nbsp;</span><span style="color: #0000BB">0.0001</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
Use precision formulas with <a href="https://www.php.net/abs" alt="abs()">abs()</a> to approximate values with a given precision, or avoid reals altogether. <br />
<br />
See also <a href="http://php.net/manual/en/language.types.float.php#language.types.float" alt="Floating point numbers">Floating point numbers</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_shouldusethis" id="classes_shouldusethis">Should Use Local Class</a></h2><p>[Since 0.8.4] - [ -P Classes/ShouldUseThis ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#should-use-local-class">Online docs</a> ]</p><p>Methods should use the defining class, or be functions.<br />
<br />
Methods should use  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$this</span>  with another method or a property, or call  <span style="border: 1px solid #ddd; background-color: #f5f5f5">parent::</span> . Static methods should call another static method, or a static property. <br />
Methods which are overwritten by a child class are omitted : the parent class act as a default value for the children class, and this is correct.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;method&nbsp;should&nbsp;do&nbsp;something&nbsp;locally,&nbsp;or&nbsp;be&nbsp;removed.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Calling&nbsp;parent::&nbsp;is&nbsp;sufficient<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">__construct</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">barbar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;acting&nbsp;on&nbsp;the&nbsp;local&nbsp;object<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">barfoo</span><span style="color: #007700">(</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;has&nbsp;no&nbsp;action&nbsp;on&nbsp;the&nbsp;local&nbsp;object.&nbsp;It&nbsp;could&nbsp;be&nbsp;a&nbsp;function&nbsp;or&nbsp;a&nbsp;closure&nbsp;where&nbsp;needed<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">3&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
Note that a method using a class constant is not considered as using the local class, for this analyzer. <br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_classaliasusage" id="classes_classaliasusage">Usage Of class_alias()</a></h2><p>[Since 0.8.4] - [ -P Classes/ClassAliasUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#usage-of-class_alias--">Online docs</a> ]</p><p> <span style="border: 1px solid #ddd; background-color: #f5f5f5">class_alias</span>  creates dynamically an alias for classes. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{&nbsp;}<br /><br /></span><span style="color: #0000BB">class_alias</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;the&nbsp;objects&nbsp;are&nbsp;the&nbsp;same<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">instanceof&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;the&nbsp;classes&nbsp;are&nbsp;the&nbsp;same<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">instanceof&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">instanceof&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">instanceof&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">instanceof&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/class_alias" alt="class_alias">class_alias</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_avoidusing" id="classes_avoidusing">Custom Class Usage</a></h2><p>[Since 0.8.4] - [ -P Classes/AvoidUsing ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#custom-class-usage">Online docs</a> ]</p><p>List of usage of custom classes throughout the code.</p>
<h2><a href="issues.html#analyzer=extensions_extapache" id="extensions_extapache">ext/apache</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extapache ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-apache">Online docs</a> ]</p><p>Extension Apache.<br />
<br />
These functions are only available when running PHP as an Apache module.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$ret&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">apache_getenv</span><span style="color: #007700">(</span><span style="color: #0000BB">SERVER_ADDR</span><span style="color: #007700">);<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$ret</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.apache.php" alt="Extension Apache">Extension Apache</a> and <a href="https://www.apache.org/" alt="Apache server">Apache server</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_exteaccelerator" id="extensions_exteaccelerator">ext/eaccelerator</a></h2><p>[Since 0.8.4] - [ -P Extensions/Exteaccelerator ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-eaccelerator">Online docs</a> ]</p><p>Extension Eaccelerator.<br />
<br />
eAccelerator is a free open-source PHP accelerator & optimizer. <br />
<br />
See also <a href="http://eaccelerator.net/" alt="Eaccelerator">Eaccelerator</a> and <a href="https://github.com/eaccelerator/eaccelerator" alt="eaccelerator/eaccelerato">eaccelerator/eaccelerato</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extfpm" id="extensions_extfpm">ext/fpm</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extfpm ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-fpm">Online docs</a> ]</p><p>Extension FPM, FastCGI Process Manager.<br />
<br />
FPM (FastCGI Process Manager) is an alternative PHP FastCGI implementation with some additional features (mostly) useful for heavy-loaded sites.<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$text</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">fastcgi_finish_request</span><span style="color: #007700">(&nbsp;);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/fpm" alt="FastCGI Process Manager">FastCGI Process Manager</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extiis" id="extensions_extiis">ext/iis</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extiis ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-iis">Online docs</a> ]</p><p>Extension IIS Administration.<br />
<br />
It provides functions to administrate Microsoft Internet Information Server (IIS).<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$path&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">iis_get_server_by_path</span><span style="color: #007700">(</span><span style="color: #DD0000">'/path/to/root/folder/'</span><span style="color: #007700">)<br /></span>?&gt;</pre><br />
<br />
This extension is available for Windows only. <br />
<br />
See also <a href="http://www.php.net/manual/en/book.iisfunc.php" alt="IIS Administration">IIS Administration</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extxcache" id="extensions_extxcache">ext/xcache</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extxcache ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-xcache">Online docs</a> ]</p><p>Extension Xcache.<br />
<br />
XCache is a open-source opcode cacher, which means that it accelerates the performance of PHP on servers. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">if&nbsp;(!</span><span style="color: #0000BB">xcache_isset</span><span style="color: #007700">(</span><span style="color: #0000BB">count</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;</span><span style="color: #0000BB">xcache_set</span><span style="color: #007700">(</span><span style="color: #0000BB">count</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">load_count_from_mysql</span><span style="color: #007700">());<br />}<br /></span>?&gt;</pre><br />
This guest book has been visited <pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$count&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">xcache_inc</span><span style="color: #007700">(</span><span style="color: #0000BB">count</span><span style="color: #007700">);&nbsp;</span><span style="color: #0000BB">?&gt;</span>&nbsp;times.<br /><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;save&nbsp;every&nbsp;100&nbsp;hits<br /></span><span style="color: #007700">if&nbsp;((</span><span style="color: #0000BB">$count&nbsp;</span><span style="color: #007700">%&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">)&nbsp;==&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;</span><span style="color: #0000BB">save_count_to_mysql</span><span style="color: #007700">(</span><span style="color: #0000BB">$count</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://xcache.lighttpd.net/" alt="xcache">xcache</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extwincache" id="extensions_extwincache">ext/wincache</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extwincache ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-wincache">Online docs</a> ]</p><p>Extension Wincache.<br />
<br />
The <a href="http://www.php.net/wincache" alt="Wincache extension for PHP">Wincache extension for PHP</a> is a PHP accelerator that is used to increase the speed of PHP applications running on Windows and Windows Server.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$fp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">'/tmp/lock.txt'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'r+'</span><span style="color: #007700">);<br />if&nbsp;(</span><span style="color: #0000BB">wincache_lock</span><span style="color: #007700">(</span><span style="color: #0000BB">lock_txt_lock</span><span style="color: #007700">))&nbsp;{&nbsp;</span><span style="color: #FF8000">//&nbsp;do&nbsp;an&nbsp;exclusive&nbsp;lock<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">ftruncate</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;truncate&nbsp;file<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">fwrite</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Write&nbsp;something&nbsp;here\n'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">wincache_unlock</span><span style="color: #007700">(</span><span style="color: #0000BB">lock_txt_lock</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;release&nbsp;the&nbsp;lock<br /></span><span style="color: #007700">}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Couldn'</span><span style="color: #0000BB">t&nbsp;get&nbsp;the&nbsp;lock</span><span style="color: #007700">!</span><span style="color: #DD0000">';<br />}<br />fclose($fp);</span>?&gt;</pre><br />
<br />
See also <a href="https://www.iis.net/downloads/microsoft/wincache-extension" alt="WinCache Extension for PHP">WinCache Extension for PHP</a>.<br />
</p>
<h2><a href="issues.html#analyzer=security_parseurlwithoutparameters" id="security_parseurlwithoutparameters">parse_str() Warning</a></h2><p>[Since 0.8.4] - [ -P Security/parseUrlWithoutParameters ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#parse_str---warning">Online docs</a> ]</p><p>The <a href="https://www.php.net/parse_str" alt="parse_str()">parse_str()</a> function parses a query string and assigns the resulting variables to the local scope. This may create a unexpected number of variables, and even overwrite the existing one.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(&nbsp;)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;</span><span style="color: #0000BB">parse_str</span><span style="color: #007700">(</span><span style="color: #DD0000">'a=1'</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;No&nbsp;second&nbsp;parameter<br />&nbsp;&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(&nbsp;);<br />&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;displays&nbsp;1<br /></span>?&gt;</pre><br />
<br />
Always use an empty variable a second parameter to <a href="https://www.php.net/parse_str" alt="parse_str()">parse_str()</a>, so as to collect the incoming values, and then, filter them in that array. <br />
</p>
<h2><a href="issues.html#analyzer=classes_directcalltomagicmethod" id="classes_directcalltomagicmethod">No Direct Call To Magic Method</a></h2><p>[Since 0.8.4] - [ -P Classes/DirectCallToMagicMethod ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-direct-call-to-magic-method">Online docs</a> ]</p><p>PHP features magic methods, which are methods related to operators.<br />
<br />
Magic methods, such as __get(), related to =, or __clone(), related to  <span style="border: 1px solid #ddd; background-color: #f5f5f5">clone</span> , are supposed to be used in an object environment, and not with direct call. <br />
<br />
It is recommended to use the magic method with its intended usage, and not to call it directly. For example, typecast to  <span style="border: 1px solid #ddd; background-color: #f5f5f5">string</span>  instead of calling the __toString() method.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Write<br />&nbsp;&nbsp;</span><span style="color: #007700">print&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;instead&nbsp;of&nbsp;<br />&nbsp;&nbsp;</span><span style="color: #007700">print&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">__get</span><span style="color: #007700">(</span><span style="color: #DD0000">'a'</span><span style="color: #007700">);&nbsp;<br /><br />class&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">secret</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__toString</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">strtoupper</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">b</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Foo</span><span style="color: #007700">();<br />echo&nbsp;(string)&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
Accessing those methods in a static way is also discouraged.<br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.magic.php" alt="Magic Methods">Magic Methods</a> and <br />
         <a href="https://www.garfieldtech.com/blog/magical-php-call" alt="Magical PHP: __call">Magical PHP: __call</a>.<br />
</p>
<h2><a href="issues.html#analyzer=type_stringholdavariable" id="type_stringholdavariable">String May Hold A Variable</a></h2><p>[Since 0.8.4] - [ -P Type/StringHoldAVariable ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#string-may-hold-a-variable">Online docs</a> ]</p><p>Those strings looks like holding a variable. <br />
<br />
Single quotes and Nowdoc syntax may include $ signs that are treated as literals, and not replaced with a variable value. <br />
<br />
However, there are some potential variables in those strings, making it possible for an error : the variable was forgotten and will be published as such. It is worth checking the content and make sure those strings are not variables.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Explicit&nbsp;variable,&nbsp;but&nbsp;literal&nbsp;effect&nbsp;is&nbsp;needed<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'$a&nbsp;is&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;One&nbsp;of&nbsp;the&nbsp;variable&nbsp;has&nbsp;been&nbsp;forgotten<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'$a&nbsp;is&nbsp;$a'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;$CAD&nbsp;is&nbsp;not&nbsp;a&nbsp;variable,&nbsp;rather&nbsp;a&nbsp;currency&nbsp;unit<br /></span><span style="color: #0000BB">$total&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">12</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$total</span><span style="color: #007700">.</span><span style="color: #DD0000">'&nbsp;$CAD'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;$CAD&nbsp;is&nbsp;not&nbsp;a&nbsp;variable,&nbsp;rather&nbsp;a&nbsp;currency&nbsp;unit<br /></span><span style="color: #0000BB">$total&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">12</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Here,&nbsp;$total&nbsp;has&nbsp;been&nbsp;forgotten<br /></span><span style="color: #007700">echo&nbsp;&lt;&lt;&lt;'TEXT'<br /></span><span style="color: #DD0000">$total&nbsp;$CAD<br /></span><span style="color: #007700">TEXT;<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=structures_echowithconcat" id="structures_echowithconcat">Echo With Concat</a></h2><p>[Since 0.8.4] - [ -P Structures/EchoWithConcat ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#echo-with-concat">Online docs</a> ]</p><p>Optimize your  <span style="border: 1px solid #ddd; background-color: #f5f5f5">echo</span> 's by not concatenating at  <span style="border: 1px solid #ddd; background-color: #f5f5f5">echo</span>  time, but serving all argument separated. This will save PHP a memory copy.<br />
<br />
If values, literals and variables, are small enough, this won't have visible impact. Otherwise, this is less work and less memory waste.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'&nbsp;b&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
instead of<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">echo&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'&nbsp;b&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$a&nbsp;b&nbsp;$c</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_unusedglobal" id="structures_unusedglobal">Unused Global</a></h2><p>[Since 0.8.4] - [ -P Structures/UnusedGlobal ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unused-global">Online docs</a> ]</p><p>A global keyword is used in a method, yet the variable is not actually used. This makes PHP import values for nothing, or may create interference<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_uselessglobal" id="structures_uselessglobal">Useless Global</a></h2><p>[Since 0.8.4] - [ -P Structures/UselessGlobal ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#useless-global">Online docs</a> ]</p><p>Global are useless in two cases. First, on super-globals, which are always globals, like $_GET; secondly, on variables that are not used.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;$_POST&nbsp;is&nbsp;already&nbsp;a&nbsp;global&nbsp;:&nbsp;it&nbsp;is&nbsp;in&nbsp;fact&nbsp;a&nbsp;global&nbsp;everywhere<br /></span><span style="color: #007700">global&nbsp;</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;$unused&nbsp;is&nbsp;useless<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$used</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$unused</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;++</span><span style="color: #0000BB">$used</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
Also, PHP has superglobals, a special team of variables that are always available, whatever the context. <br />
They are : $GLOBALS, $_SERVER, $_GET, $_POST, $_FILES, $_COOKIE, $_SESSION, $_REQUEST and $_ENV. <br />
</p>
<h2><a href="issues.html#analyzer=structures_shouldpreprocess" id="structures_shouldpreprocess">Preprocessable</a></h2><p>[Since 0.8.4] - [ -P Structures/ShouldPreprocess ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#preprocessable">Online docs</a> ]</p><p>The following expression are made of literals or already known values : they may be fully calculated before running PHP.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Building&nbsp;an&nbsp;array&nbsp;from&nbsp;a&nbsp;string<br /></span><span style="color: #0000BB">$name&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'PHP'</span><span style="color: #007700">.</span><span style="color: #DD0000">'&nbsp;'</span><span style="color: #007700">.</span><span style="color: #DD0000">'7.2'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Building&nbsp;an&nbsp;array&nbsp;from&nbsp;a&nbsp;string<br /></span><span style="color: #0000BB">$list&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">explode</span><span style="color: #007700">(</span><span style="color: #DD0000">','</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'a,b,c,d,e,f'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Calculating&nbsp;a&nbsp;power<br /></span><span style="color: #0000BB">$kbytes&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$bytes&nbsp;</span><span style="color: #007700">/&nbsp;</span><span style="color: #0000BB">pow</span><span style="color: #007700">(</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;will&nbsp;never&nbsp;change<br /></span><span style="color: #0000BB">$name&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ucfirst</span><span style="color: #007700">(</span><span style="color: #0000BB">strtolower</span><span style="color: #007700">(</span><span style="color: #DD0000">'PARIS'</span><span style="color: #007700">));<br /></span>?&gt;</pre><br />
<br />
By doing so, this will reduce the amount of work of PHP.</p>
<h2><a href="issues.html#analyzer=performances_slowfunctions" id="performances_slowfunctions">Slow Functions</a></h2><p>[Since 0.8.4] - [ -P Performances/SlowFunctions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#slow-functions">Online docs</a> ]</p><p>Avoid using those slow native PHP functions, and replace them with alternatives.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">source</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;Slow&nbsp;extraction&nbsp;of&nbsp;distinct&nbsp;values<br /></span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_unique</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Much&nbsp;faster&nbsp;extraction&nbsp;of&nbsp;distinct&nbsp;values<br /></span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_keys</span><span style="color: #007700">(</span><span style="color: #0000BB">array_count_values</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">));<br /></span>?&gt;</pre><br />
<br />
<table style="border: solid 1px black;">
<tr><td></td><td>Slow Function</td><td>Faster</td><td></td></tr>
<tr><td></td><td><a href="https://www.php.net/array_diff" alt="array_diff()">array_diff()</a></td><td>for<a href="https://www.php.net/each" alt="each()">each()</a></td><td></td></tr>
<tr><td></td><td><a href="https://www.php.net/array_intersect" alt="array_intersect()">array_intersect()</a></td><td>for<a href="https://www.php.net/each" alt="each()">each()</a></td><td></td></tr>
<tr><td></td><td><a href="https://www.php.net/array_key_exists" alt="array_key_exists()">array_key_exists()</a></td><td>isset() and <a href="https://www.php.net/array_key_exists" alt="array_key_exists()">array_key_exists()</a></td><td></td></tr>
<tr><td></td><td><a href="https://www.php.net/array_map" alt="array_map()">array_map()</a></td><td>for<a href="https://www.php.net/each" alt="each()">each()</a></td><td></td></tr>
<tr><td></td><td><a href="https://www.php.net/array_search" alt="array_search()">array_search()</a></td><td><a href="https://www.php.net/array_flip" alt="array_flip()">array_flip()</a> and isset()</td><td></td></tr>
<tr><td></td><td><a href="https://www.php.net/array_udiff" alt="array_udiff()">array_udiff()</a></td><td>Use another way</td><td></td></tr>
<tr><td></td><td><a href="https://www.php.net/array_uintersect" alt="array_uintersect()">array_uintersect()</a></td><td>Use another way</td><td></td></tr>
<tr><td></td><td><a href="https://www.php.net/array_unshift" alt="array_unshift()">array_unshift()</a></td><td>Use another way</td><td></td></tr>
<tr><td></td><td><a href="https://www.php.net/array_walk" alt="array_walk()">array_walk()</a></td><td>for<a href="https://www.php.net/each" alt="each()">each()</a></td><td></td></tr>
<tr><td></td><td><a href="https://www.php.net/in_array" alt="in_array()">in_array()</a></td><td>isset()</td><td></td></tr>
<tr><td></td><td><a href="https://www.php.net/preg_replace" alt="preg_replace()">preg_replace()</a></td><td><a href="https://www.php.net/strpos" alt="strpos()">strpos()</a></td><td></td></tr>
<tr><td></td><td><a href="https://www.php.net/strstr" alt="strstr()">strstr()</a></td><td><a href="https://www.php.net/strpos" alt="strpos()">strpos()</a></td><td></td></tr>
<tr><td></td><td><a href="https://www.php.net/uasort" alt="uasort()">uasort()</a></td><td>Use another way</td><td></td></tr>
<tr><td></td><td><a href="https://www.php.net/uksort" alt="uksort()">uksort()</a></td><td>Use another way</td><td></td></tr>
<tr><td></td><td><a href="https://www.php.net/usort" alt="usort()">usort()</a></td><td>Use another way</td><td></td></tr>
<tr><td></td><td><a href="https://www.php.net/array_unique" alt="array_unique()">array_unique()</a></td><td><a href="https://www.php.net/array_keys" alt="array_keys()">array_keys()</a> and <a href="https://www.php.net/array_count_values" alt="array_count_values()">array_count_values()</a></td><td></td></tr>
</table>

<a href="https://www.php.net/array_unique" alt="array_unique()">array_unique()</a> has been accelerated in PHP 7.2 and may be used directly from this version on : <a href="https://www.php.net/array_unique" alt="Optimize `array_unique()">Optimize `array_unique()</a> <https://github.com/php/php-src/commit/6c2c7a023da4223e41fea0225c51a417fc8eb10d>`_.<br />
<br />
<a href="https://www.php.net/array_key_exists" alt="array_key_exists()">array_key_exists()</a> has been accelerated in PHP 7.4 and may be used directly from this version on : <a href="https://www.php.net/array_key_exists" alt="Implement ZEND_ARRAY_KEY_EXISTS opcode to speed up `array_key_exists()">Implement ZEND_ARRAY_KEY_EXISTS opcode to speed up `array_key_exists()</a> <https://github.com/php/php-src/pull/3360>`_.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_uselessfinal" id="classes_uselessfinal">Useless Final</a></h2><p>[Since 0.8.4] - [ -P Classes/UselessFinal ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#useless-final">Online docs</a> ]</p><p>When a class is declared final, all of its methods are also final by default. <br />
<br />
There is no need to declare them individually final.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">final&nbsp;class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Useless&nbsp;final,&nbsp;as&nbsp;the&nbsp;whole&nbsp;class&nbsp;is&nbsp;final<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">final&nbsp;function&nbsp;</span><span style="color: #0000BB">method</span><span style="color: #007700">()&nbsp;{&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;class&nbsp;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Useful&nbsp;final,&nbsp;as&nbsp;the&nbsp;whole&nbsp;class&nbsp;is&nbsp;not&nbsp;final<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">final&nbsp;function&nbsp;</span><span style="color: #0000BB">method</span><span style="color: #007700">()&nbsp;{&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.final.php" alt="Final Keyword">Final Keyword</a>, and <a href="https://ocramius.github.io/blog/when-to-declare-classes-final/" alt="When to declare final">When to declare final</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_useconstant" id="structures_useconstant">Use Constant</a></h2><p>[Since 0.8.4] - [ -P Structures/UseConstant ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-constant">Online docs</a> ]</p><p>The following functioncall have a constant equivalent, that is faster to use than calling the functions. <br />
<br />
This applies to the following functions : <br />
<br />
<ul>
<li><a href="https://www.php.net/pi" alt="pi()">pi()</a> : replace with `M_PI`</li>
<li><a href="https://www.php.net/phpversion" alt="phpversion()">phpversion()</a> : replace with `PHP_VERSION`</li>
<li><a href="https://www.php.net/php_sapi_name" alt="php_sapi_name()">php_sapi_name()</a> : replace with `PHP_SAPI_NAME`</li>
</ul>
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;recommended&nbsp;way&nbsp;<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">PHP_VERSION</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;slow&nbsp;version<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">php_version</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.php.net/pi" alt="PHP why `pi()">PHP why `pi()</a> and M_PI <https://stackoverflow.com/questions/42021176/php-why-pi-and-m-pi>`_.<br />
</p>
<h2><a href="issues.html#analyzer=structures_resourcesusage" id="structures_resourcesusage">Resources Usage</a></h2><p>[Since 0.8.4] - [ -P Structures/ResourcesUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#resources-usage">Online docs</a> ]</p><p>List of situations that are creating resources.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;functioncall&nbsp;creates&nbsp;a&nbsp;resource&nbsp;to&nbsp;use<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$fp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">'/tmp/file.txt'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'r'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #0000BB">is_resource</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">)){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">thrown&nbsp;</span><span style="color: #007700">new&nbsp;</span><span style="color: #0000BB">RuntimeException</span><span style="color: #007700">(</span><span style="color: #DD0000">'Could&nbsp;not&nbsp;open&nbsp;file.txt'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /></span>?&gt;</pre><br />
    <br />
</p>
<h2><a href="issues.html#analyzer=structures_uselessunset" id="structures_uselessunset">Useless Unset</a></h2><p>[Since 0.8.4] - [ -P Structures/UselessUnset ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#useless-unset">Online docs</a> ]</p><p>There are situations where trying to remove a variable is actually useless. <br />
<br />
PHP ignores any command that tries to unset a global variable, a static variable, or a blind variable from a foreach loop. <br />
<br />
This is different from the garbage collector, which is run on its own schedule. It is also different from an explicit unset, aimed at freeing memory early : those are useful.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;unsetting&nbsp;arguments&nbsp;is&nbsp;useless<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">unset(</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;unsetting&nbsp;global&nbsp;variable&nbsp;has&nbsp;no&nbsp;effect&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">unset(</span><span style="color: #0000BB">$b</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;unsetting&nbsp;static&nbsp;variable&nbsp;has&nbsp;no&nbsp;effect&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">unset(</span><span style="color: #0000BB">$c</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach(</span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">as&nbsp;&amp;</span><span style="color: #0000BB">$e</span><span style="color: #007700">){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;unsetting&nbsp;a&nbsp;blind&nbsp;variable&nbsp;is&nbsp;useless<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">(unset)&nbsp;</span><span style="color: #0000BB">$e</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Unsetting&nbsp;a&nbsp;blind&nbsp;variable&nbsp;AFTER&nbsp;the&nbsp;loop&nbsp;is&nbsp;good.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">unset(</span><span style="color: #0000BB">$e</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/unset" alt="unset">unset</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_buriedassignation" id="structures_buriedassignation">Buried Assignation</a></h2><p>[Since 0.8.4] - [ -P Structures/BuriedAssignation ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#buried-assignation">Online docs</a> ]</p><p>Those assignations are buried in the code, and placed in unexpected situations. <br />
<br />
They are difficult to spot, and may be confusing. It is advised to place them in a more visible place.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;$b&nbsp;may&nbsp;be&nbsp;assigned&nbsp;before&nbsp;processing&nbsp;$a<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">&amp;&amp;&nbsp;(</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Display&nbsp;property&nbsp;p&nbsp;immeiately,&nbsp;but&nbsp;also,&nbsp;keeps&nbsp;the&nbsp;object&nbsp;for&nbsp;later<br /></span><span style="color: #007700">echo&nbsp;(</span><span style="color: #0000BB">$o&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">x</span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">p</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;legit&nbsp;syntax,&nbsp;but&nbsp;the&nbsp;double&nbsp;assignation&nbsp;is&nbsp;not&nbsp;obvious.<br /></span><span style="color: #007700">for(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$j&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$j&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$j</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=performances_arraymergeinloops" id="performances_arraymergeinloops">No array_merge() In Loops</a></h2><p>[Since 0.8.4] - [ -P Performances/ArrayMergeInLoops ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-array_merge---in-loops">Online docs</a> ]</p><p><a href="https://www.php.net/array_merge" alt="array_merge()">array_merge()</a> is memory intensive : every call will duplicate the arguments in memory, before merging them. <br />
<br />
To handle arrays that may be quite big, it is recommended to avoid using <a href="https://www.php.net/array_merge" alt="array_merge()">array_merge()</a> in a loop. Instead, one should use <a href="https://www.php.net/array_merge" alt="array_merge()">array_merge()</a> with as many arguments as possible, making the merge a on time call.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;A&nbsp;large&nbsp;multidimensional&nbsp;array<br /></span><span style="color: #0000BB">$source&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #DD0000">'a'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">,&nbsp;</span><span style="color: #FF8000">/*...*/</span><span style="color: #007700">],<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'b'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[</span><span style="color: #DD0000">'b'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'c'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'d'</span><span style="color: #007700">,&nbsp;</span><span style="color: #FF8000">/*...*/</span><span style="color: #007700">],<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*...*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;Faster&nbsp;way<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;array();<br />foreach(</span><span style="color: #0000BB">$source&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$key&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$values</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//Collect&nbsp;in&nbsp;an&nbsp;array<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">$values</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;One&nbsp;call&nbsp;to&nbsp;array_merge<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">call_user_func_array</span><span style="color: #007700">(</span><span style="color: #DD0000">'array_merge'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;or&nbsp;with&nbsp;variadic<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">call_user_func</span><span style="color: #007700">(</span><span style="color: #DD0000">'array_merge'</span><span style="color: #007700">,&nbsp;..</span><span style="color: #0000BB">$b</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Fastest&nbsp;way&nbsp;(with&nbsp;above&nbsp;example,&nbsp;without&nbsp;checking&nbsp;nor&nbsp;data&nbsp;pulling)<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">call_user_func_array</span><span style="color: #007700">(</span><span style="color: #DD0000">'array_merge'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">array_values</span><span style="color: #007700">(</span><span style="color: #0000BB">$source</span><span style="color: #007700">))<br /></span><span style="color: #FF8000">//&nbsp;or<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">call_user_func</span><span style="color: #007700">(</span><span style="color: #DD0000">'array_merge'</span><span style="color: #007700">,&nbsp;...</span><span style="color: #0000BB">array_values</span><span style="color: #007700">(</span><span style="color: #0000BB">$source</span><span style="color: #007700">))<br /><br /></span><span style="color: #FF8000">//&nbsp;Slow&nbsp;way&nbsp;to&nbsp;merge&nbsp;it&nbsp;all<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;array();<br />foreach(</span><span style="color: #0000BB">$source&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$key&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$values</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_merge</span><span style="color: #007700">(</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$values</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
Note that <a href="https://www.php.net/array_merge_recursive" alt="array_merge_recursive()">array_merge_recursive()</a> and <a href="https://www.php.net/file_put_contents" alt="file_put_contents()">file_put_contents()</a> are affected and reported the same way.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_uselessparenthesis" id="structures_uselessparenthesis">Useless Parenthesis</a></h2><p>[Since 0.8.4] - [ -P Structures/UselessParenthesis ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#useless-parenthesis">Online docs</a> ]</p><p>Situations where parenthesis are not necessary, and may be removed.<br />
<br />
Parenthesis group several elements together, and allows for a more readable expression. They are used with logical and mathematical expressions. They are necessary when the precedence of the operators are not the intended execution order : for example, when an addition must be performed before the multiplication.<br />
<br />
Sometimes, the parenthesis provide the same execution order than the default order : they are deemed useless. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">if&nbsp;(&nbsp;(</span><span style="color: #0000BB">$condition</span><span style="color: #007700">)&nbsp;)&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;while(&nbsp;(</span><span style="color: #0000BB">$condition</span><span style="color: #007700">)&nbsp;)&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;do&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">++;&nbsp;while&nbsp;(&nbsp;(</span><span style="color: #0000BB">$condition</span><span style="color: #007700">)&nbsp;);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;switch&nbsp;(&nbsp;(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;)&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$y&nbsp;</span><span style="color: #007700">=&nbsp;(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;(</span><span style="color: #0000BB">$y</span><span style="color: #007700">)&nbsp;==&nbsp;(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">f</span><span style="color: #007700">((</span><span style="color: #0000BB">$x</span><span style="color: #007700">));<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;=&nbsp;has&nbsp;precedence&nbsp;over&nbsp;==&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;==&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;(</span><span style="color: #0000BB">$a</span><span style="color: #007700">++);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;No&nbsp;need&nbsp;for&nbsp;parenthesis&nbsp;in&nbsp;default&nbsp;values<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;(&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;)&nbsp;{}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.operators.precedence.php" alt="Operators Precedence">Operators Precedence</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_shellusage" id="structures_shellusage">Shell Usage</a></h2><p>[Since 0.8.4] - [ -P Structures/ShellUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#shell-usage">Online docs</a> ]</p><p>List of shell calls to system.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Using&nbsp;backtick&nbsp;operator<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;`</span><span style="color: #DD0000">ls&nbsp;-hla</span><span style="color: #007700">`;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Using&nbsp;one&nbsp;of&nbsp;PHP&nbsp;native&nbsp;or&nbsp;extension&nbsp;functions<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">shell_exec</span><span style="color: #007700">(</span><span style="color: #DD0000">'ls&nbsp;-hla'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;\</span><span style="color: #0000BB">pcntl_exec</span><span style="color: #007700">(</span><span style="color: #DD0000">'/path/to/command'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/shell_exec" alt="shell_exec">shell_exec</a> and <br />
         <a href="http://www.php.net/manual/en/language.operators.execution.php" alt="Execution Operators">Execution Operators</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_fileusage" id="structures_fileusage">File Usage</a></h2><p>[Since 0.8.4] - [ -P Structures/FileUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#file-usage">Online docs</a> ]</p><p>The application makes usage of files on the system (read, write, delete, etc.).<br />
<br />
Files usage is based on the usage of file functions.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$fp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">'/tmp/file.txt'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'w+'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;....<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/manual/en/book.filesystem.php" alt="filesystem">filesystem</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_mailusage" id="structures_mailusage">Mail Usage</a></h2><p>[Since 0.8.4] - [ -P Structures/MailUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#mail-usage">Online docs</a> ]</p><p>Report usage of mail from PHP. <br />
<br />
The analysis is based on <a href="https://www.php.net/mail" alt="mail()">mail()</a> function and various classes used to send mail.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;The&nbsp;message<br /></span><span style="color: #0000BB">$message&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">Line&nbsp;1</span><span style="color: #007700">\</span><span style="color: #0000BB">r</span><span style="color: #007700">\</span><span style="color: #0000BB">nLine&nbsp;2</span><span style="color: #007700">\</span><span style="color: #0000BB">r</span><span style="color: #007700">\</span><span style="color: #0000BB">nLine&nbsp;3</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;In&nbsp;case&nbsp;any&nbsp;of&nbsp;our&nbsp;lines&nbsp;are&nbsp;larger&nbsp;than&nbsp;70&nbsp;characters,&nbsp;we&nbsp;should&nbsp;use&nbsp;`wordwrap()&nbsp;&lt;https://www.php.net/wordwrap&gt;`_<br /></span><span style="color: #0000BB">$message&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">wordwrap</span><span style="color: #007700">(</span><span style="color: #0000BB">$message</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">70</span><span style="color: #007700">,&nbsp;\</span><span style="color: #0000BB">r</span><span style="color: #007700">\</span><span style="color: #0000BB">n</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Send<br /></span><span style="color: #0000BB">mail</span><span style="color: #007700">(</span><span style="color: #DD0000">'caffeinated@example.com'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'My&nbsp;Subject'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$message</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/mail" alt="mail">mail</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_dynamiccalls" id="structures_dynamiccalls">Dynamic Calls</a></h2><p>[Since 0.8.4] - [ -P Structures/DynamicCalls ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#dynamic-calls">Online docs</a> ]</p><p>List of dynamic calls. They will probably need to be review manually.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Dynamic&nbsp;call&nbsp;of&nbsp;a&nbsp;constant<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">constant</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Dynamic&nbsp;variables<br /></span><span style="color: #007700">$</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Dynamic&nbsp;call&nbsp;of&nbsp;a&nbsp;function<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">(</span><span style="color: #DD0000">'b'</span><span style="color: #007700">);&nbsp;<br /><br /></span><span style="color: #FF8000">//&nbsp;Dynamic&nbsp;call&nbsp;of&nbsp;a&nbsp;method<br /></span><span style="color: #0000BB">$object</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">$a</span><span style="color: #007700">(</span><span style="color: #DD0000">'b'</span><span style="color: #007700">);&nbsp;<br /><br /></span><span style="color: #FF8000">//&nbsp;Dynamic&nbsp;call&nbsp;of&nbsp;a&nbsp;static&nbsp;method<br /></span><span style="color: #0000BB">A</span><span style="color: #007700">::</span><span style="color: #0000BB">$a</span><span style="color: #007700">(</span><span style="color: #DD0000">'b'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/functions.variable-functions.php" alt="Variable functions">Variable functions</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_unresolvedinstanceof" id="classes_unresolvedinstanceof">Unresolved Instanceof</a></h2><p>[Since 0.8.4] - [ -P Classes/UnresolvedInstanceof ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unresolved-instanceof">Online docs</a> ]</p><p>The instanceof operator doesn't confirm if the compared class exists. <br />
<br />
It checks if an variable is of a specific class. However, if the referenced class doesn't exist, because of a bug, a missed inclusion or a typo, the operator always fails, without a warning. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">X&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;class&nbsp;</span><span style="color: #0000BB">C&nbsp;</span><span style="color: #007700">{}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;OK,&nbsp;as&nbsp;C&nbsp;is&nbsp;defined&nbsp;in&nbsp;X<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$o&nbsp;</span><span style="color: #007700">instanceof&nbsp;</span><span style="color: #0000BB">C</span><span style="color: #007700">)&nbsp;{&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;not&nbsp;OK,&nbsp;as&nbsp;C&nbsp;is&nbsp;not&nbsp;defined&nbsp;in&nbsp;global<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;instanceof&nbsp;respects&nbsp;namespaces&nbsp;and&nbsp;use&nbsp;expressions<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$o&nbsp;</span><span style="color: #007700">instanceof&nbsp;\</span><span style="color: #0000BB">C</span><span style="color: #007700">)&nbsp;{&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;not&nbsp;OK,&nbsp;as&nbsp;undefinedClass<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$o&nbsp;</span><span style="color: #007700">instanceof&nbsp;</span><span style="color: #0000BB">undefinedClass</span><span style="color: #007700">)&nbsp;{&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;not&nbsp;OK,&nbsp;as&nbsp;$class&nbsp;is&nbsp;now&nbsp;a&nbsp;full&nbsp;namespace.&nbsp;It&nbsp;actually&nbsp;refers&nbsp;to&nbsp;\c,&nbsp;which&nbsp;doesn't&nbsp;exist<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$class&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'C'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$o&nbsp;</span><span style="color: #007700">instanceof&nbsp;</span><span style="color: #0000BB">$class</span><span style="color: #007700">)&nbsp;{&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
Make sure the following classes are well defined.<br />
<br />
See also <a href="http://php.net/manual/en/language.operators.type.php" alt="Instanceof">Instanceof</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_useobjectapi" id="php_useobjectapi">Use PHP Object API</a></h2><p>[Since 0.8.4] - [ -P Php/UseObjectApi ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-php-object-api">Online docs</a> ]</p><p>OOP API is the modern version of the PHP API.<br />
<br />
When PHP offers the alternative between procedural and OOP api for the same features, it is recommended to use the OOP API. <br />
<br />
Often, this least to more compact code, as methods are shorter, and there is no need to bring the resource around. Lots of new extensions are directly written in OOP form too.<br />
<br />
OOP / procedural alternatives are available for <a href="http://php.net/manual/en/book.mysqli.php" alt="mysqli">mysqli</a>, <a href="http://php.net/manual/en/book.tidy.php" alt="tidy">tidy</a>, <a href="http://php.net/manual/en/book.cairo.php" alt="cairo">cairo</a>, <a href="http://php.net/manual/en/book.fileinfo.php" alt="finfo">finfo</a>, and some others.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">///&nbsp;OOP&nbsp;version<br /></span><span style="color: #0000BB">$mysqli&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">mysqli</span><span style="color: #007700">(</span><span style="color: #0000BB">localhost</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">my_user</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">my_password</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">world</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;check&nbsp;connection&nbsp;*/<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connect_errno</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #0000BB">Connect&nbsp;failed</span><span style="color: #007700">:&nbsp;%</span><span style="color: #0000BB">s</span><span style="color: #007700">\</span><span style="color: #0000BB">n</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connect_error</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;exit();<br />}<br /><br /></span><span style="color: #FF8000">/*&nbsp;Create&nbsp;table&nbsp;doesn't&nbsp;return&nbsp;a&nbsp;resultset&nbsp;*/<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">query</span><span style="color: #007700">(</span><span style="color: #0000BB">CREATE&nbsp;TEMPORARY&nbsp;TABLE&nbsp;myCity&nbsp;LIKE&nbsp;City</span><span style="color: #007700">)&nbsp;===&nbsp;</span><span style="color: #0000BB">TRUE</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #0000BB">Table&nbsp;myCity&nbsp;successfully&nbsp;created</span><span style="color: #007700">.\</span><span style="color: #0000BB">n</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">/*&nbsp;Select&nbsp;queries&nbsp;return&nbsp;a&nbsp;resultset&nbsp;*/<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">query</span><span style="color: #007700">(</span><span style="color: #0000BB">SELECT&nbsp;Name&nbsp;FROM&nbsp;City&nbsp;LIMIT&nbsp;10</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #0000BB">Select&nbsp;returned&nbsp;</span><span style="color: #007700">%</span><span style="color: #0000BB">d&nbsp;rows</span><span style="color: #007700">.\</span><span style="color: #0000BB">n</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$result</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">num_rows</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;free&nbsp;result&nbsp;set&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$result</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">close</span><span style="color: #007700">();<br />}<br /></span>?&gt;</pre><br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">///&nbsp;Procedural&nbsp;version<br /></span><span style="color: #0000BB">$link&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mysqli_connect</span><span style="color: #007700">(</span><span style="color: #0000BB">localhost</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">my_user</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">my_password</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">world</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;check&nbsp;connection&nbsp;*/<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">mysqli_connect_errno</span><span style="color: #007700">())&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #0000BB">Connect&nbsp;failed</span><span style="color: #007700">:&nbsp;%</span><span style="color: #0000BB">s</span><span style="color: #007700">\</span><span style="color: #0000BB">n</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">mysqli_connect_error</span><span style="color: #007700">());<br />&nbsp;&nbsp;&nbsp;&nbsp;exit();<br />}<br /><br /></span><span style="color: #FF8000">/*&nbsp;Create&nbsp;table&nbsp;doesn't&nbsp;return&nbsp;a&nbsp;resultset&nbsp;*/<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">mysqli_query</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">CREATE&nbsp;TEMPORARY&nbsp;TABLE&nbsp;myCity&nbsp;LIKE&nbsp;City</span><span style="color: #007700">)&nbsp;===&nbsp;</span><span style="color: #0000BB">TRUE</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #0000BB">Table&nbsp;myCity&nbsp;successfully&nbsp;created</span><span style="color: #007700">.\</span><span style="color: #0000BB">n</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=exceptions_unthrown" id="exceptions_unthrown">Unthrown Exception</a></h2><p>[Since 0.8.4] - [ -P Exceptions/Unthrown ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unthrown-exception">Online docs</a> ]</p><p>These are exceptions that are defined in the code but never thrown. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//This&nbsp;exception&nbsp;is&nbsp;defined&nbsp;but&nbsp;never&nbsp;used&nbsp;in&nbsp;the&nbsp;code.<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">myUnusedException&nbsp;</span><span style="color: #007700">extends&nbsp;\</span><span style="color: #0000BB">Exception&nbsp;</span><span style="color: #007700">{}<br /><br /></span><span style="color: #FF8000">//This&nbsp;exception&nbsp;is&nbsp;defined&nbsp;and&nbsp;used&nbsp;in&nbsp;the&nbsp;code.<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">myUsedException&nbsp;</span><span style="color: #007700">extends&nbsp;\</span><span style="color: #0000BB">Exception&nbsp;</span><span style="color: #007700">{}<br /><br />throw&nbsp;new&nbsp;</span><span style="color: #0000BB">myUsedException</span><span style="color: #007700">(</span><span style="color: #DD0000">'I&nbsp;was&nbsp;called'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.exceptions.php" alt="Exceptions">Exceptions</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_oldautoloadusage" id="php_oldautoloadusage">Old Style __autoload()</a></h2><p>[Since 0.8.4] - [ -P Php/oldAutoloadUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#old-style-__autoload--">Online docs</a> ]</p><p>Avoid __autoload(), only use spl_register_autoload().<br />
<br />
__autoload() is deprecated since PHP 7.2 and possibly removed in later versions. spl_register_autoload() was introduced in PHP 5.1.0.<br />
<br />
__autoload() may only be declared once, and cannot be modified later. This creates potential conflicts between libraries that try to set up their own autoloading schema. <br />
<br />
On the other hand, spl_register_autoload() allows registering and de-registering multiple autoloading functions or methods. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Modern&nbsp;autoloading.<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">myAutoload</span><span style="color: #007700">(</span><span style="color: #0000BB">$class</span><span style="color: #007700">){}<br /></span><span style="color: #0000BB">spl_register_autoload</span><span style="color: #007700">(</span><span style="color: #DD0000">'myAutoload'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Old&nbsp;style&nbsp;autoloading.<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">__autoload</span><span style="color: #007700">(</span><span style="color: #0000BB">$class</span><span style="color: #007700">){}<br /></span>?&gt;</pre><br />
<br />
Do not use the old __autoload() function, but rather the new spl_register_autoload() function. <br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.autoload.php" alt="Autoloading Classe">Autoloading Classe</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_alteringforeachwithoutreference" id="structures_alteringforeachwithoutreference">Altering Foreach Without Reference</a></h2><p>[Since 0.8.4] - [ -P Structures/AlteringForeachWithoutReference ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#altering-foreach-without-reference">Online docs</a> ]</p><p>For<a href="https://www.php.net/each" alt="each()">each()</a> loop that should use a reference. <br />
<br />
When using a foreach loop that modifies the original source, it is recommended to use referenced variables, rather than access the original value with $source[$index]. <br />
<br />
Using references is then must faster, and easier to read. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Using&nbsp;references&nbsp;in&nbsp;foreach<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$source&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$key&nbsp;</span><span style="color: #007700">=&gt;&nbsp;&amp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$value&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">newValue</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$key</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Avoid&nbsp;foreach&nbsp;:&nbsp;use&nbsp;array_map<br /></span><span style="color: #0000BB">$source&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_walk</span><span style="color: #007700">(</span><span style="color: #0000BB">$source</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'newValue'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Here,&nbsp;$key&nbsp;MUST&nbsp;be&nbsp;the&nbsp;second&nbsp;argument&nbsp;or&nbsp;newValue<br /><br />//&nbsp;Slow&nbsp;version&nbsp;to&nbsp;update&nbsp;the&nbsp;array<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$source&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$key&nbsp;</span><span style="color: #007700">=&gt;&nbsp;&amp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$source</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">newValue</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$key</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
You may also use <a href="https://www.php.net/array_walk" alt="array_walk()">array_walk()</a> or <a href="https://www.php.net/array_map" alt="array_map()">array_map()</a> (when $key is not used) to avoid the use of foreach.<br />
<br />
See also <a href="http://php.net/manual/en/control-structures.foreach.php" alt="foreach">foreach</a>.</p>
<h2><a href="issues.html#analyzer=classes_testclass" id="classes_testclass">Test Class</a></h2><p>[Since 0.8.4] - [ -P Classes/TestClass ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#test-class">Online docs</a> ]</p><p>Those are test classes, based on popular UT frameworks.</p>
<h2><a href="issues.html#analyzer=functions_markcallable" id="functions_markcallable">Mark Callable</a></h2><p>[Since 0.8.4] - [ -P Functions/MarkCallable ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#mark-callable">Online docs</a> ]</p><p>Create an attribute that guess what are the called function or methods, when possible.</p>
<h2><a href="issues.html#analyzer=classes_tostringpss" id="classes_tostringpss">Magic Visibility</a></h2><p>[Since 0.8.4] - [ -P Classes/toStringPss ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#magic-visibility">Online docs</a> ] - [ PHP  older than 5.4]</p><p>The class magic methods must have public visibility and cannot be static.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;magic&nbsp;method&nbsp;must&nbsp;bt&nbsp;public&nbsp;and&nbsp;non-static<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">__clone</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;magic&nbsp;method&nbsp;can't&nbsp;be&nbsp;private<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">private&nbsp;function&nbsp;</span><span style="color: #0000BB">__get</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;magic&nbsp;method&nbsp;can't&nbsp;be&nbsp;protected<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">private&nbsp;function&nbsp;</span><span style="color: #0000BB">__set</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;magic&nbsp;method&nbsp;can't&nbsp;be&nbsp;static<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">__isset</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.magic.php" alt="Magic methods">Magic methods</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_usepathinfo" id="php_usepathinfo">Use Pathinfo</a></h2><p>[Since 0.8.4] - [ -P Php/UsePathinfo ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-pathinfo">Online docs</a> ]</p><p>Use <a href="https://www.php.net/pathinfo" alt="pathinfo()">pathinfo()</a> function instead of string manipulations.<br />
<br />
<a href="https://www.php.net/pathinfo" alt="pathinfo()">pathinfo()</a> is more efficient and readable and string functions.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$filename&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'/path/to/file.php'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;With&nbsp;`pathinfo()&nbsp;&lt;https://www.php.net/pathinfo&gt;`_;<br /></span><span style="color: #0000BB">$details&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pathinfo</span><span style="color: #007700">(</span><span style="color: #0000BB">$filename</span><span style="color: #007700">);<br />print&nbsp;</span><span style="color: #0000BB">$details</span><span style="color: #007700">[</span><span style="color: #DD0000">'extension'</span><span style="color: #007700">];&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;also&nbsp;capture&nbsp;php<br /><br />//&nbsp;With&nbsp;string&nbsp;functions&nbsp;(other&nbsp;solutions&nbsp;possible)<br /></span><span style="color: #0000BB">$ext&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$filename</span><span style="color: #007700">,&nbsp;-&nbsp;</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">strreverse</span><span style="color: #007700">(</span><span style="color: #0000BB">$filename</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">'.'</span><span style="color: #007700">));&nbsp;</span><span style="color: #FF8000">//&nbsp;Capture&nbsp;php<br /></span>?&gt;</pre><br />
<br />
When the path contains UTF-8 characters, <a href="https://www.php.net/pathinfo" alt="pathinfo()">pathinfo()</a> may strip them. There, string functions are necessary.<br />
</p>
<h2><a href="issues.html#analyzer=functions_shoulduseconstants" id="functions_shoulduseconstants">Should Use Constants</a></h2><p>[Since 0.8.4] - [ -P Functions/ShouldUseConstants ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#should-use-constants">Online docs</a> ]</p><p>The following functions have related constants that should be used as arguments, instead of scalar literals, such as integers or strings.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;The&nbsp;file&nbsp;is&nbsp;read&nbsp;and&nbsp;new&nbsp;lines&nbsp;are&nbsp;ignored.<br /></span><span style="color: #0000BB">$lines&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">file</span><span style="color: #007700">(</span><span style="color: #DD0000">'file.txt'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">FILE_IGNORE_NEW_LINES</span><span style="color: #007700">)<br /><br /></span><span style="color: #FF8000">//&nbsp;What&nbsp;is&nbsp;this&nbsp;doing,&nbsp;with&nbsp;2&nbsp;?&nbsp;<br /></span><span style="color: #0000BB">$lines&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">file</span><span style="color: #007700">(</span><span style="color: #DD0000">'file.txt'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://medium.com/@liamhammett/bitmask-constant-arguments-in-php-cf32bf35c73" alt="Bitmask Constant Arguments in PHP">Bitmask Constant Arguments in PHP</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_hashalgos" id="php_hashalgos">Hash Algorithms</a></h2><p>[Since 0.8.4] - [ -P Php/HashAlgos ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#hash-algorithms">Online docs</a> ]</p><p>There is a long but limited list of hashing algorithm available to PHP. The one found doesn't seem to be existing.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;hash&nbsp;has&nbsp;existed&nbsp;in&nbsp;PHP.&nbsp;Check&nbsp;with&nbsp;hash_algos()&nbsp;if&nbsp;it&nbsp;is&nbsp;available&nbsp;on&nbsp;your&nbsp;system.&nbsp;<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">hash</span><span style="color: #007700">(</span><span style="color: #DD0000">'ripmed160'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'The&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumped&nbsp;over&nbsp;the&nbsp;lazy&nbsp;dog.'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;hash&nbsp;doesn't&nbsp;exist<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">hash</span><span style="color: #007700">(</span><span style="color: #DD0000">'ripemd160'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'The&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumped&nbsp;over&nbsp;the&nbsp;lazy&nbsp;dog.'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/hash_algos" alt="hash_algos">hash_algos</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=security_avoidthosecrypto" id="security_avoidthosecrypto">Avoid Those Hash Functions</a></h2><p>[Since 0.8.4] - [ -P Security/AvoidThoseCrypto ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#avoid-those-hash-functions">Online docs</a> ]</p><p>The following cryptographic algorithms are considered unsecure, and should be replaced with new and more performant algorithms. <br />
<br />
 <span style="border: 1px solid #ddd; background-color: #f5f5f5">MD2</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">MD4</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">MD5</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">SHA0</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">SHA1</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">CRC</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">DES</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">3DES</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">RC2</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">RC4</span> . <br />
<br />
When possible, avoid using them, may it be as PHP functions, or hashing function configurations (mcrypt, hash...).<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Weak&nbsp;cryptographic&nbsp;algorithm<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">md5</span><span style="color: #007700">(</span><span style="color: #DD0000">'The&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumped&nbsp;over&nbsp;the&nbsp;lazy&nbsp;dog.'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Weak&nbsp;crypotgraphic&nbsp;algorthim,&nbsp;used&nbsp;with&nbsp;a&nbsp;modern&nbsp;PHP&nbsp;extension&nbsp;(easier&nbsp;to&nbsp;update)<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">hash</span><span style="color: #007700">(</span><span style="color: #DD0000">'md5'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'The&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumped&nbsp;over&nbsp;the&nbsp;lazy&nbsp;dog.'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Strong&nbsp;crypotgraphic&nbsp;algorthim,&nbsp;used&nbsp;with&nbsp;a&nbsp;modern&nbsp;PHP&nbsp;extension<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">hash</span><span style="color: #007700">(</span><span style="color: #DD0000">'sha156'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'The&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumped&nbsp;over&nbsp;the&nbsp;lazy&nbsp;dog.'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
Weak cryptography is commonly used for hashing values when caching them. In such cases, security is not a primary concern. However, it may later become such, when hackers get access to the cache folders, or if the cached identifier is published. As a preventive protection, it is recommended to always use a secure hashing function.<br />
<br />
See also <a href="https://en.wikipedia.org/wiki/Secure_Hash_Algorithms" alt="Secure Hash Algorithms">Secure Hash Algorithms</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extdio" id="extensions_extdio">ext/dio</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extdio ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-dio">Online docs</a> ]</p><p>Extension DIO : Direct Input Output.<br />
<br />
PHP supports the direct io functions as described in the Posix Standard (Section 6) for performing I/O functions at a lower level than the C-Language stream I/O functions<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$fd&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">dio_open</span><span style="color: #007700">(</span><span style="color: #DD0000">'/dev/ttyS0'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">O_RDWR&nbsp;</span><span style="color: #007700">|&nbsp;</span><span style="color: #0000BB">O_NOCTTY&nbsp;</span><span style="color: #007700">|&nbsp;</span><span style="color: #0000BB">O_NONBLOCK</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">dio_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$fd</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/refs.fileprocess.file.php" alt="DIO">DIO</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_noparenthesisforlanguageconstruct" id="structures_noparenthesisforlanguageconstruct">No Parenthesis For Language Construct</a></h2><p>[Since 0.8.4] - [ -P Structures/NoParenthesisForLanguageConstruct ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-parenthesis-for-language-construct">Online docs</a> ]</p><p>Some PHP language constructs, such are  <span style="border: 1px solid #ddd; background-color: #f5f5f5">include</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">print</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">echo</span>  don't need parenthesis. They accept parenthesis, but it is may lead to strange situations. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;an&nbsp;attempt&nbsp;to&nbsp;load&nbsp;'foo.inc',&nbsp;or&nbsp;kill&nbsp;the&nbsp;script<br /></span><span style="color: #007700">include(</span><span style="color: #DD0000">'foo.inc'</span><span style="color: #007700">)&nbsp;or&nbsp;die();<br /></span><span style="color: #FF8000">//&nbsp;in&nbsp;fact,&nbsp;this&nbsp;is&nbsp;read&nbsp;by&nbsp;PHP&nbsp;as&nbsp;:&nbsp;include&nbsp;1&nbsp;<br />//&nbsp;include&nbsp;&nbsp;'foo.inc'&nbsp;or&nbsp;die();<br /></span>?&gt;</pre><br />
<br />
It it better to avoid using parenthesis with  <span style="border: 1px solid #ddd; background-color: #f5f5f5">echo</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">print</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">return</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">throw</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">yield</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">yield from</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">include</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">require</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">include_once</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">require_once</span> .<br />
<br />
See also <a href="http://php.net/manual/en/function.include.php" alt="include">include</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_unusedlabel" id="structures_unusedlabel">Unused Label</a></h2><p>[Since 0.8.4] - [ -P Structures/UnusedLabel ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unused-label">Online docs</a> ]</p><p>Some labels have been defined in the code, but they are not used. They may be removed as they are dead code.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">A</span><span style="color: #007700">:&nbsp;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;++</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;A&nbsp;loop.&nbsp;A:&nbsp;is&nbsp;used<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">)&nbsp;{&nbsp;goto&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">;&nbsp;}<br /><br /></span><span style="color: #FF8000">//&nbsp;B&nbsp;is&nbsp;never&nbsp;called&nbsp;explicitely.&nbsp;This&nbsp;is&nbsp;useless.<br /></span><span style="color: #0000BB">B</span><span style="color: #007700">:<br /></span>?&gt;</pre><br />
<br />
There is no analysis for undefined goto call, as PHP checks that goto has a destination label at compile time : <br />
<br />
See also <a href="http://php.net/manual/en/control-structures.goto.php" alt="Goto">Goto</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_nohardcodedpath" id="structures_nohardcodedpath">No Hardcoded Path</a></h2><p>[Since 0.8.4] - [ -P Structures/NoHardcodedPath ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-hardcoded-path">Online docs</a> ]</p><p>It is not recommended to use hardcoded literals when designating files. Full paths are usually tied to one file system organization. As soon as the organisation changes or must be adapted to any external constraint, the path is not valid anymore.<br />
<br />
Either use __FILE__ and __DIR__ to make the path relative to the current file; use a  <span style="border: 1px solid #ddd; background-color: #f5f5f5">DOC_ROOT</span>  as a configuration constant that will allow the moving of the script to another folder; finally functions like <a href="https://www.php.net/sys_get_temp_dir" alt="sys_get_temp_dir()">sys_get_temp_dir()</a> produce a viable temporary folder.<br />
<br />
Relative paths are relative to the current execution directory, and not the current file. This means they may differ depending on the location of the start of the application, and are sensitive to <a href="https://www.php.net/chdir" alt="chdir()">chdir()</a> and chroot() usage.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;depends&nbsp;on&nbsp;the&nbsp;current&nbsp;executed&nbsp;script<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">'token.txt'</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Exotic&nbsp;protocols&nbsp;are&nbsp;ignored<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">'jackalope://file.txt'</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Some&nbsp;protocols&nbsp;are&nbsp;ignored&nbsp;:&nbsp;http,&nbsp;https,&nbsp;ftp,&nbsp;ssh2,&nbsp;php&nbsp;(with&nbsp;memory)<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">'http://www.php.net/'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">'php://memory/'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;`glob()&nbsp;&lt;https://www.php.net/glob&gt;`_&nbsp;with&nbsp;special&nbsp;chars&nbsp;*&nbsp;and&nbsp;?&nbsp;are&nbsp;not&nbsp;reported<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">glob</span><span style="color: #007700">(</span><span style="color: #DD0000">'./*/foo/bar?.txt'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;`glob()&nbsp;&lt;https://www.php.net/glob&gt;`_&nbsp;without&nbsp;special&nbsp;chars&nbsp;*&nbsp;and&nbsp;?&nbsp;are&nbsp;reported<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">glob</span><span style="color: #007700">(</span><span style="color: #DD0000">'/foo/bar/'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_methodcallonnew" id="php_methodcallonnew">Methodcall On New</a></h2><p>[Since 0.8.4] - [ -P Php/MethodCallOnNew ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#methodcall-on-new">Online docs</a> ] - [ PHP 5.4 and more recent ]</p><p>It is possible to call a method right at object instantiation. <br />
<br />
This syntax was added in PHP 5.4+. Before, this was not possible : the object had to be stored in a variable first.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Data&nbsp;is&nbsp;collected<br /></span><span style="color: #0000BB">$data&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">data_source</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;Data&nbsp;is&nbsp;saved,&nbsp;but&nbsp;won't&nbsp;be&nbsp;reused&nbsp;from&nbsp;this&nbsp;databaseRow&nbsp;object.&nbsp;It&nbsp;may&nbsp;be&nbsp;ignored.<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;(new&nbsp;</span><span style="color: #0000BB">databaseRow</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">))-&gt;</span><span style="color: #0000BB">save</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;The&nbsp;actual&nbsp;result&nbsp;of&nbsp;the&nbsp;save()&nbsp;is&nbsp;collected&nbsp;and&nbsp;tested.<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">!==&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">processSaveError</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
This syntax is interesting when the object is not reused, and may be discarded <br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_nohardcodedport" id="structures_nohardcodedport">No Hardcoded Port</a></h2><p>[Since 0.8.4] - [ -P Structures/NoHardcodedPort ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-hardcoded-port">Online docs</a> ]</p><p>When connecting to a remove server, port is an important information. It is recommended to make this configurable (with constant or configuration), to as to be able to change this value without changing the code.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Both&nbsp;configurable&nbsp;IP&nbsp;and&nbsp;hostname<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$connection&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ssh2_connect</span><span style="color: #007700">(</span><span style="color: #0000BB">$_ENV</span><span style="color: #007700">[</span><span style="color: #DD0000">'SSH_HOST'</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">$_ENV</span><span style="color: #007700">[</span><span style="color: #DD0000">'SSH_PORT'</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">$methods</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$callbacks</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Both&nbsp;hardcoded&nbsp;IP&nbsp;and&nbsp;hostname<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$connection&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ssh2_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'shell.example.com'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">22</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$methods</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$callbacks</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #0000BB">$connection</span><span style="color: #007700">)&nbsp;die(</span><span style="color: #DD0000">'Connection&nbsp;failed'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extphalcon" id="extensions_extphalcon">ext/phalcon</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extphalcon ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-phalcon">Online docs</a> ]</p><p>Extension Phalcon : High Performance PHP Framework.<br />
<br />
Phalcon's autoload examples from the docs :  <a href="https://docs.phalconphp.com/en/latest/reference/tutorial.html" alt="Tutorial 1: Lets learn by example">Tutorial 1: Lets learn by example</a><br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">Phalcon</span><span style="color: #007700">\</span><span style="color: #0000BB">Loader</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;...<br /><br /></span><span style="color: #0000BB">$loader&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Loader</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">$loader</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">registerDirs</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;../</span><span style="color: #0000BB">app</span><span style="color: #007700">/</span><span style="color: #0000BB">controllers</span><span style="color: #007700">/,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;../</span><span style="color: #0000BB">app</span><span style="color: #007700">/</span><span style="color: #0000BB">models</span><span style="color: #007700">/,<br />&nbsp;&nbsp;&nbsp;&nbsp;]<br />);<br /><br /></span><span style="color: #0000BB">$loader</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">register</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://phalconphp.com/" alt="PhalconPHP">PhalconPHP</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=functions_useconstantasarguments" id="functions_useconstantasarguments">Use Constant As Arguments</a></h2><p>[Since 0.8.4] - [ -P Functions/UseConstantAsArguments ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-constant-as-arguments">Online docs</a> ]</p><p>Some methods and functions are defined to be used with constants as arguments. Those constants are made to be meaningful and readable, keeping the code maintenable. It is recommended to use such constants as soon as they are documented.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Turn&nbsp;off&nbsp;all&nbsp;error&nbsp;reporting<br />//&nbsp;0&nbsp;and&nbsp;-1&nbsp;are&nbsp;accepted&nbsp;<br /></span><span style="color: #0000BB">error_reporting</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Report&nbsp;simple&nbsp;running&nbsp;errors<br /></span><span style="color: #0000BB">error_reporting</span><span style="color: #007700">(</span><span style="color: #0000BB">E_ERROR&nbsp;</span><span style="color: #007700">|&nbsp;</span><span style="color: #0000BB">E_WARNING&nbsp;</span><span style="color: #007700">|&nbsp;</span><span style="color: #0000BB">E_PARSE</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;The&nbsp;first&nbsp;argument&nbsp;can&nbsp;be&nbsp;one&nbsp;of&nbsp;INPUT_GET,&nbsp;INPUT_POST,&nbsp;INPUT_COOKIE,&nbsp;INPUT_SERVER,&nbsp;or&nbsp;INPUT_ENV.<br /></span><span style="color: #0000BB">$search_html&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">filter_input</span><span style="color: #007700">(</span><span style="color: #0000BB">INPUT_GET</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'search'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">FILTER_SANITIZE_SPECIAL_CHARS</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;sort&nbsp;accepts&nbsp;one&nbsp;of&nbsp;SORT_REGULAR,&nbsp;SORT_NUMERIC,&nbsp;SORT_STRING,&nbsp;SORT_LOCALE_STRING,&nbsp;SORT_NATURAL<br />//&nbsp;SORT_FLAG_CASE&nbsp;may&nbsp;be&nbsp;added,&nbsp;and&nbsp;combined&nbsp;with&nbsp;SORT_STRING&nbsp;or&nbsp;SORT_NATURAL<br /></span><span style="color: #0000BB">sort</span><span style="color: #007700">(</span><span style="color: #0000BB">$fruits</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
Here is the list of function that use a unique PHP constant as argument : <br />
<br />
+ <a href="https://www.php.net/array_change_key_case" alt="array_change_key_case()">array_change_key_case()</a><br />
+ <a href="https://www.php.net/array_multisort" alt="array_multisort()">array_multisort()</a><br />
+ <a href="https://www.php.net/array_unique" alt="array_unique()">array_unique()</a><br />
+ <a href="https://www.php.net/count" alt="count()">count()</a><br />
+ <a href="https://www.php.net/dns_get_record" alt="dns_get_record()">dns_get_record()</a><br />
+ easter_days()<br />
+ <a href="https://www.php.net/extract" alt="extract()">extract()</a><br />
+ filter_input()<br />
+ filter_var()<br />
+ <a href="https://www.php.net/fseek" alt="fseek()">fseek()</a><br />
+ <a href="https://www.php.net/get_html_translation_table" alt="get_html_translation_table()">get_html_translation_table()</a><br />
+ gmp_div_q()<br />
+ gmp_div_qr()<br />
+ gmp_div_r()<br />
+ <a href="https://www.php.net/html_entity_decode" alt="html_entity_decode()">html_entity_decode()</a><br />
+ <a href="https://www.php.net/htmlspecialchars_decode" alt="htmlspecialchars_decode()">htmlspecialchars_decode()</a><br />
+ <a href="https://www.php.net/http_build_query" alt="http_build_query()">http_build_query()</a><br />
+ http_parse_cookie()<br />
+ http_parse_params()<br />
+ http_redirect()<br />
+ http_support()<br />
+ <a href="https://www.php.net/parse_ini_file" alt="parse_ini_file()">parse_ini_file()</a><br />
+ <a href="https://www.php.net/parse_ini_string" alt="parse_ini_string()">parse_ini_string()</a><br />
+ <a href="https://www.php.net/parse_url" alt="parse_url()">parse_url()</a><br />
+ <a href="https://www.php.net/pathinfo" alt="pathinfo()">pathinfo()</a><br />
+ pg_select()<br />
+ posix_access()<br />
+ <a href="https://www.php.net/round" alt="round()">round()</a><br />
+ <a href="https://www.php.net/scandir" alt="scandir()">scandir()</a><br />
+ socket_read()<br />
+ <a href="https://www.php.net/str_pad" alt="str_pad()">str_pad()</a><br />
+ <a href="https://www.php.net/trigger_error" alt="trigger_error()">trigger_error()</a><br />
<br />
Here is the list of functions that use a combination of PHP native functions as argument.<br />
<br />
+ <a href="https://www.php.net/arsort" alt="arsort()">arsort()</a><br />
+ <a href="https://www.php.net/asort" alt="asort()">asort()</a><br />
+ <a href="https://www.php.net/error_reporting" alt="error_reporting()">error_reporting()</a><br />
+ filter_input()<br />
+ filter_var()<br />
+ <a href="https://www.php.net/get_html_translation_table" alt="get_html_translation_table()">get_html_translation_table()</a><br />
+ <a href="https://www.php.net/htmlentities" alt="htmlentities()">htmlentities()</a><br />
+ <a href="https://www.php.net/htmlspecialchars" alt="htmlspecialchars()">htmlspecialchars()</a><br />
+ http_build_url()<br />
+ jdtojewish()<br />
+ <a href="https://www.php.net/krsort" alt="krsort()">krsort()</a><br />
+ <a href="https://www.php.net/ksort" alt="ksort()">ksort()</a><br />
+ pg_result_status()<br />
+ <a href="https://www.php.net/phpcredits" alt="phpcredits()">phpcredits()</a><br />
+ <a href="https://www.php.net/phpinfo" alt="phpinfo()">phpinfo()</a><br />
+ preg_grep()<br />
+ preg_match()<br />
+ preg_split()<br />
+ <a href="https://www.php.net/rsort" alt="rsort()">rsort()</a><br />
+ runkit_import()<br />
+ <a href="https://www.php.net/sort" alt="sort()">sort()</a><br />
+ <a href="https://www.php.net/stream_socket_client" alt="stream_socket_client()">stream_socket_client()</a><br />
+ <a href="https://www.php.net/stream_socket_server" alt="stream_socket_server()">stream_socket_server()</a><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_impliedif" id="structures_impliedif">Implied If</a></h2><p>[Since 0.8.4] - [ -P Structures/ImpliedIf ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#implied-if">Online docs</a> ]</p><p>It is confusing to emulate if/then with boolean operators.<br />
<br />
It is possible to emulate a if/then structure by using the operators 'and' and 'or'. Since optimizations will be applied to them : <br />
when the left operand of 'and' is false, the right one is not executed, as its result is useless; <br />
when the left operand of 'or' is true, the right one is not executed, as its result is useless; <br />
<br />
However, such structures are confusing. It is easy to misread them as conditions, and ignore an important logic step. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Either&nbsp;connect,&nbsp;or&nbsp;die<br /></span><span style="color: #0000BB">mysql_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$user</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$pass</span><span style="color: #007700">)&nbsp;or&nbsp;die();<br /><br /></span><span style="color: #FF8000">//&nbsp;Defines&nbsp;a&nbsp;constant&nbsp;if&nbsp;not&nbsp;found.&nbsp;<br /></span><span style="color: #0000BB">defined</span><span style="color: #007700">(</span><span style="color: #DD0000">'SOME_CONSTANT'</span><span style="color: #007700">)&nbsp;and&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'SOME_CONSTANT'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Defines&nbsp;a&nbsp;default&nbsp;value&nbsp;if&nbsp;provided&nbsp;is&nbsp;empty-ish&nbsp;<br />//&nbsp;Warning&nbsp;:&nbsp;this&nbsp;is&nbsp;<br /></span><span style="color: #0000BB">$user&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'user'</span><span style="color: #007700">]&nbsp;||&nbsp;</span><span style="color: #DD0000">'anonymous'</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
It is recommended to use a real 'if then' structures, to make the condition readable.<br />
</p>
<h2><a href="issues.html#analyzer=variables_overwrittenliterals" id="variables_overwrittenliterals">Overwritten Literals</a></h2><p>[Since 0.8.4] - [ -P Variables/OverwrittenLiterals ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#overwritten-literals">Online docs</a> ]</p><p>The same variable is assigned a literal twice. It is possible that one of the assignation is too much.<br />
<br />
This analysis doesn't take into account the distance between two assignations : it may report false positives when the variable is actually used for several purposes, and, as such, assigned twice with different values.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Two&nbsp;assignations&nbsp;in&nbsp;a&nbsp;short&nbsp;sequence&nbsp;:&nbsp;one&nbsp;is&nbsp;too&nbsp;many.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;for(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">+=&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;New&nbsp;assignation.&nbsp;$a&nbsp;is&nbsp;now&nbsp;used&nbsp;as&nbsp;an&nbsp;array.&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=classes_makedefault" id="classes_makedefault">Assign Default To Properties</a></h2><p>[Since 0.8.4] - [ -P Classes/MakeDefault ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#assign-default-to-properties">Online docs</a> ]</p><p>Properties may be assigned default values at declaration time. Such values may be later modified, if needed. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$propertyWithDefault&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$propertyWithoutDefault</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$propertyThatCantHaveDefault</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Skip&nbsp;this&nbsp;extra&nbsp;line,&nbsp;and&nbsp;give&nbsp;the&nbsp;default&nbsp;value&nbsp;above<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">propertyWithoutDefault&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Static&nbsp;expressions&nbsp;are&nbsp;available&nbsp;to&nbsp;set&nbsp;up&nbsp;simple&nbsp;computation&nbsp;at&nbsp;definition&nbsp;time.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">propertyWithoutDefault&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">OtherClass</span><span style="color: #007700">::</span><span style="color: #0000BB">CONSTANT&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Arrays,&nbsp;just&nbsp;like&nbsp;scalars,&nbsp;may&nbsp;be&nbsp;set&nbsp;at&nbsp;definition&nbsp;time<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">propertyWithoutDefault&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">,</span><span style="color: #0000BB">3</span><span style="color: #007700">];<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Objects&nbsp;or&nbsp;resources&nbsp;can't&nbsp;be&nbsp;made&nbsp;default.&nbsp;That&nbsp;is&nbsp;OK.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">propertyThatCantHaveDefault&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">'/path/to/file.txt'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">propertyThatCantHaveDefault&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Fileinfo</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
Default values will save some instructions in the constructor, and makes the value obvious in the code. </p>
<h2><a href="issues.html#analyzer=classes_nopublicaccess" id="classes_nopublicaccess">No Public Access</a></h2><p>[Since 0.8.4] - [ -P Classes/NoPublicAccess ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-public-access">Online docs</a> ]</p><p>The properties below are declared with public access, but are never used publicly. They can be made protected or private.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Public,&nbsp;and&nbsp;used&nbsp;in&nbsp;public&nbsp;space<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;</span><span style="color: #0000BB">$neverInPublic&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Public,&nbsp;but&nbsp;never&nbsp;used&nbsp;in&nbsp;outside&nbsp;the&nbsp;class<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$neverInPublic</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$x</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$x</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bar</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=composer_usecomposer" id="composer_usecomposer">Composer Usage</a></h2><p>[Since 0.8.4] - [ -P Composer/UseComposer ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#composer-usage">Online docs</a> ]</p><p>Mark the usage of composer, mostly by having a  <span style="border: 1px solid #ddd; background-color: #f5f5f5">composer.json</span>  file.</p>
<h2><a href="issues.html#analyzer=composer_autoload" id="composer_autoload">Composer's autoload</a></h2><p>[Since 0.8.4] - [ -P Composer/Autoload ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#composer's-autoload">Online docs</a> ]</p><p>Is this code using the autoload from Composer.</p>
<h2><a href="issues.html#analyzer=composer_iscomposernsname" id="composer_iscomposernsname">Composer Namespace</a></h2><p>[Since 0.8.4] - [ -P Composer/IsComposerNsname ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#composer-namespace">Online docs</a> ]</p><p>Mark this namespace as a Composer namespace.<br />
<br />
When the namespace is found in the composer database, it is marked as such. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">Monolog</span><span style="color: #007700">;<br /><br />use&nbsp;</span><span style="color: #0000BB">Monolog</span><span style="color: #007700">\</span><span style="color: #0000BB">Processor</span><span style="color: #007700">\</span><span style="color: #0000BB">WebProcessor</span><span style="color: #007700">;<br />use&nbsp;</span><span style="color: #0000BB">Monolog</span><span style="color: #007700">\</span><span style="color: #0000BB">Handler</span><span style="color: #007700">\</span><span style="color: #0000BB">TestHandler</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">MyLogger&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">WebProcessor&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/**/<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://packagist.org/" alt="Packagist">Packagist</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_shouldchainexception" id="structures_shouldchainexception">Should Chain Exception</a></h2><p>[Since 0.8.4] - [ -P Structures/ShouldChainException ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#should-chain-exception">Online docs</a> ]</p><p>Chain exception to provide more context.<br />
<br />
When catching an exception and rethrowing another one, it is recommended to chain the exception : this means providing the original exception, so that the final recipient has a chance to track the origin of the problem. This doesn't change the thrown message, but provides more information.<br />
<br />
Note : Chaining requires PHP > 5.3.0.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;</span><span style="color: #0000BB">Exception</span><span style="color: #007700">(</span><span style="color: #DD0000">'Exception&nbsp;1'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(\</span><span style="color: #0000BB">Exception&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;</span><span style="color: #0000BB">Exception</span><span style="color: #007700">(</span><span style="color: #DD0000">'Exception&nbsp;2'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$e</span><span style="color: #007700">);&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Chaining&nbsp;here.&nbsp;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/exception.construct.php" alt="Exception::__construct">Exception::__construct</a> and <br />
         <a href="https://stackoverflow.com/questions/5551668/what-are-the-best-practices-for-catching-and-re-throwing-exceptions/5551828" alt="What are the best practices for catching and re-throwing exceptions?">What are the best practices for catching and re-throwing exceptions?</a>.<br />
</p>
<h2><a href="issues.html#analyzer=interfaces_unusedinterfaces" id="interfaces_unusedinterfaces">Unused Interfaces</a></h2><p>[Since 0.8.4] - [ -P Interfaces/UnusedInterfaces ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unused-interfaces">Online docs</a> ]</p><p>Those interfaces are defined and never used. They should be removed, as they are dead code.<br />
<br />
Interfaces may be use as parent for other interfaces, as typehint (argument, return and property), in instance of.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">interface&nbsp;</span><span style="color: #0000BB">used&nbsp;</span><span style="color: #007700">{}<br />interface&nbsp;</span><span style="color: #0000BB">unused&nbsp;</span><span style="color: #007700">{}<br /><br /></span><span style="color: #FF8000">//&nbsp;Used&nbsp;by&nbsp;implementation<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">c&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">used&nbsp;</span><span style="color: #007700">{}<br /><br /></span><span style="color: #FF8000">//&nbsp;Used&nbsp;by&nbsp;extension<br /></span><span style="color: #007700">interface&nbsp;</span><span style="color: #0000BB">j&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">used&nbsp;</span><span style="color: #007700">{}<br /><br /></span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">c</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Used&nbsp;in&nbsp;a&nbsp;instanceof<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">instanceof&nbsp;</span><span style="color: #0000BB">used</span><span style="color: #007700">);&nbsp;<br /><br /></span><span style="color: #FF8000">//&nbsp;Used&nbsp;in&nbsp;a&nbsp;typehint<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">Used&nbsp;$x</span><span style="color: #007700">)&nbsp;{}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=interfaces_uselessinterfaces" id="interfaces_uselessinterfaces">Useless Interfaces</a></h2><p>[Since 0.8.4] - [ -P Interfaces/UselessInterfaces ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#useless-interfaces">Online docs</a> ]</p><p>The interfaces below are defined and are implemented by some classes. <br />
<br />
However, they are never used to enforce an object's class in the code, using instanceof or in a typehint. <br />
As they are currently used, those interfaces may be removed without change in behavior.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;only&nbsp;defined&nbsp;interface&nbsp;but&nbsp;never&nbsp;enforced<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">interface&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">{};<br />&nbsp;&nbsp;&nbsp;&nbsp;class&nbsp;</span><span style="color: #0000BB">c&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">{}<br /></span>?&gt;</pre><br />
<br />
Interfaces should be used in Typehint or with the instanceof operator. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">interface&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">{};<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">i&nbsp;$arg</span><span style="color: #007700">)&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Now,&nbsp;$arg&nbsp;is&nbsp;always&nbsp;an&nbsp;'i'<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">$arg</span><span style="color: #007700">)&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!(</span><span style="color: #0000BB">$arg&nbsp;</span><span style="color: #007700">instanceof&nbsp;</span><span style="color: #0000BB">i</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Now,&nbsp;$arg&nbsp;is&nbsp;always&nbsp;an&nbsp;'i'<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=interfaces_undefinedinterfaces" id="interfaces_undefinedinterfaces">Undefined Interfaces</a></h2><p>[Since 0.8.4] - [ -P Interfaces/UndefinedInterfaces ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#undefined-interfaces">Online docs</a> ]</p><p>Some typehints or  <span style="border: 1px solid #ddd; background-color: #f5f5f5">instanceof</span>  that are relying on undefined interfaces or classes. They will always return false. Any condition based upon them are dead code.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;var&nbsp;implements&nbsp;</span><span style="color: #0000BB">undefinedInterface&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;If&nbsp;undefinedInterface&nbsp;is&nbsp;undefined,&nbsp;this&nbsp;code&nbsp;lints&nbsp;but&nbsp;doesn't&nbsp;run<br /></span><span style="color: #007700">}<br /><br />if&nbsp;(</span><span style="color: #0000BB">$o&nbsp;</span><span style="color: #007700">instanceof&nbsp;</span><span style="color: #0000BB">undefinedInterface</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;silent&nbsp;dead&nbsp;code<br /></span><span style="color: #007700">}<br /><br />function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">undefinedInterface&nbsp;$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;dead&nbsp;code<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;it&nbsp;will&nbsp;probably&nbsp;be&nbsp;discovered&nbsp;at&nbsp;execution<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.interfaces.php" alt="Object interfaces">Object interfaces</a>,<br />
         <a href="http://php.net/manual/en/functions.arguments.php#functions.arguments.type-declaration" alt="Type declarations">Type declarations</a>, and <br />
         <a href="http://php.net/manual/en/language.operators.type.php" alt="Instanceof">Instanceof</a>.<br />
</p>
<h2><a href="issues.html#analyzer=interfaces_concretevisibility" id="interfaces_concretevisibility">Concrete Visibility</a></h2><p>[Since 0.8.4] - [ -P Interfaces/ConcreteVisibility ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#concrete-visibility">Online docs</a> ]</p><p>Methods that implements an interface in a class must be public. <br />
<br />
PHP does lint this, unless the interface and the class are in the same file. At execution, it stops immediately with a Fatal error : 'Access level to c::iPrivate() must be public (as in class i) ';<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">interface&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">iPrivate</span><span style="color: #007700">()&nbsp;;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">iProtected</span><span style="color: #007700">()&nbsp;;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">iPublic</span><span style="color: #007700">()&nbsp;;<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">c&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Methods&nbsp;that&nbsp;implements&nbsp;an&nbsp;interface&nbsp;in&nbsp;a&nbsp;class&nbsp;must&nbsp;be&nbsp;public.&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">private&nbsp;function&nbsp;</span><span style="color: #0000BB">iPrivate</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;function&nbsp;</span><span style="color: #0000BB">iProtected</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">iPublic</span><span style="color: #007700">()&nbsp;{}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.interfaces.php#language.oop5.interfaces" alt="Interfaces">Interfaces</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extapcu" id="extensions_extapcu">ext/apcu</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extapcu ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-apcu">Online docs</a> ]</p><p>Extension  <span style="border: 1px solid #ddd; background-color: #f5f5f5">APCU</span> .<br />
<br />
 <span style="border: 1px solid #ddd; background-color: #f5f5f5">APCu</span>  is  <span style="border: 1px solid #ddd; background-color: #f5f5f5">APC</span>  stripped of opcode caching. The Alternative PHP Cache (APC) is a free and open opcode cache for PHP. Its goal is to provide a free, open, and robust framework for caching and optimizing PHP intermediate code.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'BAR'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">apcu_add</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">apcu_fetch</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">));<br />echo&nbsp;\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'NEVER&nbsp;GETS&nbsp;SET'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">apcu_add</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">apcu_fetch</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">));<br />echo&nbsp;\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/manual/en/book.apcu.php" alt="APCU">APCU</a>, <br />
        <a href="https://pecl.php.net/package/APCu" alt="ext/apcu">ext/apcu</a> and <br />
        <a href="https://github.com/krakjoe/apcu" alt="krakjoe/apcu">krakjoe/apcu</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_doubleinstruction" id="structures_doubleinstruction">Double Instructions</a></h2><p>[Since 0.8.4] - [ -P Structures/DoubleInstruction ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#double-instructions">Online docs</a> ]</p><p>Twice the same call in a row. This is worth a check.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB"></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=security_shouldusepreparedstatement" id="security_shouldusepreparedstatement">Should Use Prepared Statement</a></h2><p>[Since 0.8.4] - [ -P Security/ShouldUsePreparedStatement ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#should-use-prepared-statement">Online docs</a> ]</p><p>Modern databases provides support for prepared statement : it separates the query from the processed data and raise significantly the security. <br />
<br />
Building queries with concatenations is not recommended, though not always avoidable. When possible, use prepared statements.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">/*&nbsp;Execute&nbsp;a&nbsp;prepared&nbsp;statement&nbsp;by&nbsp;passing&nbsp;an&nbsp;array&nbsp;of&nbsp;values&nbsp;*/<br /><br /></span><span style="color: #0000BB">$sql&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'SELECT&nbsp;name,&nbsp;colour,&nbsp;calories<br />&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;fruit<br />&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;calories&nbsp;&lt;&nbsp;:calories&nbsp;AND&nbsp;colour&nbsp;=&nbsp;:colour'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$sth&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$conn</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">prepare</span><span style="color: #007700">(</span><span style="color: #0000BB">$sql</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #0000BB">PDO</span><span style="color: #007700">::</span><span style="color: #0000BB">ATTR_CURSOR&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">PDO</span><span style="color: #007700">::</span><span style="color: #0000BB">CURSOR_FWDONLY</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$sth</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">execute</span><span style="color: #007700">(array(</span><span style="color: #DD0000">':calories'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">150</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">':colour'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'red'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$red&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$sth</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fetchAll</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
Same code, without preparation : <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$sql&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'SELECT&nbsp;name,&nbsp;color,&nbsp;calories&nbsp;FROM&nbsp;fruit&nbsp;WHERE&nbsp;calories&nbsp;&lt;&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$conn</span><span style="color: #007700">-</span><span style="color: #0000BB">quote</span><span style="color: #007700">(</span><span style="color: #0000BB">150</span><span style="color: #007700">).</span><span style="color: #DD0000">'&nbsp;AND&nbsp;colour&nbsp;=&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$conn</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">quotes</span><span style="color: #007700">(</span><span style="color: #DD0000">'red'</span><span style="color: #007700">).</span><span style="color: #DD0000">'&nbsp;ORDER&nbsp;BY&nbsp;name'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$sth&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$conn</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">query</span><span style="color: #007700">(</span><span style="color: #0000BB">$sql</span><span style="color: #007700">)&nbsp;as&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.php.net/manual/en/mysqli.quickstart.prepared-statements.php" alt="Prepared Statements">Prepared Statements</a>,<br />
         <a href="https://websitebeaver.com/prepared-statements-in-php-mysqli-to-prevent-sql-injection" alt="PHP MySQLi Prepared Statements Tutorial to Prevent SQL Injection">PHP MySQLi Prepared Statements Tutorial to Prevent SQL Injection</a>,<br />
         <a href="https://developer.hyvor.com/php/prepared-statements" alt="The Best Way to Perform MYSQLI Prepared Statements in PHP">The Best Way to Perform MYSQLI Prepared Statements in PHP</a>.<br />
         <br />
</p>
<h2><a href="issues.html#analyzer=php_hashalgos53" id="php_hashalgos53">Hash Algorithms Incompatible With PHP 5.3</a></h2><p>[Since 0.8.4] - [ -P Php/HashAlgos53 ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#hash-algorithms-incompatible-with-php-5.3">Online docs</a> ]</p><p>List of hash algorithms incompatible with PHP 5.3.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Compatible&nbsp;only&nbsp;with&nbsp;5.3&nbsp;and&nbsp;more&nbsp;recent<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">hash</span><span style="color: #007700">(</span><span style="color: #DD0000">'md2'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'The&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumped&nbsp;over&nbsp;the&nbsp;lazy&nbsp;dog.'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Always&nbsp;compatible<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">hash</span><span style="color: #007700">(</span><span style="color: #DD0000">'ripemd320'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'The&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumped&nbsp;over&nbsp;the&nbsp;lazy&nbsp;dog.'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/hash_algos" alt="hash_algos">hash_algos</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_hashalgos54" id="php_hashalgos54">Hash Algorithms Incompatible With PHP 5.4/5.5</a></h2><p>[Since 0.8.4] - [ -P Php/HashAlgos54 ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#hash-algorithms-incompatible-with-php-5.4-5.5">Online docs</a> ] - [ PHP  older than 5.4]</p><p>List of hash algorithms incompatible with PHP 5.4 and 5.5.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Compatible&nbsp;only&nbsp;with&nbsp;5.4&nbsp;and&nbsp;more&nbsp;recent<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">hash</span><span style="color: #007700">(</span><span style="color: #DD0000">'fnv132'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'The&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumped&nbsp;over&nbsp;the&nbsp;lazy&nbsp;dog.'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Always&nbsp;compatible<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">hash</span><span style="color: #007700">(</span><span style="color: #DD0000">'ripemd320'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'The&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumped&nbsp;over&nbsp;the&nbsp;lazy&nbsp;dog.'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/hash_algos" alt="hash_algos">hash_algos</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_printanddie" id="structures_printanddie">Print And Die</a></h2><p>[Since 0.8.4] - [ -P Structures/PrintAndDie ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#print-and-die">Online docs</a> ]</p><p>Die() also prints. <br />
<br />
When stopping a script with die(), it is possible to provide a message as first argument, that will be displayed at execution. There is no need to make a specific call to print or echo.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;&nbsp;die&nbsp;may&nbsp;do&nbsp;both&nbsp;print&nbsp;and&nbsp;die.<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'Error&nbsp;message'</span><span style="color: #007700">;<br />die();<br /><br /></span><span style="color: #FF8000">//&nbsp;&nbsp;exit&nbsp;may&nbsp;do&nbsp;both&nbsp;print&nbsp;and&nbsp;die.<br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #DD0000">'Error&nbsp;message'</span><span style="color: #007700">;<br />exit;<br /><br /></span><span style="color: #FF8000">//&nbsp;&nbsp;exit&nbsp;cannot&nbsp;print&nbsp;integers&nbsp;only&nbsp;:&nbsp;they&nbsp;will&nbsp;be&nbsp;used&nbsp;as&nbsp;status&nbsp;report&nbsp;to&nbsp;the&nbsp;system.<br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #DD0000">'Error&nbsp;message'</span><span style="color: #007700">;<br />exit&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_uncheckedresources" id="structures_uncheckedresources">Unchecked Resources</a></h2><p>[Since 0.8.4] - [ -P Structures/UncheckedResources ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unchecked-resources">Online docs</a> ]</p><p>Resources are created, but never checked before being used. This is not safe.<br />
<br />
Always check that resources are correctly created before using them.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;always&nbsp;check&nbsp;that&nbsp;the&nbsp;resource&nbsp;is&nbsp;created&nbsp;correctly<br /></span><span style="color: #0000BB">$fp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #0000BB">$d</span><span style="color: #007700">,</span><span style="color: #DD0000">'r'</span><span style="color: #007700">);<br />if&nbsp;(</span><span style="color: #0000BB">$fp&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;</span><span style="color: #0000BB">Exception</span><span style="color: #007700">(</span><span style="color: #DD0000">'File&nbsp;not&nbsp;found'</span><span style="color: #007700">);<br />}&nbsp;<br /></span><span style="color: #0000BB">$firstLine&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fread</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;directory&nbsp;is&nbsp;not&nbsp;checked&nbsp;:&nbsp;the&nbsp;path&nbsp;may&nbsp;not&nbsp;exist&nbsp;and&nbsp;return&nbsp;false<br /></span><span style="color: #0000BB">$uncheckedDir&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">opendir</span><span style="color: #007700">(</span><span style="color: #0000BB">$pathToDir</span><span style="color: #007700">);<br />while(</span><span style="color: #0000BB">readdir</span><span style="color: #007700">(</span><span style="color: #0000BB">$uncheckedDir</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;do&nbsp;something()<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;file&nbsp;is&nbsp;not&nbsp;checked&nbsp;:&nbsp;the&nbsp;path&nbsp;may&nbsp;not&nbsp;exist&nbsp;or&nbsp;be&nbsp;unreadable&nbsp;and&nbsp;return&nbsp;false<br /></span><span style="color: #0000BB">$fp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #0000BB">$pathToFile</span><span style="color: #007700">);<br />while(</span><span style="color: #0000BB">$line&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">freads</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$text&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #0000BB">$line</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;unsafe&nbsp;one-liner&nbsp;:&nbsp;using&nbsp;bzclose&nbsp;on&nbsp;an&nbsp;unchecked&nbsp;resource<br /></span><span style="color: #0000BB">bzclose</span><span style="color: #007700">(</span><span style="color: #0000BB">bzopen</span><span style="color: #007700">(</span><span style="color: #DD0000">'file'</span><span style="color: #007700">));<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.types.resource.php" alt="resources">resources</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_classconstwitharray" id="php_classconstwitharray">Class Const With Array</a></h2><p>[Since 0.8.4] - [ -P Php/ClassConstWithArray ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#class-const-with-array">Online docs</a> ] - [ PHP 5.5 and more recent ]</p><p>Constant defined with const keyword may be arrays but only stating with PHP 5.6. Define never accept arrays : it only accepts scalar values.</p>
<h2><a href="issues.html#analyzer=extensions_exttrader" id="extensions_exttrader">ext/trader</a></h2><p>[Since 0.8.4] - [ -P Extensions/Exttrader ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-trader">Online docs</a> ]</p><p>Extension trader.<br />
<br />
The trader extension is a free open source stock library based on TA-Lib. It's dedicated to trading software developers requiring to perform technical analysis of financial market data. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;get_data()&nbsp;reads&nbsp;the&nbsp;data&nbsp;from&nbsp;a&nbsp;source&nbsp;<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">trader_avgprice</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">get_data</span><span style="color: #007700">(</span><span style="color: #0000BB">open</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$data0</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">get_data</span><span style="color: #007700">(</span><span style="color: #0000BB">high</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$data0</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">get_data</span><span style="color: #007700">(</span><span style="color: #0000BB">low</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$data0</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">get_data</span><span style="color: #007700">(</span><span style="color: #0000BB">close</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$data0</span><span style="color: #007700">)<br />));<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://pecl.php.net/package/trader" alt="trader">trader</a>, 'TA-lib <http://www.ta-lib.org/><a href="http://php.net/manual/en/book.trader.php" alt="_ and `Trader">_ and `Trader</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extmailparse" id="extensions_extmailparse">ext/mailparse</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extmailparse ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-mailparse">Online docs</a> ]</p><p>Extension mailparse.<br />
<br />
Mailparse is an extension for parsing and working with email messages. It can deal with <a href="http://www.faqs.org/rfcs/rfc822.html" alt="RFC 822 (MIME)">RFC 822 (MIME)</a> and <a href="http://www.faqs.org/rfcs/rfc2045.html" alt="RFC 2045 (MIME)">RFC 2045 (MIME)</a> compliant messages.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$mail&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mailparse_msg_create</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">mailparse_msg_parse</span><span style="color: #007700">(</span><span style="color: #0000BB">$mail</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$mailInString</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$parts&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mailparse_msg_get_structure</span><span style="color: #007700">(</span><span style="color: #0000BB">$mail</span><span style="color: #007700">);&nbsp;<br /><br />foreach(</span><span style="color: #0000BB">$parts&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$part</span><span style="color: #007700">)&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$section&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mailparse_msg_get_part</span><span style="color: #007700">(</span><span style="color: #0000BB">$mail</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$part</span><span style="color: #007700">);&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$info&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mailparse_msg_get_part_data</span><span style="color: #007700">(</span><span style="color: #0000BB">$section</span><span style="color: #007700">);&nbsp;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.mailparse.php" alt="Mailparse">Mailparse</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extmail" id="extensions_extmail">ext/mail</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extmail ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-mail">Online docs</a> ]</p><p>Extension for mail.<br />
<br />
The <a href="https://www.php.net/mail" alt="mail()">mail()</a> function allows you to send mail.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;The&nbsp;message<br /></span><span style="color: #0000BB">$message&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"Line&nbsp;1\r\nLine&nbsp;2\r\nLine&nbsp;3"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;In&nbsp;case&nbsp;any&nbsp;of&nbsp;our&nbsp;lines&nbsp;are&nbsp;larger&nbsp;than&nbsp;70&nbsp;characters,&nbsp;we&nbsp;should&nbsp;use&nbsp;`wordwrap()&nbsp;&lt;https://www.php.net/wordwrap&gt;`_<br /></span><span style="color: #0000BB">$message&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">wordwrap</span><span style="color: #007700">(</span><span style="color: #0000BB">$message</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">70</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"\r\n"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Send<br /></span><span style="color: #0000BB">mail</span><span style="color: #007700">(</span><span style="color: #DD0000">'caffeinated@example.com'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'My&nbsp;Subject'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$message</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/manual/en/book.mail.php" alt="Mail related functions">Mail related functions</a>.</p>
<h2><a href="issues.html#analyzer=classes_unresolvedcatch" id="classes_unresolvedcatch">Unresolved Catch</a></h2><p>[Since 0.8.4] - [ -P Classes/UnresolvedCatch ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unresolved-catch">Online docs</a> ]</p><p>Catch clauses do not check for Exception existence. <br />
<br />
Catch clauses check that the emitted expression is of the requested Class, but if that class doesn't exist in the code, the catch clause is always false. This is dead code.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;doSomething()<br /></span><span style="color: #007700">}&nbsp;catch&nbsp;{</span><span style="color: #0000BB">TypoedExxeption&nbsp;$e</span><span style="color: #007700">)&nbsp;{&nbsp;</span><span style="color: #FF8000">//&nbsp;Do&nbsp;not&nbsp;exist&nbsp;Exception<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Fix&nbsp;this&nbsp;exception<br /></span><span style="color: #007700">}&nbsp;catch&nbsp;{</span><span style="color: #0000BB">Stdclass&nbsp;$e</span><span style="color: #007700">)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Exists,&nbsp;but&nbsp;is&nbsp;not&nbsp;an&nbsp;exception<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Fix&nbsp;this&nbsp;exception<br /></span><span style="color: #007700">}&nbsp;catch&nbsp;{</span><span style="color: #0000BB">Exception&nbsp;$e</span><span style="color: #007700">)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Actual&nbsp;and&nbsp;effective&nbsp;catch<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Fix&nbsp;this&nbsp;exception<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_nohardcodedip" id="structures_nohardcodedip">No Hardcoded Ip</a></h2><p>[Since 0.8.4] - [ -P Structures/NoHardcodedIp ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-hardcoded-ip">Online docs</a> ]</p><p>Do not leave hard coded IP in your code.<br />
<br />
It is recommended to move such configuration in external files or databases, for each update. <br />
This may also come handy when testing. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;IPv4&nbsp;is&nbsp;hardcoded.&nbsp;<br /></span><span style="color: #0000BB">$ip&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'183.207.224.50'</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;IPv6&nbsp;is&nbsp;hardcoded.&nbsp;<br /></span><span style="color: #0000BB">$ip&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'2001:0db8:85a3:0000:0000:8a2e:0370:7334'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;looks&nbsp;like&nbsp;an&nbsp;IP<br /></span><span style="color: #0000BB">$thisIsNotAnIP&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'213.187.99.50'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$thisIsNotAnIP&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'2133:1387:9393:5330'</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
 <span style="border: 1px solid #ddd; background-color: #f5f5f5">127.0.0.1</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">::1</span>  and  <span style="border: 1px solid #ddd; background-color: #f5f5f5">::0</span>  are omitted, and not considered as a violation.<br />
<br />
See also <a href="https://docs.microsoft.com/en-us/windows/desktop/winsock/use-of-hardcoded-ipv4-addresses-2" alt="Use of Hardcoded IPv4 Addresses">Use of Hardcoded IPv4 Addresses</a> and <br />
         <a href="https://wiki.sei.cmu.edu/confluence/display/java/MSC03-J.+Never+hard+code+sensitive+information" alt="Never hard code sensitive information">Never hard code sensitive information</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_variableglobal" id="structures_variableglobal">Variable Global</a></h2><p>[Since 0.8.3] - [ -P Structures/VariableGlobal ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#variable-global">Online docs</a> ] - [ PHP  older than 7.0]</p><p>Variable global such are valid in PHP 5.6, but no in PHP 7.0. They should be replaced with ${$foo->bar}.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Forbidden&nbsp;in&nbsp;PHP&nbsp;7<br /></span><span style="color: #007700">global&nbsp;</span><span style="color: #0000BB">$normalGlobal</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Forbidden&nbsp;in&nbsp;PHP&nbsp;7<br /></span><span style="color: #007700">global&nbsp;$</span><span style="color: #0000BB">$variable</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">global&nbsp;</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Tolerated&nbsp;in&nbsp;PHP&nbsp;7<br /></span><span style="color: #007700">global&nbsp;${</span><span style="color: #0000BB">$variable</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">global</span><span style="color: #007700">};<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_elseifelseif" id="structures_elseifelseif">Else If Versus Elseif</a></h2><p>[Since 0.8.4] - [ -P Structures/ElseIfElseif ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#else-if-versus-elseif">Online docs</a> ]</p><p>Always use elseif instead of else and if. <br />
<br />
"The keyword elseif SHOULD be used instead of else if so that all control keywords look like single words". Quoted from the PHP-FIG documentation<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Using&nbsp;elseif&nbsp;<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();&nbsp;}<br />elseif&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;{&nbsp;</span><span style="color: #0000BB">doSomethingElseIf</span><span style="color: #007700">();&nbsp;}<br />else&nbsp;{&nbsp;</span><span style="color: #0000BB">doSomethingElse</span><span style="color: #007700">();&nbsp;}<br /><br /></span><span style="color: #FF8000">//&nbsp;Using&nbsp;else&nbsp;if&nbsp;<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();&nbsp;}<br />else&nbsp;if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;{&nbsp;</span><span style="color: #0000BB">doSomethingElseIf</span><span style="color: #007700">();&nbsp;}<br />else&nbsp;{&nbsp;</span><span style="color: #0000BB">doSomethingElse</span><span style="color: #007700">();&nbsp;}<br /><br /></span><span style="color: #FF8000">//&nbsp;Using&nbsp;else&nbsp;if,&nbsp;no&nbsp;{}<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();&nbsp;<br />else&nbsp;if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;</span><span style="color: #0000BB">doSomethingElseIf</span><span style="color: #007700">();&nbsp;<br />else&nbsp;&nbsp;</span><span style="color: #0000BB">doSomethingElse</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/control-structures.elseif.php" alt="elseif/else if">elseif/else if</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_reservedkeywords7" id="php_reservedkeywords7">Reserved Keywords In PHP 7</a></h2><p>[Since 0.8.4] - [ -P Php/ReservedKeywords7 ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#reserved-keywords-in-php-7">Online docs</a> ] - [ PHP  older than 7.0]</p><p>PHP reserved names for class/trait/interface. They won't be available anymore in user space starting with PHP 7.<br />
<br />
For example, string, float, false, true, null, resource,... are not acceptable as class name. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;doesn't&nbsp;compile&nbsp;in&nbsp;PHP&nbsp;7.0&nbsp;and&nbsp;more&nbsp;recent<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">null&nbsp;</span><span style="color: #007700">{&nbsp;}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/reserved.other-reserved-words.php" alt="List of other reserved words">List of other reserved words</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_unsetinforeach" id="structures_unsetinforeach">Unset In Foreach</a></h2><p>[Since 0.8.4] - [ -P Structures/UnsetInForeach ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unset-in-foreach">Online docs</a> ]</p><p>Unset applied to the variables of a  <span style="border: 1px solid #ddd; background-color: #f5f5f5">foreach</span>  loop are useless. Those variables are copies and not the actual value. Even if the value is a reference, unsetting it has no effect on the original array : the only effect may be indirect, on elements inside an array, or on properties inside an object.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;When&nbsp;unset&nbsp;is&nbsp;useless<br /></span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">];<br />foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;unset(</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;still&nbsp;[1,&nbsp;2,&nbsp;3]<br /><br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&gt;&nbsp;&amp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;unset(</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;still&nbsp;[1,&nbsp;2,&nbsp;3]<br /><br />//&nbsp;When&nbsp;unset&nbsp;is&nbsp;useful<br /></span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;[&nbsp;[&nbsp;</span><span style="color: #DD0000">'c'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">]&nbsp;];&nbsp;</span><span style="color: #FF8000">//&nbsp;Array&nbsp;in&nbsp;array<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;&amp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;unset(&amp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #DD0000">'c'</span><span style="color: #007700">]);<br />}<br /><br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;now&nbsp;[&nbsp;['c'&nbsp;=&gt;&nbsp;null]&nbsp;]<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/control-structures.foreach.php" alt="foreach">foreach</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_couldbeclassconstant" id="classes_couldbeclassconstant">Could Be Class Constant</a></h2><p>[Since 0.8.4] - [ -P Classes/CouldBeClassConstant ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#could-be-class-constant">Online docs</a> ]</p><p>When a property is defined and read, but never modified, it may be a constant. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$this-&gt;bar&nbsp;is&nbsp;never&nbsp;modified.&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">private&nbsp;</span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$this-&gt;foofoo&nbsp;is&nbsp;modified,&nbsp;at&nbsp;least&nbsp;once<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">private&nbsp;</span><span style="color: #0000BB">$foofoo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">method</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foofoo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foofoo</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foofoo</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />}<br /></span>?&gt;</pre><br />
<br />
Starting with PHP 5.6, even array() may be defined as constants. </p>
<h2><a href="issues.html#analyzer=structures_couldbestatic" id="structures_couldbestatic">Could Be Static</a></h2><p>[Since 0.8.4] - [ -P Structures/CouldBeStatic ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#could-be-static">Online docs</a> ]</p><p>This global is only used in one function or method. It may be called 'static', instead of global. This allows you to keep the value between call to the function, but will not be accessible outside this function.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(&nbsp;)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;</span><span style="color: #0000BB">$variableIsReservedForX</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;only&nbsp;accessible&nbsp;within&nbsp;foo(&nbsp;),&nbsp;even&nbsp;between&nbsp;calls.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">global&nbsp;</span><span style="color: #0000BB">$variableIsGlobal</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;accessible&nbsp;everywhere&nbsp;in&nbsp;the&nbsp;application<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=classes_multipledeclarations" id="classes_multipledeclarations">Multiple Class Declarations</a></h2><p>[Since 0.8.4] - [ -P Classes/MultipleDeclarations ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#multiple-class-declarations">Online docs</a> ]</p><p>It is possible to declare several times the same class in the code. PHP will not mention it until execution time, since declarations may be conditional. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Conditional&nbsp;declaration<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">method</span><span style="color: #007700">()&nbsp;{&nbsp;echo&nbsp;</span><span style="color: #DD0000">'class&nbsp;1'</span><span style="color: #007700">;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">method</span><span style="color: #007700">()&nbsp;{&nbsp;echo&nbsp;</span><span style="color: #DD0000">'class&nbsp;2'</span><span style="color: #007700">;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />(new&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">())-&gt;</span><span style="color: #0000BB">method</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
It is recommended to avoid declaring several times the same class in the code. The best practice is to separate them with namespaces, they are for here for that purpose. In case those two classes are to be used interchangeably, the best is to use an abstract class or an interface.</p>
<h2><a href="issues.html#analyzer=security_comparehash" id="security_comparehash">Compare Hash</a></h2><p>[Since 0.8.4] - [ -P Security/CompareHash ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#compare-hash">Online docs</a> ]</p><p>When comparing hash values, it is important to use the strict comparison : hash_equals(),  <span style="border: 1px solid #ddd; background-color: #f5f5f5">===</span>  or  <span style="border: 1px solid #ddd; background-color: #f5f5f5">!==</span> . <br />
<br />
In a number of situations, the hash value will start with  <span style="border: 1px solid #ddd; background-color: #f5f5f5">0e</span> , and PHP will understand that the comparison involves integers : it will then convert the strings into numbers, and it may end up converting them to 0.<br />
<br />
Here is an example <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;The&nbsp;two&nbsp;following&nbsp;passwords&nbsp;hashes&nbsp;matches,&nbsp;while&nbsp;they&nbsp;are&nbsp;not&nbsp;the&nbsp;same.&nbsp;<br /></span><span style="color: #0000BB">$hashed_password&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0e462097431906509000000000000</span><span style="color: #007700">;<br />if&nbsp;(</span><span style="color: #0000BB">hash</span><span style="color: #007700">(</span><span style="color: #DD0000">'md5'</span><span style="color: #007700">,</span><span style="color: #DD0000">'240610708'</span><span style="color: #007700">,</span><span style="color: #0000BB">false</span><span style="color: #007700">)&nbsp;==&nbsp;</span><span style="color: #0000BB">$hashed_password</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">'Matched.'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;hash&nbsp;returns&nbsp;a&nbsp;string,&nbsp;that&nbsp;is&nbsp;mistaken&nbsp;with&nbsp;0&nbsp;by&nbsp;PHP<br />//&nbsp;The&nbsp;strength&nbsp;of&nbsp;the&nbsp;hashing&nbsp;algorithm&nbsp;is&nbsp;not&nbsp;a&nbsp;problem<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">hash</span><span style="color: #007700">(</span><span style="color: #DD0000">'ripemd160'</span><span style="color: #007700">,</span><span style="color: #DD0000">'20583002034'</span><span style="color: #007700">,</span><span style="color: #0000BB">false</span><span style="color: #007700">)&nbsp;==&nbsp;</span><span style="color: #DD0000">'0'</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">'Matched.'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />}<br /><br />if&nbsp;(</span><span style="color: #0000BB">hash</span><span style="color: #007700">(</span><span style="color: #DD0000">'md5'</span><span style="color: #007700">,</span><span style="color: #DD0000">'240610708'</span><span style="color: #007700">,</span><span style="color: #0000BB">false</span><span style="color: #007700">)&nbsp;!==&nbsp;</span><span style="color: #0000BB">$hashed_password</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">'NOT&nbsp;Matched.'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Display&nbsp;true<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">md5</span><span style="color: #007700">(</span><span style="color: #DD0000">'240610708'</span><span style="color: #007700">)&nbsp;==&nbsp;</span><span style="color: #0000BB">md5</span><span style="color: #007700">(</span><span style="color: #DD0000">'QNKCDZO'</span><span style="color: #007700">)&nbsp;);<br /></span>?&gt;</pre><br />
<br />
You may also use <a href="https://www.php.net/password_hash" alt="password_hash()">password_hash()</a> and <a href="https://www.php.net/password_verify" alt="password_verify()">password_verify()</a> : they work together without integer conversion problems, and they can't be confused with a number.<br />
<br />
See also <a href="https://blog.whitehatsec.com/magic-hashes/" alt="Magic Hashes">Magic Hashes</a> <br />
         <a href="https://stackoverflow.com/questions/5211132/what-is-the-best-way-to-compare-hashed-strings-php/23959696#23959696" alt="What is the best way to compare hashed strings? (PHP)">What is the best way to compare hashed strings? (PHP)</a> and <br />
         <a href="https://news.ycombinator.com/item?id=9484757" alt="md5('240610708') == md5('QNKCDZO')">md5('240610708') == md5('QNKCDZO')</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=namespaces_emptynamespace" id="namespaces_emptynamespace">Empty Namespace</a></h2><p>[Since 0.8.4] - [ -P Namespaces/EmptyNamespace ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#empty-namespace">Online docs</a> ]</p><p>Declaring a namespace in the code and not using it for structure declarations or global instructions is useless.<br />
<br />
Using simple style : <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">Y</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{}<br /><br /><br />namespace&nbsp;</span><span style="color: #0000BB">X</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;useless<br /></span>?&gt;</pre><br />
<br />
Using bracket-style syntax : <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">X&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;useless<br /></span><span style="color: #007700">}<br /><br />namespace&nbsp;</span><span style="color: #0000BB">Y&nbsp;</span><span style="color: #007700">{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{}<br /><br />}<br /></span>?&gt;</pre><br />
<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_coulduseshortassignation" id="structures_coulduseshortassignation">Could Use Short Assignation</a></h2><p>[Since 0.8.4] - [ -P Structures/CouldUseShortAssignation ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#could-use-short-assignation">Online docs</a> ]</p><p>Use short assignment operator, to speed up code, and keep syntax clear.  <br />
<br />
Some operators, like * or +, have a compact and fast 'do-and-assign' version. They looks like a compacted version for = and the operator. This syntax is good for readability, and saves some memory in the process. <br />
<br />
Depending on the operator, not all permutations of arguments are possible. <br />
<br />
Addition and short assignation of addition have a different set of features when applied to arrays. Do not exchange one another in that case.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">10&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">+=&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">-&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">-=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">*=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">/&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">/=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$e&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$e&nbsp;</span><span style="color: #007700">%&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$e&nbsp;</span><span style="color: #007700">%=&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$f&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$f&nbsp;</span><span style="color: #007700">|&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$f&nbsp;</span><span style="color: #007700">|=&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$g&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$g&nbsp;</span><span style="color: #007700">&amp;&nbsp;</span><span style="color: #0000BB">6</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$g&nbsp;</span><span style="color: #007700">&amp;=&nbsp;</span><span style="color: #0000BB">6</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$h&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$h&nbsp;</span><span style="color: #007700">^&nbsp;</span><span style="color: #0000BB">7</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$h&nbsp;</span><span style="color: #007700">^=&nbsp;</span><span style="color: #0000BB">7</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&gt;&gt;&nbsp;</span><span style="color: #0000BB">8</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&gt;&gt;=&nbsp;</span><span style="color: #0000BB">8</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$j&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$j&nbsp;</span><span style="color: #007700">&lt;&lt;&nbsp;</span><span style="color: #0000BB">9</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$j&nbsp;</span><span style="color: #007700">&lt;&lt;=&nbsp;</span><span style="color: #0000BB">9</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;PHP&nbsp;7.4&nbsp;and&nbsp;more&nbsp;recent<br /></span><span style="color: #0000BB">$l&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$l&nbsp;</span><span style="color: #007700">??&nbsp;</span><span style="color: #DD0000">'value'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$l&nbsp;</span><span style="color: #007700">??=&nbsp;</span><span style="color: #DD0000">'value'</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
Short operators are faster than the extended version, though it is a micro-optimization.<br />
<br />
See also <a href="http://php.net/manual/en/language.operators.assignment.php" alt="Assignation Operators">Assignation Operators</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_uselessabstract" id="classes_uselessabstract">Useless Abstract Class</a></h2><p>[Since 0.8.4] - [ -P Classes/UselessAbstract ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#useless-abstract-class">Online docs</a> ]</p><p>Those classes are marked 'abstract' and they are never extended. This way, they won't be instantiated nor used. <br />
<br />
Abstract classes that have only static methods are omitted here : one usage of such classes are Utilities classes, which only offer static methods. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Never&nbsp;extended&nbsp;class&nbsp;:&nbsp;this&nbsp;is&nbsp;useless<br /></span><span style="color: #007700">abstract&nbsp;class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{}<br /><br /></span><span style="color: #FF8000">//&nbsp;Extended&nbsp;class<br /></span><span style="color: #007700">abstract&nbsp;class&nbsp;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">barbar</span><span style="color: #007700">()&nbsp;{}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">bar2&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">{}<br /><br /></span><span style="color: #FF8000">//&nbsp;Utility&nbsp;class&nbsp;:&nbsp;omitted&nbsp;here<br /></span><span style="color: #007700">abstract&nbsp;class&nbsp;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">barbar</span><span style="color: #007700">()&nbsp;{}<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_nullonnew" id="classes_nullonnew">Null On New</a></h2><p>[Since 0.8.4] - [ -P Classes/NullOnNew ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#null-on-new">Online docs</a> ] - [ PHP  older than 7.0]</p><p>Until PHP 7, some classes instantiation could yield null, instead of throwing an exception. <br />
<br />
After issuing a 'new' with those classes, it was important to check if the returned object were null or not. No exception were thrown.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Example&nbsp;extracted&nbsp;from&nbsp;the&nbsp;wiki&nbsp;below<br /></span><span style="color: #0000BB">$mf&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MessageFormatter</span><span style="color: #007700">(</span><span style="color: #DD0000">'en_US'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'{this&nbsp;was&nbsp;made&nbsp;intentionally&nbsp;incorrect}'</span><span style="color: #007700">);<br />if&nbsp;(</span><span style="color: #0000BB">$mf&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Surprise!'</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
This inconsistency has been cleaned in PHP 7 : see See <a href="https://wiki.php.net/rfc/internal_constructor_behaviour" alt="Internal Constructor Behavior">Internal Constructor Behavior</a><br />
<br />
See also <a href="https://wiki.php.net/rfc/internal_constructor_behaviour" alt="PHP RFC: Constructor behaviour of internal classes">PHP RFC: Constructor behaviour of internal classes</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_scalartypehintusage" id="php_scalartypehintusage">Scalar Typehint Usage</a></h2><p>[Since 0.8.4] - [ -P Php/ScalarTypehintUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#scalar-typehint-usage">Online docs</a> ] - [ PHP 7.0 and more recent ]</p><p>Spot usage of scalar type hint :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">int</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">float</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">boolean</span>  and  <span style="border: 1px solid #ddd; background-color: #f5f5f5">string</span> .<br />
<br />
Scalar typehint are PHP 7.0 and more recent. Some, like  <span style="border: 1px solid #ddd; background-color: #f5f5f5">object</span> , is 7.2.<br />
<br />
Scalar typehint were not supported in PHP 5 and older. Then, the typehint is treated as a class name. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">withScalarTypehint</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;$x</span><span style="color: #007700">)&nbsp;{}<br /><br />function&nbsp;</span><span style="color: #0000BB">withoutScalarTypehint</span><span style="color: #007700">(</span><span style="color: #0000BB">someClass&nbsp;$x</span><span style="color: #007700">)&nbsp;{}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://wiki.php.net/rfc/scalar_type_hints" alt="PHP RFC: Scalar Type Hints">PHP RFC: Scalar Type Hints</a> and <a href="http://php.net/manual/en/functions.arguments.php#functions.arguments.type-declaration" alt="Type declarations">Type declarations</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_returntypehintusage" id="php_returntypehintusage">Return Typehint Usage</a></h2><p>[Since 0.8.4] - [ -P Php/ReturnTypehintUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#return-typehint-usage">Online docs</a> ] - [ PHP 7.0 and more recent ]</p><p>Spot usage of return typehint. It is a PHP 7.0 feature.<br />
<br />
Return typehint were introduced in PHP 7.0, and are backward incompatible with PHP 5.x.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;:&nbsp;</span><span style="color: #0000BB">stdClass&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;\</span><span style="color: #0000BB">stdClass</span><span style="color: #007700">();<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://wiki.php.net/rfc/return_types" alt="RFC: Return Type Declarations">RFC: Return Type Declarations</a> and <br />
         <a href="http://php.net/manual/en/functions.returning-values.php#functions.returning-values.type-declaration" alt="Return Type Declarations">Return Type Declarations</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extob" id="extensions_extob">ext/ob</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extob ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-ob">Online docs</a> ]</p><p>Extension Output Buffering Control.<br />
<br />
The Output Control functions allow you to control when output is sent from the script.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">`</span><span style="color: #DD0000">ob_start()&nbsp;&lt;https://www.php.net/ob_start&gt;</span><span style="color: #007700">`</span><span style="color: #0000BB">_</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">Hello</span><span style="color: #007700">\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">setcookie</span><span style="color: #007700">(</span><span style="color: #0000BB">cookiename</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">cookiedata</span><span style="color: #007700">);<br /><br />`</span><span style="color: #DD0000">ob_end_flush()&nbsp;&lt;https://www.php.net/ob_end_flush&gt;</span><span style="color: #007700">`</span><span style="color: #0000BB">_</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
<br />
See also <a href="http://php.net/manual/en/book.outcontrol.php" alt="Output Buffering Control">Output Buffering Control</a>.</p>
<h2><a href="issues.html#analyzer=structures_staticloop" id="structures_staticloop">Static Loop</a></h2><p>[Since 0.8.4] - [ -P Structures/StaticLoop ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#static-loop">Online docs</a> ]</p><p>Static loop may be preprocessed.<br />
<br />
It looks like the following loops are static : the same code is executed each time, without taking into account loop variables.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Static&nbsp;loop<br /></span><span style="color: #0000BB">$total&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />for(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$total&nbsp;</span><span style="color: #007700">+=&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;The&nbsp;above&nbsp;loop&nbsp;may&nbsp;be&nbsp;replaced&nbsp;by&nbsp;(with&nbsp;some&nbsp;math&nbsp;help)<br /></span><span style="color: #0000BB">$total&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">10&nbsp;</span><span style="color: #007700">*&nbsp;(</span><span style="color: #0000BB">10&nbsp;&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;/&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Non-Static&nbsp;loop&nbsp;(the&nbsp;loop&nbsp;depends&nbsp;on&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;array)<br /></span><span style="color: #0000BB">$n&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br />for(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">$n</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$total&nbsp;</span><span style="color: #007700">+=&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
It is possible to create loops that don't use any blind variables, though this is fairly rare. In particular, calling a method may update an internal pointer, like <a href="https://www.php.net/next" alt="next()">next()</a> or  <span style="border: 1px solid #ddd; background-color: #f5f5f5">SimpleXMLIterator::<a href="https://www.php.net/next" alt="next()">next()</a></span> . <br />
<br />
It is recommended to turn a static loop into an expression that avoid the loop. For example, replacing the sum of all integers by the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">function $n * ($n + 1) / 2</span> , or using <a href="https://www.php.net/array_sum" alt="array_sum()">array_sum()</a>.<br />
<br />
This analysis doesn't detect usage of variables with  <span style="border: 1px solid #ddd; background-color: #f5f5f5">compact</span> .<br />
<br />
 </p>
<h2><a href="issues.html#analyzer=performances_prepostincrement" id="performances_prepostincrement">Pre-increment</a></h2><p>[Since 0.8.4] - [ -P Performances/PrePostIncrement ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#pre-increment">Online docs</a> ]</p><p>When possible, use the pre-increment operator ( <span style="border: 1px solid #ddd; background-color: #f5f5f5">++$i</span>  or  <span style="border: 1px solid #ddd; background-color: #f5f5f5">--$i</span> ) instead of the post-increment operator ( <span style="border: 1px solid #ddd; background-color: #f5f5f5">$i++</span>  or  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$i--</span> ).<br />
<br />
The latter needs an extra memory allocation that costs about 10% of performances. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;++$i&nbsp;should&nbsp;be&nbsp;preferred&nbsp;over&nbsp;$i++,&nbsp;as&nbsp;current&nbsp;value&nbsp;is&nbsp;not&nbsp;important<br /></span><span style="color: #007700">for(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">10</span><span style="color: #007700">;&nbsp;++</span><span style="color: #0000BB">$i</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;do&nbsp;Something<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;++$b&nbsp;and&nbsp;$b++&nbsp;have&nbsp;different&nbsp;impact&nbsp;here,&nbsp;since&nbsp;$a&nbsp;will&nbsp;collect&nbsp;$b&nbsp;+&nbsp;1&nbsp;or&nbsp;$b,&nbsp;respectively.<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">++;<br /></span>?&gt;</pre><br />
<br />
This is a micro-optimisation. However, its usage is so widespread, including within loops, that it may eventually have an significant impact on execution time. As such, it is recommended to adopt this rule, and only consider changing legacy code as they are refactored for other reasons.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_onlyvariablereturnedbyreference" id="structures_onlyvariablereturnedbyreference">Only Variable Returned By Reference</a></h2><p>[Since 0.8.4] - [ -P Structures/OnlyVariableReturnedByReference ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#only-variable-returned-by-reference">Online docs</a> ]</p><p>Function can't return literals by reference.<br />
<br />
When a function returns a reference, it is only possible to return variables, properties or static properties. <br />
<br />
Anything else, like literals or static expressions, yield a warning at execution time.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Can't&nbsp;return&nbsp;a&nbsp;literal&nbsp;number<br /></span><span style="color: #007700">function&nbsp;&amp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">3&nbsp;</span><span style="color: #007700">+&nbsp;`</span><span style="color: #DD0000">rand()&nbsp;&lt;https://www.php.net/rand&gt;</span><span style="color: #007700">`</span><span style="color: #0000BB">_</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;bar&nbsp;must&nbsp;return&nbsp;values&nbsp;that&nbsp;are&nbsp;stored&nbsp;in&nbsp;a&nbsp;<br /></span><span style="color: #007700">function&nbsp;&amp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3&nbsp;</span><span style="color: #007700">+&nbsp;`</span><span style="color: #DD0000">rand()&nbsp;&lt;https://www.php.net/rand&gt;</span><span style="color: #007700">`</span><span style="color: #0000BB">_</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=extensions_extgeoip" id="extensions_extgeoip">ext/geoip</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extgeoip ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-geoip">Online docs</a> ]</p><p>Extension geoip for PHP.<br />
<br />
The GeoIP extension allows the localisation of an IP address. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$org&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">geoip_org_by_name</span><span style="color: #007700">(</span><span style="color: #DD0000">'www.example.com'</span><span style="color: #007700">);<br />if&nbsp;(</span><span style="color: #0000BB">$org</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'This&nbsp;host&nbsp;IP&nbsp;is&nbsp;allocated&nbsp;to:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$org</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.geoip.php" alt="GeoIP">GeoIP</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extevent" id="extensions_extevent">ext/event</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extevent ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-event">Online docs</a> ]</p><p>Extension event.<br />
<br />
This is an extension to efficiently schedule I/O, time and signal based events using the best I/O notification mechanism available for specific platform. This is a port of libevent to the PHP infrastructure.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Read&nbsp;callback<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">readcb</span><span style="color: #007700">(</span><span style="color: #0000BB">$bev</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$base</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//$input&nbsp;=&nbsp;$bev-&gt;input;&nbsp;//$bev-&gt;getInput();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;//$pos&nbsp;=&nbsp;$input-&gt;search('TTP');<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$pos&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">input</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">search</span><span style="color: #007700">(</span><span style="color: #DD0000">'TTP'</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;((</span><span style="color: #0000BB">$n&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">input</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">remove</span><span style="color: #007700">(</span><span style="color: #0000BB">$buf</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1024</span><span style="color: #007700">))&nbsp;&gt;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$buf</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Event&nbsp;callback<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">eventcb</span><span style="color: #007700">(</span><span style="color: #0000BB">$bev</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$events</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$base</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$events&nbsp;</span><span style="color: #007700">&amp;&nbsp;</span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">CONNECTED</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Connected.'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;elseif&nbsp;(</span><span style="color: #0000BB">$events&nbsp;</span><span style="color: #007700">&amp;&nbsp;(</span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">ERROR&nbsp;</span><span style="color: #007700">|&nbsp;</span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">EOF</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$events&nbsp;</span><span style="color: #007700">&amp;&nbsp;</span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">ERROR</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'DNS&nbsp;error:&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDnsErrorString</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Closing'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$base</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">exit</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit(</span><span style="color: #DD0000">'Done'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />if&nbsp;(</span><span style="color: #0000BB">$argc&nbsp;</span><span style="color: #007700">!=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&lt;&lt;&lt;EOS<br /></span><span style="color: #DD0000">Trivial&nbsp;HTTP&nbsp;0.x&nbsp;client<br />Syntax:&nbsp;php&nbsp;</span><span style="color: #007700">{</span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]}</span><span style="color: #DD0000">&nbsp;[hostname]&nbsp;[resource]<br />Example:&nbsp;php&nbsp;</span><span style="color: #007700">{</span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]}</span><span style="color: #DD0000">&nbsp;www.google.com&nbsp;/<br /><br /></span><span style="color: #007700">EOS;<br />&nbsp;&nbsp;&nbsp;&nbsp;exit();<br />}<br /><br /></span><span style="color: #0000BB">$base&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">EventBase</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">$dns_base&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">EventDnsBase</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">TRUE</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;We'll&nbsp;use&nbsp;async&nbsp;DNS&nbsp;resolving<br /></span><span style="color: #007700">if&nbsp;(!</span><span style="color: #0000BB">$dns_base</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;exit(</span><span style="color: #DD0000">'Failed&nbsp;to&nbsp;init&nbsp;DNS&nbsp;Base'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #0000BB">$bev&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">,&nbsp;</span><span style="color: #FF8000">/*&nbsp;use&nbsp;internal&nbsp;socket&nbsp;*/&nbsp;</span><span style="color: #0000BB">NULL</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_CLOSE_ON_FREE&nbsp;</span><span style="color: #007700">|&nbsp;</span><span style="color: #0000BB">EventBufferEvent</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_DEFER_CALLBACKS</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'readcb'</span><span style="color: #007700">,&nbsp;</span><span style="color: #FF8000">/*&nbsp;writecb&nbsp;*/&nbsp;</span><span style="color: #0000BB">NULL</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'eventcb'<br /></span><span style="color: #007700">);<br />if&nbsp;(!</span><span style="color: #0000BB">$bev</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;exit(</span><span style="color: #DD0000">'Failed&nbsp;creating&nbsp;bufferevent&nbsp;socket'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//$bev-&gt;setCallbacks('readcb',&nbsp;/*&nbsp;writecb&nbsp;*/&nbsp;NULL,&nbsp;'eventcb',&nbsp;$base);<br /></span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">enable</span><span style="color: #007700">(</span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">READ&nbsp;</span><span style="color: #007700">|&nbsp;</span><span style="color: #0000BB">Event</span><span style="color: #007700">::</span><span style="color: #0000BB">WRITE</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$output&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$bev</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">output</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//$bev-&gt;getOutput();<br /></span><span style="color: #007700">if&nbsp;(!</span><span style="color: #0000BB">$output</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'GET&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">].</span><span style="color: #DD0000">'&nbsp;HTTP/1.0'</span><span style="color: #007700">.</span><span style="color: #DD0000">"\r\n"</span><span style="color: #007700">.<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/event" alt="Event">Event</a> and <a href="http://libevent.org/" alt="libevent">libevent</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extamqp" id="extensions_extamqp">ext/amqp</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extamqp ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-amqp">Online docs</a> ]</p><p>Extension  <span style="border: 1px solid #ddd; background-color: #f5f5f5">amqp</span> .<br />
<br />
PHP AMQP Binding Library. This is an interface with the <a href="https://github.com/alanxz/rabbitmq-c" alt="RabbitMQ AMQP client library">RabbitMQ AMQP client library</a>. It is a C-language AMQP client library for use with v2.0+ of the RabbitMQ broker.<br />
<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$cnn&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">AMQPConnection</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$cnn</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connect</span><span style="color: #007700">();<br />echo&nbsp;</span><span style="color: #DD0000">'Used&nbsp;channels:&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$cnn</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getUsedChannels</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$ch&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">AMQPChannel</span><span style="color: #007700">(</span><span style="color: #0000BB">$cnn</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">'Used&nbsp;channels:&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$cnn</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getUsedChannels</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$ch&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">AMQPChannel</span><span style="color: #007700">(</span><span style="color: #0000BB">$cnn</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">'Used&nbsp;channels:&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$cnn</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getUsedChannels</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$ch&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'Used&nbsp;channels:&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$cnn</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getUsedChannels</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://github.com/pdezwart/php-amqp" alt="PHP AMQP Binding Library">PHP AMQP Binding Library</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extgearman" id="extensions_extgearman">ext/gearman</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extgearman ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-gearman">Online docs</a> ]</p><p>Extension Gearman.<br />
<br />
Gearman is a generic application framework for farming out work to multiple machines or processes. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">#&nbsp;Create&nbsp;our&nbsp;client&nbsp;object.<br /></span><span style="color: #0000BB">$gmclient</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">GearmanClient</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">#&nbsp;Add&nbsp;default&nbsp;server&nbsp;(localhost).<br /></span><span style="color: #0000BB">$gmclient</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addServer</span><span style="color: #007700">();<br /><br />echo&nbsp;</span><span style="color: #DD0000">'Sending&nbsp;job'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">#&nbsp;Send&nbsp;reverse&nbsp;job<br /></span><span style="color: #007700">do<br />{<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$gmclient</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">doNormal</span><span style="color: #007700">(</span><span style="color: #DD0000">'reverse'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Hello!'</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;Check&nbsp;for&nbsp;various&nbsp;return&nbsp;packets&nbsp;and&nbsp;errors.<br />&nbsp;&nbsp;</span><span style="color: #007700">switch(</span><span style="color: #0000BB">$gmclient</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">returnCode</span><span style="color: #007700">())<br />&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">GEARMAN_WORK_DATA</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Data:&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">GEARMAN_WORK_STATUS</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list(</span><span style="color: #0000BB">$numerator</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$denominator</span><span style="color: #007700">)=&nbsp;</span><span style="color: #0000BB">$gmclient</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">doStatus</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Status:&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$numerator</span><span style="color: #007700">.</span><span style="color: #DD0000">'/'</span><span style="color: #007700">.</span><span style="color: #0000BB">$denominator</span><span style="color: #007700">.</span><span style="color: #DD0000">'&nbsp;complete'</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">GEARMAN_WORK_FAIL</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Failed\n'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">GEARMAN_SUCCESS</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Success:&nbsp;$result\n'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;default:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'RET:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$gmclient</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">returnCode</span><span style="color: #007700">()&nbsp;.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit;<br />&nbsp;&nbsp;}<br />}<br />while(</span><span style="color: #0000BB">$gmclient</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">returnCode</span><span style="color: #007700">()&nbsp;!=&nbsp;</span><span style="color: #0000BB">GEARMAN_SUCCESS</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.gearman.php" alt="Gearman on PHP">Gearman on PHP</a> and <a href="http://gearman.org/" alt="Gearman">Gearman</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extcom" id="extensions_extcom">ext/com</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extcom ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-com">Online docs</a> ]</p><p>Extension COM and  <span style="border: 1px solid #ddd; background-color: #f5f5f5">.Net</span>  (Windows).<br />
<br />
COM is an acronym for 'Component Object Model'; it is an object orientated layer (and associated services) on top of DCE RPC (an open standard) and defines a common calling convention that enables code written in any language to call and interoperate with code written in any other language (provided those languages are COM aware).<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$domainObject&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">COM</span><span style="color: #007700">(</span><span style="color: #0000BB">WinNT</span><span style="color: #007700">:</span><span style="color: #FF8000">//Domain);&nbsp;<br /></span><span style="color: #007700">foreach&nbsp;(</span><span style="color: #0000BB">$domainObject&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$obj</span><span style="color: #007700">)&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">Name&nbsp;</span><span style="color: #007700">.&nbsp;&lt;</span><span style="color: #0000BB">br&nbsp;</span><span style="color: #007700">/&gt;;&nbsp;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.com.php" alt="COM and .Net (Windows)">COM and .Net (Windows)</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extgmagick" id="extensions_extgmagick">ext/gmagick</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extgmagick ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-gmagick">Online docs</a> ]</p><p>Extension gmagick.<br />
<br />
Gmagick is a php extension to create, modify and obtain meta information of images using the GraphicsMagick API.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//Instantiate&nbsp;a&nbsp;new&nbsp;Gmagick&nbsp;object<br /></span><span style="color: #0000BB">$image&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Gmagick</span><span style="color: #007700">(</span><span style="color: #DD0000">'example.jpg'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//Make&nbsp;thumbnail&nbsp;from&nbsp;image&nbsp;loaded.&nbsp;0&nbsp;for&nbsp;either&nbsp;axes&nbsp;preserves&nbsp;aspect&nbsp;ratio<br /></span><span style="color: #0000BB">$image</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">thumbnailImage</span><span style="color: #007700">(</span><span style="color: #0000BB">100</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//Create&nbsp;a&nbsp;border&nbsp;around&nbsp;the&nbsp;image,&nbsp;then&nbsp;simulate&nbsp;how&nbsp;the&nbsp;image&nbsp;will&nbsp;look&nbsp;like&nbsp;as&nbsp;an&nbsp;oil&nbsp;painting<br />//Note&nbsp;the&nbsp;chaining&nbsp;of&nbsp;mutator&nbsp;methods&nbsp;which&nbsp;is&nbsp;supported&nbsp;in&nbsp;gmagick<br /></span><span style="color: #0000BB">$image</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">borderImage</span><span style="color: #007700">(</span><span style="color: #0000BB">yellow</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">8</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">8</span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">oilPaintImage</span><span style="color: #007700">(</span><span style="color: #0000BB">0.3</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//Write&nbsp;the&nbsp;current&nbsp;image&nbsp;at&nbsp;the&nbsp;current&nbsp;state&nbsp;to&nbsp;a&nbsp;file<br /></span><span style="color: #0000BB">$image</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">write</span><span style="color: #007700">(</span><span style="color: #DD0000">'example_thumbnail.jpg'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/manual/en/book.gmagick.php" alt="PHP gmagick">PHP gmagick</a> and <br />
         <a href="http://www.graphicsmagick.org/" alt="gmagick">gmagick</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extibase" id="extensions_extibase">ext/ibase</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extibase ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-ibase">Online docs</a> ]</p><p>Extensions  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Interbase</span>  and  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Firebird</span> .<br />
<br />
 <span style="border: 1px solid #ddd; background-color: #f5f5f5">Firebird</span>  is a relational database offering many ISO SQL-2003 features that runs on Linux, Windows, and a variety of Unix platforms. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$host&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'localhost:/path/to/your.gdb'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$dbh&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ibase_connect</span><span style="color: #007700">(</span><span style="color: #0000BB">$host</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$username</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$password</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$stmt&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'SELECT&nbsp;*&nbsp;FROM&nbsp;tblname'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$sth&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ibase_query</span><span style="color: #007700">(</span><span style="color: #0000BB">$dbh</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$stmt</span><span style="color: #007700">)&nbsp;or&nbsp;die(</span><span style="color: #0000BB">ibase_errmsg</span><span style="color: #007700">());<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.ibase.php" alt="Firebase / Interbase">Firebase / Interbase</a> and <a href="http://www.firebirdsql.org/" alt="Firebird">Firebird</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extinotify" id="extensions_extinotify">ext/inotify</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extinotify ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-inotify">Online docs</a> ]</p><p>Extension inotify.<br />
<br />
The Inotify extension gives access to the Linux kernel subsystem that acts to extend filesystems to notice changes to the filesystem, and report those changes to applications.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Open&nbsp;an&nbsp;inotify&nbsp;instance<br /></span><span style="color: #0000BB">$fd&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">inotify_init</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;Watch&nbsp;__FILE__&nbsp;for&nbsp;metadata&nbsp;changes&nbsp;(e.g.&nbsp;mtime)<br /></span><span style="color: #0000BB">$watch_descriptor&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">inotify_add_watch</span><span style="color: #007700">(</span><span style="color: #0000BB">$fd</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">__FILE__</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">IN_ATTRIB</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;generate&nbsp;an&nbsp;event<br /></span><span style="color: #0000BB">touch</span><span style="color: #007700">(</span><span style="color: #0000BB">__FILE__</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Read&nbsp;events<br /></span><span style="color: #0000BB">$events&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">inotify_read</span><span style="color: #007700">(</span><span style="color: #0000BB">$fd</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$events</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;The&nbsp;following&nbsp;methods&nbsp;allows&nbsp;to&nbsp;use&nbsp;inotify&nbsp;functions&nbsp;without&nbsp;blocking&nbsp;on&nbsp;inotify_read():<br /><br />//&nbsp;-&nbsp;Using&nbsp;`stream_select()&nbsp;&lt;https://www.php.net/stream_select&gt;`_&nbsp;on&nbsp;$fd:<br /></span><span style="color: #0000BB">$read&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">$fd</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$write&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$except&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">stream_select</span><span style="color: #007700">(</span><span style="color: #0000BB">$read</span><span style="color: #007700">,</span><span style="color: #0000BB">$write</span><span style="color: #007700">,</span><span style="color: #0000BB">$except</span><span style="color: #007700">,</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;-&nbsp;Using&nbsp;`stream_set_blocking()&nbsp;&lt;https://www.php.net/stream_set_blocking&gt;`_&nbsp;on&nbsp;$fd<br /></span><span style="color: #0000BB">stream_set_blocking</span><span style="color: #007700">(</span><span style="color: #0000BB">$fd</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">inotify_read</span><span style="color: #007700">(</span><span style="color: #0000BB">$fd</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;Does&nbsp;no&nbsp;block,&nbsp;and&nbsp;return&nbsp;false&nbsp;if&nbsp;no&nbsp;events&nbsp;are&nbsp;pending<br /><br />//&nbsp;-&nbsp;Using&nbsp;inotify_queue_len()&nbsp;to&nbsp;check&nbsp;if&nbsp;event&nbsp;queue&nbsp;is&nbsp;not&nbsp;empty<br /></span><span style="color: #0000BB">$queue_len&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">inotify_queue_len</span><span style="color: #007700">(</span><span style="color: #0000BB">$fd</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;If&nbsp;&gt;&nbsp;0,&nbsp;inotify_read()&nbsp;will&nbsp;not&nbsp;block<br /><br />//&nbsp;Stop&nbsp;watching&nbsp;__FILE__&nbsp;for&nbsp;metadata&nbsp;changes<br /></span><span style="color: #0000BB">inotify_rm_watch</span><span style="color: #007700">(</span><span style="color: #0000BB">$fd</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$watch_descriptor</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Close&nbsp;the&nbsp;inotify&nbsp;instance<br />//&nbsp;This&nbsp;may&nbsp;have&nbsp;closed&nbsp;all&nbsp;watches&nbsp;if&nbsp;this&nbsp;was&nbsp;not&nbsp;already&nbsp;done<br /></span><span style="color: #0000BB">fclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$fd</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.inotify.php" alt="ext/inotify manual">ext/inotify manual</a> and <br />
         <a href="https://en.wikipedia.org/wiki/Inotify" alt="inotify">inotify</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extproctitle" id="extensions_extproctitle">ext/proctitle</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extproctitle ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-proctitle">Online docs</a> ]</p><p>Extension proctitle.<br />
<br />
This extension allows changing the current process', and thread, name on Linux and *BSD systems. This is useful when using pcntl_fork() to identify running processes in process list<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">setproctitle</span><span style="color: #007700">(</span><span style="color: #DD0000">'myscript'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.proctitle.php" alt="proctitle">proctitle</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extwikidiff2" id="extensions_extwikidiff2">ext/wikidiff2</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extwikidiff2 ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-wikidiff2">Online docs</a> ]</p><p>Extension wikidiff2.<br />
<br />
Wikidiff2 is a PHP and HHVM module that provides the external diff engine for MediaWiki. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;&lt;&lt;&lt;EOT<br /></span><span style="color: #DD0000">foo&nbsp;bar<br />baz<br />quux<br />bang<br /></span><span style="color: #007700">EOT;<br /><br /></span><span style="color: #0000BB">$y&nbsp;</span><span style="color: #007700">=&nbsp;&lt;&lt;&lt;EOT<br /></span><span style="color: #DD0000">foo&nbsp;test<br />baz<br />test<br />bang<br /></span><span style="color: #007700">EOT;<br /><br />print&nbsp;</span><span style="color: #0000BB">wikidiff2_inline_diff</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$y</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.mediawiki.org/wiki/Extension:Wikidiff2" alt="wikidiff2">wikidiff2</a> and <a href="https://github.com/Seb35/wikidiff2" alt="wikidiff2 (C ext)">wikidiff2 (C ext)</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extxdiff" id="extensions_extxdiff">ext/xdiff</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extxdiff ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-xdiff">Online docs</a> ]</p><p>Extension xdiff.<br />
<br />
xdiff extension enables you to create and apply patch files containing differences between different revisions of files.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$old_version&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'my_script-1.0.php'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$patch&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'my_script.patch'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$errors&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">xdiff_file_patch</span><span style="color: #007700">(</span><span style="color: #0000BB">$old_version</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$patch</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'my_script-1.1.php'</span><span style="color: #007700">);<br />if&nbsp;(</span><span style="color: #0000BB">is_string</span><span style="color: #007700">(</span><span style="color: #0000BB">$errors</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Rejects:'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$errors</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.xdiff.php" alt="xdiff">xdiff</a> and <a href="http://www.xmailserver.org/xdiff-lib.html" alt="libxdiff">libxdiff</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extlibevent" id="extensions_extlibevent">ext/libevent</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extlibevent ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-libevent">Online docs</a> ]</p><p>Extension libevent.<br />
<br />
Libevent is a library that provides a mechanism to execute a callback function when a specific event occurs on a file descriptor or after a timeout has been reached.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">print_line</span><span style="color: #007700">(</span><span style="color: #0000BB">$fd</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$events</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$arg</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;</span><span style="color: #0000BB">$max_requests&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$max_requests</span><span style="color: #007700">++;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$max_requests&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;exit&nbsp;loop&nbsp;after&nbsp;10&nbsp;writes<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">event_base_loopexit</span><span style="color: #007700">(</span><span style="color: #0000BB">$arg</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;print&nbsp;the&nbsp;line<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;&nbsp;</span><span style="color: #0000BB">fgets</span><span style="color: #007700">(</span><span style="color: #0000BB">$fd</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;create&nbsp;base&nbsp;and&nbsp;event<br /></span><span style="color: #0000BB">$base&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">event_base_new</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$event&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">event_new</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">$fd&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">STDIN</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;set&nbsp;event&nbsp;flags<br /></span><span style="color: #0000BB">event_set</span><span style="color: #007700">(</span><span style="color: #0000BB">$event</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$fd</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EV_READ&nbsp;</span><span style="color: #007700">|&nbsp;</span><span style="color: #0000BB">EV_PERSIST</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'print_line'</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #0000BB">$event</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$base</span><span style="color: #007700">));<br /></span><span style="color: #FF8000">//&nbsp;set&nbsp;event&nbsp;base<br /></span><span style="color: #0000BB">event_base_set</span><span style="color: #007700">(</span><span style="color: #0000BB">$event</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$base</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;enable&nbsp;event<br /></span><span style="color: #0000BB">event_add</span><span style="color: #007700">(</span><span style="color: #0000BB">$event</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;start&nbsp;event&nbsp;loop<br /></span><span style="color: #0000BB">event_base_loop</span><span style="color: #007700">(</span><span style="color: #0000BB">$base</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.libevent.org/" alt="libevent">libevent</a> and <a href="http://php.net/manual/en/book.libevent.php" alt="Libevent">Libevent</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extev" id="extensions_extev">ext/ev</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extev ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-ev">Online docs</a> ]</p><p>Extension ev.<br />
<br />
ext/ev is a high performance full-featured event loop written in C.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Create&nbsp;and&nbsp;start&nbsp;timer&nbsp;firing&nbsp;after&nbsp;2&nbsp;seconds<br /></span><span style="color: #0000BB">$w1&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">EvTimer</span><span style="color: #007700">(</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;function&nbsp;()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'2&nbsp;seconds&nbsp;elapsed'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />});<br /><br /></span><span style="color: #FF8000">//&nbsp;Create&nbsp;and&nbsp;launch&nbsp;timer&nbsp;firing&nbsp;after&nbsp;2&nbsp;seconds&nbsp;repeating&nbsp;each&nbsp;second<br />//&nbsp;until&nbsp;we&nbsp;manually&nbsp;stop&nbsp;it<br /></span><span style="color: #0000BB">$w2&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">EvTimer</span><span style="color: #007700">(</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;function&nbsp;(</span><span style="color: #0000BB">$w</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'is&nbsp;called&nbsp;every&nbsp;second,&nbsp;is&nbsp;launched&nbsp;after&nbsp;2&nbsp;seconds'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'iteration&nbsp;=&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">Ev</span><span style="color: #007700">::</span><span style="color: #0000BB">iteration</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Stop&nbsp;the&nbsp;watcher&nbsp;after&nbsp;5&nbsp;iterations<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">Ev</span><span style="color: #007700">::</span><span style="color: #0000BB">iteration</span><span style="color: #007700">()&nbsp;==&nbsp;</span><span style="color: #0000BB">5&nbsp;</span><span style="color: #007700">and&nbsp;</span><span style="color: #0000BB">$w</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">stop</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Stop&nbsp;the&nbsp;watcher&nbsp;if&nbsp;further&nbsp;calls&nbsp;cause&nbsp;more&nbsp;than&nbsp;10&nbsp;iterations<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">Ev</span><span style="color: #007700">::</span><span style="color: #0000BB">iteration</span><span style="color: #007700">()&nbsp;&gt;=&nbsp;</span><span style="color: #0000BB">10&nbsp;</span><span style="color: #007700">and&nbsp;</span><span style="color: #0000BB">$w</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">stop</span><span style="color: #007700">();<br />});<br /><br /></span><span style="color: #FF8000">//&nbsp;Create&nbsp;stopped&nbsp;timer.&nbsp;It&nbsp;will&nbsp;be&nbsp;inactive&nbsp;until&nbsp;we&nbsp;start&nbsp;it&nbsp;ourselves<br /></span><span style="color: #0000BB">$w_stopped&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">EvTimer</span><span style="color: #007700">::</span><span style="color: #0000BB">createStopped</span><span style="color: #007700">(</span><span style="color: #0000BB">10</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">,&nbsp;function(</span><span style="color: #0000BB">$w</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Callback&nbsp;of&nbsp;a&nbsp;timer&nbsp;created&nbsp;as&nbsp;stopped'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Stop&nbsp;the&nbsp;watcher&nbsp;after&nbsp;2&nbsp;iterations<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">Ev</span><span style="color: #007700">::</span><span style="color: #0000BB">iteration</span><span style="color: #007700">()&nbsp;&gt;=&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">and&nbsp;</span><span style="color: #0000BB">$w</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">stop</span><span style="color: #007700">();<br />});<br /><br /></span><span style="color: #FF8000">//&nbsp;Loop&nbsp;until&nbsp;Ev::stop()&nbsp;is&nbsp;called&nbsp;or&nbsp;all&nbsp;of&nbsp;watchers&nbsp;stop<br /></span><span style="color: #0000BB">Ev</span><span style="color: #007700">::</span><span style="color: #0000BB">run</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;Start&nbsp;and&nbsp;look&nbsp;if&nbsp;it&nbsp;works<br /></span><span style="color: #0000BB">$w_stopped</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">start</span><span style="color: #007700">();<br />echo&nbsp;</span><span style="color: #DD0000">'Run&nbsp;single&nbsp;iteration'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">Ev</span><span style="color: #007700">::</span><span style="color: #0000BB">run</span><span style="color: #007700">(</span><span style="color: #0000BB">Ev</span><span style="color: #007700">::</span><span style="color: #0000BB">RUN_ONCE</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #DD0000">'Restart&nbsp;the&nbsp;second&nbsp;watcher&nbsp;and&nbsp;try&nbsp;to&nbsp;handle&nbsp;the&nbsp;same&nbsp;events,&nbsp;but&nbsp;don\'t&nbsp;block'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$w2</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">again</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">Ev</span><span style="color: #007700">::</span><span style="color: #0000BB">run</span><span style="color: #007700">(</span><span style="color: #0000BB">Ev</span><span style="color: #007700">::</span><span style="color: #0000BB">RUN_NOWAIT</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$w&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">EvTimer</span><span style="color: #007700">(</span><span style="color: #0000BB">10</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;function()&nbsp;{});<br />echo&nbsp;</span><span style="color: #DD0000">'Running&nbsp;a&nbsp;blocking&nbsp;loop'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">Ev</span><span style="color: #007700">::</span><span style="color: #0000BB">run</span><span style="color: #007700">();<br />echo&nbsp;</span><span style="color: #DD0000">'END'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.ev.php" alt="Ev">Ev</a> and <a href="http://software.schmorp.de/pkg/libev.html" alt="libev">libev</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extast" id="extensions_extast">ext/php-ast</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extast ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-php-ast">Online docs</a> ] - [ PHP 7.0 and more recent ]</p><p>PHP-AST extension (PHP 7.0 +).<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$code&nbsp;</span><span style="color: #007700">=&nbsp;&lt;&lt;&lt;'EOC'<br /></span><span style="color: #DD0000">&lt;?php<br />$var&nbsp;=&nbsp;42;<br /></span><span style="color: #007700">EOC;<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">ast</span><span style="color: #007700">\</span><span style="color: #0000BB">parse_code</span><span style="color: #007700">(</span><span style="color: #0000BB">$code</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$version</span><span style="color: #007700">=</span><span style="color: #0000BB">50</span><span style="color: #007700">));<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://pecl.php.net/package/ast" alt="ext/ast">ext/ast</a> and <a href="https://github.com/nikic/php-ast" alt="Extension exposing PHP 7 abstract syntax tree">Extension exposing PHP 7 abstract syntax tree</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extxml" id="extensions_extxml">ext/xml</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extxml ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-xml">Online docs</a> ]</p><p>Extension xml (Parser).<br />
<br />
This PHP extension implements support for James Clark's expat in PHP. This toolkit lets you parse, but not validate, XML documents. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$file&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">data</span><span style="color: #007700">.</span><span style="color: #0000BB">xml</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$depth&nbsp;</span><span style="color: #007700">=&nbsp;array();<br /><br />function&nbsp;</span><span style="color: #0000BB">startElement</span><span style="color: #007700">(</span><span style="color: #0000BB">$parser</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$attrs</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$depth</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!isset(</span><span style="color: #0000BB">$depth</span><span style="color: #007700">[</span><span style="color: #0000BB">$parser</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$depth</span><span style="color: #007700">[</span><span style="color: #0000BB">$parser</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">$depth</span><span style="color: #007700">[</span><span style="color: #0000BB">$parser</span><span style="color: #007700">];&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$depth</span><span style="color: #007700">[</span><span style="color: #0000BB">$parser</span><span style="color: #007700">]++;<br />}<br /><br />function&nbsp;</span><span style="color: #0000BB">endElement</span><span style="color: #007700">(</span><span style="color: #0000BB">$parser</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$depth</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$depth</span><span style="color: #007700">[</span><span style="color: #0000BB">$parser</span><span style="color: #007700">]--;<br />}<br /><br /></span><span style="color: #0000BB">$xml_parser&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">xml_parser_create</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">xml_set_element_handler</span><span style="color: #007700">(</span><span style="color: #0000BB">$xml_parser</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">startElement</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">endElement</span><span style="color: #007700">);<br />if&nbsp;(!(</span><span style="color: #0000BB">$fp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">r</span><span style="color: #007700">)))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #0000BB">could&nbsp;not&nbsp;open&nbsp;XML&nbsp;input</span><span style="color: #007700">);<br />}<br /><br />while&nbsp;(</span><span style="color: #0000BB">$data&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fread</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4096</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #0000BB">xml_parse</span><span style="color: #007700">(</span><span style="color: #0000BB">$xml_parser</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">feof</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">)))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #0000BB">sprintf</span><span style="color: #007700">(</span><span style="color: #0000BB">XML&nbsp;error</span><span style="color: #007700">:&nbsp;%</span><span style="color: #0000BB">s&nbsp;at&nbsp;line&nbsp;</span><span style="color: #007700">%</span><span style="color: #0000BB">d</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">xml_error_string</span><span style="color: #007700">(</span><span style="color: #0000BB">xml_get_error_code</span><span style="color: #007700">(</span><span style="color: #0000BB">$xml_parser</span><span style="color: #007700">)),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">xml_get_current_line_number</span><span style="color: #007700">(</span><span style="color: #0000BB">$xml_parser</span><span style="color: #007700">)));<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span><span style="color: #0000BB">xml_parser_free</span><span style="color: #007700">(</span><span style="color: #0000BB">$xml_parser</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/manual/en/book.xml.php" alt="XML Parser">XML Parser</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extxhprof" id="extensions_extxhprof">ext/xhprof</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extxhprof ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-xhprof">Online docs</a> ]</p><p>Extension xhprof.<br />
<br />
XHProf is a light-weight hierarchical and instrumentation based profiler. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">xhprof_enable</span><span style="color: #007700">(</span><span style="color: #0000BB">XHPROF_FLAGS_CPU&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">XHPROF_FLAGS_MEMORY</span><span style="color: #007700">);<br /><br />for&nbsp;(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;=&nbsp;</span><span style="color: #0000BB">1000</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">$xhprof_data&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">xhprof_disable</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">$XHPROF_ROOT&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'/tools/xhprof/'</span><span style="color: #007700">;<br />include_once&nbsp;</span><span style="color: #0000BB">$XHPROF_ROOT&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'/xhprof_lib/utils/xhprof_lib.php'</span><span style="color: #007700">;<br />include_once&nbsp;</span><span style="color: #0000BB">$XHPROF_ROOT&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'/xhprof_lib/utils/xhprof_runs.php'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$xhprof_runs&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">XHProfRuns_Default</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$run_id&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$xhprof_runs</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">save_run</span><span style="color: #007700">(</span><span style="color: #0000BB">$xhprof_data</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'xhprof_testing'</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #DD0000">'http://localhost/xhprof/xhprof_html/index.php?run={$run_id}&amp;source=xhprof_testing'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://web.archive.org/web/20110514095512/http://mirror.facebook.net/facebook/xhprof/doc.html" alt="XHprof Documentation">XHprof Documentation</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_indicesareintorstring" id="structures_indicesareintorstring">Indices Are Int Or String</a></h2><p>[Since 0.8.4] - [ -P Structures/IndicesAreIntOrString ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#indices-are-int-or-string">Online docs</a> ]</p><p>Indices in an array notation such as  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$array['indice']</span>  may only be integers or string.<br />
<br />
Boolean, Null or float will be converted to their integer or string equivalent.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">true&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">1.0&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">1.2&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">1&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'1'&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">0.8&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">6</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">0x1&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">7</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">01&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">8</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">null&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">''&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">false&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'0.8'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'01'&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'2a'&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">5<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*<br />The&nbsp;above&nbsp;displays<br />Array<br />(<br />&nbsp;&nbsp;&nbsp;&nbsp;[1]&nbsp;=&gt;&nbsp;8<br />&nbsp;&nbsp;&nbsp;&nbsp;[0]&nbsp;=&gt;&nbsp;2<br />&nbsp;&nbsp;&nbsp;&nbsp;[]&nbsp;=&gt;&nbsp;2<br />&nbsp;&nbsp;&nbsp;&nbsp;[0.8]&nbsp;=&gt;&nbsp;3<br />&nbsp;&nbsp;&nbsp;&nbsp;[01]&nbsp;=&gt;&nbsp;4<br />&nbsp;&nbsp;&nbsp;&nbsp;[2a]&nbsp;=&gt;&nbsp;5<br />)<br />*/<br /></span>?&gt;</pre><br />
<br />
Decimal numbers are rounded to the closest integer; Null is transtyped to '' (empty string); true is 1 and false is 0; Integers in strings are transtyped, while partial numbers or decimals are not analyzed in strings. <br />
<br />
As a general rule of thumb, only use integers or strings that don\'t look like integers. <br />
<br />
This analyzer may find constant definitions, when available.<br />
<br />
Note also that PHP detects integer inside strings, and silently turn them into integers. Partial and octal numbers are not transformed.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'2'&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'011'&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">9</span><span style="color: #007700">,&nbsp;</span><span style="color: #FF8000">//&nbsp;octal&nbsp;number<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'11d'&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">11</span><span style="color: #007700">,&nbsp;</span><span style="color: #FF8000">//&nbsp;partial&nbsp;number&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*<br />The&nbsp;above&nbsp;displays<br />array(4)&nbsp;{<br />&nbsp;&nbsp;[1]=&gt;<br />&nbsp;&nbsp;int(1)<br />&nbsp;&nbsp;[2]=&gt;<br />&nbsp;&nbsp;int(2)<br />&nbsp;&nbsp;[011]=&gt;<br />&nbsp;&nbsp;int(9)<br />&nbsp;&nbsp;[11d]=&gt;<br />&nbsp;&nbsp;int(11)<br />}*/<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.types.array.php" alt="Arrays syntax">Arrays syntax</a>.<br />
</p>
<h2><a href="issues.html#analyzer=type_shouldtypecast" id="type_shouldtypecast">Should Typecast</a></h2><p>[Since 0.8.4] - [ -P Type/ShouldTypecast ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#should-typecast">Online docs</a> ]</p><p>When typecasting, it is better to use the casting operator, such as  <span style="border: 1px solid #ddd; background-color: #f5f5f5">(int)</span>  or  <span style="border: 1px solid #ddd; background-color: #f5f5f5">(bool)</span> .<br />
<br />
Functions such as <a href="https://www.php.net/intval" alt="intval()">intval()</a> or <a href="https://www.php.net/settype" alt="settype()">settype()</a> are always slower.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Fast&nbsp;version<br /></span><span style="color: #0000BB">$int&nbsp;</span><span style="color: #007700">=&nbsp;(int)&nbsp;</span><span style="color: #0000BB">$X</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Slow&nbsp;version<br /></span><span style="color: #0000BB">$int&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">intval</span><span style="color: #007700">(</span><span style="color: #0000BB">$X</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Convert&nbsp;to&nbsp;base&nbsp;8&nbsp;:&nbsp;can't&nbsp;use&nbsp;(int)&nbsp;for&nbsp;that<br /></span><span style="color: #0000BB">$int&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">intval</span><span style="color: #007700">(</span><span style="color: #0000BB">$X</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">8</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
This is a micro-optimisation, although such conversion may be use multiple time, leading to a larger performance increase.  <br />
<br />
Note that <a href="https://www.php.net/intval" alt="intval()">intval()</a> may also be used to convert an integer to another base.<br />
</p>
<h2><a href="issues.html#analyzer=classes_noselfreferencingconstant" id="classes_noselfreferencingconstant">No Self Referencing Constant</a></h2><p>[Since 0.8.4] - [ -P Classes/NoSelfReferencingConstant ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-self-referencing-constant">Online docs</a> ]</p><p>It is not possible to use a constant to define itself in a class. It yields a fatal error at runtime. <br />
<br />
The PHP error reads :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Cannot declare self-referencing constant 'self::C2'</span> . Unlike PHP which is self-referencing, self referencing variables can't have a value : just don't use that.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">C1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;fully&nbsp;defined&nbsp;constant<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">C2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">C2</span><span style="color: #007700">;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;self&nbsp;referencing&nbsp;constant<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">C3&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">a</span><span style="color: #007700">::</span><span style="color: #0000BB">C3&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;self&nbsp;referencing&nbsp;constant<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
The code may access an already declared constant with self or with its class name.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">C1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">C2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">a</span><span style="color: #007700">::</span><span style="color: #0000BB">C1</span><span style="color: #007700">;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /></span>?&gt;</pre><br />
<br />
This error is not detected by linting. It is only detected at instantiation time : if the class is not used, it won't appear.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_nodirectusage" id="structures_nodirectusage">No Direct Usage</a></h2><p>[Since 0.8.4] - [ -P Structures/NoDirectUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-direct-usage">Online docs</a> ]</p><p>The results of the following functions shouldn't be used directly, but checked first. <br />
<br />
For example, <a href="https://www.php.net/glob" alt="glob()">glob()</a> returns an array, unless some error happens, in which case it returns a boolean (false). In such case, however rare it is, plugging <a href="https://www.php.net/glob" alt="glob()">glob()</a> directly in a for<a href="https://www.php.net/each" alt="each()">each()</a> loops will yield errors.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Used&nbsp;without&nbsp;check&nbsp;:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">foreach(</span><span style="color: #0000BB">glob</span><span style="color: #007700">(</span><span style="color: #DD0000">'.'</span><span style="color: #007700">)&nbsp;as&nbsp;</span><span style="color: #0000BB">$file</span><span style="color: #007700">)&nbsp;{&nbsp;</span><span style="color: #FF8000">/*&nbsp;do&nbsp;Something&nbsp;*/&nbsp;</span><span style="color: #007700">}.<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Used&nbsp;without&nbsp;check&nbsp;:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$files&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">glob</span><span style="color: #007700">(</span><span style="color: #DD0000">'.'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$files</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach(</span><span style="color: #0000BB">$files&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$file</span><span style="color: #007700">)&nbsp;{&nbsp;</span><span style="color: #FF8000">/*&nbsp;do&nbsp;Something&nbsp;*/&nbsp;</span><span style="color: #007700">}.<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=structures_breakoutsideloop" id="structures_breakoutsideloop">Break Outside Loop</a></h2><p>[Since 0.8.4] - [ -P Structures/BreakOutsideLoop ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#break-outside-loop">Online docs</a> ] - [ PHP  older than 7.0]</p><p>Starting with PHP 7, break or continue that are outside a loop (for, for<a href="https://www.php.net/each" alt="each()">each()</a>, do...while(), while()) or a switch() statement won't compile anymore.<br />
<br />
It is not possible anymore to include a piece of code inside a loop that will then break.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;outside&nbsp;a&nbsp;loop&nbsp;:&nbsp;This&nbsp;won't&nbsp;compile<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">break&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;Compile&nbsp;OK<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">break&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;won't&nbsp;compile,&nbsp;as&nbsp;this&nbsp;break&nbsp;is&nbsp;in&nbsp;one&nbsp;loop,&nbsp;and&nbsp;not&nbsp;2<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach(</span><span style="color: #0000BB">$array2&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$a2</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;OK&nbsp;in&nbsp;PHP&nbsp;5&nbsp;and&nbsp;7<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /></span>?&gt;</pre><br />
<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_elseusage" id="structures_elseusage">Else Usage</a></h2><p>[Since 0.8.4] - [ -P Structures/ElseUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#else-usage">Online docs</a> ]</p><p>Else should be avoided by various means. For example, defaulting values before, or short-circuiting the method as soon as the condition is not met.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;$a&nbsp;is&nbsp;always&nbsp;set<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'default'</span><span style="color: #007700">;<br />if&nbsp;(</span><span style="color: #0000BB">$condition</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$condition</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Don't&nbsp;use&nbsp;else&nbsp;for&nbsp;default&nbsp;:&nbsp;set&nbsp;default&nbsp;before<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$condition</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$condition</span><span style="color: #007700">);<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'default'</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Use&nbsp;then&nbsp;to&nbsp;exit&nbsp;<br /></span><span style="color: #007700">if&nbsp;(&nbsp;!&nbsp;</span><span style="color: #0000BB">$condition</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return;<br />}<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$condition</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;don't&nbsp;use&nbsp;else&nbsp;to&nbsp;return<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$condition</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$condition</span><span style="color: #007700">);<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://blog.timoxley.com/post/47041269194/avoid-else-return-early" alt="Avoid Else, Return Early">Avoid Else, Return Early</a> and <br />
         <a href="https://stackoverflow.com/questions/32677046/why-does-clean-code-forbid-else-expression" alt="Why does clean code forbid else expression">Why does clean code forbid else expression</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_issetwithconstant" id="structures_issetwithconstant">isset() With Constant</a></h2><p>[Since 0.8.4] - [ -P Structures/IssetWithConstant ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#isset---with-constant">Online docs</a> ] - [ PHP 7.0 and more recent ]</p><p>Until PHP 7, it was possible to use arrays as constants, but it was not possible to test them with isset.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">X&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">,</span><span style="color: #0000BB">3</span><span style="color: #007700">];<br /><br />if&nbsp;(isset(</span><span style="color: #0000BB">X</span><span style="color: #007700">[</span><span style="color: #0000BB">4</span><span style="color: #007700">]))&nbsp;{}<br /></span>?&gt;</pre><br />
<br />
This would yield an error :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Cannot use isset() on the result of an expression (you can use "null !== expression" instead)</span> . This is a backward incompatibility.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_nosubstrone" id="structures_nosubstrone">Avoid Substr() One</a></h2><p>[Since 0.8.4] - [ -P Structures/NoSubstrOne ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#avoid-substr---one">Online docs</a> ]</p><p>Use array notation  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$string[$position]</span>  to reach a single byte in a string.<br />
<br />
There are two ways to access a byte in a string : substr() and  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$v[$pos]</span> .<br />
<br />
The second style is more readable. It may be up to four times faster, though it is a micro-optimization. It is recommended to use it. <br />
<br />
PHP 7.1 also introduces the support of negative offsets as string index : negative offset are also reported.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'abcde'</span><span style="color: #007700">;<br /><br />echo&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$pos</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">[</span><span style="color: #0000BB">$pos</span><span style="color: #007700">];<br /><br />echo&nbsp;</span><span style="color: #0000BB">mb_substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$pos</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;when&nbsp;$pos&nbsp;=&nbsp;1<br />//&nbsp;displays&nbsp;bbb<br />//&nbsp;when&nbsp;$pos&nbsp;=&nbsp;2<br />//&nbsp;displays&nbsp;??<br /></span>?&gt;</pre><br />
<br />
Beware that substr() and  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$v[$pos]</span>  are similar, while <a href="https://www.php.net/mb_substr" alt="mb_substr()">mb_substr()</a> is not. The first function works on bytes, while the latter works on characters.</p>
<h2><a href="issues.html#analyzer=structures_globaloutsideloop" id="structures_globaloutsideloop">Global Inside Loop</a></h2><p>[Since 0.8.4] - [ -P Structures/GlobalOutsideLoop ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#global-inside-loop">Online docs</a> ]</p><p>The global keyword must be out of loops. It is evaluated each loop, slowing the whole process.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Good&nbsp;idea,&nbsp;global&nbsp;is&nbsp;used&nbsp;once<br /></span><span style="color: #007700">global&nbsp;</span><span style="color: #0000BB">$total</span><span style="color: #007700">;<br />foreach(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$total&nbsp;</span><span style="color: #007700">+=&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Bad&nbsp;idea,&nbsp;this&nbsp;is&nbsp;slow.<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$total</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$total&nbsp;</span><span style="color: #007700">+=&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_anonymous" id="classes_anonymous">Anonymous Classes</a></h2><p>[Since 0.8.4] - [ -P Classes/Anonymous ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#anonymous-classes">Online docs</a> ] - [ PHP 7.0 and more recent ]</p><p>Anonymous classes.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Anonymous&nbsp;class,&nbsp;available&nbsp;since&nbsp;PHP&nbsp;7.0<br /></span><span style="color: #0000BB">$object&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;class&nbsp;{&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&nbsp;{&nbsp;echo&nbsp;</span><span style="color: #0000BB">__METHOD__</span><span style="color: #007700">;&nbsp;}&nbsp;};<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_coalesce" id="php_coalesce">Coalesce</a></h2><p>[Since 0.8.4] - [ -P Php/Coalesce ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#coalesce">Online docs</a> ] - [ PHP 7.0 and more recent ]</p><p>Usage of coalesce operator, in PHP since PHP 5.3.<br />
<br />
Note that the coalesce operator is a special case of the ternary operator.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Coalesce&nbsp;operator,&nbsp;since&nbsp;PHP&nbsp;5.3<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">?:&nbsp;</span><span style="color: #DD0000">'default&nbsp;value'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Equivalent&nbsp;to&nbsp;$a&nbsp;=&nbsp;$b&nbsp;?&nbsp;$b&nbsp;:&nbsp;'default&nbsp;value';<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.operators.comparison.php#language.operators.comparison.ternary" alt="Ternary Operator">Ternary Operator</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_doubleassignation" id="structures_doubleassignation">Double Assignation</a></h2><p>[Since 0.8.4] - [ -P Structures/DoubleAssignation ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#double-assignation">Online docs</a> ]</p><p>This happens when a container (variable, property, array index) is assigned with values twice in a row. One of them is probably a debug instruction, that was forgotten. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Normal&nbsp;assignation<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Double&nbsp;assignation<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=php_unicodeescapesyntax" id="php_unicodeescapesyntax">Unicode Escape Syntax</a></h2><p>[Since 0.8.4] - [ -P Php/UnicodeEscapeSyntax ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unicode-escape-syntax">Online docs</a> ] - [ PHP 7.0 and more recent ]</p><p>Usage of the Unicode Escape syntax, with the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">\u{xxxxx}</span>  format, available since PHP 7.0.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Produce&nbsp;an&nbsp;elephant&nbsp;icon&nbsp;in&nbsp;PHP&nbsp;7.0+<br /></span><span style="color: #007700">echo&nbsp;\</span><span style="color: #0000BB">u</span><span style="color: #007700">{</span><span style="color: #0000BB">1F418</span><span style="color: #007700">};<br /><br /></span><span style="color: #FF8000">//&nbsp;Produce&nbsp;the&nbsp;raw&nbsp;sequence&nbsp;in&nbsp;PHP&nbsp;5.0<br /></span><span style="color: #007700">echo&nbsp;\</span><span style="color: #0000BB">u</span><span style="color: #007700">{</span><span style="color: #0000BB">1F418</span><span style="color: #007700">};<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://wiki.php.net/rfc/unicode_escape" alt="PHP RFC: Unicode Codepoint Escape Syntax">PHP RFC: Unicode Codepoint Escape Syntax</a>,<br />
         <a href="https://en.wikipedia.org/wiki/Code_point" alt="Code point">Code point</a> and <br />
         <a href="https://en.wikipedia.org/wiki/Unicode" alt="Unicode">Unicode</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_php70newfunctions" id="php_php70newfunctions">New Functions In PHP 7.0</a></h2><p>[Since 0.8.4] - [ -P Php/Php70NewFunctions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#new-functions-in-php-7.0">Online docs</a> ] - [ PHP  older than 7.0]</p><p>The following functions are now native functions in PHP 7.0. It is advised to change them before moving to this new version.<br />
<br />
<ul>
<li>get_resources()</li>
<li>gc_mem_caches()</li>
<li><a href="https://www.php.net/preg_replace_callback_array" alt="preg_replace_callback_array()">preg_replace_callback_array()</a></li>
<li>posix_setrlimit()</li>
<li>random_bytes()</li>
<li>random_int()</li>
<li>intdiv()</li>
<li>error_clear_last()</li>
</ul>
<br />
</p>
<h2><a href="issues.html#analyzer=php_php70removedfunctions" id="php_php70removedfunctions">PHP 7.0 Removed Functions</a></h2><p>[Since 0.8.4] - [ -P Php/Php70RemovedFunctions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php-7.0-removed-functions">Online docs</a> ] - [ PHP  older than 7.0]</p><p>The following PHP native functions were removed in PHP 7.0.<br />
<br />
<ul>
<li>ereg()</li>
<li>ereg_replace()</li>
<li>eregi()</li>
<li>eregi_replace()</li>
<li>split()</li>
<li>spliti()</li>
<li>sql_regcase()</li>
<li><a href="https://www.php.net/magic_quotes_runtime" alt="magic_quotes_runtime()">magic_quotes_runtime()</a></li>
<li><a href="https://www.php.net/set_magic_quotes_runtime" alt="set_magic_quotes_runtime()">set_magic_quotes_runtime()</a></li>
<li><a href="https://www.php.net/call_user_method" alt="call_user_method()">call_user_method()</a></li>
<li><a href="https://www.php.net/call_user_method_array" alt="call_user_method_array()">call_user_method_array()</a></li>
<li><a href="https://www.php.net/set_socket_blocking" alt="set_socket_blocking()">set_socket_blocking()</a></li>
<li>mcrypt_ecb()</li>
<li>mcrypt_cbc()</li>
<li>mcrypt_cfb()</li>
<li>mcrypt_ofb()</li>
<li>datefmt_set_timezone_id()</li>
<li>imagepsbbox()</li>
<li>imagepsencodefont()</li>
<li>imagepsextendfont()</li>
<li>imagepsfreefont()</li>
<li>imagepsloadfont()</li>
<li>imagepsslantfont()</li>
<li>imagepstext()</li>
</ul>
<br />
This analysis skips redefined PHP functions : when a replacement for a removed PHP function was created, with condition on the PHP version, then its usage is considered valid.<br />
<br />
See also <a href="http://php.net/manual/en/migration70.incompatible.php#migration70.incompatible.removed-functions" alt="PHP 7.0 Removed Functions">PHP 7.0 Removed Functions</a>.<br />
<br />
 </p>
<h2><a href="issues.html#analyzer=php_php70newclasses" id="php_php70newclasses">PHP 7.0 New Classes</a></h2><p>[Since 0.8.4] - [ -P Php/Php70NewClasses ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php-7.0-new-classes">Online docs</a> ] - [ PHP  older than 7.0]</p><p>Those classes are now declared natively in PHP 7.0 and should not be declared in custom code. <br />
<br />
There are 8 new classes : <br />
<br />
<ul>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">Error</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">ParseError</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">TypeError</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">ArithmeticError</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">DivisionByZeroError</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">ClosedGeneratorException</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">ReflectionGenerator</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">ReflectionType</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">AssertionError</span> </li>
</ul>
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Global&nbsp;namespace<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Error&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Move&nbsp;to&nbsp;a&nbsp;namespace<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;or,&nbsp;remove&nbsp;this&nbsp;class<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /><br />namespace&nbsp;</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;class&nbsp;</span><span style="color: #0000BB">Error&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;OK&nbsp;:&nbsp;in&nbsp;a&nbsp;namespace<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/migration70.classes.php" alt="New Classes and Interfaces">New Classes and Interfaces</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_php70newinterfaces" id="php_php70newinterfaces">PHP 7.0 New Interfaces</a></h2><p>[Since 0.8.4] - [ -P Php/Php70NewInterfaces ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php-7.0-new-interfaces">Online docs</a> ] - [ PHP  older than 7.0]</p><p>The following interfaces are introduced in PHP 7.0. They shouldn't be defined in custom code.</p>
<h2><a href="issues.html#analyzer=php_emptylist" id="php_emptylist">Empty List</a></h2><p>[Since 0.8.4] - [ -P Php/EmptyList ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#empty-list">Online docs</a> ] - [ PHP  older than 7.0]</p><p>Empty list() are not allowed anymore in PHP 7. There must be at least one variable in the list call.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//Not&nbsp;accepted&nbsp;since&nbsp;PHP&nbsp;7.0<br /></span><span style="color: #007700">list()&nbsp;=&nbsp;array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">,</span><span style="color: #0000BB">3</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//Still&nbsp;valid&nbsp;PHP&nbsp;code<br /></span><span style="color: #007700">list(,</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;=&nbsp;array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">,</span><span style="color: #0000BB">3</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_listwithappends" id="php_listwithappends">List With Appends</a></h2><p>[Since 0.8.4] - [ -P Php/ListWithAppends ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#list-with-appends">Online docs</a> ]</p><p>List() behavior has changed in PHP 7.0 and it has impact on the indexing when list is used with the [] operator. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;array();<br />list(</span><span style="color: #0000BB">$x</span><span style="color: #007700">[],&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">[],&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">[])&nbsp;=&nbsp;[</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">];<br /><br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$x</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
In PHP 7.0, results are : <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php 

Array
(
    [0] => 1
    [1] => 2
    [2] => 3
)?&gt;</pre><br />
<br />
In PHP 5.6, results are : <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php 

Array
(
    [0] => 3
    [1] => 2
    [2] => 1
)?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_globalwithoutsimplevariable" id="php_globalwithoutsimplevariable">Simple Global Variable</a></h2><p>[Since 0.8.4] - [ -P Php/GlobalWithoutSimpleVariable ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#simple-global-variable">Online docs</a> ] - [ PHP  older than 7.0]</p><p>The global keyword should only be used with simple variables. Since PHP 7, it cannot be used with complex or dynamic structures.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Forbidden&nbsp;in&nbsp;PHP&nbsp;7<br /></span><span style="color: #007700">global&nbsp;</span><span style="color: #0000BB">$normalGlobal</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Forbidden&nbsp;in&nbsp;PHP&nbsp;7<br /></span><span style="color: #007700">global&nbsp;$</span><span style="color: #0000BB">$variable</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">global&nbsp;</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Tolerated&nbsp;in&nbsp;PHP&nbsp;7<br /></span><span style="color: #007700">global&nbsp;${</span><span style="color: #0000BB">$variable</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">global</span><span style="color: #007700">};<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=php_parenthesisasparameter" id="php_parenthesisasparameter">Parenthesis As Parameter</a></h2><p>[Since 0.8.4] - [ -P Php/ParenthesisAsParameter ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#parenthesis-as-parameter">Online docs</a> ]</p><p>Using parenthesis around parameters used to silent some internal check. This is not the case anymore in PHP 7, and should be fixed by removing the parenthesis and making the value a real reference.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;PHP&nbsp;7&nbsp;sees&nbsp;through&nbsp;parenthesis<br /></span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Avoid&nbsp;parenthesis&nbsp;in&nbsp;arguments<br /></span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;(</span><span style="color: #0000BB">$c</span><span style="color: #007700">));<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=php_foreachdontchangepointer" id="php_foreachdontchangepointer">Foreach Don't Change Pointer</a></h2><p>[Since 0.8.4] - [ -P Php/ForeachDontChangePointer ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#foreach-don't-change-pointer">Online docs</a> ] - [ PHP  older than 7.0]</p><p><a href="http://php.net/manual/en/control-structures.foreach.php" alt="foreach">foreach</a> loops use their own internal cursor.<br />
<br />
A foreach loop won't change the internal pointer of the array, as it works on a copy of the source. Hence, applying array pointer's functions such as <a href="https://www.php.net/current" alt="current()">current()</a> or <a href="https://www.php.net/next" alt="next()">next()</a> to the source array won't have the same behavior in PHP 5 than PHP 7.<br />
<br />
This only applies when a for<a href="https://www.php.net/each" alt="each()">each()</a> by reference is used.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$numbers&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">range</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">next</span><span style="color: #007700">(</span><span style="color: #0000BB">$numbers</span><span style="color: #007700">);<br />foreach(</span><span style="color: #0000BB">$numbers&nbsp;</span><span style="color: #007700">as&nbsp;&amp;</span><span style="color: #0000BB">$number</span><span style="color: #007700">){<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">$number</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">current</span><span style="color: #007700">(</span><span style="color: #0000BB">$numbers</span><span style="color: #007700">).\</span><span style="color: #0000BB">n</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;Always&nbsp;<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/migration70.incompatible.php#migration70.incompatible.foreach.array-pointer" alt="foreach no longer changes the internal array pointer">foreach no longer changes the internal array pointer</a> and<br />
         <a href="http://php.net/manual/en/control-structures.foreach.php" alt="foreach">foreach</a>.<br />
</p>
<h2><a href="issues.html#analyzer=variables_php5indirectexpression" id="variables_php5indirectexpression">PHP5 Indirect Variable Expression</a></h2><p>[Since 0.8.4] - [ -P Variables/Php5IndirectExpression ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php5-indirect-variable-expression">Online docs</a> ] - [ PHP  older than 7.0]</p><p>Indirect variable expressions changes between PHP 5 an 7.<br />
<br />
The following structures are evaluated differently in PHP 5 and 7. It is recommended to review them or switch to a less ambiguous syntax.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;PHP&nbsp;7&nbsp;<br /></span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$bar</span><span style="color: #007700">[</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">][</span><span style="color: #DD0000">'baz'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">'foobarbarbaz'</span><span style="color: #007700">;<br />echo&nbsp;$</span><span style="color: #0000BB">$foo</span><span style="color: #007700">[</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">][</span><span style="color: #DD0000">'baz'</span><span style="color: #007700">];<br />echo&nbsp;($</span><span style="color: #0000BB">$foo</span><span style="color: #007700">)[</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">][</span><span style="color: #DD0000">'baz'</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;PHP&nbsp;5<br /></span><span style="color: #0000BB">$foo</span><span style="color: #007700">[</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">][</span><span style="color: #DD0000">'baz'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'foobarbazbar'</span><span style="color: #007700">;<br />echo&nbsp;$</span><span style="color: #0000BB">$foo</span><span style="color: #007700">[</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">][</span><span style="color: #DD0000">'baz'</span><span style="color: #007700">];<br />echo&nbsp;${</span><span style="color: #0000BB">$foo</span><span style="color: #007700">[</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">][</span><span style="color: #DD0000">'baz'</span><span style="color: #007700">]};<br /></span>?&gt;</pre><br />
<br />
See <a href="http://php.net/manual/en/migration70.incompatible.php" alt="Backward incompatible changes PHP 7.0">Backward incompatible changes PHP 7.0</a><br />
<br />
<table style="border: solid 1px black;">
<tr><td></td><td>Expression</td><td>PHP 5 interpretation</td><td>PHP 7 interpretation</td><td></td></tr>
<tr><td></td><td>$$foo['bar']['baz']</td><td>${$foo['bar']['baz']}</td><td>($$foo)['bar']['baz']</td><td></td></tr>
<tr><td></td><td>$foo->$bar['baz']</td><td>$foo->{$bar['baz']}</td><td>($foo->$bar)['baz']</td><td></td></tr>
<tr><td></td><td>$foo->$bar['baz']()</td><td>$foo->{$bar['baz']}()</td><td>($foo->$bar)['baz']()</td><td></td></tr>
<tr><td></td><td>Foo::$bar['baz']()</td><td>Foo::{$bar['baz']}()</td><td>(Foo::$bar)['baz']()</td><td></td></tr>
</table>

</p>
<h2><a href="issues.html#analyzer=variables_php7indirectexpression" id="variables_php7indirectexpression">Php 7 Indirect Expression</a></h2><p>[Since 0.8.4] - [ -P Variables/Php7IndirectExpression ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php-7-indirect-expression">Online docs</a> ] - [ PHP 7.0 and more recent ]</p><p>Those are variable indirect expressions that are interpreted differently in PHP 5 and PHP 7. <br />
<br />
You should check them so they don't behave strangely.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Ambiguous&nbsp;expression&nbsp;:&nbsp;<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;$</span><span style="color: #0000BB">$foo</span><span style="color: #007700">[</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">][</span><span style="color: #DD0000">'baz'</span><span style="color: #007700">];<br />echo&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'bar'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(</span><span style="color: #DD0000">'baz'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'bat'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$bat&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'PHP&nbsp;5.6'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;In&nbsp;PHP&nbsp;5,&nbsp;the&nbsp;expression&nbsp;above&nbsp;means&nbsp;:&nbsp;<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;$\{</span><span style="color: #0000BB">$foo</span><span style="color: #007700">[</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">][</span><span style="color: #DD0000">'baz'</span><span style="color: #007700">]};<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'PHP&nbsp;5.6'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'a'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'bar'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(</span><span style="color: #DD0000">'baz'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'bat'</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;In&nbsp;PHP&nbsp;7,&nbsp;the&nbsp;expression&nbsp;above&nbsp;means&nbsp;:&nbsp;<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;($</span><span style="color: #0000BB">$foo</span><span style="color: #007700">)[</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">][</span><span style="color: #DD0000">'baz'</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'bat'</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/migration70.incompatible.php" alt="Changes to variable handling">Changes to variable handling</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_unicodeescapepartial" id="php_unicodeescapepartial">Unicode Escape Partial</a></h2><p>[Since 0.8.4] - [ -P Php/UnicodeEscapePartial ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unicode-escape-partial">Online docs</a> ] - [ PHP  older than 7.0]</p><p>PHP 7 introduces a new escape sequence for strings : \u{hex}. It is backward incompatible with previous PHP versions for two reasons : <br />
<br />
PHP 7 will recognize en replace those sequences, while PHP 5 keep them intact.<br />
PHP 7 will halt on partial Unicode Sequences, as it tries to understand them, but may fail. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">echo</span><span style="color: #007700">\</span><span style="color: #0000BB">u</span><span style="color: #007700">{</span><span style="color: #0000BB">1F418</span><span style="color: #007700">}\</span><span style="color: #0000BB">n</span><span style="color: #007700">;&nbsp;<br /></span><span style="color: #FF8000">//&nbsp;PHP&nbsp;5&nbsp;displays&nbsp;the&nbsp;same&nbsp;string<br />//&nbsp;PHP&nbsp;7&nbsp;displays&nbsp;:&nbsp;an&nbsp;elephant<br /><br /></span><span style="color: #0000BB">echo</span><span style="color: #007700">\</span><span style="color: #0000BB">u</span><span style="color: #007700">{</span><span style="color: #0000BB">NOT&nbsp;A&nbsp;UNICODE&nbsp;CODEPOINT</span><span style="color: #007700">}\</span><span style="color: #0000BB">n</span><span style="color: #007700">;&nbsp;<br /></span><span style="color: #FF8000">//&nbsp;PHP&nbsp;5&nbsp;displays&nbsp;the&nbsp;same&nbsp;string<br />//&nbsp;PHP&nbsp;7&nbsp;emits&nbsp;a&nbsp;fatal&nbsp;error<br /></span>?&gt;</pre><br />
<br />
Is is recommended to check all those strings, and make sure they will behave correctly in PHP 7. </p>
<h2><a href="issues.html#analyzer=php_definewitharray" id="php_definewitharray">Define With Array</a></h2><p>[Since 0.8.4] - [ -P Php/DefineWithArray ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#define-with-array">Online docs</a> ] - [ PHP 7.0 and more recent ]</p><p>PHP 7.0 has the ability to define an array as a constant, using the <a href="https://www.php.net/define" alt="define()">define()</a> native call. This was not possible until that version, only with the const keyword.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//Defining&nbsp;an&nbsp;array&nbsp;as&nbsp;a&nbsp;constant<br /></span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'MY_PRIMES'</span><span style="color: #007700">,&nbsp;[</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">7</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">11</span><span style="color: #007700">]);<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_php70removeddirective" id="php_php70removeddirective">PHP 7.0 Removed Directives</a></h2><p>[Since 0.8.4] - [ -P Php/Php70RemovedDirective ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php-7.0-removed-directives">Online docs</a> ] - [ PHP 7.0 and more recent ]</p><p>List of directives that are removed in PHP 7.0.</p>
<h2><a href="issues.html#analyzer=php_directivesusage" id="php_directivesusage">Directives Usage</a></h2><p>[Since 0.8.4] - [ -P Php/DirectivesUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#directives-usage">Online docs</a> ]</p><p>List of the directives mentioned in the code.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//accessing&nbsp;the&nbsp;configuration&nbsp;to&nbsp;change&nbsp;it<br /></span><span style="color: #0000BB">ini_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'timelimit'</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//accessing&nbsp;the&nbsp;configuration&nbsp;to&nbsp;check&nbsp;it<br /></span><span style="color: #0000BB">ini_get</span><span style="color: #007700">(</span><span style="color: #DD0000">'safe_mode'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=structures_uselessbrackets" id="structures_uselessbrackets">Useless Brackets</a></h2><p>[Since 0.8.4] - [ -P Structures/UselessBrackets ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#useless-brackets">Online docs</a> ]</p><p>Standalone brackets have no use. Brackets are used to delimit a block of code, and are used by control statements. They may also be used to protect variables in strings. <br />
<br />
Standalone brackets may be a left over of an old instruction, or a misunderstanding of the alternative syntax.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;The&nbsp;following&nbsp;brackets&nbsp;are&nbsp;useless&nbsp;:&nbsp;they&nbsp;are&nbsp;a&nbsp;leftover&nbsp;from&nbsp;an&nbsp;older&nbsp;instruction<br />//&nbsp;if&nbsp;(DEBUG)&nbsp;<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Here,&nbsp;the&nbsp;extra&nbsp;brackets&nbsp;are&nbsp;useless<br /></span><span style="color: #007700">for(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">++)&nbsp;:&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">++;<br />}&nbsp;endfor;<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=structures_pregoptione" id="structures_pregoptione">preg_replace With Option e</a></h2><p>[Since 0.8.4] - [ -P Structures/pregOptionE ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#preg_replace-with-option-e">Online docs</a> ]</p><p><a href="https://www.php.net/preg_replace" alt="preg_replace()">preg_replace()</a> supported the /e option until PHP 7.0. It allowed the use of <a href="https://www.php.net/eval" alt="eval()">eval()</a>'ed expression as replacement. This has been dropped in PHP 7.0, for security reasons.<br />
<br />
<a href="https://www.php.net/preg_replace" alt="preg_replace()">preg_replace()</a> with /e option may be replaced with <a href="https://www.php.net/preg_replace_callback" alt="preg_replace_callback()">preg_replace_callback()</a> and a closure, or <a href="https://www.php.net/preg_replace_callback_array" alt="preg_replace_callback_array()">preg_replace_callback_array()</a> and an array of closures.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;preg_replace&nbsp;with&nbsp;/e<br /></span><span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'abcde'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;PHP&nbsp;5.6&nbsp;and&nbsp;older&nbsp;usage&nbsp;of&nbsp;/e<br /></span><span style="color: #0000BB">$replaced&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">preg_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'/c/e'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'strtoupper($0)'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;PHP&nbsp;7.0&nbsp;and&nbsp;more&nbsp;recent<br />//&nbsp;With&nbsp;one&nbsp;replacement<br /></span><span style="color: #0000BB">$replaced&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">preg_replace_callback</span><span style="color: #007700">(</span><span style="color: #DD0000">'/c/'</span><span style="color: #007700">,&nbsp;function&nbsp;(</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;{&nbsp;return&nbsp;</span><span style="color: #0000BB">strtoupper</span><span style="color: #007700">(</span><span style="color: #0000BB">$x</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]);&nbsp;},&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;With&nbsp;several&nbsp;replacements,&nbsp;preventing&nbsp;multiple&nbsp;calls&nbsp;to&nbsp;preg_replace_callback<br /></span><span style="color: #0000BB">$replaced&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">preg_replace_callback_array</span><span style="color: #007700">(array(</span><span style="color: #DD0000">'/c/'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;function&nbsp;(</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;{&nbsp;return&nbsp;</span><span style="color: #0000BB">strtoupper</span><span style="color: #007700">(</span><span style="color: #0000BB">$x</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]);&nbsp;},<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'/[a-b]/'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;function&nbsp;(</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;{&nbsp;return&nbsp;</span><span style="color: #0000BB">strtolower</span><span style="color: #007700">(</span><span style="color: #0000BB">$x</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]);&nbsp;}),&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_evalwithouttry" id="structures_evalwithouttry">eval() Without Try</a></h2><p>[Since 0.8.4] - [ -P Structures/EvalWithoutTry ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#eval---without-try">Online docs</a> ] - [ PHP 7.0 and more recent ]</p><p> <span style="border: 1px solid #ddd; background-color: #f5f5f5">eval() <https://www.php.net/eval>`_</span>  emits a  <span style="border: 1px solid #ddd; background-color: #f5f5f5">ParseError</span>  exception with PHP 7 and later. Catching this exception is the recommended way to handle errors when using the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">eval() <https://www.php.net/eval>`_</span>  function.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$code&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'This&nbsp;is&nbsp;no&nbsp;PHP&nbsp;code.'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//PHP&nbsp;5&nbsp;style<br /></span><span style="color: #007700">eval(</span><span style="color: #0000BB">$code</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;Ends&nbsp;up&nbsp;with&nbsp;a&nbsp;Fatal&nbsp;error,&nbsp;at&nbsp;execution&nbsp;time<br /><br />//PHP&nbsp;7&nbsp;style<br /></span><span style="color: #007700">try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;eval(</span><span style="color: #0000BB">$code</span><span style="color: #007700">);<br />}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">ParseError&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">cleanUpAfterEval</span><span style="color: #007700">();<br />}<br /></span>?&gt;</pre><br />
<br />
Note that it will catch situations where  <span style="border: 1px solid #ddd; background-color: #f5f5f5">eval() <https://www.php.net/eval>`_</span>  is provided with code that can't be used, but it will not catch security problems. Avoid using  <span style="border: 1px solid #ddd; background-color: #f5f5f5">eval() <https://www.php.net/eval>`_</span>  with incoming data.<br />
</p>
<h2><a href="issues.html#analyzer=php_nolistwithstring" id="php_nolistwithstring">No List With String</a></h2><p>[Since 0.8.4] - [ -P Php/NoListWithString ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-list-with-string">Online docs</a> ] - [ PHP  older than 7.0]</p><p>list() can't be used anymore to access particular offset in a string. This should be done with substr() or $string[$offset] syntax.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'abc'</span><span style="color: #007700">;<br />list(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">)&nbsp;=&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//list($a,&nbsp;$b,&nbsp;$c)&nbsp;=&nbsp;'abc';&nbsp;Never&nbsp;works<br /><br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;PHP&nbsp;5.6-&nbsp;displays&nbsp;'c'<br />//&nbsp;PHP&nbsp;7.0+&nbsp;displays&nbsp;nothing<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/migration70.incompatible.php" alt="PHP 7.0 Backward incompatible changes">PHP 7.0 Backward incompatible changes</a> : list() can no longer unpack string variables.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_setlocaleneedsconstants" id="structures_setlocaleneedsconstants">Setlocale() Uses Constants</a></h2><p>[Since 0.8.4] - [ -P Structures/SetlocaleNeedsConstants ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#setlocale---uses-constants">Online docs</a> ]</p><p>setlocal() don't use strings but constants. <br />
<br />
The first argument of <a href="https://www.php.net/setlocale" alt="setlocale()">setlocale()</a> must be one of the valid constants,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">LC_ALL</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">LC_COLLATE</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">LC_CTYPE</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">LC_MONETARY</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">LC_NUMERIC</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">LC_TIME, LC_MESSAGES</span> .<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Use&nbsp;constantes&nbsp;for&nbsp;setlocale&nbsp;first&nbsp;argument<br /></span><span style="color: #0000BB">setlocale</span><span style="color: #007700">(</span><span style="color: #0000BB">LC_ALL</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'nl_NL'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">setlocale</span><span style="color: #007700">(\</span><span style="color: #0000BB">LC_ALL</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'nl_NL'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Don't&nbsp;use&nbsp;string&nbsp;for&nbsp;setlocale&nbsp;first&nbsp;argument<br /></span><span style="color: #0000BB">setlocale</span><span style="color: #007700">(</span><span style="color: #DD0000">'LC_ALL'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'nl_NL'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">setlocale</span><span style="color: #007700">(</span><span style="color: #DD0000">'LC_'</span><span style="color: #007700">.</span><span style="color: #DD0000">'ALL'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'nl_NL'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
The PHP 5 usage of strings (same name as above, enclosed in ' or ") is not legit anymore in PHP 7 and later.<br />
<br />
See also <a href="http://php.net/setlocale" alt="setlocale">setlocale</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_globalinglobal" id="structures_globalinglobal">Global In Global</a></h2><p>[Since 0.8.4] - [ -P Structures/GlobalInGlobal ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#global-in-global">Online docs</a> ]</p><p>List of global variables. There are the global variables, defined with the global keyword, and the implicit global variables, defined in the global scope.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">global&nbsp;</span><span style="color: #0000BB">$explicitGlobal</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;in&nbsp;global&nbsp;namespace<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$implicitGlobal&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;in&nbsp;global&nbsp;namespace,&nbsp;variables&nbsp;are&nbsp;automatically&nbsp;global<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$explicitGlobalInFoo</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;in&nbsp;functions,&nbsp;globals&nbsp;must&nbsp;be&nbsp;declared&nbsp;with&nbsp;global<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.variables.scope.php" alt="Variable Scope">Variable Scope</a>.<br />
 </p>
<h2><a href="issues.html#analyzer=php_usortsorting" id="php_usortsorting">Usort Sorting In PHP 7.0</a></h2><p>[Since 0.8.4] - [ -P Php/UsortSorting ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#usort-sorting-in-php-7.0">Online docs</a> ]</p><p>U<a href="https://www.php.net/sort" alt="sort()">sort()</a>, <a href="https://www.php.net/uksort" alt="uksort()">uksort()</a> and <a href="https://www.php.net/uasort" alt="uasort()">uasort()</a> behavior has changed in PHP 7. Values that are equals (based on the user-provided method) may be sorted differently than in PHP 5. <br />
<br />
If this sorting is important, it is advised to add extra comparison in the user-function and avoid returning 0 (thus, depending on default implementation). <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;[&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">6</span><span style="color: #007700">];<br /><br />function&nbsp;</span><span style="color: #0000BB">noSort</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{&nbsp;return&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">;&nbsp;}<br /><br /></span><span style="color: #0000BB">usort</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'noSort'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
In PHP 5, the results is : <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php 

Array
(
    [0] => 3
    [1] => 4
    [2] => 2
    [3] => 6
)?&gt;</pre><br />
<br />
in PHP 7, the result is : <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php 

Array
(
    [0] => 2
    [1] => 4
    [2] => 3
    [3] => 6
)?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=type_hexadecimalstring" id="type_hexadecimalstring">Hexadecimal In String</a></h2><p>[Since 0.8.4] - [ -P Type/HexadecimalString ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#hexadecimal-in-string">Online docs</a> ]</p><p>Mark strings that may be confused with hexadecimal. <br />
<br />
Until PHP 7.0, PHP recognizes hexadecimal numbers inside strings, and converts them accordingly. <br />
<br />
PHP 7.0 and until 7.1, converts the string to 0, silently. <br />
<br />
PHP 7.1 and later, emits a 'A non-numeric value encountered' warning, and convert the string to 0. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'0x0030'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Print&nbsp;49<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'0x0030zyc'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Print&nbsp;49<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'b0x0030'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Print&nbsp;0<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extfann" id="extensions_extfann">ext/fann</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extfann ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-fann">Online docs</a> ]</p><p>Extension  <span style="border: 1px solid #ddd; background-color: #f5f5f5">FANN</span>  : Fast Artificial Neural Network.<br />
<br />
PHP binding for  <span style="border: 1px solid #ddd; background-color: #f5f5f5">FANN</span>  library which implements multilayer artificial neural networks with support for both fully connected and sparsely connected networks.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$num_input&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$num_output&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$num_layers&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$num_neurons_hidden&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$desired_error&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0.001</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$max_epochs&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">500000</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$epochs_between_reports&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1000</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$ann&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fann_create_standard</span><span style="color: #007700">(</span><span style="color: #0000BB">$num_layers</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$num_input</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$num_neurons_hidden</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$num_output</span><span style="color: #007700">);<br /><br />if&nbsp;(</span><span style="color: #0000BB">$ann</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">fann_set_activation_function_hidden</span><span style="color: #007700">(</span><span style="color: #0000BB">$ann</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">FANN_SIGMOID_SYMMETRIC</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">fann_set_activation_function_output</span><span style="color: #007700">(</span><span style="color: #0000BB">$ann</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">FANN_SIGMOID_SYMMETRIC</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$filename&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">__FILE__</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">'/xor.data'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">fann_train_on_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$ann</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$filename</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$max_epochs</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$epochs_between_reports</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$desired_error</span><span style="color: #007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">fann_save</span><span style="color: #007700">(</span><span style="color: #0000BB">$ann</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">__FILE__</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">'/xor_float.net'</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">fann_destroy</span><span style="color: #007700">(</span><span style="color: #0000BB">$ann</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.fann.php" alt="extension FANN">extension FANN</a> and <a href="http://leenissen.dk/" alt="lib FANN">lib FANN</a>.</p>
<h2><a href="issues.html#analyzer=functions_relayfunction" id="functions_relayfunction">Relay Function</a></h2><p>[Since 0.8.4] - [ -P Functions/RelayFunction ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#relay-function">Online docs</a> ]</p><p>Relay function only delegate workload to another one. <br />
<br />
Relay functions and methods are delegating the actual work to another function or method. They do not have any impact on the results, besides exposing another name for the same feature.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">myStrtolower</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;\</span><span style="color: #0000BB">strtolower</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
Relay functions are typical of transition API, where an old API have to be preserved until it is fully migrated. Then, they may be removed, so as to reduce confusion, and simplify the API. <br />
</p>
<h2><a href="issues.html#analyzer=functions_funcgetargmodified" id="functions_funcgetargmodified">func_get_arg() Modified</a></h2><p>[Since 0.8.4] - [ -P Functions/funcGetArgModified ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#func_get_arg---modified">Online docs</a> ]</p><p><a href="https://www.php.net/func_get_arg" alt="func_get_arg()">func_get_arg()</a> and <a href="https://www.php.net/func_get_args" alt="func_get_args()">func_get_args()</a> used to report the calling value of the argument until PHP 7. Since PHP 7, it is reporting the value of the argument at calling time, which may have been modified by a previous instruction. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">x</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">func_get_arg</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #0000BB">x</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
This code will display 1 in PHP 7, and 0 in PHP 5.<br />
</p>
<h2><a href="issues.html#analyzer=php_useweb" id="php_useweb">Use Web</a></h2><p>[Since 0.8.4] - [ -P Php/UseWeb ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-web">Online docs</a> ]</p><p>The code is used in web environment.<br />
<br />
The web usage is identified through the usage of the superglobals. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Accessing&nbsp;$_GET&nbsp;is&nbsp;possible&nbsp;when&nbsp;PHP&nbsp;is&nbsp;used&nbsp;in&nbsp;a&nbsp;web&nbsp;server.<br /></span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">filter_validate</span><span style="color: #007700">(</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'x'</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">FILTER_EMAIL</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_usecli" id="php_usecli">Use Cli</a></h2><p>[Since 0.8.4] - [ -P Php/UseCli ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-cli">Online docs</a> ]</p><p>Signal the usage of code in CLI mode, through the usage of `$argv` and `$argc` variables.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Characteristics&nbsp;of&nbsp;CLI&nbsp;usage&nbsp;<br /></span><span style="color: #0000BB">getopt</span><span style="color: #007700">(</span><span style="color: #0000BB">abcd</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=security_registerglobals" id="security_registerglobals">Register Globals</a></h2><p>[Since 0.8.4] - [ -P Security/RegisterGlobals ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#register-globals">Online docs</a> ]</p><p> <span style="border: 1px solid #ddd; background-color: #f5f5f5">register_globals</span>  was a PHP directive that dumped all incoming variables from GET, POST, COOKIE and FILES as global variables in the called scripts.<br />
This lead to security failures, as the variables were often used but not filtered. <br />
<br />
Though it is less often found in more recent code,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">register_globals</span>  is sometimes needed in legacy code, that haven't made the move to eradicate this style of coding.<br />
Backward compatible pieces of code that mimic the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">register_globals</span>  features usually create even greater security risks by being run after scripts startup. At that point, some important variables are already set, and may be overwritten by the incoming call, creating confusion in the script.<br />
<br />
Mimicking  <span style="border: 1px solid #ddd; background-color: #f5f5f5">register_globals</span>  is achieved with variables variables, <a href="https://www.php.net/extract" alt="extract()">extract()</a>, <a href="https://www.php.net/parse_str" alt="parse_str()">parse_str()</a> and <a href="https://www.php.net/import_request_variables" alt="import_request_variables()">import_request_variables()</a> (Up to PHP 5.4). <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Security&nbsp;warning&nbsp;!&nbsp;This&nbsp;overwrites&nbsp;existing&nbsp;variables.&nbsp;<br /></span><span style="color: #0000BB">extract</span><span style="color: #007700">(</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Security&nbsp;warning&nbsp;!&nbsp;This&nbsp;overwrites&nbsp;existing&nbsp;variables.&nbsp;<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$_REQUEST&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$var&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;$</span><span style="color: #0000BB">$var&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_useinstanceof" id="structures_useinstanceof">Avoid get_class()</a></h2><p>[Since 0.8.4] - [ -P Structures/UseInstanceof ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#avoid-get_class--">Online docs</a> ]</p><p> <span style="border: 1px solid #ddd; background-color: #f5f5f5">get_class()</span>  should be replaced with the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">instanceof</span>  operator to check the class of an object. <br />
<br />
 <span style="border: 1px solid #ddd; background-color: #f5f5f5">get_class()</span>  only compares the full namespace name of the object's class, while  <span style="border: 1px solid #ddd; background-color: #f5f5f5">instanceof</span>  actually resolves the name, using the local namespace and aliases.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">Stdclass&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">baseClass</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$arg</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Slow&nbsp;and&nbsp;prone&nbsp;to&nbsp;namespace&nbsp;errors<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">$arg</span><span style="color: #007700">)&nbsp;===&nbsp;</span><span style="color: #DD0000">'Stdclass'</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;doSomething()<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">$arg</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Faster,&nbsp;and&nbsp;uses&nbsp;aliases.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$arg&nbsp;</span><span style="color: #007700">instanceof&nbsp;</span><span style="color: #0000BB">baseClass</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;doSomething()<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/get_class" alt="get_class">get_class</a> and <br />
         <a href="http://php.net/manual/en/language.operators.type.php" alt="Instanceof">Instanceof</a>.<br />
</p>
<h2><a href="issues.html#analyzer=type_silentlycastinteger" id="type_silentlycastinteger">Silently Cast Integer</a></h2><p>[Since 0.8.4] - [ -P Type/SilentlyCastInteger ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#silently-cast-integer">Online docs</a> ]</p><p>Those are integer literals that are cast to a float when running PHP. They are too big for the current PHP version, and PHP resorts to cast them into a float, which has a much larger capacity but a lower precision.<br />
<br />
Compare your literals to  <span style="border: 1px solid #ddd; background-color: #f5f5f5">PHP_MAX_INT</span>  (typically  <span style="border: 1px solid #ddd; background-color: #f5f5f5">9223372036854775807</span> ) and  <span style="border: 1px solid #ddd; background-color: #f5f5f5">PHP_MIN_INT</span>  (typically  <span style="border: 1px solid #ddd; background-color: #f5f5f5">-9223372036854775808</span> ).<br />
This applies to binary ( <span style="border: 1px solid #ddd; background-color: #f5f5f5">0b10101</span> ...), octal ( <span style="border: 1px solid #ddd; background-color: #f5f5f5">0123123</span> ...) and hexadecimal ( <span style="border: 1px solid #ddd; background-color: #f5f5f5">0xfffff</span> ...) too. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">0b1010101101010110101011010101011010101011010101011010101011010111</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//6173123008118052203<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">0b10101011010101101010110101010110101010110101010110101010110101111</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//1.2346246016236E+19<br /><br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">0123123123123123123123</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//1498121094048818771<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">01231231231231231231231</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//1.1984968752391E+19<br /><br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">0x12309812311230</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//5119979279159856<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">0x12309812311230fed</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//2.0971435127439E+19<br /><br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">9223372036854775807</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//PHP_MAX_INT<br />//9223372036854775807<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">9223372036854775808</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">9.2233720368548E+18</span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.types.integer.php#language.types.integer.overflow" alt="Integer overflow">Integer overflow</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_php7dirname" id="structures_php7dirname">PHP7 Dirname</a></h2><p>[Since 0.8.4] - [ -P Structures/PHP7Dirname ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php7-dirname">Online docs</a> ]</p><p>With PHP 7, <a href="https://www.php.net/dirname" alt="dirname()">dirname()</a> has a second argument that represents the number of parent folder to follow. This prevent us from using nested <a href="https://www.php.net/dirname" alt="dirname()">dirname()</a> calls to reach an grand-parent direct.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$path&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'/a/b/c/d/e/f'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;PHP&nbsp;7&nbsp;syntax<br /></span><span style="color: #0000BB">$threeFoldersUp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;PHP&nbsp;5&nbsp;syntax<br /></span><span style="color: #0000BB">$threeFoldersUp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">)));<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/dirname" alt="dirname">dirname</a>.<br />
 </p>
<h2><a href="issues.html#analyzer=structures_errormessages" id="structures_errormessages">Error Messages</a></h2><p>[Since 0.8.4] - [ -P Structures/ErrorMessages ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#error-messages">Online docs</a> ]</p><p>Error message when an error is reported in the code. Those messages will be read by whoever is triggering the error, and it has to be helpful. <br />
<br />
It is a good exercise to read the messages out of context, and try to understand what is about.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Not&nbsp;so&nbsp;helpful&nbsp;messages<br /></span><span style="color: #007700">die(</span><span style="color: #DD0000">'Here&nbsp;be&nbsp;monsters'</span><span style="color: #007700">);<br />exit(</span><span style="color: #DD0000">'An&nbsp;error&nbsp;happened'</span><span style="color: #007700">);<br />throw&nbsp;new&nbsp;</span><span style="color: #0000BB">Exception</span><span style="color: #007700">(</span><span style="color: #DD0000">'Exception&nbsp;thrown&nbsp;at&nbsp;runtime'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
Error messages are spotted via die, exit or throw. </p>
<h2><a href="issues.html#analyzer=structures_timestampdifference" id="structures_timestampdifference">Timestamp Difference</a></h2><p>[Since 0.8.4] - [ -P Structures/TimestampDifference ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#timestamp-difference">Online docs</a> ]</p><p> <span style="border: 1px solid #ddd; background-color: #f5f5f5">time()</span>  and  <span style="border: 1px solid #ddd; background-color: #f5f5f5">microtime() <https://www.php.net/microtime>`_</span>  shouldn't be used to calculate duration. <br />
<br />
 <span style="border: 1px solid #ddd; background-color: #f5f5f5">time()</span>  and  <span style="border: 1px solid #ddd; background-color: #f5f5f5">microtime() <https://www.php.net/microtime>`_</span>  are subject to variations, depending on system clock variations, such as daylight saving time difference (every spring and fall, one hour variation), or leap seconds, happening on  <span style="border: 1px solid #ddd; background-color: #f5f5f5">June, 30th</span>  or  <span style="border: 1px solid #ddd; background-color: #f5f5f5">December 31th</span> , as announced by <a href="https://www.iers.org/IERS/EN/Home/home_node.html" alt="IERS">IERS</a>.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Calculating&nbsp;tomorow,&nbsp;same&nbsp;hour,&nbsp;the&nbsp;wrong&nbsp;way<br />//&nbsp;tomorrow&nbsp;is&nbsp;not&nbsp;always&nbsp;in&nbsp;86400s,&nbsp;especially&nbsp;in&nbsp;countries&nbsp;with&nbsp;daylight&nbsp;saving&nbsp;<br /></span><span style="color: #0000BB">$tomorrow&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">time</span><span style="color: #007700">()&nbsp;&nbsp;+&nbsp;</span><span style="color: #0000BB">86400</span><span style="color: #007700">;&nbsp;<br /><br /></span><span style="color: #FF8000">//&nbsp;Good&nbsp;way&nbsp;to&nbsp;calculate&nbsp;tomorrow<br /></span><span style="color: #0000BB">$datetime&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">DateTime</span><span style="color: #007700">(</span><span style="color: #DD0000">'tomorrow'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
When the difference may be rounded to a larger time unit (rounding the difference to days, or several hours), the variation may be ignored safely.<br />
<br />
When the difference is very small, it requires a better way to measure time difference, such as `Ticks <http://php.net/manual/en/control-structures.declare.php#control-structures.declare.ticks>'_, <br />
`ext/hrtime <http://php.net/manual/en/book.hrtime.php>'_, or including a check on the actual time zone ( <span style="border: 1px solid #ddd; background-color: #f5f5f5">ini_get() <https://www.php.net/ini_get>`_</span>  with 'date.timezone'). <br />
<br />
See also <a href="http://blog.codebusters.pl/en/php-datetime-difference-trap/" alt="PHP DateTime difference  its a trap!">PHP DateTime difference  its a trap!</a> and <br />
           <a href="https://stackoverflow.com/questions/22519091/php-daylight-savings-bug" alt="PHP Daylight savings bug?">PHP Daylight savings bug?</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_php7relaxedkeyword" id="php_php7relaxedkeyword">Php7 Relaxed Keyword</a></h2><p>[Since 0.8.4] - [ -P Php/Php7RelaxedKeyword ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php7-relaxed-keyword">Online docs</a> ] - [ PHP 7.0 and more recent ]</p><p>Most of the traditional PHP keywords may be used inside classes, trait or interfaces.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Compatible&nbsp;with&nbsp;PHP&nbsp;7.0&nbsp;+&nbsp;<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;as&nbsp;is&nbsp;a&nbsp;PHP&nbsp;5&nbsp;keyword<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;as()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
This was not the case in PHP 5, and will yield parse errors.<br />
<br />
See also <a href="http://php.net/manual/en/migration70.other-changes.php#migration70.other-changes.loosening-reserved-words" alt="Loosening Reserved Word Restrictions">Loosening Reserved Word Restrictions</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_exthttp" id="extensions_exthttp">ext/pecl_http</a></h2><p>[Since 0.8.4] - [ -P Extensions/Exthttp ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-pecl_http">Online docs</a> ]</p><p>Extension HTTP.<br />
<br />
This HTTP extension aims to provide a convenient and powerful set of functionalities for one of PHP major applications.<br />
<br />
It eases handling of HTTP URL, headers and messages, provides means for negotiation of a client's preferred content type, language and charset, as well as a convenient way to send any arbitrary data with caching and resuming capabilities.<br />
<br />
It provides powerful request functionality with support for parallel requests.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$client&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">http</span><span style="color: #007700">\</span><span style="color: #0000BB">Client</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$client</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setSslOptions</span><span style="color: #007700">(array(</span><span style="color: #DD0000">"verifypeer"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$client</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addSslOptions</span><span style="color: #007700">(array(</span><span style="color: #DD0000">"verifyhost"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">));<br /><br /></span><span style="color: #0000BB">$client</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">enqueue</span><span style="color: #007700">(</span><span style="color: #0000BB">$req&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">http</span><span style="color: #007700">\</span><span style="color: #0000BB">Client</span><span style="color: #007700">\</span><span style="color: #0000BB">Request</span><span style="color: #007700">(</span><span style="color: #DD0000">"GET"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"https://twitter.com/"</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$client</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">s</span><span style="color: #007700">`</span><span style="color: #DD0000">end()&nbsp;&lt;https://www.php.net/end&gt;</span><span style="color: #007700">`</span><span style="color: #0000BB">_</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$ti&nbsp;</span><span style="color: #007700">=&nbsp;(array)&nbsp;</span><span style="color: #0000BB">$client</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getTransferInfo</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$ti</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://github.com/m6w6/ext-http" alt="ext-http">ext-http</a> and <br />
         <a href="https://pecl.php.net/package/pecl_http" alt="pecl_http">pecl_http</a>.<br />
</p>
<h2><a href="issues.html#analyzer=performances_joinfile" id="performances_joinfile">Joining file()</a></h2><p>[Since 0.8.4] - [ -P Performances/JoinFile ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#joining-file--">Online docs</a> ]</p><p>Use <a href="https://www.php.net/file" alt="file()">file()</a> to read lines separately. <br />
<br />
Applying join('', ) or implode('', ) to the result of <a href="https://www.php.net/file" alt="file()">file()</a> provides the same results than using <a href="https://www.php.net/file_get_contents" alt="file_get_contents()">file_get_contents()</a>, but at a higher cost of memory and processing.<br />
<br />
If the delimiter is not '', then <a href="https://www.php.net/implode" alt="implode()">implode()</a> and <a href="https://www.php.net/file" alt="file()">file()</a> are a better solution than <a href="https://www.php.net/file_get_contents" alt="file_get_contents()">file_get_contents()</a> and <a href="https://www.php.net/str_replace" alt="str_replace()">str_replace()</a> or <a href="https://www.php.net/nl2br" alt="nl2br()">nl2br()</a>.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;memory&nbsp;intensive<br /></span><span style="color: #0000BB">$content&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">'path/to/file.txt'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;memory&nbsp;and&nbsp;CPU&nbsp;intensive<br /></span><span style="color: #0000BB">$content&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">join</span><span style="color: #007700">(</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">file</span><span style="color: #007700">(</span><span style="color: #DD0000">'path/to/file.txt'</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;Consider&nbsp;reading&nbsp;the&nbsp;data&nbsp;line&nbsp;by&nbsp;line&nbsp;and&nbsp;processing&nbsp;it&nbsp;along&nbsp;the&nbsp;way,&nbsp;<br />//&nbsp;to&nbsp;save&nbsp;memory&nbsp;<br /></span><span style="color: #0000BB">$fp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">'path/to/file.txt'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'r'</span><span style="color: #007700">);<br />while(</span><span style="color: #0000BB">$line&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fget</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;process&nbsp;a&nbsp;line<br /></span><span style="color: #007700">}<br /></span><span style="color: #0000BB">fclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
Always use <a href="https://www.php.net/file_get_contents" alt="file_get_contents()">file_get_contents()</a> to get the content of a file as a string. Consider using <a href="https://www.php.net/readfile" alt="readfile()">readfile()</a> to echo the content directly to the output.<br />
<br />
See also <a href="http://php.net/file_get_contents" alt="file_get_contents">file_get_contents</a> and <br />
         <a href="http://php.net/file" alt="file">file</a>.<br />
</p>
<h2><a href="issues.html#analyzer=variables_realvariables" id="variables_realvariables">Real Variables</a></h2><p>[Since 0.8.4] - [ -P Variables/RealVariables ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#real-variables">Online docs</a> ]</p><p>Inventory of real variables. Global, Static and property declarations are skipped here. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$realVariable&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$property</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;not&nbsp;a&nbsp;variable<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">private&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$global</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;not&nbsp;a&nbsp;variable<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">static&nbsp;</span><span style="color: #0000BB">$static</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;not&nbsp;a&nbsp;variable<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /></span>?&gt;</pre><br />
<br />
This is a refined version of a search on  <span style="border: 1px solid #ddd; background-color: #f5f5f5">T_VARIABLE</span>  token.<br />
</p>
<h2><a href="issues.html#analyzer=functions_realfunctions" id="functions_realfunctions">Real Functions</a></h2><p>[Since 0.8.4] - [ -P Functions/RealFunctions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#real-functions">Online docs</a> ]</p><p>Real functions, not methods.<br />
<br />
Function keywords, that are not in a class, trait, interface, nor a closure.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;a&nbsp;real&nbsp;Function<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">realFunction&nbsp;</span><span style="color: #007700">()&nbsp;{}<br /><br /></span><span style="color: #FF8000">//&nbsp;Those&nbsp;are&nbsp;not&nbsp;real&nbsp;functions<br /></span><span style="color: #007700">function&nbsp;(</span><span style="color: #0000BB">$closure</span><span style="color: #007700">)&nbsp;{&nbsp;}<br /><br />class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">isAClassMethod</span><span style="color: #007700">()&nbsp;{}<br />}<br /><br />interface&nbsp;</span><span style="color: #0000BB">fooi&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">isAnInterfaceMethod</span><span style="color: #007700">()&nbsp;{}<br />}<br /><br />trait&nbsp;</span><span style="color: #0000BB">foot&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">isATraitMethod</span><span style="color: #007700">()&nbsp;{}<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_normalmethods" id="classes_normalmethods">Normal Methods</a></h2><p>[Since 0.8.4] - [ -P Classes/NormalMethods ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#normal-methods">Online docs</a> ]</p><p>Spot normal Methods.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Normal&nbsp;method<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">private&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Static&nbsp;method<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">private&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">barbar</span><span style="color: #007700">()&nbsp;{}<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=functions_unusedarguments" id="functions_unusedarguments">Unused Arguments</a></h2><p>[Since 0.8.4] - [ -P Functions/UnusedArguments ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unused-arguments">Online docs</a> ]</p><p>Those arguments are not used in the method or function. <br />
<br />
Unused arguments should be removed in functions : they are just dead code.<br />
<br />
Unused argument may have to stay in methods, as the signature is actually defined in the parent class. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;$unused&nbsp;is&nbsp;in&nbsp;the&nbsp;signature,&nbsp;but&nbsp;not&nbsp;used.&nbsp;<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$unused</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_usesenv" id="php_usesenv">Uses Environment</a></h2><p>[Since 0.8.4] - [ -P Php/UsesEnv ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#uses-environment">Online docs</a> ]</p><p>Spot usage of $_ENV and <a href="https://www.php.net/getenv" alt="getenv()">getenv()</a> <a href="https://www.php.net/putenv" alt="putenv()">putenv()</a> functions that will fetch data from the environment.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Take&nbsp;some&nbsp;configuration&nbsp;from&nbsp;the&nbsp;environment<br /></span><span style="color: #0000BB">$secret_key&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">getenv</span><span style="color: #007700">(</span><span style="color: #DD0000">'secret_key'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_switchtoswitch" id="structures_switchtoswitch">Switch To Switch</a></h2><p>[Since 0.8.4] - [ -P Structures/SwitchToSwitch ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#switch-to-switch">Online docs</a> ]</p><p>The following structures are based on if / elseif / else. Since they have more than three conditions (not withstanding the final else), it is recommended to use the switch structure, so as to make this more readable.<br />
<br />
On the other hand, switch() structures with less than 3 elements should be expressed as a if / else structure.<br />
<br />
Note that if condition that uses strict typing (=== or !==) can't be converted to switch() as the latter only performs == or != comparisons.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br /><br />}&nbsp;elseif&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;{<br /><br />}&nbsp;elseif&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">)&nbsp;{<br /><br />}&nbsp;elseif&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">)&nbsp;{<br /><br />}&nbsp;else&nbsp;{<br /><br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Better&nbsp;way&nbsp;to&nbsp;write&nbsp;long&nbsp;if/else&nbsp;lists<br /></span><span style="color: #007700">switch&nbsp;(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">(</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">3&nbsp;</span><span style="color: #007700">:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">(</span><span style="color: #0000BB">3</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">4&nbsp;</span><span style="color: #007700">:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">(</span><span style="color: #0000BB">4</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;default&nbsp;:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
Note that simple switch statement, which compare a variable to a literal are optimised in PHP 7.2 and more recent. This gives a nice performance boost, and keep code readable.<br />
<br />
See also <a href="https://derickrethans.nl/php7.2-switch.html" alt="PHP 7.2's switch optimisations">PHP 7.2's switch optimisations</a> and <br />
         <a href="https://www.tomasvotruba.cz/blog/2018/05/21/is-your-code-readable-by-humans-cognitive-complexity-tells-you/" alt="Is Your Code Readable By Humans? Cognitive Complexity Tells You">Is Your Code Readable By Humans? Cognitive Complexity Tells You</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_internalparametertype" id="php_internalparametertype">Wrong Parameter Type</a></h2><p>[Since 0.8.4] - [ -P Php/InternalParameterType ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#wrong-parameter-type">Online docs</a> ]</p><p>The expected parameter is not of the correct type. Check PHP documentation to know which is the right format to be used.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;substr()&nbsp;shouldn't&nbsp;work&nbsp;on&nbsp;integers.<br />//&nbsp;the&nbsp;first&nbsp;argument&nbsp;is&nbsp;first&nbsp;converted&nbsp;to&nbsp;string,&nbsp;and&nbsp;it&nbsp;is&nbsp;123456.<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">123456</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;display&nbsp;1234<br /><br />//&nbsp;substr()&nbsp;shouldn't&nbsp;work&nbsp;on&nbsp;boolean<br />//&nbsp;the&nbsp;first&nbsp;argument&nbsp;is&nbsp;first&nbsp;converted&nbsp;to&nbsp;string,&nbsp;and&nbsp;it&nbsp;is&nbsp;1,&nbsp;and&nbsp;not&nbsp;t<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">true</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;displays&nbsp;1<br /><br />//&nbsp;substr()&nbsp;works&nbsp;correctly&nbsp;on&nbsp;strings.<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">123456</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_couldbeprivate" id="classes_couldbeprivate">Property Could Be Private Property</a></h2><p>[Since 0.8.4] - [ -P Classes/CouldBePrivate ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#property-could-be-private-property">Online docs</a> ]</p><p>The following properties are never used outside their class of definition  Given the analyzed code, they could be set as private. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$couldBePrivate&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$cantdBePrivate&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;couldBePrivate&nbsp;is&nbsp;used&nbsp;internally.&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">couldBePrivate&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">foo2&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">bar2</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;cantdBePrivate&nbsp;is&nbsp;used&nbsp;in&nbsp;a&nbsp;child&nbsp;class.&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">cantdBePrivate&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//$couldBePrivate&nbsp;is&nbsp;not&nbsp;used&nbsp;outside&nbsp;<br /></span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//$cantdBePrivate&nbsp;is&nbsp;used&nbsp;outside&nbsp;the&nbsp;class<br /></span><span style="color: #0000BB">$foo</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">cantdBePrivate&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
Note that dynamic properties (such as $x->$y) are not taken into account. </p>
<h2><a href="issues.html#analyzer=classes_redefinedmethods" id="classes_redefinedmethods">Redefined Methods</a></h2><p>[Since 0.8.4] - [ -P Classes/RedefinedMethods ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#redefined-methods">Online docs</a> ]</p><p>Redefined methods are overwritten methods. Those methods are defined in different classes that are part of the same classes hierarchy.<br />
<br />
Protected and public redefined methods replace each other. Private methods are kept separated, and depends on the caller to be distinguished.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">method</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">method</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/manual/en/language.oop5.inheritance.php" alt="Object Inheritance">Object Inheritance</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_redefinedconstants" id="classes_redefinedconstants">Redefined Class Constants</a></h2><p>[Since 0.8.4] - [ -P Classes/RedefinedConstants ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#redefined-class-constants">Online docs</a> ]</p><p>Redefined class constants.<br />
<br />
Class constants may be redefined, though it is prone to errors when using them, as it is now crucial to use the right class name to access the right value.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">b&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">c&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">c&nbsp;</span><span style="color: #007700">{&nbsp;}<br /><br />echo&nbsp;</span><span style="color: #0000BB">a</span><span style="color: #007700">::</span><span style="color: #0000BB">A</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">b</span><span style="color: #007700">::</span><span style="color: #0000BB">A</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">c</span><span style="color: #007700">::</span><span style="color: #0000BB">A</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;1&nbsp;2&nbsp;2<br /></span>?&gt;</pre><br />
<br />
It is recommended to use distinct names. <br />
<br />
 </p>
<h2><a href="issues.html#analyzer=classes_redefineddefault" id="classes_redefineddefault">Redefined Default</a></h2><p>[Since 0.8.4] - [ -P Classes/RedefinedDefault ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#redefined-default">Online docs</a> ]</p><p>Classes allows properties to be set with a default value. When those properties get, unconditionally, another value at constructor time, then one of the default value are useless. One of those definition should go : it is better to define properties outside the constructor.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$redefined&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(&nbsp;)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">redefined&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=php_fopenmode" id="php_fopenmode">Wrong fopen() Mode</a></h2><p>[Since 0.8.4] - [ -P Php/FopenMode ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#wrong-fopen---mode">Online docs</a> ]</p><p>Wrong file opening for <a href="https://www.php.net/fopen" alt="fopen()">fopen()</a>.<br />
<br />
<a href="https://www.php.net/fopen" alt="fopen()">fopen()</a> has a few modes, as described in the documentation : 'r', 'r+', for reading;  'w', 'w+' for writing; 'a', 'a+' for appending; 'x', 'x+' for modifying; 'c', 'c+' for writing and locking, 't' for text files and windows only.<br />
An optional 'b' may be used to make the <a href="https://www.php.net/fopen" alt="fopen()">fopen()</a> call more portable and binary safe. Another optional 't' may be used to make the <a href="https://www.php.net/fopen" alt="fopen()">fopen()</a> call process automatically text input : this one should be avoided. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;open&nbsp;the&nbsp;file&nbsp;for&nbsp;reading,&nbsp;in&nbsp;binary&nbsp;mode<br /></span><span style="color: #0000BB">$fp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">'/tmp/php.txt'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'rb'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;New&nbsp;option&nbsp;e&nbsp;in&nbsp;PHP&nbsp;7.0.16&nbsp;and&nbsp;7.1.2&nbsp;(beware&nbsp;of&nbsp;compatibility)<br /></span><span style="color: #0000BB">$fp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">'/tmp/php.txt'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'rbe'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Unknown&nbsp;option&nbsp;x<br /></span><span style="color: #0000BB">$fp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">'/tmp/php.txt'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'rbx'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
Any other values are not understood by PHP. </p>
<h2><a href="issues.html#analyzer=files_iscliscript" id="files_iscliscript">Is CLI Script</a></h2><p>[Since 0.8.4] - [ -P Files/IsCliScript ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#is-cli-script">Online docs</a> ]</p><p>Mark a file as a CLI script, based on the usage of #!. </p>
<h2><a href="issues.html#analyzer=php_middleversion" id="php_middleversion">PHP Bugfixes</a></h2><p>[Since 0.8.4] - [ -P Php/MiddleVersion ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php-bugfixes">Online docs</a> ]</p><p>This is the list of features, used in the code, that also received a bug fix in recent PHP versions.</p>
<h2><a href="issues.html#analyzer=php_pregmatchallflag" id="php_pregmatchallflag">preg_match_all() Flag</a></h2><p>[Since 0.8.4] - [ -P Php/PregMatchAllFlag ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#preg_match_all---flag">Online docs</a> ]</p><p>preg_match_all() has an option to configure the structure of the results : it is either by capturing parenthesis (by default), or by result sets. <br />
<br />
The second option is the most interesting when the following for<a href="https://www.php.net/each" alt="each()">each()</a> loop has to manipulate several captured strings at the same time. No need to use an index in the first array and use it in the other arrays.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'ababab'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;default&nbsp;behavior<br /></span><span style="color: #0000BB">preg_match_all</span><span style="color: #007700">(</span><span style="color: #DD0000">'/(a)(b)/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$r</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$found&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br />foreach(</span><span style="color: #0000BB">$r</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]&nbsp;as&nbsp;</span><span style="color: #0000BB">$id&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$s</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$found&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #0000BB">$s</span><span style="color: #007700">.</span><span style="color: #0000BB">$r</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">][</span><span style="color: #0000BB">$id</span><span style="color: #007700">];<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;better&nbsp;behavior<br /></span><span style="color: #0000BB">preg_match_all</span><span style="color: #007700">(</span><span style="color: #DD0000">'/(a)(b)/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$r</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PREG_SET_ORDER</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$found&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br />foreach(</span><span style="color: #0000BB">$r&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$s</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$found&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #0000BB">$s</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">].</span><span style="color: #0000BB">$s</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">];<br />}<br /></span>?&gt;</pre><br />
<br />
The second syntax is easier to read and may be marginally faster to execute (preg_match_all() and for<a href="https://www.php.net/each" alt="each()">each()</a>).<br />
</p>
<h2><a href="issues.html#analyzer=security_curloptions" id="security_curloptions">Safe Curl Options</a></h2><p>[Since 0.8.4] - [ -P Security/CurlOptions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#safe-curl-options">Online docs</a> ]</p><p>It is advised to always use  <span style="border: 1px solid #ddd; background-color: #f5f5f5">CURLOPT_SSL_VERIFYPEER</span>  and  <span style="border: 1px solid #ddd; background-color: #f5f5f5">CURLOPT_SSL_VERIFYHOST</span>  when requesting a SSL connection. <br />
<br />
With those tests, the certificate is verified, and if it isn't valid, the connection fails : this is a safe behavior.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$ch&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">curl_init</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">curl_setopt</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">CURLOPT_URL</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">https</span><span style="color: #007700">:</span><span style="color: #FF8000">//www.php.net/);<br /><br />//&nbsp;To&nbsp;be&nbsp;safe,&nbsp;always&nbsp;set&nbsp;this&nbsp;to&nbsp;true<br /></span><span style="color: #0000BB">curl_setopt</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">CURLOPT_SSL_VERIFYPEER</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">curl_exec</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">curl_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.saotn.org/dont-turn-off-curlopt_ssl_verifypeer-fix-php-configuration/" alt="Dont turn off CURLOPT_SSL_VERIFYPEER, fix your PHP configuration">Dont turn off CURLOPT_SSL_VERIFYPEER, fix your PHP configuration</a>,<br />
         <a href="https://paragonie.com/blog/2017/10/certainty-automated-cacert-pem-management-for-php-software" alt="Certainty: Automated CACert.pem Management for PHP Software">Certainty: Automated CACert.pem Management for PHP Software</a> and<br />
         <a href="https://paragonie.com/blog/2017/12/2018-guide-building-secure-php-software#secure-server-side-https" alt="Server-Side HTTPS Requests">Server-Side HTTPS Requests</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_negativepow" id="structures_negativepow">Negative Power</a></h2><p>[Since 0.8.4] - [ -P Structures/NegativePow ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#negative-power">Online docs</a> ]</p><p>The power operator ** has higher precedence than the sign operators + and -.<br />
<br />
This means that -2 ** 2 == -4. It is in fact, -(2 ** 2). <br />
<br />
When using negative power, it is clearer to add parenthesis or to use the <a href="https://www.php.net/pow" alt="pow()">pow()</a> function, which has no such ambiguity : <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;-2&nbsp;to&nbsp;the&nbsp;power&nbsp;of&nbsp;2&nbsp;(a&nbsp;square)<br /></span><span style="color: #0000BB">pow</span><span style="color: #007700">(-</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;==&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;minus&nbsp;2&nbsp;to&nbsp;the&nbsp;power&nbsp;of&nbsp;2&nbsp;(a&nbsp;negative&nbsp;square)<br /></span><span style="color: #007700">-</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">**&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">==&nbsp;-(</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">**&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;==&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">;<br /></span>?&gt;</pre></p>
<h2><a href="issues.html#analyzer=interfaces_alreadyparentsinterface" id="interfaces_alreadyparentsinterface">Already Parents Interface</a></h2><p>[Since 0.8.4] - [ -P Interfaces/AlreadyParentsInterface ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#already-parents-interface">Online docs</a> ]</p><p>The same interface is implemented by a class and one of its children. <br />
<br />
That way, the child doesn't need to implement the interface, nor define its methods to be an instance of the interface. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">interface&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">i</span><span style="color: #007700">();<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">i</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">__METHOD__</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;implements&nbsp;is&nbsp;useless.&nbsp;<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">AB&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;No&nbsp;definition&nbsp;for&nbsp;function&nbsp;i()<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;Implements&nbsp;i&nbsp;is&nbsp;understated<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">AB&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;redefinition&nbsp;of&nbsp;the&nbsp;i&nbsp;method<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">i</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">__METHOD__</span><span style="color: #007700">.</span><span style="color: #DD0000">'&nbsp;'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">AB</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">instanceof&nbsp;</span><span style="color: #0000BB">i</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;true<br /><br /></span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">AC</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">instanceof&nbsp;</span><span style="color: #0000BB">i</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;true<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_betterrand" id="php_betterrand">Use random_int()</a></h2><p>[Since 0.8.4] - [ -P Php/BetterRand ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-random_int--">Online docs</a> ]</p><p><a href="https://www.php.net/rand" alt="rand()">rand()</a> and <a href="https://www.php.net/mt_rand" alt="mt_rand()">mt_rand()</a> should be replaced with random_int().<br />
<br />
At worse, <a href="https://www.php.net/rand" alt="rand()">rand()</a> should be replaced with <a href="https://www.php.net/mt_rand" alt="mt_rand()">mt_rand()</a>, which is a drop-in replacement and <a href="https://www.php.net/srand" alt="srand()">srand()</a> by <a href="https://www.php.net/mt_srand" alt="mt_srand()">mt_srand()</a>. <br />
<br />
random_int() replaces <a href="https://www.php.net/rand" alt="rand()">rand()</a>, and has no seeding function like <a href="https://www.php.net/srand" alt="srand()">srand()</a>.<br />
<br />
Other sources of entropy that should be replaced by random_int() : <a href="https://www.php.net/microtime" alt="microtime()">microtime()</a>, <a href="https://www.php.net/uniqid" alt="uniqid()">uniqid()</a>, time(). Those a often combined with hashing functions and mixed with other sources of entropy, such as a salt.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Avoid&nbsp;using&nbsp;this<br /></span><span style="color: #0000BB">$random&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">rand</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Drop-in&nbsp;replacement<br /></span><span style="color: #0000BB">$random&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mt_rand</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Even&nbsp;better&nbsp;but&nbsp;different&nbsp;:&nbsp;<br />//&nbsp;valid&nbsp;with&nbsp;PHP&nbsp;7.0+<br /></span><span style="color: #007700">try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$random&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">random_int</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">);<br />}&nbsp;catch&nbsp;(\</span><span style="color: #0000BB">Exception&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;process&nbsp;case&nbsp;of&nbsp;not&nbsp;enoug&nbsp;random&nbsp;values<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;also&nbsp;a&nbsp;source&nbsp;of&nbsp;entropy,&nbsp;based&nbsp;on&nbsp;`srand()&nbsp;&lt;https://www.php.net/srand&gt;`_<br />//&nbsp;random_int()&nbsp;is&nbsp;a&nbsp;drop-in&nbsp;replacement&nbsp;here<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">sha256</span><span style="color: #007700">(`</span><span style="color: #DD0000">uniqid()&nbsp;&lt;https://www.php.net/uniqid&gt;</span><span style="color: #007700">`</span><span style="color: #0000BB">_</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
Since PHP 7, random_int() along with random_bytes(), provides cryptographically secure pseudo-random bytes, which are good to be used<br />
when security is involved. openssl_random_pseudo_bytes() may be used when the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">OpenSSL</span>  extension is available.<br />
<br />
See also <a href="http://php.net/manual/en/book.csprng.php" alt="CSPRNG">CSPRNG</a> and <a href="http://php.net/manual/en/book.openssl.php" alt="OpenSSL">OpenSSL</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_cantusereturnvalueinwritecontext" id="php_cantusereturnvalueinwritecontext">Cant Use Return Value In Write Context</a></h2><p>[Since 0.8.4] - [ -P Php/CantUseReturnValueInWriteContext ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#cant-use-return-value-in-write-context">Online docs</a> ] - [ PHP 5.5 and more recent ]</p><p><a href="https://www.php.net/empty" alt="empty()">empty()</a> used to work only on data containers, such as variables. Until PHP 5.5, it was not possible to use directly expressions, such as functioncalls, inside an <a href="https://www.php.net/empty" alt="empty()">empty()</a> function call : they were met with a 'Can't use function return value in write context' fatal error. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$boolean</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$boolean</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Valid&nbsp;since&nbsp;PHP&nbsp;5.5<br /></span><span style="color: #007700">echo&nbsp;empty(</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">true</span><span style="color: #007700">))&nbsp;:&nbsp;</span><span style="color: #DD0000">'true'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'false'</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
This also applies to methodcalls, static or not.<br />
<br />
See also <a href="https://stackoverflow.com/questions/1075534/cant-use-method-return-value-in-write-context" alt="Cant Use Return Value In Write Context">Cant Use Return Value In Write Context</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_setexceptionhandlerphp7" id="php_setexceptionhandlerphp7">set_exception_handler() Warning</a></h2><p>[Since 0.8.4] - [ -P Php/SetExceptionHandlerPHP7 ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#set_exception_handler---warning">Online docs</a> ]</p><p>The <a href="https://www.php.net/set_exception_handler" alt="set_exception_handler()">set_exception_handler()</a> callable function has to be adapted to PHP 7 :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Exception</span>  is not the right typehint, it is now  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Throwable</span> . <br />
<br />
When in doubt about backward compatibility, just drop the typehint. Otherwise, use  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Throwable</span> .<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;PHP&nbsp;5.6-&nbsp;typehint&nbsp;<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(\</span><span style="color: #0000BB">Exception&nbsp;$e</span><span style="color: #007700">)&nbsp;{}&nbsp;}<br /><br /></span><span style="color: #FF8000">//&nbsp;PHP&nbsp;7+&nbsp;typehint&nbsp;<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">Throwable&nbsp;$e</span><span style="color: #007700">)&nbsp;{}&nbsp;}<br /><br /></span><span style="color: #FF8000">//&nbsp;PHP&nbsp;5&nbsp;and&nbsp;PHP&nbsp;7&nbsp;compatible&nbsp;typehint&nbsp;(note&nbsp;:&nbsp;there&nbsp;is&nbsp;none)<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">$e</span><span style="color: #007700">)&nbsp;{}&nbsp;}<br /><br /></span><span style="color: #0000BB">set_exception_handler</span><span style="color: #007700">(</span><span style="color: #0000BB">foo</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_cantextendfinal" id="classes_cantextendfinal">Can't Extend Final</a></h2><p>[Since 0.8.4] - [ -P Classes/CantExtendFinal ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#can't-extend-final">Online docs</a> ]</p><p>It is not possible to extend final classes. <br />
<br />
Since PHP fails with a fatal error, this means that the extending class is probably not used in the rest of the code. Check for dead code.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;File&nbsp;Foo<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">final&nbsp;class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;final&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;doSomething<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /></span>?&gt;</pre><br />
<br />
In a separate file : <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;File&nbsp;Bar<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.final.php" alt="Final Keyword">Final Keyword</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_ternaryinconcat" id="structures_ternaryinconcat">Ternary In Concat</a></h2><p>[Since 0.8.4] - [ -P Structures/TernaryInConcat ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ternary-in-concat">Online docs</a> ]</p><p>Ternary and coalesce operator have higher priority than dot '.' for concatenation. This means that : <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;print&nbsp;B0CE&nbsp;as&nbsp;expected&nbsp;&nbsp;<br />&nbsp;&nbsp;</span><span style="color: #007700">print&nbsp;</span><span style="color: #DD0000">'B'</span><span style="color: #007700">.</span><span style="color: #0000BB">$b</span><span style="color: #007700">.</span><span style="color: #DD0000">'C'</span><span style="color: #007700">.&nbsp;(</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #DD0000">'D'</span><span style="color: #007700">)&nbsp;:&nbsp;</span><span style="color: #DD0000">'E'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;print&nbsp;E,&nbsp;instead&nbsp;of&nbsp;B0CE<br />&nbsp;&nbsp;</span><span style="color: #007700">print&nbsp;</span><span style="color: #DD0000">'B'</span><span style="color: #007700">.</span><span style="color: #0000BB">$b</span><span style="color: #007700">.</span><span style="color: #DD0000">'C'</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #DD0000">'D'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'E'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">'B'</span><span style="color: #007700">.</span><span style="color: #0000BB">$b</span><span style="color: #007700">.</span><span style="color: #DD0000">'C'</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #DD0000">'D'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'E'</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
prints actually 'E', instead of the awaited 'B0CE'.<br />
<br />
To be safe, always add parenthesis when using ternary operator with concatenation.<br />
<br />
See also <a href="http://php.net/manual/en/language.operators.precedence.php" alt="Operator Precedence">Operator Precedence</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_usingthisoutsideaclass" id="classes_usingthisoutsideaclass">Using $this Outside A Class</a></h2><p>[Since 0.8.4] - [ -P Classes/UsingThisOutsideAClass ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#using-$this-outside-a-class">Online docs</a> ] - [ PHP  older than 7.0]</p><p> <span style="border: 1px solid #ddd; background-color: #f5f5f5">$this</span>  is a special variable, that should only be used in a class context. <br />
<br />
Until PHP 7.1,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$this</span>  may be used as an argument in a function or a method, a global, a static : while this is legit, it sounds confusing enough to avoid it.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;A&nbsp;closure&nbsp;can&nbsp;be&nbsp;bound&nbsp;to&nbsp;an&nbsp;object&nbsp;at&nbsp;later&nbsp;time.&nbsp;It&nbsp;is&nbsp;valid&nbsp;usage.<br /></span><span style="color: #0000BB">$closure&nbsp;</span><span style="color: #007700">=&nbsp;function&nbsp;(</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$x</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
Starting with PHP 7.1, the PHP engine check thoroughly that  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$this</span>  is used in an appropriate manner, and raise fatal errors in case it isn't. <br />
<br />
Yet, it is possible to find  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$this</span>  outside a class : if the file is included inside a class, then  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$this</span>  will be recognized and validated. If the file is included outside a class context, it will yield a fatal error :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Using $this when not in object context</span> .<br />
<br />
See also <a href="http://php.net/manual/en/closure.bind.php" alt="Closure::bind">Closure::bind</a> and <br />
         <a href="http://php.net/manual/en/language.oop5.basic.php" alt="The Basics">The Basics</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_simplepreg" id="structures_simplepreg">Simplify Regex</a></h2><p>[Since 0.8.4] - [ -P Structures/SimplePreg ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#simplify-regex">Online docs</a> ]</p><p>Avoid using regex when the searched string or the replacement are simple enough.<br />
<br />
PRCE regex are a powerful way to search inside strings, but they also come at the price of performance. When the query is simple enough, try using <a href="https://www.php.net/strpos" alt="strpos()">strpos()</a> or <a href="https://www.php.net/stripos" alt="stripos()">stripos()</a> instead.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;simple&nbsp;preg&nbsp;calls<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/a/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">))&nbsp;&nbsp;{}<br />if&nbsp;(</span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/b/i'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">))&nbsp;{}&nbsp;</span><span style="color: #FF8000">//&nbsp;case&nbsp;insensitive<br /><br />//&nbsp;light&nbsp;replacements<br /></span><span style="color: #007700">if(&nbsp;</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">))&nbsp;{}<br />if(&nbsp;</span><span style="color: #0000BB">stripos</span><span style="color: #007700">(</span><span style="color: #DD0000">'b'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">))&nbsp;{}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;case&nbsp;insensitive<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=extensions_exttokyotyrant" id="extensions_exttokyotyrant">ext/tokyotyrant</a></h2><p>[Since 0.8.4] - [ -P Extensions/Exttokyotyrant ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-tokyotyrant">Online docs</a> ]</p><p>Extension for Tokyo Tyrant.<br />
<br />
tokyo_tyrant extension provides a wrapper for Tokyo Tyrant client libraries. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$tt&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">TokyoTyrant</span><span style="color: #007700">(</span><span style="color: #DD0000">"localhost"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$tt</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">put</span><span style="color: #007700">(</span><span style="color: #DD0000">"key"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"value"</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">$tt</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">get</span><span style="color: #007700">(</span><span style="color: #DD0000">"key"</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.tokyo-tyrant.php" alt="tokyo_tyrant">tokyo_tyrant</a> and <br />
         <a href="http://fallabs.com/tokyocabinet/" alt="Tokyo cabinet">Tokyo cabinet</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extv8js" id="extensions_extv8js">ext/v8js</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extv8js ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-v8js">Online docs</a> ]</p><p>Extension v8js.<br />
<br />
This extension embeds the <a href="https://bugs.chromium.org/p/v8/issues/list" alt="V8 Javascript Engine">V8 Javascript Engine</a> into PHP.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$v8&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">V8Js</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">/*&nbsp;basic.js&nbsp;*/<br /></span><span style="color: #0000BB">$JS&nbsp;</span><span style="color: #007700">=&nbsp;&lt;&lt;&lt;&nbsp;EOT<br /></span><span style="color: #DD0000">len&nbsp;=&nbsp;print('Hello'&nbsp;+&nbsp;'&nbsp;'&nbsp;+&nbsp;'World!'&nbsp;+&nbsp;'\n');<br />len;<br /></span><span style="color: #007700">EOT;<br /><br />try&nbsp;{<br />&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$v8</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">executeString</span><span style="color: #007700">(</span><span style="color: #0000BB">$JS</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'basic.js'</span><span style="color: #007700">));<br />}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">V8JsException&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$e</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.v8js.php" alt="V8 Javascript Engine Integration">V8 Javascript Engine Integration</a>, <br />
         <a href="https://github.com/phpv8/v8js" alt="V8 Javascript Engine for PHP">V8 Javascript Engine for PHP</a> and <br />
         <a href="https://pecl.php.net/package/v8js" alt="pecl v8js">pecl v8js</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_yieldusage" id="php_yieldusage">Yield Usage</a></h2><p>[Since 0.8.4] - [ -P Php/YieldUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#yield-usage">Online docs</a> ] - [ PHP 5.5 and more recent ]</p><p>Usage of generators, with yield keyword.<br />
<br />
Yield was introduced in PHP 5.5, and is backward incompatible.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">prime</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$primes&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">7</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">11</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">13</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">17</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">19</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach(</span><span style="color: #0000BB">$primes&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$prime</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yield&nbsp;</span><span style="color: #0000BB">$prime</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.generators.syntax.php" alt="Generator Syntax">Generator Syntax</a>,<br />
         <a href="https://medium.com/tech-tajawal/use-memory-gently-with-yield-in-php-7e62e2480b8d" alt="Deal with Memory Gently using Yield in PHP">Deal with Memory Gently using Yield in PHP</a> and<br />
         <a href="https://scotch.io/tutorials/understanding-php-generators" alt="Understanding PHP Generators">Understanding PHP Generators</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_yieldfromusage" id="php_yieldfromusage">Yield From Usage</a></h2><p>[Since 0.8.4] - [ -P Php/YieldFromUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#yield-from-usage">Online docs</a> ] - [ PHP 7.0 and more recent ]</p><p>Usage of generator delegation, with  <span style="border: 1px solid #ddd; background-color: #f5f5f5">yield from</span>  keyword.<br />
<br />
In PHP 7, generator delegation allows you to yield values from another  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Generator</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Traversable</span>  object, or array by using the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">yield from</span> . <br />
<br />
 <span style="border: 1px solid #ddd; background-color: #f5f5f5">Yield from</span>  was introduced in PHP 7.1, and is backward incompatible.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Yield&nbsp;delegation<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;yield&nbsp;from&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">();<br />}<br /><br />function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;yield&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.generators.syntax.php" alt="Generator Syntax">Generator Syntax</a> and<br />
         <a href="https://scotch.io/tutorials/understanding-php-generators" alt="Understanding PHP Generators">Understanding PHP Generators</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_pearusage" id="php_pearusage">Pear Usage</a></h2><p>[Since 0.8.4] - [ -P Php/PearUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#pear-usage">Online docs</a> ]</p><p>Pear Usage : list of Pear packages in use. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">require_once(</span><span style="color: #DD0000">'MDB2.php'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$dsn&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'mysql://user:pass@host'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$mdb2&nbsp;</span><span style="color: #007700">=&nbsp;&amp;</span><span style="color: #0000BB">MDB2</span><span style="color: #007700">::</span><span style="color: #0000BB">factory</span><span style="color: #007700">(</span><span style="color: #0000BB">$dsn</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$mdb2</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setFetchMode</span><span style="color: #007700">(</span><span style="color: #0000BB">MDB2_FETCHMODE_ASSOC</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://pear.php.net/" alt="PEAR">PEAR</a>.<br />
</p>
<h2><a href="issues.html#analyzer=traits_undefinedtrait" id="traits_undefinedtrait">Undefined Trait</a></h2><p>[Since 0.8.4] - [ -P Traits/UndefinedTrait ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#undefined-trait">Online docs</a> ]</p><p>Those traits are undefined. <br />
<br />
When the using class or trait is instantiated, PHP emits a a fatal error.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">Composer</span><span style="color: #007700">/</span><span style="color: #0000BB">Component</span><span style="color: #007700">/</span><span style="color: #0000BB">someTrait&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">externalTrait</span><span style="color: #007700">;<br /><br />trait&nbsp;</span><span style="color: #0000BB">t&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;class&nbsp;uses&nbsp;trait&nbsp;that&nbsp;are&nbsp;all&nbsp;known<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">hasOnlyDefinedTrait&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">t</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">externalTrait</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;class&nbsp;uses&nbsp;trait&nbsp;that&nbsp;are&nbsp;unknown<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">hasUndefinedTrait&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">unknownTrait</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">t</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">externalTrait</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_nohardcodedhash" id="structures_nohardcodedhash">No Hardcoded Hash</a></h2><p>[Since 0.8.4] - [ -P Structures/NoHardcodedHash ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-hardcoded-hash">Online docs</a> ]</p><p>Hash should never be hardcoded. <br />
<br />
Hashes may be MD5, SHA1, SHA512, Bcrypt or any other. Such values must be easily changed, for security reasons, and the source code is not the safest place to hide it. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Those&nbsp;strings&nbsp;may&nbsp;be&nbsp;sha512&nbsp;hashes.&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;it&nbsp;is&nbsp;recomemdned&nbsp;to&nbsp;check&nbsp;if&nbsp;they&nbsp;are&nbsp;static&nbsp;or&nbsp;should&nbsp;be&nbsp;put&nbsp;into&nbsp;configuration<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$init512&nbsp;</span><span style="color: #007700">=&nbsp;array(&nbsp;</span><span style="color: #FF8000">//&nbsp;initial&nbsp;values&nbsp;for&nbsp;SHA512<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'6a09e667f3bcc908'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'bb67ae8584caa73b'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'3c6ef372fe94f82b'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'a54ff53a5f1d36f1'</span><span style="color: #007700">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;strings&nbsp;which&nbsp;are&nbsp;obvious&nbsp;conversion&nbsp;are&nbsp;ignored&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$decimal&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">intval</span><span style="color: #007700">(</span><span style="color: #DD0000">'87878877'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">12</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://crackstation.net/hashing-security.htm" alt="Salted Password Hashing - Doing it Right">Salted Password Hashing - Doing it Right</a> and <br />
         <a href="https://github.com/s0md3v/Hash-Buster" alt="Hash-Buster">Hash-Buster</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_identicalconditions" id="structures_identicalconditions">Identical Conditions</a></h2><p>[Since 0.8.4] - [ -P Structures/IdenticalConditions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#identical-conditions">Online docs</a> ]</p><p>These logical expressions contain members that are identical. <br />
<br />
This means those expressions may be simplified. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;twice&nbsp;$a<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">||&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">||&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">||&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{&nbsp;&nbsp;}<br /><br /></span><span style="color: #FF8000">//&nbsp;Hiding&nbsp;in&nbsp;parenthesis&nbsp;is&nbsp;bad<br /></span><span style="color: #007700">if&nbsp;((</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;^&nbsp;(</span><span style="color: #0000BB">$a</span><span style="color: #007700">))&nbsp;{}<br /><br /></span><span style="color: #FF8000">//&nbsp;expressions&nbsp;may&nbsp;be&nbsp;large<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">&amp;&amp;&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{}<br /></span>?&gt;</pre></p>
<h2><a href="issues.html#analyzer=structures_unknownpregoption" id="structures_unknownpregoption">Unkown Regex Options</a></h2><p>[Since 0.8.4] - [ -P Structures/UnknownPregOption ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unkown-regex-options">Online docs</a> ]</p><p>Regex support in PHP accepts the following list of options :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">eimsuxADJSUX</span> . <br />
<br />
All other letter used as option are not supported : depending on the situation, they may be ignored or raise an error.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;all&nbsp;options&nbsp;are&nbsp;available<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/\d+/isA'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$results</span><span style="color: #007700">))&nbsp;{&nbsp;}<br /><br /></span><span style="color: #FF8000">//&nbsp;p&nbsp;and&nbsp;h&nbsp;are&nbsp;not&nbsp;regex&nbsp;options,&nbsp;p&nbsp;is&nbsp;double<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/\d+/php'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$results</span><span style="color: #007700">))&nbsp;{&nbsp;}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/reference.pcre.pattern.modifiers.php" alt="Pattern Modifiers">Pattern Modifiers</a><br />
</p>
<h2><a href="issues.html#analyzer=structures_randomwithouttry" id="structures_randomwithouttry">Random Without Try</a></h2><p>[Since 0.8.4] - [ -P Structures/RandomWithoutTry ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#random-without-try">Online docs</a> ] - [ PHP 7.0 and more recent ]</p><p>random_int() and random_bytes() require a try/catch structure around them.<br />
<br />
random_int() and random_bytes() emit Exceptions if they meet a problem. This way, failure can't be mistaken with returning an empty value, which leads to lower security. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$salt&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">random_bytes</span><span style="color: #007700">(</span><span style="color: #0000BB">$length</span><span style="color: #007700">);<br />}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">TypeError&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Error&nbsp;while&nbsp;reading&nbsp;the&nbsp;provided&nbsp;parameter<br /></span><span style="color: #007700">}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">Exception&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Insufficient&nbsp;random&nbsp;data&nbsp;generated<br /></span><span style="color: #007700">}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">Error&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Error&nbsp;with&nbsp;the&nbsp;provided&nbsp;parameter&nbsp;:&nbsp;&lt;=&nbsp;0<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
Since PHP 7.4, openssl_random_pseudo_bytes() has adopted the same behavior. It is included in this analysis : check your PHP version for actual application.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_nochoice" id="structures_nochoice">No Choice</a></h2><p>[Since 0.8.4] - [ -P Structures/NoChoice ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-choice">Online docs</a> ]</p><p>A conditional structure is being used, but both alternatives are the same, leading to the illusion of choice. <br />
<br />
Either the condition is useless, and may be removed, or the alternatives need to be distinguished.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$condition&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}<br /><br /></span><span style="color: #0000BB">$condition&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">()&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_commonalternatives" id="structures_commonalternatives">Common Alternatives</a></h2><p>[Since 0.8.4] - [ -P Structures/CommonAlternatives ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#common-alternatives">Online docs</a> ]</p><p>In the following conditional structures, expressions were found that are common to both 'then' and 'else'. It may be interesting, though not always possible, to put them both out of the conditional, and reduce line count. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">strtolower</span><span style="color: #007700">(</span><span style="color: #0000BB">$b</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">]);&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">++;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">strtolower</span><span style="color: #007700">(</span><span style="color: #0000BB">$b</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">]);&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">++;<br />}<br /></span>?&gt;</pre><br />
<br />
may be rewritten in : <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">strtolower</span><span style="color: #007700">(</span><span style="color: #0000BB">$b</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">]);&nbsp;<br />if&nbsp;(</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">++;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">++;<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_logicalmistakes" id="structures_logicalmistakes">Logical Mistakes</a></h2><p>[Since 0.8.4] - [ -P Structures/LogicalMistakes ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#logical-mistakes">Online docs</a> ]</p><p>Avoid logical mistakes within long expressions. <br />
<br />
Sometimes, the logic is not what it seems. It is important to check the actual impact of every part of the logical expression. Do not hesitate to make a table with all possible cases. If those cases are too numerous, it may be time to rethink the whole expression. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Always&nbsp;true<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">!=&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">||&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">!=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;{&nbsp;}&nbsp;<br /><br /></span><span style="color: #FF8000">//&nbsp;$a&nbsp;==&nbsp;1&nbsp;is&nbsp;useless<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">||&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">!=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;{}<br /><br /></span><span style="color: #FF8000">//&nbsp;Always&nbsp;false<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">&amp;&amp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;{}<br /><br /></span><span style="color: #FF8000">//&nbsp;$a&nbsp;!=&nbsp;2&nbsp;is&nbsp;useless<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">&amp;&amp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">!=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;{}<br /></span>?&gt;</pre><br />
<br />
Based on article from  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Andrey Karpov</span>   <a href="http://www.viva64.com/en/b/0390/" alt="Logical Expressions in C/C++. Mistakes Made by Professionals">Logical Expressions in C/C++. Mistakes Made by Professionals</a><br />
<br />
</p>
<h2><a href="issues.html#analyzer=exceptions_alreadycaught" id="exceptions_alreadycaught">Exception Order</a></h2><p>[Since 0.8.4] - [ -P Exceptions/AlreadyCaught ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#exception-order">Online docs</a> ]</p><p>When catching exception, the most specialized exceptions must be in the early catch, and the most general exceptions must be in the later catch. Otherwise, the general catches intercept the exception, and the more specialized will not be read.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">extends&nbsp;\</span><span style="color: #0000BB">Exception&nbsp;</span><span style="color: #007700">{}<br />class&nbsp;</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{}<br /><br />try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">();<br />}&nbsp;<br />catch(</span><span style="color: #0000BB">A&nbsp;$a1</span><span style="color: #007700">)&nbsp;{&nbsp;}<br />catch(</span><span style="color: #0000BB">B&nbsp;$b2&nbsp;</span><span style="color: #007700">)&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Never&nbsp;reached,&nbsp;as&nbsp;previous&nbsp;Catch&nbsp;is&nbsp;catching&nbsp;the&nbsp;early&nbsp;worm<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extlua" id="extensions_extlua">ext/lua</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extlua ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-lua">Online docs</a> ]</p><p>Extension Lua.<br />
<br />
'Lua is a powerful, fast, light-weight, embeddable scripting language.' This extension embeds the lua interpreter and offers an OO-API to lua variables and functions.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$lua&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Lua</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$lua</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">eval</span><span style="color: #007700">(&lt;&lt;&lt;CODE<br /></span><span style="color: #DD0000">&nbsp;&nbsp;&nbsp;&nbsp;print(2);<br /></span><span style="color: #007700">CODE<br />);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.lua.php" alt="ext/lua manual">ext/lua manual</a> and <br />
         <a href="https://www.lua.org/" alt="LUA">LUA</a></p>
<h2><a href="issues.html#analyzer=exceptions_uncaughtexceptions" id="exceptions_uncaughtexceptions">Uncaught Exceptions</a></h2><p>[Since 0.8.4] - [ -P Exceptions/UncaughtExceptions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#uncaught-exceptions">Online docs</a> ]</p><p>The following exceptions are thrown in the code, but are never caught. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;exception&nbsp;is&nbsp;throw,&nbsp;but&nbsp;not&nbsp;caught.&nbsp;It&nbsp;will&nbsp;lead&nbsp;to&nbsp;a&nbsp;fatal&nbsp;error.<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$message&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">check_for_error</span><span style="color: #007700">())&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;</span><span style="color: #0000BB">My</span><span style="color: #007700">\</span><span style="color: #0000BB">Exception</span><span style="color: #007700">(</span><span style="color: #0000BB">$message</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;exception&nbsp;is&nbsp;throw,&nbsp;and&nbsp;caught.&nbsp;<br /></span><span style="color: #007700">try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$message&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">check_for_error</span><span style="color: #007700">())&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;</span><span style="color: #0000BB">My</span><span style="color: #007700">\</span><span style="color: #0000BB">Exception</span><span style="color: #007700">(</span><span style="color: #0000BB">$message</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}&nbsp;catch&nbsp;(\</span><span style="color: #0000BB">Exception&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}<br /></span>?&gt;</pre><br />
<br />
Either they will lead to a Fatal Error, or they have to be caught by an including application. This is a valid behavior for libraries, but is not for a final application.<br />
<br />
See also <a href="https://www.alainschlesser.com/structuring-php-exceptions/" alt="Structuring PHP Exceptions">Structuring PHP Exceptions</a>.<br />
</p>
<h2><a href="issues.html#analyzer=exceptions_caughtbutnotthrown" id="exceptions_caughtbutnotthrown">Undefined Caught Exceptions</a></h2><p>[Since 0.8.4] - [ -P Exceptions/CaughtButNotThrown ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#undefined-caught-exceptions">Online docs</a> ]</p><p>Those are exceptions that are caught in the code, but are not defined in the application. <br />
<br />
They may be externally defined, such as in core PHP, extensions or libraries. Make sure those exceptions are useful to your application : otherwise, they are dead code.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">library_function</span><span style="color: #007700">(</span><span style="color: #0000BB">$some</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$args</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">LibraryException&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;exception&nbsp;is&nbsp;not&nbsp;defined,&nbsp;and&nbsp;probably&nbsp;belongs&nbsp;to&nbsp;Library<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">print&nbsp;</span><span style="color: #0000BB">Library&nbsp;failed</span><span style="color: #007700">\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br /><br />}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">OtherLibraryException&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;exception&nbsp;is&nbsp;not&nbsp;defined,&nbsp;and&nbsp;probably&nbsp;do&nbsp;not&nbsp;belongs&nbsp;to&nbsp;this&nbsp;code<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">print&nbsp;</span><span style="color: #0000BB">Library&nbsp;failed</span><span style="color: #007700">\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br /><br />}&nbsp;catch&nbsp;(\</span><span style="color: #0000BB">Exception&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;exception&nbsp;is&nbsp;a&nbsp;PHP&nbsp;standard&nbsp;exception<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">print&nbsp;</span><span style="color: #0000BB">Something&nbsp;went&nbsp;wrong</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">but&nbsp;not&nbsp;at&nbsp;Libary&nbsp;level</span><span style="color: #007700">\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_sameconditions" id="structures_sameconditions">Same Conditions In Condition</a></h2><p>[Since 0.8.4] - [ -P Structures/SameConditions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#same-conditions-in-condition">Online docs</a> ]</p><p>At least two consecutive if/then structures use identical conditions. The latter will probably be ignored.<br />
<br />
This analysis returns false positive when there are attempt to fix a situation, or to call an alternative solution. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();&nbsp;}<br />elseif&nbsp;(</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();&nbsp;}<br />elseif&nbsp;(</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();&nbsp;}<br />elseif&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();&nbsp;}<br />else&nbsp;{}<br /><br /></span><span style="color: #FF8000">//&nbsp;Also&nbsp;works&nbsp;on&nbsp;if&nbsp;then&nbsp;else&nbsp;if&nbsp;chains<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();&nbsp;}<br />else&nbsp;if&nbsp;(</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();&nbsp;}<br />else&nbsp;if&nbsp;(</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();&nbsp;}<br />else&nbsp;if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();&nbsp;}<br />else&nbsp;{}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;sort&nbsp;of&nbsp;situation&nbsp;generate&nbsp;false&nbsp;postive.&nbsp;<br /></span><span style="color: #0000BB">$config&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">load_config_from_commandline</span><span style="color: #007700">();<br />if&nbsp;(empty(</span><span style="color: #0000BB">$config</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$config&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">load_config_from_</span><span style="color: #007700">`</span><span style="color: #DD0000">file()&nbsp;&lt;https://www.php.net/file&gt;</span><span style="color: #007700">`</span><span style="color: #0000BB">_</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(empty(</span><span style="color: #0000BB">$config</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$config&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">load_default_config</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=php_php71newclasses" id="php_php71newclasses">Php 7.1 New Class</a></h2><p>[Since 0.8.4] - [ -P Php/Php71NewClasses ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php-7.1-new-class">Online docs</a> ] - [ PHP  older than 7.1]</p><p>New classes, introduced in PHP 7.1. If classes where created with the same name, in current code, they have to be moved in a namespace, or removed from code to migrate safely to PHP 7.1.<br />
<br />
The new class is : ReflectionClassConstant. The other class is 'Void' : this is forbidden as a class name, as Void is used for return type hint.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">ReflectionClassConstant&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Move&nbsp;to&nbsp;a&nbsp;namespace,&nbsp;do&nbsp;not&nbsp;leave&nbsp;in&nbsp;global<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;or,&nbsp;remove&nbsp;this&nbsp;class<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_returntruefalse" id="structures_returntruefalse">Return True False</a></h2><p>[Since 0.8.4] - [ -P Structures/ReturnTrueFalse ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#return-true-false">Online docs</a> ]</p><p>These conditional expressions return true/false, depending on the condition. This may be simplified by dropping the control structure altogether.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">version_compare</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;&gt;=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
This may be simplified with : <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">version_compare</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;&gt;=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
This may be applied to assignations and ternary operators too.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">version_compare</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;&gt;=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">version_compare</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;&gt;=&nbsp;</span><span style="color: #0000BB">0&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #0000BB">false&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
 </p>
<h2><a href="issues.html#analyzer=security_indirectinjection" id="security_indirectinjection">Indirect Injection</a></h2><p>[Since 0.8.4] - [ -P Security/IndirectInjection ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#indirect-injection">Online docs</a> ]</p><p>Look for injections through indirect usage for GPRC values ($_GET, $_POST, $_REQUEST, $_COOKIE). <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'a'</span><span style="color: #007700">];<br />echo&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br /><br />function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'c'</span><span style="color: #007700">]);<br /></span>?&gt;</pre><br />
<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_uselessswitch" id="structures_uselessswitch">Useless Switch</a></h2><p>[Since 0.8.4] - [ -P Structures/UselessSwitch ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#useless-switch">Online docs</a> ]</p><p>This switch has only one case. It may very well be replaced by a ifthen structure.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">switch(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Same&nbsp;as&nbsp;<br /><br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}<br /></span>?&gt;</pre><br />
<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_couldusedir" id="structures_couldusedir">Could Use __DIR__</a></h2><p>[Since 0.8.4] - [ -P Structures/CouldUseDir ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#could-use-__dir__">Online docs</a> ]</p><p>Use __DIR__ constant to access the current file's parent directory. <br />
<br />
Avoid using <a href="https://www.php.net/dirname" alt="dirname()">dirname()</a> on __FILE__.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Better&nbsp;way<br /></span><span style="color: #0000BB">$fp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #0000BB">__DIR__</span><span style="color: #007700">.</span><span style="color: #DD0000">'/myfile.txt'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'r'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;compatible,&nbsp;but&nbsp;slow&nbsp;way<br /></span><span style="color: #0000BB">$fp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">__FILE__</span><span style="color: #007700">).</span><span style="color: #DD0000">'/myfile.txt'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'r'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Since&nbsp;PHP&nbsp;5.3<br /></span><span style="color: #0000BB">assert</span><span style="color: #007700">(</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">__FILE__</span><span style="color: #007700">)&nbsp;==&nbsp;</span><span style="color: #0000BB">__DIR__</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
__DIR__ has been introduced in PHP 5.3.0.<br />
<br />
See also <a href="http://php.net/manual/en/language.constants.predefined.php" alt="Magic Constants">Magic Constants</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_shouldusecoalesce" id="php_shouldusecoalesce">Should Use Coalesce</a></h2><p>[Since 0.8.4] - [ -P Php/ShouldUseCoalesce ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#should-use-coalesce">Online docs</a> ] - [ PHP 7.0 and more recent ]</p><p>PHP 7 introduced the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">??</span>  operator, that replaces longer structures to set default values when a variable is not set.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Fetches&nbsp;the&nbsp;request&nbsp;parameter&nbsp;user&nbsp;and&nbsp;results&nbsp;in&nbsp;'nobody'&nbsp;if&nbsp;it&nbsp;doesn't&nbsp;exist<br /></span><span style="color: #0000BB">$username&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'user'</span><span style="color: #007700">]&nbsp;??&nbsp;</span><span style="color: #DD0000">'nobody'</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;equivalent&nbsp;to:&nbsp;$username&nbsp;=&nbsp;isset($_GET['user'])&nbsp;?&nbsp;$_GET['user']&nbsp;:&nbsp;'nobody';<br />&nbsp;<br />//&nbsp;Calls&nbsp;a&nbsp;hypothetical&nbsp;model-getting&nbsp;function,&nbsp;and&nbsp;uses&nbsp;the&nbsp;provided&nbsp;default&nbsp;if&nbsp;it&nbsp;fails<br /></span><span style="color: #0000BB">$model&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">Model</span><span style="color: #007700">::</span><span style="color: #0000BB">get</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">)&nbsp;??&nbsp;</span><span style="color: #0000BB">$default_model</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;equivalent&nbsp;to:&nbsp;if&nbsp;(($model&nbsp;=&nbsp;Model::get($id))&nbsp;===&nbsp;NULL)&nbsp;{&nbsp;$model&nbsp;=&nbsp;$default_model;&nbsp;}<br /></span>?&gt;</pre><br />
<br />
Sample extracted from PHP docs <a href="https://wiki.php.net/rfc/isset_ternary" alt="Isset Ternary">Isset Ternary</a>.<br />
<br />
See also <a href="https://lornajane.net/posts/2015/new-in-php-7-null-coalesce-operator" alt="New in PHP 7: null coalesce operator">New in PHP 7: null coalesce operator</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_makeglobalaproperty" id="classes_makeglobalaproperty">Make Global A Property</a></h2><p>[Since 0.8.4] - [ -P Classes/MakeGlobalAProperty ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#make-global-a-property">Online docs</a> ]</p><p>Calling global (or $GLOBALS) in methods is slower and less testable than setting the global to a property, and using this property.<br />
<br />
Using properties is slightly faster than calling global or $GLOBALS, though the gain is not important. <br />
<br />
Setting the property in the constructor (or in a factory), makes the class easier to test, as there is now a single point of configuration.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Wrong&nbsp;way<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">fooBad&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">x</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">do</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Or&nbsp;$GLOBALS['a']-&gt;do();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">fooGood&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Even&nbsp;better,&nbsp;do&nbsp;this&nbsp;via&nbsp;arguments<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">x</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">do</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_listwithkeys" id="php_listwithkeys">List With Keys</a></h2><p>[Since 0.8.4] - [ -P Php/ListWithKeys ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#list-with-keys">Online docs</a> ] - [ PHP 7.1 and more recent ]</p><p>Setting keys when using list() is a PHP 7.1 feature.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;PHP&nbsp;7.1&nbsp;and&nbsp;later&nbsp;only<br /></span><span style="color: #007700">list(</span><span style="color: #DD0000">'a'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'b'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;=&nbsp;[</span><span style="color: #DD0000">'b'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'c'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'a'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">];<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=structures_ifwithsameconditions" id="structures_ifwithsameconditions">If With Same Conditions</a></h2><p>[Since 0.8.4] - [ -P Structures/IfWithSameConditions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#if-with-same-conditions">Online docs</a> ]</p><p>Successive If / then structures that have the same condition may be either merged or have one of the condition changed. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}<br /><br />if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomethingElse</span><span style="color: #007700">();<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;May&nbsp;be&nbsp;replaced&nbsp;by&nbsp;<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomethingElse</span><span style="color: #007700">();<br />}<br /></span>?&gt;</pre><br />
<br />
Note that if the values used in the condition have been modified in the first if/then structure, the two distinct conditions may be needed. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;May&nbsp;not&nbsp;be&nbsp;merged<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Check&nbsp;that&nbsp;this&nbsp;is&nbsp;really&nbsp;the&nbsp;situation<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">checkSomething</span><span style="color: #007700">();<br />}<br /><br />if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomethingElse</span><span style="color: #007700">();<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extsuhosin" id="extensions_extsuhosin">ext/suhosin</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extsuhosin ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-suhosin">Online docs</a> ]</p><p>Suhosin extension.<br />
<br />
Suhosin (pronounced 'su-ho-shin') is an advanced protection system for PHP installations. It was designed to protect servers and users from known and unknown flaws in PHP applications and the PHP core.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;sha256&nbsp;is&nbsp;a&nbsp;ext/suhosin&nbsp;specific&nbsp;function<br /></span><span style="color: #0000BB">$sha256&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">sha256</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://suhosin.org/" alt="Suhosin.org">Suhosin.org</a></p>
<h2><a href="issues.html#analyzer=security_unserializesecondarg" id="security_unserializesecondarg">Unserialize Second Arg</a></h2><p>[Since 0.8.4] - [ -P Security/UnserializeSecondArg ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unserialize-second-arg">Online docs</a> ] - [ PHP 7.0 and more recent ]</p><p>Since PHP 7, <a href="https://www.php.net/unserialize" alt="unserialize()">unserialize()</a> function has a second argument that limits the classes that may be unserialized. In case of a breach, this is limiting the classes accessible from <a href="https://www.php.net/unserialize" alt="unserialize()">unserialize()</a>. <br />
<br />
One way to exploit unserialize, is to make PHP unserialized the data to an available class, may be one that may be auto-loaded.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;safe&nbsp;unserialization&nbsp;:&nbsp;only&nbsp;the&nbsp;expected&nbsp;class&nbsp;will&nbsp;be&nbsp;extracted<br /></span><span style="color: #0000BB">$serialized&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'O:7:dbClass:0:{}'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$var&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">unserialize</span><span style="color: #007700">(</span><span style="color: #0000BB">$serialized</span><span style="color: #007700">,&nbsp;[</span><span style="color: #DD0000">'dbClass'</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB">$var</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connect</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;unsafe&nbsp;unserialization&nbsp;:&nbsp;$var&nbsp;may&nbsp;be&nbsp;of&nbsp;any&nbsp;type&nbsp;that&nbsp;was&nbsp;in&nbsp;the&nbsp;serialized&nbsp;string<br />//&nbsp;although,&nbsp;here,&nbsp;this&nbsp;is&nbsp;working&nbsp;well.<br /></span><span style="color: #0000BB">$serialized&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'O:7:dbClass:0:{}'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$var&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">unserialize</span><span style="color: #007700">(</span><span style="color: #0000BB">$serialized</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$var</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connect</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;unsafe&nbsp;unserialization&nbsp;:&nbsp;$var&nbsp;is&nbsp;not&nbsp;of&nbsp;the&nbsp;expected&nbsp;type.<br />//&nbsp;and,&nbsp;here,&nbsp;this&nbsp;will&nbsp;lead&nbsp;to&nbsp;disaster.<br /></span><span style="color: #0000BB">$serialized&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'O:10:debugClass:0:{}'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$var&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">unserialize</span><span style="color: #007700">(</span><span style="color: #0000BB">$serialized</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$var</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connect</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.php.net/unserialize" alt="`unserialize()">`unserialize()</a> <https://www.php.net/unserialize>`_, <br />
         <a href="https://paragonie.com/blog/2016/04/securely-implementing-de-serialization-in-php" alt="Securely Implementing (De)Serialization in PHP">Securely Implementing (De)Serialization in PHP</a>, and <br />
         <a href="https://www.notsosecure.com/remote-code-execution-via-php-unserialize/" alt="Remote code execution via PHP [Unserialize]">Remote code execution via PHP [Unserialize]</a>.<br />
</p>
<h2><a href="issues.html#analyzer=exceptions_throwfunctioncall" id="exceptions_throwfunctioncall">Throw Functioncall</a></h2><p>[Since 0.8.4] - [ -P Exceptions/ThrowFunctioncall ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#throw-functioncall">Online docs</a> ]</p><p>The  <span style="border: 1px solid #ddd; background-color: #f5f5f5">throw</span>  keyword expects to use an exception. Calling a function to prepare that exception before throwing it is possible, but forgetting the new keyword is also possible. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Forgotten&nbsp;new<br /></span><span style="color: #007700">throw&nbsp;\</span><span style="color: #0000BB">RuntimeException</span><span style="color: #007700">(</span><span style="color: #DD0000">'error!'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Code&nbsp;is&nbsp;OK,&nbsp;function&nbsp;returns&nbsp;an&nbsp;exception<br /></span><span style="color: #007700">throw&nbsp;</span><span style="color: #0000BB">getException</span><span style="color: #007700">(</span><span style="color: #0000BB">ERROR_TYPE</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'error!'</span><span style="color: #007700">);<br /><br />function&nbsp;</span><span style="color: #0000BB">getException</span><span style="color: #007700">(</span><span style="color: #0000BB">ERROR_TYPE</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$message</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;\</span><span style="color: #0000BB">RuntimeException</span><span style="color: #007700">(</span><span style="color: #0000BB">$messsage</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
When the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">new</span>  keyword is forgotten, then the class constructor is used as a function name, and now exception is emitted, but an  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Undefined function</span>  fatal error is emitted. <br />
<br />
See also <a href="http://php.net/manual/en/language.exceptions.php" alt="Exceptions">Exceptions</a>.<br />
</p>
<h2><a href="issues.html#analyzer=security_cantdisablefunction" id="security_cantdisablefunction">Can't Disable Function</a></h2><p>[Since 0.8.4] - [ -P Security/CantDisableFunction ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#can't-disable-function">Online docs</a> ]</p><p>This is the list of potentially dangerous PHP functions being used in the code, such as <a href="https://www.php.net/exec" alt="exec()">exec()</a> or <a href="https://www.php.net/fsockopen" alt="fsockopen()">fsockopen()</a>. <br />
<br />
<a href="https://www.php.net/eval" alt="eval()">eval()</a> is not reported here, as it is not a PHP function, but a language construct : it can't be disabled.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;script&nbsp;uses&nbsp;ftp_connect(),&nbsp;therefore,&nbsp;this&nbsp;function&nbsp;shouldn't&nbsp;be&nbsp;disabled.&nbsp;<br /></span><span style="color: #0000BB">$ftp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ftp_connect</span><span style="color: #007700">(</span><span style="color: #0000BB">$host</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">21</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;script&nbsp;doesn't&nbsp;use&nbsp;imap_open(),&nbsp;therefore,&nbsp;this&nbsp;function&nbsp;may&nbsp;be&nbsp;disabled.<br /></span>?&gt;</pre><br />
<br />
This analysis is the base for suggesting values for the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">disable_functions</span>  directive.<br />
</p>
<h2><a href="issues.html#analyzer=functions_functionsusingreference" id="functions_functionsusingreference">Functions Using Reference</a></h2><p>[Since 0.8.4] - [ -P Functions/FunctionsUsingReference ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#functions-using-reference">Online docs</a> ]</p><p>Functions and methods using references in their signature.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">usingReferences</span><span style="color: #007700">(&nbsp;&amp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{}<br /><br />class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">methodUsingReferences</span><span style="color: #007700">(</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;&amp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{}<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_useinstanceof" id="classes_useinstanceof">Use Instanceof</a></h2><p>[Since 0.8.4] - [ -P Classes/UseInstanceof ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-instanceof">Online docs</a> ]</p><p>The  <span style="border: 1px solid #ddd; background-color: #f5f5f5">instanceof</span>  operator is a more precise alternative to  <span style="border: 1px solid #ddd; background-color: #f5f5f5">is_object() <https://www.php.net/is_object>`_</span> . It is also faster.<br />
<br />
instanceof checks for an variable to be of a class or its parents or the interfaces it implements. <br />
Once  <span style="border: 1px solid #ddd; background-color: #f5f5f5">instanceof</span>  has been used, the actual attributes available (properties, constants, methods) are known, unlike with  <span style="border: 1px solid #ddd; background-color: #f5f5f5">is_object() <https://www.php.net/is_object>`_</span> .<br />
<br />
Last,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">instanceof</span>  may be upgraded to Typehint, by moving it to the method signature. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Don't&nbsp;use&nbsp;is_object<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">$o</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #0000BB">is_object</span><span style="color: #007700">(</span><span style="color: #0000BB">$o</span><span style="color: #007700">))&nbsp;{&nbsp;return&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">;&nbsp;}&nbsp;</span><span style="color: #FF8000">//&nbsp;Classic&nbsp;argument&nbsp;check<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">$o</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">method</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;use&nbsp;instanceof<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">$o</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$o&nbsp;</span><span style="color: #007700">instanceof&nbsp;</span><span style="color: #0000BB">myClass</span><span style="color: #007700">)&nbsp;{&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Now,&nbsp;we&nbsp;know&nbsp;which&nbsp;methods&nbsp;are&nbsp;available<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">$o</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">method</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">;&nbsp;}&nbsp;</span><span style="color: #FF8000">//&nbsp;Default&nbsp;behavior<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;use&nbsp;of&nbsp;typehinting<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;in&nbsp;case&nbsp;$o&nbsp;is&nbsp;not&nbsp;of&nbsp;the&nbsp;right&nbsp;type,&nbsp;exception&nbsp;is&nbsp;raised&nbsp;automatically<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">myClass&nbsp;$o</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$o</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">method</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
 <span style="border: 1px solid #ddd; background-color: #f5f5f5">instanceof</span>  and  <span style="border: 1px solid #ddd; background-color: #f5f5f5">is_object() <https://www.php.net/is_object>`_</span>  may not be always interchangeable. Consider using isset() on a known property for a simple check on objects. You may also consider <a href="https://www.php.net/is_string" alt="is_string()">is_string()</a>, <a href="https://www.php.net/is_integer" alt="is_integer()">is_integer()</a> or <a href="https://www.php.net/is_scalar" alt="is_scalar()">is_scalar()</a>, in particular instead of  <span style="border: 1px solid #ddd; background-color: #f5f5f5">!<a href="https://www.php.net/is_object" alt="is_object()">is_object()</a></span> .<br />
<br />
The  <span style="border: 1px solid #ddd; background-color: #f5f5f5">instanceof</span>  operator is also faster than the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">is_object() <https://www.php.net/is_object>`_</span>  functioncall. <br />
<br />
See also <a href="http://php.net/manual/en/language.operators.type.php#language.operators.type" alt="Type Operators">Type Operators</a> and <br />
         <a href="http://php.net/manual/en/function.is-object.php" alt="is_object">is_object</a>.<br />
</p>
<h2><a href="issues.html#analyzer=performances_makeonecall" id="performances_makeonecall">Make One Call With Array</a></h2><p>[Since 0.8.4] - [ -P Performances/MakeOneCall ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#make-one-call-with-array">Online docs</a> ]</p><p>Avoid calling the same function several times by batching the calls with arrays.<br />
<br />
Calling the same function to chain modifications tends to be slower than calling the same function with all the transformations at the same time. Some PHP functions accept scalars or arrays, and using the later is more efficient.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'abcdef'</span><span style="color: #007700">;&nbsp;<br /><br /></span><span style="color: #FF8000">//`str_replace()&nbsp;&lt;https://www.php.net/str_replace&gt;`_&nbsp;accepts&nbsp;arrays&nbsp;as&nbsp;arguments<br /></span><span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(&nbsp;[</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'c'</span><span style="color: #007700">],<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[</span><span style="color: #DD0000">'A'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'B'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'C'</span><span style="color: #007700">],<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Too&nbsp;many&nbsp;calls&nbsp;to&nbsp;str_replace<br /></span><span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'A'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'B'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'c'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'C'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Too&nbsp;many&nbsp;nested&nbsp;calls&nbsp;to&nbsp;str_replace<br /></span><span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'A'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'B'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'c'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'C'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">)));<br /></span>?&gt;</pre><br />
<br />
Potential replacements : <br />
<br />
<table style="border: solid 1px black;">
<tr><td></td><td>Function</td><td>Replacement</td><td></td></tr>
<tr><td></td><td><a href="https://www.php.net/str_replace" alt="str_replace()">str_replace()</a></td><td><a href="https://www.php.net/str_replace" alt="str_replace()">str_replace()</a></td><td></td></tr>
<tr><td></td><td><a href="https://www.php.net/str_ireplace" alt="str_ireplace()">str_ireplace()</a></td><td><a href="https://www.php.net/str_replace" alt="str_replace()">str_replace()</a></td><td></td></tr>
<tr><td></td><td><a href="https://www.php.net/substr_replace" alt="substr_replace()">substr_replace()</a></td><td><a href="https://www.php.net/substr_replace" alt="substr_replace()">substr_replace()</a></td><td></td></tr>
<tr><td></td><td><a href="https://www.php.net/preg_replace" alt="preg_replace()">preg_replace()</a></td><td><a href="https://www.php.net/preg_replace" alt="preg_replace()">preg_replace()</a></td><td></td></tr>
<tr><td></td><td><a href="https://www.php.net/preg_replace_callback" alt="preg_replace_callback()">preg_replace_callback()</a></td><td><a href="https://www.php.net/preg_replace_callback_array" alt="preg_replace_callback_array()">preg_replace_callback_array()</a></td><td></td></tr>
</table>

<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$subject&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Aaaaaa&nbsp;Bbb'</span><span style="color: #007700">;<br /><br /><br /></span><span style="color: #FF8000">//`preg_replace_callback_array()&nbsp;&lt;https://www.php.net/preg_replace_callback_array&gt;`_&nbsp;is&nbsp;better&nbsp;than&nbsp;multiple&nbsp;preg_replace_callback&nbsp;:&nbsp;<br /></span><span style="color: #0000BB">preg_replace_callback_array</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'~[a]+~i'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;function&nbsp;(</span><span style="color: #0000BB">$match</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$match</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]),&nbsp;</span><span style="color: #DD0000">'&nbsp;matches&nbsp;for&nbsp;a&nbsp;found'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'~[b]+~i'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;function&nbsp;(</span><span style="color: #0000BB">$match</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$match</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]),&nbsp;</span><span style="color: #DD0000">'&nbsp;matches&nbsp;for&nbsp;b&nbsp;found'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;],<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$subject<br /></span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">preg_replace_callback</span><span style="color: #007700">(</span><span style="color: #DD0000">'~[a]+~i'</span><span style="color: #007700">,&nbsp;function&nbsp;(</span><span style="color: #0000BB">$match</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$match</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]),&nbsp;</span><span style="color: #DD0000">'&nbsp;matches&nbsp;for&nbsp;a&nbsp;found'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;</span><span style="color: #0000BB">$subject</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">preg_replace_callback</span><span style="color: #007700">(</span><span style="color: #DD0000">'~[b]+~i'</span><span style="color: #007700">,&nbsp;function&nbsp;(</span><span style="color: #0000BB">$match</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$match</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]),&nbsp;</span><span style="color: #DD0000">'&nbsp;matches&nbsp;for&nbsp;b&nbsp;found'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;</span><span style="color: #0000BB">$subject</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//`str_replace()&nbsp;&lt;https://www.php.net/str_replace&gt;`_&nbsp;accepts&nbsp;arrays&nbsp;as&nbsp;arguments<br /></span><span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(&nbsp;[</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'c'</span><span style="color: #007700">],<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[</span><span style="color: #DD0000">'A'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'B'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'C'</span><span style="color: #007700">],<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Too&nbsp;many&nbsp;calls&nbsp;to&nbsp;str_replace<br /></span><span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'A'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'B'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'c'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'C'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
 </p>
<h2><a href="issues.html#analyzer=php_listshortsyntax" id="php_listshortsyntax">List Short Syntax</a></h2><p>[Since 0.8.4] - [ -P Php/ListShortSyntax ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#list-short-syntax">Online docs</a> ] - [ PHP 7.1 and more recent ]</p><p>Usage of short syntax version of list().<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;PHP&nbsp;7.1&nbsp;short&nbsp;list&nbsp;syntax<br />//&nbsp;PHP&nbsp;7.1&nbsp;may&nbsp;also&nbsp;use&nbsp;key&nbsp;=&gt;&nbsp;value&nbsp;structures&nbsp;with&nbsp;list<br /></span><span style="color: #007700">[</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">]&nbsp;=&nbsp;[</span><span style="color: #DD0000">'2'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'4'</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;PHP&nbsp;7.0&nbsp;list&nbsp;syntax<br /></span><span style="color: #007700">list(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">)&nbsp;=&nbsp;[</span><span style="color: #DD0000">'2'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'4'</span><span style="color: #007700">];<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=structures_resultmaybemissing" id="structures_resultmaybemissing">Results May Be Missing</a></h2><p>[Since 0.8.4] - [ -P Structures/ResultMayBeMissing ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#results-may-be-missing">Online docs</a> ]</p><p>preg_match() may return empty values, if the search fails. It is important to check for the existence of results before assigning them to another variable, or using it.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/PHP&nbsp;([0-9\.]+)&nbsp;/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$res</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$r</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$s&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$r</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$s&nbsp;may&nbsp;end&nbsp;up&nbsp;null&nbsp;if&nbsp;preg_match&nbsp;fails.<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=php_usenullabletype" id="php_usenullabletype">Use Nullable Type</a></h2><p>[Since 0.8.4] - [ -P Php/UseNullableType ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-nullable-type">Online docs</a> ] - [ PHP 7.1 and more recent ]</p><p>The code uses nullable type, available since PHP 7.1.<br />
<br />
Nullable Types are an option to type hint : they allow the passing value to be null, or another type. <br />
<br />
According to the authors of the feature : 'It is common in many programming languages including PHP to allow a variable to be of some type or null. This null often indicates an error or lack of something to return.'<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(?</span><span style="color: #0000BB">string&nbsp;$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'abc'</span><span style="color: #007700">)&nbsp;:&nbsp;?</span><span style="color: #0000BB">string&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">.</span><span style="color: #0000BB">b</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/functions.arguments.php#functions.arguments.type-declaration" alt="Type declarations">Type declarations</a> and <br />
         <a href="https://wiki.php.net/rfc/nullable_types" alt="PHP RFC: Nullable Types">PHP RFC: Nullable Types</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_nevernegative" id="structures_nevernegative">Always Positive Comparison</a></h2><p>[Since 0.8.4] - [ -P Structures/NeverNegative ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#always-positive-comparison">Online docs</a> ]</p><p>Some PHP native functions, such as <a href="https://www.php.net/count" alt="count()">count()</a>, strlen(), or <a href="https://www.php.net/abs" alt="abs()">abs()</a> only returns positive or null values. <br />
<br />
When comparing them to 0, the following expressions are always true and should be avoided. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">];<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;&gt;=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;&lt;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=php_php71removeddirective" id="php_php71removeddirective">PHP 7.1 Removed Directives</a></h2><p>[Since 0.8.4] - [ -P Php/Php71RemovedDirective ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php-7.1-removed-directives">Online docs</a> ] - [ PHP 7.1 and more recent ]</p><p>List of directives that are removed in PHP 7.1.</p>
<h2><a href="issues.html#analyzer=php_php71newfunctions" id="php_php71newfunctions">New Functions In PHP 7.1</a></h2><p>[Since 0.8.4] - [ -P Php/Php71NewFunctions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#new-functions-in-php-7.1">Online docs</a> ] - [ PHP  older than 7.1]</p><p>The following functions are now native functions in PHP 7.1. It is advised to change them before moving to this new version.<br />
<br />
<ul>
<li>curl_share_strerror()</li>
<li>curl_multi_errno()</li>
<li>curl_share_errno()</li>
<li>mb_<a href="https://www.php.net/ord" alt="ord()">ord()</a></li>
<li>mb_<a href="https://www.php.net/chr" alt="chr()">chr()</a></li>
<li>mb_scrub()</li>
<li>is_iterable()</li>
</ul>
<br />
</p>
<h2><a href="issues.html#analyzer=exceptions_multiplecatch" id="exceptions_multiplecatch">Multiple Exceptions Catch()</a></h2><p>[Since 0.8.4] - [ -P Exceptions/MultipleCatch ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#multiple-exceptions-catch--">Online docs</a> ]</p><p>It is possible to have several distinct exceptions class caught by the same catch, preventing code repetition. <br />
<br />
This is a new feature since PHP 7.1.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;PHP&nbsp;7.1&nbsp;and&nbsp;more&nbsp;recent<br /></span><span style="color: #007700">try&nbsp;{&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;</span><span style="color: #0000BB">someException</span><span style="color: #007700">();&nbsp;<br />}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">Single&nbsp;$s</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">oneType&nbsp;</span><span style="color: #007700">|&nbsp;</span><span style="color: #0000BB">anotherType&nbsp;$s</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">processIdentically</span><span style="color: #007700">();<br />}&nbsp;finally&nbsp;{<br /><br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;PHP&nbsp;7.0&nbsp;and&nbsp;older<br /></span><span style="color: #007700">try&nbsp;{&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;</span><span style="color: #0000BB">someException</span><span style="color: #007700">();&nbsp;<br />}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">Single&nbsp;$s</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">oneType&nbsp;$s</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">processIdentically</span><span style="color: #007700">();<br />}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">anotherType&nbsp;$s</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">processIdentically</span><span style="color: #007700">();<br />}&nbsp;finally&nbsp;{<br /><br />}<br /></span>?&gt;</pre><br />
<br />
This is a backward incompatible feature of PHP 7.1. <br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_emptyblocks" id="structures_emptyblocks">Empty Blocks</a></h2><p>[Since 0.8.4] - [ -P Structures/EmptyBlocks ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#empty-blocks">Online docs</a> ]</p><p>Full empty block, part of a control structures. <br />
<br />
It is recommended to remove those blocks, so as to reduce confusion in the code. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">foreach(</span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">)&nbsp;;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;block&nbsp;seems&nbsp;erroneous<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$foobar</span><span style="color: #007700">++;<br /><br />if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Empty&nbsp;block.&nbsp;Remove&nbsp;this<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;Blocks&nbsp;containing&nbsp;only&nbsp;empty&nbsp;expressions&nbsp;are&nbsp;also&nbsp;detected<br /></span><span style="color: #007700">for(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Although&nbsp;namespaces&nbsp;are&nbsp;not&nbsp;control&nbsp;structures,&nbsp;they&nbsp;are&nbsp;reported&nbsp;here<br /></span><span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">;<br />namespace&nbsp;</span><span style="color: #0000BB">B</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_throwindestruct" id="classes_throwindestruct">Throw In Destruct</a></h2><p>[Since 0.8.4] - [ -P Classes/ThrowInDestruct ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#throw-in-destruct">Online docs</a> ]</p><p>According to the manual,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Attempting to throw an exception from a destructor (called in the time of script termination) causes a fatal error.</span> <br />
<br />
The destructor may be called during the lifespan of the script, but it is not certain. If the exception is thrown later, the script may end up with a fatal error. <br />
<br />
Thus, it is recommended to avoid throwing exceptions within the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">__destruct</span>  method of a class.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;No&nbsp;exception&nbsp;thrown<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Bar&nbsp;</span><span style="color: #007700">{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;</span><span style="color: #0000BB">Exception</span><span style="color: #007700">(</span><span style="color: #DD0000">'__construct'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__destruct</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">cleanObject</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Potential&nbsp;crash<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__destruct</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;</span><span style="color: #0000BB">Exception</span><span style="color: #007700">(</span><span style="color: #DD0000">'__destruct'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.decon.php" alt="Constructors and Destructors">Constructors and Destructors</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_unusedprotectedmethods" id="classes_unusedprotectedmethods">Unused Protected Methods</a></h2><p>[Since 0.8.4] - [ -P Classes/UnusedProtectedMethods ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unused-protected-methods">Online docs</a> ]</p><p>The following protected methods are unused in children class. As such, they may be considered for being private.<br />
<br />
Methods reported by this analysis are not used by children, yet they are protected.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;method&nbsp;is&nbsp;not&nbsp;used<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">protected&nbsp;function&nbsp;</span><span style="color: #0000BB">unusedBar</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;function&nbsp;</span><span style="color: #0000BB">usedInFoo</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;function&nbsp;</span><span style="color: #0000BB">usedInFooFoo</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">bar2</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;some&nbsp;code<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">usedInFoo</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">FooFoo&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">bar2</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;some&nbsp;code<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">usedInFooFoo</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">someOtherClass&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;not&nbsp;related&nbsp;to&nbsp;foo.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">unusedbar</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
No usage of those methods were found. <br />
<br />
This analysis is impacted by dynamic method calls.</p>
<h2><a href="issues.html#analyzer=structures_usesystemtmp" id="structures_usesystemtmp">Use System Tmp</a></h2><p>[Since 0.8.4] - [ -P Structures/UseSystemTmp ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-system-tmp">Online docs</a> ]</p><p>It is recommended to avoid hardcoding the temporary file. It is better to rely on the system's temporary folder, which is accessible with <a href="https://www.php.net/sys_get_temp_dir" alt="sys_get_temp_dir()">sys_get_temp_dir()</a>.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Where&nbsp;the&nbsp;tmp&nbsp;is&nbsp;:&nbsp;<br /></span><span style="color: #0000BB">file_put_contents</span><span style="color: #007700">(`</span><span style="color: #DD0000">sys_get_temp_dir()&nbsp;&lt;https://www.php.net/sys_get_temp_dir&gt;</span><span style="color: #007700">`</span><span style="color: #0000BB">_</span><span style="color: #007700">.</span><span style="color: #DD0000">'/tempFile.txt'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$content</span><span style="color: #007700">);<br /><br /><br /></span><span style="color: #FF8000">//&nbsp;Avoid&nbsp;hard-coding&nbsp;tmp&nbsp;folder&nbsp;:&nbsp;<br />//&nbsp;On&nbsp;Linux-like&nbsp;systems<br /></span><span style="color: #0000BB">file_put_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">'/tmp/tempFile.txt'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$content</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;On&nbsp;Windows&nbsp;systems<br /></span><span style="color: #0000BB">file_put_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">'C:\WINDOWS\TEMP\tempFile.txt'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$content</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.the-art-of-web.com/php/where-is-tmp/" alt="PHP: When is /tmp not /tmp?">PHP: When is /tmp not /tmp?</a>.<br />
</p>
<h2><a href="issues.html#analyzer=performances_notcountnull" id="performances_notcountnull">No Count With 0</a></h2><p>[Since 0.8.4] - [ -P Performances/NotCountNull ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-count-with-0">Online docs</a> ]</p><p>Comparing <a href="https://www.php.net/count" alt="count()">count()</a>, strlen() or mb_strlen() to 0 is a waste of resources. There are three distinct situations.<br />
<br />
When comparing <a href="https://www.php.net/count" alt="count()">count()</a> with 0, with ===, ==, !==, !=, it is more efficient to use <a href="https://www.php.net/empty" alt="empty()">empty()</a>. <a href="https://www.php.net/empty" alt="empty()">empty()</a> is a language construct that checks if a value is present, while <a href="https://www.php.net/count" alt="count()">count()</a> actually load the number of element.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Checking&nbsp;if&nbsp;an&nbsp;array&nbsp;is&nbsp;empty<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">)&nbsp;==&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;doSomething();<br /></span><span style="color: #007700">}<br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;may&nbsp;be&nbsp;replaced&nbsp;with&nbsp;<br /></span><span style="color: #007700">if&nbsp;(empty(</span><span style="color: #0000BB">$array</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;doSomething();<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
When comparing <a href="https://www.php.net/count" alt="count()">count()</a> strictly with 0 and  <span style="border: 1px solid #ddd; background-color: #f5f5f5">></span> , it is more efficient to use  <span style="border: 1px solid #ddd; background-color: #f5f5f5">!(empty(  ))</span> <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Checking&nbsp;if&nbsp;an&nbsp;array&nbsp;is&nbsp;empty<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">)&nbsp;&gt;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;doSomething();<br /></span><span style="color: #007700">}<br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;may&nbsp;be&nbsp;replaced&nbsp;with&nbsp;<br /></span><span style="color: #007700">if&nbsp;(!empty(</span><span style="color: #0000BB">$array</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;doSomething();<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #0000BB">Of&nbsp;course&nbsp;comparing&nbsp;</span><span style="color: #007700">`</span><span style="color: #DD0000">count()&nbsp;&lt;https://www.php.net/count&gt;</span><span style="color: #007700">`</span><span style="color: #0000BB">_&nbsp;with&nbsp;negative&nbsp;values</span><span style="color: #007700">,&nbsp;or&nbsp;</span><span style="color: #0000BB">with&nbsp;</span><span style="color: #007700">&gt;=&nbsp;</span><span style="color: #0000BB">is&nbsp;useless</span><span style="color: #007700">.<br /><br />&lt;?</span><span style="color: #0000BB">php<br /><br /></span><span style="color: #FF8000">//&nbsp;Checking&nbsp;if&nbsp;an&nbsp;array&nbsp;is&nbsp;empty<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">)&nbsp;&lt;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;never&nbsp;happens<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;doSomething();<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
Comparing <a href="https://www.php.net/count" alt="count()">count()</a>, strlen() or mb_strlen() with other values than 0 cannot be replaced with a comparison with <a href="https://www.php.net/empty" alt="empty()">empty()</a>.<br />
<br />
Note that this is a micro-optimisation : since PHP keeps track of the number of elements in arrays (or number of chars in strings), the total computing time of both operations is often lower than a ms. However, both functions tends to be heavily used, and may even be used inside loops. <br />
<br />
See also <a href="http://php.net/count" alt="count">count</a>,<br />
         <a href="http://php.net/strlen" alt="strlen">strlen</a> and <br />
         <a href="http://php.net/mb_strlen" alt="mb_strlen">mb_strlen</a>.<br />
</p>
<h2><a href="issues.html#analyzer=traits_dependanttrait" id="traits_dependanttrait">Dependant Trait</a></h2><p>[Since 0.8.4] - [ -P Traits/DependantTrait ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#dependant-trait">Online docs</a> ]</p><p>Traits should be autonomous. It is recommended to avoid depending on methods or properties that should be in the using class.<br />
<br />
The following traits make usage of methods and properties, static or not, that are not defined in the trait. This means the host class must provide those methods and properties, but there is no way to enforce this. <br />
<br />
This may also lead to dead code : when the trait is removed, the host class have unused properties and methods.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;autonomous&nbsp;trait&nbsp;:&nbsp;all&nbsp;it&nbsp;needs&nbsp;is&nbsp;within&nbsp;the&nbsp;trait<br /></span><span style="color: #007700">trait&nbsp;</span><span style="color: #0000BB">t&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$p&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;++</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">p</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;dependant&nbsp;trait&nbsp;:&nbsp;the&nbsp;host&nbsp;class&nbsp;needs&nbsp;to&nbsp;provide&nbsp;some&nbsp;properties&nbsp;or&nbsp;methods<br /></span><span style="color: #007700">trait&nbsp;</span><span style="color: #0000BB">t2&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;++</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">p</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">t2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$p&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also Classes/DependantAbstractClass.<br />
</p>
<h2><a href="issues.html#analyzer=namespaces_hiddenuse" id="namespaces_hiddenuse">Hidden Use Expression</a></h2><p>[Since 0.8.4] - [ -P Namespaces/HiddenUse ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#hidden-use-expression">Online docs</a> ]</p><p>The use expression for namespaces should always be at the beginning of the namespace block. <br />
<br />
It is where everyone expect them, and it is less confusing than having them at various levels.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;visible&nbsp;<br /></span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">{}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;hidden&nbsp;<br /></span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">C&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">D</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">E&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">D&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">traitT</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;a&nbsp;use&nbsp;for&nbsp;a&nbsp;trait<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;a&nbsp;use&nbsp;for&nbsp;a&nbsp;closure<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;function&nbsp;(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;use&nbsp;(</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=namespaces_couldusealias" id="namespaces_couldusealias">Could Use Alias</a></h2><p>[Since 0.8.4] - [ -P Namespaces/CouldUseAlias ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#could-use-alias">Online docs</a> ]</p><p>This long name may be reduced by using an available alias.<br />
<br />
This applies to classes (as full name or prefix), and to constants and functions.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">a</span><span style="color: #007700">\</span><span style="color: #0000BB">b</span><span style="color: #007700">\</span><span style="color: #0000BB">c</span><span style="color: #007700">;<br />use&nbsp;function&nbsp;</span><span style="color: #0000BB">a</span><span style="color: #007700">\</span><span style="color: #0000BB">b</span><span style="color: #007700">\</span><span style="color: #0000BB">c</span><span style="color: #007700">\</span><span style="color: #0000BB">foo</span><span style="color: #007700">;<br />use&nbsp;const&nbsp;</span><span style="color: #0000BB">a</span><span style="color: #007700">\</span><span style="color: #0000BB">b</span><span style="color: #007700">\</span><span style="color: #0000BB">c</span><span style="color: #007700">\</span><span style="color: #0000BB">D</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;may&nbsp;be&nbsp;reduced&nbsp;with&nbsp;the&nbsp;above&nbsp;alias&nbsp;to&nbsp;c\d()<br /></span><span style="color: #007700">new&nbsp;</span><span style="color: #0000BB">a</span><span style="color: #007700">\</span><span style="color: #0000BB">b</span><span style="color: #007700">\</span><span style="color: #0000BB">c</span><span style="color: #007700">\</span><span style="color: #0000BB">d</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;may&nbsp;be&nbsp;reduced&nbsp;to&nbsp;c\d\e\f&nbsp;<br /></span><span style="color: #007700">new&nbsp;</span><span style="color: #0000BB">a</span><span style="color: #007700">\</span><span style="color: #0000BB">b</span><span style="color: #007700">\</span><span style="color: #0000BB">c</span><span style="color: #007700">\</span><span style="color: #0000BB">d</span><span style="color: #007700">\</span><span style="color: #0000BB">e</span><span style="color: #007700">\</span><span style="color: #0000BB">f</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;may&nbsp;be&nbsp;reduced&nbsp;to&nbsp;c()<br /></span><span style="color: #007700">new&nbsp;</span><span style="color: #0000BB">a</span><span style="color: #007700">\</span><span style="color: #0000BB">b</span><span style="color: #007700">\</span><span style="color: #0000BB">c</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;may&nbsp;be&nbsp;reduced&nbsp;to&nbsp;D<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">a</span><span style="color: #007700">\</span><span style="color: #0000BB">b</span><span style="color: #007700">\</span><span style="color: #0000BB">c</span><span style="color: #007700">\</span><span style="color: #0000BB">D</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;may&nbsp;be&nbsp;reduced&nbsp;to&nbsp;D<br /></span><span style="color: #0000BB">a</span><span style="color: #007700">\</span><span style="color: #0000BB">b</span><span style="color: #007700">\</span><span style="color: #0000BB">c</span><span style="color: #007700">\</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;can't&nbsp;be&nbsp;reduced&nbsp;:&nbsp;it&nbsp;is&nbsp;an&nbsp;absolute&nbsp;name<br /></span><span style="color: #007700">\</span><span style="color: #0000BB">a</span><span style="color: #007700">\</span><span style="color: #0000BB">b</span><span style="color: #007700">\</span><span style="color: #0000BB">c</span><span style="color: #007700">\</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;can't&nbsp;be&nbsp;reduced&nbsp;:&nbsp;it&nbsp;is&nbsp;no&nbsp;an&nbsp;alias&nbsp;nor&nbsp;a&nbsp;prefix<br /></span><span style="color: #0000BB">a</span><span style="color: #007700">\</span><span style="color: #0000BB">b</span><span style="color: #007700">\</span><span style="color: #0000BB">d</span><span style="color: #007700">\</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=namespaces_shouldmakealias" id="namespaces_shouldmakealias">Should Make Alias</a></h2><p>[Since 0.8.4] - [ -P Namespaces/ShouldMakeAlias ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#should-make-alias">Online docs</a> ]</p><p>Long names should be aliased.<br />
<br />
Aliased names are easy to read at the beginning of the script; they may be changed at one point, and update the whole code at the same time. <br />
Finally, short names makes the rest of the code readable. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">x</span><span style="color: #007700">\</span><span style="color: #0000BB">y</span><span style="color: #007700">\</span><span style="color: #0000BB">z</span><span style="color: #007700">;<br /><br />use&nbsp;</span><span style="color: #0000BB">a</span><span style="color: #007700">\</span><span style="color: #0000BB">b</span><span style="color: #007700">\</span><span style="color: #0000BB">c</span><span style="color: #007700">\</span><span style="color: #0000BB">d</span><span style="color: #007700">\</span><span style="color: #0000BB">e</span><span style="color: #007700">\</span><span style="color: #0000BB">f</span><span style="color: #007700">\</span><span style="color: #0000BB">g&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">Object</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;long&nbsp;name,&nbsp;difficult&nbsp;to&nbsp;read,&nbsp;prone&nbsp;to&nbsp;change.<br /></span><span style="color: #007700">new&nbsp;</span><span style="color: #0000BB">a</span><span style="color: #007700">\</span><span style="color: #0000BB">b</span><span style="color: #007700">\</span><span style="color: #0000BB">c</span><span style="color: #007700">\</span><span style="color: #0000BB">d</span><span style="color: #007700">\</span><span style="color: #0000BB">e</span><span style="color: #007700">\</span><span style="color: #0000BB">f</span><span style="color: #007700">\</span><span style="color: #0000BB">g</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;long&nbsp;name,&nbsp;difficult&nbsp;to&nbsp;read,&nbsp;prone&nbsp;to&nbsp;silent&nbsp;dead&nbsp;code&nbsp;if&nbsp;namespace&nbsp;change.<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$o&nbsp;</span><span style="color: #007700">instanceof&nbsp;</span><span style="color: #0000BB">a</span><span style="color: #007700">\</span><span style="color: #0000BB">b</span><span style="color: #007700">\</span><span style="color: #0000BB">c</span><span style="color: #007700">\</span><span style="color: #0000BB">d</span><span style="color: #007700">\</span><span style="color: #0000BB">e</span><span style="color: #007700">\</span><span style="color: #0000BB">f</span><span style="color: #007700">\</span><span style="color: #0000BB">g</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;short&nbsp;names&nbsp;Easy&nbsp;to&nbsp;update&nbsp;all&nbsp;at&nbsp;once.<br /></span><span style="color: #007700">new&nbsp;</span><span style="color: #0000BB">Object</span><span style="color: #007700">();<br />if&nbsp;(</span><span style="color: #0000BB">$o&nbsp;</span><span style="color: #007700">instanceof&nbsp;</span><span style="color: #0000BB">Object</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />}<br /></span>?&gt;</pre></p>
<h2><a href="issues.html#analyzer=classes_multipletraitorinterface" id="classes_multipletraitorinterface">Multiple Identical Trait Or Interface</a></h2><p>[Since 0.8.4] - [ -P Classes/MultipleTraitOrInterface ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#multiple-identical-trait-or-interface">Online docs</a> ]</p><p>There is no need to use the same trait, or implements the same interface  more than once.<br />
<br />
Up to PHP 7.1 (at least), this doesn't raise any warning. Traits are only imported once, and interfaces may be implemented as many times as wanted.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">t3</span><span style="color: #007700">,</span><span style="color: #0000BB">t3</span><span style="color: #007700">,</span><span style="color: #0000BB">t3</span><span style="color: #007700">;<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">i</span><span style="color: #007700">,</span><span style="color: #0000BB">i</span><span style="color: #007700">,</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">{<br /><br />}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=namespaces_multiplealiasdefinitions" id="namespaces_multiplealiasdefinitions">Multiple Alias Definitions</a></h2><p>[Since 0.8.4] - [ -P Namespaces/MultipleAliasDefinitions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#multiple-alias-definitions">Online docs</a> ]</p><p>Some aliases are representing different classes across the repository. This leads to potential confusion. <br />
<br />
Across an application, it is recommended to use the same namespace for one alias. Failing to do this lead to the same keyword to represent different values in different files, with different behavior. Those are hard to find bugs. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">d</span><span style="color: #007700">\</span><span style="color: #0000BB">d</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;aka&nbsp;D<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;Those&nbsp;are&nbsp;usually&nbsp;in&nbsp;different&nbsp;files,&nbsp;rather&nbsp;than&nbsp;just&nbsp;different&nbsp;namespaces.<br /><br /></span><span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">b</span><span style="color: #007700">\</span><span style="color: #0000BB">c&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">D</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;also&nbsp;D.&nbsp;This&nbsp;could&nbsp;be&nbsp;named&nbsp;something&nbsp;else<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=structures_nestedifthen" id="structures_nestedifthen">Nested Ifthen</a></h2><p>[Since 0.8.4] - [ -P Structures/NestedIfthen ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#nested-ifthen">Online docs</a> ]</p><p>Three levels of ifthen is too much. The method should be split into smaller functions.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Second&nbsp;level,&nbsp;possibly&nbsp;too&nbsp;much&nbsp;already<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Second&nbsp;level.&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Third&nbsp;level&nbsp;level.&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Too&nbsp;much<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=structures_casttoboolean" id="structures_casttoboolean">Cast To Boolean</a></h2><p>[Since 0.8.4] - [ -P Structures/CastToBoolean ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#cast-to-boolean">Online docs</a> ]</p><p>This expression may be reduced by casting to boolean type. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$variable&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$condition&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #DD0000">'met'&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;Same&nbsp;as&nbsp;<br /></span><span style="color: #0000BB">$variable&nbsp;</span><span style="color: #007700">=&nbsp;(bool)&nbsp;</span><span style="color: #0000BB">$condition&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #DD0000">'met'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$variable&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$condition&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #DD0000">'met'&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #0000BB">0&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;Same&nbsp;as&nbsp;(Note&nbsp;the&nbsp;condition&nbsp;inversion)<br /></span><span style="color: #0000BB">$variable&nbsp;</span><span style="color: #007700">=&nbsp;(bool)&nbsp;</span><span style="color: #0000BB">$condition&nbsp;</span><span style="color: #007700">!=&nbsp;</span><span style="color: #DD0000">'met'</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;also,&nbsp;with&nbsp;an&nbsp;indentical&nbsp;condition<br /></span><span style="color: #0000BB">$variable&nbsp;</span><span style="color: #007700">=&nbsp;!(bool)&nbsp;</span><span style="color: #0000BB">$condition&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #DD0000">'met'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;also&nbsp;works&nbsp;with&nbsp;straight&nbsp;booleans&nbsp;expressions<br /></span><span style="color: #0000BB">$variable&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$condition&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #DD0000">'met'&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #0000BB">true&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;Same&nbsp;as&nbsp;<br /></span><span style="color: #0000BB">$variable&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$condition&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #DD0000">'met'</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_failingsubstrcomparison" id="structures_failingsubstrcomparison">Failed Substr Comparison</a></h2><p>[Since 0.8.4] - [ -P Structures/FailingSubstrComparison ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#failed-substr-comparison">Online docs</a> ]</p><p>The extracted string must be of the size of the compared string.<br />
<br />
This is also true for negative lengths.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Possible&nbsp;comparison<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">)&nbsp;===&nbsp;</span><span style="color: #DD0000">'abc'</span><span style="color: #007700">)&nbsp;{&nbsp;}<br />if&nbsp;(</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">)&nbsp;===&nbsp;</span><span style="color: #DD0000">'abc'</span><span style="color: #007700">)&nbsp;{&nbsp;}<br /><br /></span><span style="color: #FF8000">//&nbsp;Always&nbsp;failing<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">)&nbsp;===&nbsp;</span><span style="color: #DD0000">'ab'</span><span style="color: #007700">)&nbsp;{&nbsp;}<br />if&nbsp;(</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">3</span><span style="color: #007700">)&nbsp;===&nbsp;</span><span style="color: #DD0000">'ab'</span><span style="color: #007700">)&nbsp;{&nbsp;}<br /><br /></span><span style="color: #FF8000">//&nbsp;Omitted&nbsp;in&nbsp;this&nbsp;analysis<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">)&nbsp;!==&nbsp;</span><span style="color: #DD0000">'ab'</span><span style="color: #007700">)&nbsp;{&nbsp;}<br /></span>?&gt;</pre><br />
 </p>
<h2><a href="issues.html#analyzer=structures_shouldmaketernary" id="structures_shouldmaketernary">Should Make Ternary</a></h2><p>[Since 0.8.5] - [ -P Structures/ShouldMakeTernary ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#should-make-ternary">Online docs</a> ]</p><p>Ternary operators are the best when assigning values to a variable.<br />
<br />
This way, they are less verbose, compatible with assignation and easier to read.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;verbose&nbsp;if&nbsp;then&nbsp;structure<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;compact&nbsp;ternary&nbsp;call<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">)&nbsp;?&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;verbose&nbsp;if&nbsp;then&nbsp;structure<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Works&nbsp;with&nbsp;short&nbsp;assignations&nbsp;and&nbsp;simple&nbsp;expressions<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">!=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">+=&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">-&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">+=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;compact&nbsp;ternary&nbsp;call<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">+=&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">!=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">)&nbsp;?&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">-&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">4&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=functions_unusedreturnedvalue" id="functions_unusedreturnedvalue">Unused Returned Value</a></h2><p>[Since 0.8.5] - [ -P Functions/UnusedReturnedValue ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unused-returned-value">Online docs</a> ]</p><p>The function called returns a value, which is ignored. <br />
<br />
Usually, this is a sign of dead code, or a missed check on the results of the functioncall. At times, it may be a valid call if the function has voluntarily no return value. <br />
<br />
It is recommended to add a check on the return value, or remove the call. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;simplest&nbsp;form<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;In&nbsp;case&nbsp;of&nbsp;multiple&nbsp;return,&nbsp;any&nbsp;one&nbsp;that&nbsp;returns&nbsp;something&nbsp;means&nbsp;that&nbsp;return&nbsp;value&nbsp;is&nbsp;meaningful<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">rand</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">bar</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
Note that this analysis ignores functions that return void (same meaning that PHP 7.1 : return ; or no return in the function body).<br />
<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_modernempty" id="structures_modernempty">Modernize Empty With Expression</a></h2><p>[Since 0.8.6] - [ -P Structures/ModernEmpty ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#modernize-empty-with-expression">Online docs</a> ] - [ PHP 5.5 and more recent ]</p><p><a href="https://www.php.net/empty" alt="empty()">empty()</a> accepts expressions as argument. This feature was added in PHP 5.5. <br />
<br />
There is no need to store the expression in a variable before testing, unless it is reused later.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;PHP&nbsp;5.5+&nbsp;`empty()&nbsp;&lt;https://www.php.net/empty&gt;`_&nbsp;usage<br /></span><span style="color: #007700">if&nbsp;(empty(</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">)))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomethingWithoutA</span><span style="color: #007700">();<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Compatible&nbsp;`empty()&nbsp;&lt;https://www.php.net/empty&gt;`_&nbsp;usage<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">);<br />if&nbsp;(empty(</span><span style="color: #0000BB">$a</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomethingWithoutA</span><span style="color: #007700">();<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;$a2&nbsp;is&nbsp;reused,&nbsp;storage&nbsp;is&nbsp;legit<br /></span><span style="color: #0000BB">$a2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">strtolower</span><span style="color: #007700">(</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">);<br />if&nbsp;(empty(</span><span style="color: #0000BB">$a2</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$a2</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also  <span style="border: 1px solid #ddd; background-color: #f5f5f5">empty() <https://www.php.net/empty><a href="http://www.php.net/empty" alt="_">_</a> and <br />
         </span> empty() <https://www.php.net/empty><a href="https://www.php.net/manual/en/migration55.new-features.php#migration55.new-features.empty" alt="_ supports arbitrary expressions">_ supports arbitrary expressions</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_usepositivecondition" id="structures_usepositivecondition">Use Positive Condition</a></h2><p>[Since 0.8.6] - [ -P Structures/UsePositiveCondition ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-positive-condition">Online docs</a> ]</p><p>Whenever possible, use a positive condition. <br />
<br />
Positive conditions are easier to understand, and lead to less understanding problems.<br />
Negative conditions are not reported when else is not present. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;a&nbsp;positive&nbsp;condition<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomethingElse</span><span style="color: #007700">();<br />}<br /><br />if&nbsp;(!empty(</span><span style="color: #0000BB">$a</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomethingElse</span><span style="color: #007700">();<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;a&nbsp;negative&nbsp;condition<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomethingElse</span><span style="color: #007700">();<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;No&nbsp;need&nbsp;to&nbsp;force&nbsp;$a&nbsp;==&nbsp;'b'&nbsp;with&nbsp;empty&nbsp;else<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">!=&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomethingElse</span><span style="color: #007700">();<br />}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=structures_dropelseafterreturn" id="structures_dropelseafterreturn">Drop Else After Return</a></h2><p>[Since 0.8.6] - [ -P Structures/DropElseAfterReturn ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#drop-else-after-return">Online docs</a> ]</p><p>Avoid else clause when the then clause returns, but not the else. And vice-versa.<br />
<br />
This way, the else block disappears, and is now the main sequence of the function. <br />
<br />
This is also true if else has a return, and then not. When doing so, don't forget to reverse the condition. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;drop&nbsp;the&nbsp;else<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;drop&nbsp;the&nbsp;then<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;return&nbsp;in&nbsp;else&nbsp;and&nbsp;then<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a3</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre></p>
<h2><a href="issues.html#analyzer=classes_useclassoperator" id="classes_useclassoperator">Use Class Operator</a></h2><p>[Since 0.8.7] - [ -P Classes/UseClassOperator ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-class-operator">Online docs</a> ]</p><p>Use  <span style="border: 1px solid #ddd; background-color: #f5f5f5">::class</span>  to hardcode class names, instead of strings.<br />
<br />
This is actually faster than strings, which are parsed at execution time, while  <span style="border: 1px solid #ddd; background-color: #f5f5f5">::class</span>  is compiled, making it faster to execute. <br />
<br />
It is also capable to handle aliases, making the code easier to maintain. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">\</span><span style="color: #0000BB">bar</span><span style="color: #007700">;<br /><br />use&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">\</span><span style="color: #0000BB">bar</span><span style="color: #007700">\</span><span style="color: #0000BB">X&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">B</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">X&nbsp;</span><span style="color: #007700">{}<br /><br /></span><span style="color: #0000BB">$className&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'\foo\bar\X'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$className&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">\</span><span style="color: #0000BB">bar</span><span style="color: #007700">\</span><span style="color: #0000BB">X</span><span style="color: #007700">::class;<br /><br /></span><span style="color: #0000BB">$className&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">B</span><span style="color: #007700">\</span><span style="color: #0000BB">X</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$object&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">$className</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
This is not possible when building the name of the class with concatenation.<br />
<br />
This is a micro-optimization. This also helps static analysis, as it gives more information at compile time to analyse.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extrar" id="extensions_extrar">ext/rar</a></h2><p>[Since 0.8.7] - [ -P Extensions/Extrar ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-rar">Online docs</a> ]</p><p>Extension RAR. <br />
<br />
Rar is a powerful and effective archiver created by Eugene Roshal. This extension gives you possibility to read Rar archives but doesn't support writing Rar archives, because this is not supported by the UnRar library and is directly prohibited by its license.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$arch&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">RarArchive</span><span style="color: #007700">::</span><span style="color: #0000BB">open</span><span style="color: #007700">(</span><span style="color: #0000BB">example</span><span style="color: #007700">.</span><span style="color: #0000BB">rar</span><span style="color: #007700">);<br />if&nbsp;(</span><span style="color: #0000BB">$arch&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">FALSE</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #0000BB">Cannot&nbsp;open&nbsp;example</span><span style="color: #007700">.</span><span style="color: #0000BB">rar</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$entries&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$arch</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getEntries</span><span style="color: #007700">();<br />if&nbsp;(</span><span style="color: #0000BB">$entries&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">FALSE</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #0000BB">Cannot&nbsp;retrieve&nbsp;entries</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.rar.php" alt="Rar archiving">Rar archiving</a> and <a href="http://www.rarlabs.com/" alt="rarlabs">rarlabs</a>.<br />
</p>
<h2><a href="issues.html#analyzer=security_dontechoerror" id="security_dontechoerror">Don't Echo Error</a></h2><p>[Since 0.8.7] - [ -P Security/DontEchoError ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#don't-echo-error">Online docs</a> ]</p><p>It is recommended to avoid displaying error messages directly to the browser.<br />
<br />
PHP's uses the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">display_errors</span>  directive to control display of errors to the browser. This must be kept to  <span style="border: 1px solid #ddd; background-color: #f5f5f5">off</span>  when in production.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Inside&nbsp;a&nbsp;'or'&nbsp;test<br /></span><span style="color: #0000BB">mysql_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$user</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$pass</span><span style="color: #007700">)&nbsp;or&nbsp;die(</span><span style="color: #0000BB">mysql_error</span><span style="color: #007700">());<br /><br /></span><span style="color: #FF8000">//&nbsp;Inside&nbsp;a&nbsp;if&nbsp;test<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pg_query</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$db</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$query&nbsp;</span><span style="color: #007700">);<br />if(&nbsp;!</span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">Erreur&nbsp;SQL</span><span style="color: #007700">:&nbsp;.&nbsp;</span><span style="color: #0000BB">pg_error</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;exit;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Changing&nbsp;PHP&nbsp;configuration<br /></span><span style="color: #0000BB">ini_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'display_errors'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;also&nbsp;a&nbsp;security&nbsp;error&nbsp;:&nbsp;'false'&nbsp;means&nbsp;actually&nbsp;true.<br /></span><span style="color: #0000BB">ini_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'display_errors'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'false'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
Error messages should be logged, but not displayed. <br />
<br />
See also <a href="https://php.earth/docs/security/intro#error-reporting" alt="Error reporting">Error reporting</a> and <br />
         <a href="http://php.net/manual/en/ini.list.php" alt="List of php.ini directives">List of php.ini directives</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_uselesscasting" id="structures_uselesscasting">Useless Casting</a></h2><p>[Since 0.8.7] - [ -P Structures/UselessCasting ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#useless-casting">Online docs</a> ]</p><p>There is no need to overcast returned values.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;trim&nbsp;always&nbsp;returns&nbsp;a&nbsp;string&nbsp;:&nbsp;cast&nbsp;is&nbsp;useless<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;(string)&nbsp;</span><span style="color: #0000BB">trim</span><span style="color: #007700">(</span><span style="color: #0000BB">$b</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;strpos&nbsp;doesn't&nbsp;always&nbsp;returns&nbsp;an&nbsp;integer&nbsp;:&nbsp;cast&nbsp;is&nbsp;useful<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;(boolean)&nbsp;</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;comparison&nbsp;don't&nbsp;need&nbsp;casting,&nbsp;nor&nbsp;parenthesis<br /></span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;(bool)&nbsp;(</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.types.type-juggling.php" alt="Type juggling">Type juggling</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_noissetwithempty" id="structures_noissetwithempty">No isset() With empty()</a></h2><p>[Since 0.8.7] - [ -P Structures/NoIssetWithEmpty ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-isset---with-empty--">Online docs</a> ]</p><p><a href="https://www.php.net/empty" alt="empty()">empty()</a> actually does the job of isset() too. <br />
<br />
From the manual :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">No warning is generated if the variable does not exist. That means <a href="https://www.php.net/empty" alt="empty()">empty()</a> is essentially the concise equivalent to !isset($var) || $var == false.</span>  The main difference is that isset() only works with variables, while <a href="https://www.php.net/empty" alt="empty()">empty()</a> works with other structures, such as constants.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Enough&nbsp;validation<br /></span><span style="color: #007700">if&nbsp;(!empty(</span><span style="color: #0000BB">$a</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Too&nbsp;many&nbsp;tests<br /></span><span style="color: #007700">if&nbsp;(isset(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;&amp;&amp;&nbsp;!empty(</span><span style="color: #0000BB">$a</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/isset" alt="Isset">Isset</a> and <br />
         <a href="http://www.php.net/empty" alt="empty">empty</a>.<br />
</p>
<h2><a href="issues.html#analyzer=performances_timevsstrtotime" id="performances_timevsstrtotime">time() Vs strtotime()</a></h2><p>[Since 0.8.7] - [ -P Performances/timeVsstrtotime ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#time---vs-strtotime--">Online docs</a> ]</p><p>time() is actually faster than strtotime() with 'now' key string.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Faster&nbsp;version<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">time</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;Slower&nbsp;version<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">strtotime</span><span style="color: #007700">(</span><span style="color: #DD0000">'now'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
This is a micro-optimisation. Relative gain is real, but small unless the function is used many times.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_uselesscheck" id="structures_uselesscheck">Useless Check</a></h2><p>[Since 0.8.9] - [ -P Structures/UselessCheck ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#useless-check">Online docs</a> ]</p><p>Situation where the condition is useless. For<a href="https://www.php.net/each" alt="each()">each()</a> will apply a test on the source, and skip all the loops if no element was found.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Checking&nbsp;for&nbsp;type&nbsp;is&nbsp;good.&nbsp;<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Foreach&nbsp;on&nbsp;empty&nbsp;arrays&nbsp;doesn't&nbsp;start.&nbsp;Checking&nbsp;is&nbsp;useless<br /></span><span style="color: #007700">if&nbsp;(!empty(</span><span style="color: #0000BB">$array</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/control-structures.foreach.php" alt="foreach">foreach</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_unitializedproperties" id="classes_unitializedproperties">Unitialized Properties</a></h2><p>[Since 0.8.9] - [ -P Classes/UnitializedProperties ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unitialized-properties">Online docs</a> ]</p><p>Properties that are not initialized in the constructor, nor at definition. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">X&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$i1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$i2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$u1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$u2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">i2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">u2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">m</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">i1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">i2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">u1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">u2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
With the above class, when m() is accessed right after instantiation, there will be a missing property. <br />
Using default values at property definition, or setting default values in the constructor ensures that the created object is consistent. <br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_bailoutearly" id="structures_bailoutearly">Bail Out Early</a></h2><p>[Since 0.8.9] - [ -P Structures/BailOutEarly ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#bail-out-early">Online docs</a> ]</p><p>When using conditions, it is recommended to quit in the current context, and avoid else clause altogether. <br />
<br />
The main benefit is to make clear the method applies a condition, and stop immediately when it is not satisfied. <br />
The main sequence is then focused on the actual code. <br />
<br />
This works with the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">break</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">continue</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">throw</span>  and  <span style="border: 1px solid #ddd; background-color: #f5f5f5">goto</span>  keywords too, depending on situations.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Bailing&nbsp;out&nbsp;early,&nbsp;low&nbsp;level&nbsp;of&nbsp;indentation<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo1</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Works&nbsp;with&nbsp;continue&nbsp;too<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;No&nbsp;need&nbsp;for&nbsp;else<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo2</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;No&nbsp;need&nbsp;for&nbsp;else&nbsp;:&nbsp;return&nbsp;goes&nbsp;into&nbsp;then.&nbsp;<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo3</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Make&nbsp;a&nbsp;return&nbsp;early,&nbsp;and&nbsp;make&nbsp;the&nbsp;condition&nbsp;visible.<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo3</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">methodcall</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">functioncall</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://github.com/jupeter/clean-code-php#avoid-nesting-too-deeply-and-return-early-part-1" alt="Avoid nesting too deeply and return early (part 1)">Avoid nesting too deeply and return early (part 1)</a> and <br />
         <a href="https://github.com/jupeter/clean-code-php#avoid-nesting-too-deeply-and-return-early-part-2" alt="Avoid nesting too deeply and return early (part 2)">Avoid nesting too deeply and return early (part 2)</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_dieexitconsistance" id="structures_dieexitconsistance">Die Exit Consistence</a></h2><p>[Since 0.8.9] - [ -P Structures/DieExitConsistance ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#die-exit-consistence">Online docs</a> ]</p><p>Die and Exit have the same functional use. <br />
<br />
The analyzed code has less than 10% of one of them : for consistency reasons, it is recommended to make them all the same. <br />
<br />
It happens that die or exit are used depending on coding style and files. One file may be consistently using exit, while the others are all using exit. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;be&nbsp;consistent<br /></span><span style="color: #007700">switch&nbsp;(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">3&nbsp;</span><span style="color: #007700">:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">4&nbsp;</span><span style="color: #007700">:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">5&nbsp;</span><span style="color: #007700">:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">6&nbsp;</span><span style="color: #007700">:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">7&nbsp;</span><span style="color: #007700">:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">8&nbsp;</span><span style="color: #007700">:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">9&nbsp;</span><span style="color: #007700">:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">10&nbsp;</span><span style="color: #007700">:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit;<br />&nbsp;&nbsp;&nbsp;&nbsp;default&nbsp;:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;die();&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Be&nbsp;consistent,&nbsp;always&nbsp;use&nbsp;the&nbsp;same.&nbsp;<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
Using die or exit is also the target of other analysis.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=arrays_arraybracketconsistence" id="arrays_arraybracketconsistence">Array() / [  ] Consistence</a></h2><p>[Since 0.8.9] - [ -P Arrays/ArrayBracketConsistence ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#array-----[--]-consistence">Online docs</a> ]</p><p>array() or [ ] is the favorite.<br />
<br />
array() and [ ] have the same functional use. <br />
<br />
The analyzed code has less than 10% of one of them : for consistency reasons, it is recommended to make them all the same. <br />
<br />
It happens that array() or [] are used depending on coding style and files. One file may be consistently using array(), while the others are all using []. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;array(array(</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">),&nbsp;array(</span><span style="color: #0000BB">5</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">6</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;array(array(array(</span><span style="color: #0000BB">7</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">8</span><span style="color: #007700">),&nbsp;array(</span><span style="color: #0000BB">9</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">)),&nbsp;array(</span><span style="color: #0000BB">11</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">12</span><span style="color: #007700">),&nbsp;array(</span><span style="color: #0000BB">13</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">14</span><span style="color: #007700">)));<br /><br /></span><span style="color: #FF8000">//&nbsp;be&nbsp;consistent<br /></span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">];<br /></span>?&gt;</pre><br />
<br />
The only drawback to use [] over array() is backward incompatibility.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_php71microseconds" id="php_php71microseconds">PHP 7.1 Microseconds</a></h2><p>[Since 0.8.9] - [ -P Php/Php71microseconds ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php-7.1-microseconds">Online docs</a> ]</p><p>PHP supports microseconds in  <span style="border: 1px solid #ddd; background-color: #f5f5f5">DateTime</span>  class and date_create() function. This was introduced in PHP 7.1.<br />
<br />
In previous PHP versions, those dates only used seconds, leading to lazy comparisons : <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$now&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">date_create</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">usleep</span><span style="color: #007700">(</span><span style="color: #0000BB">10</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;wait&nbsp;for&nbsp;0.001&nbsp;ms<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$now&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">date_create</span><span style="color: #007700">());<br /></span>?&gt;</pre><br />
<br />
This code displays true in PHP 7.0 and older, (unless the code was run too close from the next second). In PHP 7.1, this is always false.<br />
<br />
This is also true with  <span style="border: 1px solid #ddd; background-color: #f5f5f5">DateTime</span>  : <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$now&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">DateTime</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">usleep</span><span style="color: #007700">(</span><span style="color: #0000BB">10</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;wait&nbsp;for&nbsp;0.001&nbsp;ms<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">((new&nbsp;</span><span style="color: #0000BB">DateTime</span><span style="color: #007700">())-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'u'</span><span style="color: #007700">)&nbsp;==&nbsp;</span><span style="color: #0000BB">$now</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'u'</span><span style="color: #007700">));<br /></span>?&gt;</pre><br />
<br />
This evolution impacts mostly exact comparisons (== and ===). Non-equality (!= and !==) will probably be always true, and should be reviewed.<br />
<br />
See also <a href="http://php.net/manual/en/migration71.incompatible.php" alt="Backward incompatible changes">Backward incompatible changes</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_dontchangeblindkey" id="structures_dontchangeblindkey">Dont Change The Blind Var</a></h2><p>[Since 0.8.9] - [ -P Structures/DontChangeBlindKey ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#dont-change-the-blind-var">Online docs</a> ]</p><p>When using a for<a href="https://www.php.net/each" alt="each()">each()</a>, the blind variables hold a copy of the original value. It is confusing to modify them, as it seems that the original value may be changed.<br />
<br />
When actually changing the original value, use the reference in the foreach definition to make it obvious, and save the final reassignation.<br />
<br />
When the value has to be prepared before usage, then save the filtered value in a separate variable. This makes the clean value obvious, and preserve the original value for a future usage.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;$bar&nbsp;is&nbsp;duplicated&nbsp;and&nbsp;kept&nbsp;<br /></span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">];<br />foreach(</span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$bar&nbsp;is&nbsp;updated&nbsp;but&nbsp;its&nbsp;original&nbsp;value&nbsp;is&nbsp;kept<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$nextBar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'&nbsp;=&gt;&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;(</span><span style="color: #0000BB">$nextBar</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">foobar</span><span style="color: #007700">(</span><span style="color: #0000BB">$nextBar</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;$bar&nbsp;is&nbsp;updated&nbsp;and&nbsp;lost<br /></span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">];<br />foreach(</span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$bar&nbsp;is&nbsp;updated&nbsp;but&nbsp;its&nbsp;final&nbsp;value&nbsp;is&nbsp;lost<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">print&nbsp;</span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'&nbsp;=&gt;&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;(++</span><span style="color: #0000BB">$bar</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Now&nbsp;that&nbsp;$bar&nbsp;is&nbsp;reused,&nbsp;it&nbsp;is&nbsp;easy&nbsp;to&nbsp;confuse&nbsp;its&nbsp;value<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">foobar</span><span style="color: #007700">(</span><span style="color: #0000BB">$bar</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;$bar&nbsp;is&nbsp;updated&nbsp;and&nbsp;kept<br /></span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">];<br />foreach(</span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">as&nbsp;&amp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$bar&nbsp;is&nbsp;updated&nbsp;and&nbsp;keept<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">print&nbsp;</span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'&nbsp;=&gt;&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;(++</span><span style="color: #0000BB">$bar</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">foobar</span><span style="color: #007700">(</span><span style="color: #0000BB">$bar</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=arrays_gettinglastelement" id="arrays_gettinglastelement">Getting Last Element</a></h2><p>[Since 0.9.0] - [ -P Arrays/GettingLastElement ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#getting-last-element">Online docs</a> ]</p><p>Getting the last element of an array relies on array_key_last().<br />
<br />
array_key_last() was added in PHP 7.3. Before that, <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #DD0000">'a'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'b'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'c'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;Best&nbsp;solutions,&nbsp;by&nbsp;far<br /></span><span style="color: #0000BB">$last&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #0000BB">array_key_last</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">)];<br /><br /></span><span style="color: #FF8000">//&nbsp;Best&nbsp;solutions,&nbsp;just&nbsp;as&nbsp;fast&nbsp;as&nbsp;each&nbsp;other<br /></span><span style="color: #0000BB">$last&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">)&nbsp;-&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">$last&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">end</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Bad&nbsp;solutions<br /><br />//&nbsp;popping,&nbsp;but&nbsp;restoring&nbsp;the&nbsp;value.&nbsp;<br /></span><span style="color: #0000BB">$last&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_pop</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$array</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">$last</span><span style="color: #007700">;&nbsp;<br /><br /></span><span style="color: #FF8000">//&nbsp;array_unshift&nbsp;would&nbsp;be&nbsp;even&nbsp;worse<br /><br />//&nbsp;reversing&nbsp;array<br /></span><span style="color: #0000BB">$last&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_reverse</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">)[</span><span style="color: #0000BB">0</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;slicing&nbsp;the&nbsp;array<br /></span><span style="color: #0000BB">$last&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_slice</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">)[</span><span style="color: #0000BB">0</span><span style="color: #007700">]</span><span style="color: #DD0000">',<br />$last&nbsp;=&nbsp;current(array_slice($array,&nbsp;-1));<br />);</span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=exceptions_rethrown" id="exceptions_rethrown">Rethrown Exceptions</a></h2><p>[Since 0.9.0] - [ -P Exceptions/Rethrown ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#rethrown-exceptions">Online docs</a> ]</p><p>Throwing a caught exception is usually useless and dead code.<br />
<br />
When exceptions are caught, they should be processed or transformed, but not rethrown as is.<br />
<br />
Those issues often happen when a catch structure was positioned for debug purposes, but lost its usage later. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">Exception&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;</span><span style="color: #0000BB">$e</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://stackoverflow.com/questions/5551668/what-are-the-best-practices-for-catching-and-re-throwing-exceptions" alt="What are the best practices for catching and re-throwing exceptions?">What are the best practices for catching and re-throwing exceptions?</a> and <br />
         <a href="http://php.net/manual/en/exception.construct.php" alt="Exception chaining">Exception chaining</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_usestdclass" id="php_usestdclass">Avoid Using stdClass</a></h2><p>[Since 0.9.1] - [ -P Php/UseStdclass ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#avoid-using-stdclass">Online docs</a> ]</p><p> <span style="border: 1px solid #ddd; background-color: #f5f5f5">stdClass</span>  is the default class for PHP. It is instantiated when PHP needs to return a object, but no class is specifically available.<br />
<br />
It is recommended to avoid instantiating this class, nor use it is any way.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$json&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'{a:1,b:2,c:3}'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$object&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">json_decode</span><span style="color: #007700">(</span><span style="color: #0000BB">$json</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;$object&nbsp;is&nbsp;a&nbsp;stdClass,&nbsp;as&nbsp;returned&nbsp;by&nbsp;json_decode<br /><br />//&nbsp;Fast&nbsp;building&nbsp;of&nbsp;$o<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;[];<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #DD0000">'a'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #DD0000">'b'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #DD0000">'c'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">json_encode</span><span style="color: #007700">(&nbsp;(object)&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Slow&nbsp;building&nbsp;of&nbsp;$o<br /></span><span style="color: #0000BB">$o&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">stdClass</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$o</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$o</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$o</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">json_encode</span><span style="color: #007700">(</span><span style="color: #0000BB">$o</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
If you need a  <span style="border: 1px solid #ddd; background-color: #f5f5f5">stdClass</span>  object, it is faster to build it as an array, then cast it, than instantiate  <span style="border: 1px solid #ddd; background-color: #f5f5f5">stdClass</span> . This is a micro-optimisation.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=functions_couldreturnvoid" id="functions_couldreturnvoid">Could Return Void</a></h2><p>[Since 0.9.1] - [ -P Functions/CouldReturnVoid ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#could-return-void">Online docs</a> ]</p><p>The following functions may bear the void return typehint. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;can&nbsp;be&nbsp;Void<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(&amp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;++</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;return;&nbsp;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;can't&nbsp;be&nbsp;Void<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;++</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;&nbsp;&nbsp;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/functions.returning-values.php" alt="Returning values">Returning values</a> and <br />
         <a href="https://wiki.php.net/rfc/void_return_type" alt="Void Return Type">Void Return Type</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=type_octalinstring" id="type_octalinstring">Invalid Octal In String</a></h2><p>[Since 0.9.1] - [ -P Type/OctalInString ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#invalid-octal-in-string">Online docs</a> ] - [ PHP  older than 7.1]</p><p>Any octal sequence inside a string can't be beyond \377. Those will be a fatal error at parsing time. <br />
<br />
This is true, starting with PHP 7.1. In PHP 7.0 and older, those sequences were silently adapted (divided by \400).<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Emit&nbsp;no&nbsp;error&nbsp;in&nbsp;PHP&nbsp;7.1<br /></span><span style="color: #007700">echo&nbsp;\</span><span style="color: #0000BB">100</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;@<br /><br />//&nbsp;Emit&nbsp;an&nbsp;error&nbsp;in&nbsp;PHP&nbsp;7.1<br /></span><span style="color: #007700">echo&nbsp;\</span><span style="color: #0000BB">500</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;@<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.types.integer.php" alt="Integers">Integers</a>.<br />
</p>
<h2><a href="issues.html#analyzer=performances_avoidarraypush" id="performances_avoidarraypush">Avoid array_push()</a></h2><p>[Since 0.9.1] - [ -P Performances/AvoidArrayPush ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#avoid-array_push--">Online docs</a> ]</p><p><a href="https://www.php.net/array_push" alt="array_push()">array_push()</a> is slower than the [] operator.<br />
<br />
This is also true if the [] operator is called several times, while <a href="https://www.php.net/array_push" alt="array_push()">array_push()</a> may be called only once. <br />
And using count after the push is also faster than collecting <a href="https://www.php.net/array_push" alt="array_push()">array_push()</a> return value. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">,</span><span style="color: #0000BB">3</span><span style="color: #007700">];<br /></span><span style="color: #FF8000">//&nbsp;Fast&nbsp;version<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">6</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">7</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$count&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Slow&nbsp;version<br /></span><span style="color: #0000BB">array_push</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$count&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_push</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">,</span><span style="color: #0000BB">6</span><span style="color: #007700">,</span><span style="color: #0000BB">7</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Multiple&nbsp;version&nbsp;:&nbsp;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">array_push</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
This is a micro-optimisation. <br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extnsapi" id="extensions_extnsapi">ext/nsapi</a></h2><p>[Since 0.9.2] - [ -P Extensions/Extnsapi ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-nsapi">Online docs</a> ]</p><p>NSAPI specific functions calls. <br />
<br />
These functions are only available when running PHP as a NSAPI module in Netscape/iPlanet/Sun webservers.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;scripts&nbsp;depends&nbsp;on&nbsp;ext/nsapi<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">ini_get</span><span style="color: #007700">(</span><span style="color: #DD0000">'nsapi.read_timeout'</span><span style="color: #007700">)&nbsp;&lt;&nbsp;</span><span style="color: #0000BB">60</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/install.unix.sun.php" alt="Sun, iPlanet and Netscape servers on Sun Solaris">Sun, iPlanet and Netscape servers on Sun Solaris</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extnewt" id="extensions_extnewt">ext/newt</a></h2><p>[Since 0.9.2] - [ -P Extensions/Extnewt ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-newt">Online docs</a> ]</p><p>Newt PHP CLI extension.<br />
<br />
This is a PHP language extension for RedHat Newt library, a terminal-based window and widget library for writing applications with user friendly interface.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">newt_init&nbsp;</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">newt_cls&nbsp;</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">newt_draw_root_text&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">Test&nbsp;Mode&nbsp;Setup&nbsp;Utility&nbsp;1.12</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">newt_push_help_line&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">null</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">newt_get_screen_size&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">$rows</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$cols</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">newt_open_window&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">$rows</span><span style="color: #007700">/</span><span style="color: #0000BB">2</span><span style="color: #007700">-</span><span style="color: #0000BB">17</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$cols</span><span style="color: #007700">/</span><span style="color: #0000BB">2</span><span style="color: #007700">-</span><span style="color: #0000BB">10</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">34</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">17</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">Choose&nbsp;a&nbsp;Tool</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$form&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">newt_form&nbsp;</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">$list&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">newt_listbox&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">);<br /><br />foreach&nbsp;(array&nbsp;(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">Authentication&nbsp;configuration</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">Firewall&nbsp;configuration</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">Mouse&nbsp;configuration</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">Network&nbsp;configuration</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">Printer&nbsp;configuration</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">System&nbsp;services</span><span style="color: #007700">)&nbsp;as&nbsp;</span><span style="color: #0000BB">$l_item</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">newt_listbox_add_entry&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">$list</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$l_item</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$l_item</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #0000BB">$b1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">newt_button&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">5</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">12</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">Run&nbsp;Tool</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$b2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">newt_button&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">21</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">12</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">Quit</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">newt_form_add_component&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">$form</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$list</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">newt_form_add_components&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">$form</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #0000BB">$b1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b2</span><span style="color: #007700">));<br /><br /></span><span style="color: #0000BB">newt_refresh&nbsp;</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">newt_run_form&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">$form</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">newt_pop_window&nbsp;</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">newt_pop_help_line&nbsp;</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">newt_finished&nbsp;</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">newt_form_destroy&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">$form</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://people.redhat.com/rjones/ocaml-newt/html/Newt.html" alt="Newt">Newt</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extncurses" id="extensions_extncurses">ext/ncurses</a></h2><p>[Since 0.9.2] - [ -P Extensions/Extncurses ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-ncurses">Online docs</a> ]</p><p>Extension ncurses (CLI).<br />
<br />
ncurses (new curses) is a free software emulation of curses in System V Rel 4.0 (and above). <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">ncurses_init</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">ncurses_start_color</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">ncurses_init_pair</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">NCURSES_COLOR_GREEN</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">NCURSES_COLOR_BLACK</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">ncurses_init_pair</span><span style="color: #007700">(</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">NCURSES_COLOR_RED</span><span style="color: #007700">,&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">NCURSES_COLOR_BLACK</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">ncurses_init_pair</span><span style="color: #007700">(</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">NCURSES_COLOR_WHITE</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">NCURSES_COLOR_BLACK</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">ncurses_color_set</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">ncurses_addstr</span><span style="color: #007700">(</span><span style="color: #DD0000">'OK&nbsp;&nbsp;&nbsp;'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">ncurses_color_set</span><span style="color: #007700">(</span><span style="color: #0000BB">3</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">ncurses_addstr</span><span style="color: #007700">(</span><span style="color: #DD0000">'Success!'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">ncurses_color_set</span><span style="color: #007700">(</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">ncurses_addstr</span><span style="color: #007700">(</span><span style="color: #DD0000">'FAIL&nbsp;'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">ncurses_color_set</span><span style="color: #007700">(</span><span style="color: #0000BB">3</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">ncurses_addstr</span><span style="color: #007700">(</span><span style="color: #DD0000">'Success!'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.ncurses.php" alt="Ncurses Terminal Screen Control">Ncurses Terminal Screen Control</a> and <a href="https://www.gnu.org/software/ncurses/ncurses.html" alt="Ncurses">Ncurses</a>.<br />
</p>
<h2><a href="issues.html#analyzer=composer_usecomposerlock" id="composer_usecomposerlock">Use Composer Lock</a></h2><p>[Since 0.9.2] - [ -P Composer/UseComposerLock ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-composer-lock">Online docs</a> ]</p><p>Reports if  <span style="border: 1px solid #ddd; background-color: #f5f5f5">composer.lock</span>  was committed to the archive.</p>
<h2><a href="issues.html#analyzer=functions_toomanylocalvariables" id="functions_toomanylocalvariables">Too Many Local Variables</a></h2><p>[Since 0.9.2] - [ -P Functions/TooManyLocalVariables ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#too-many-local-variables">Online docs</a> ]</p><p>Too many local variables were found in the methods. When over 15 variables are found in such a method, a violation is reported.<br />
<br />
Local variables exclude globals (imported with global) and arguments. Local variable include static variables.<br />
<br />
When too many variables are used in a function, it is a code smells. The function is trying to do too much and needs extra space for juggling.<br />
Beyond 15 variables, it becomes difficult to keep track of their name and usage, leading to confusion, overwriting or hijacking. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;function&nbsp;is&nbsp;OK&nbsp;:&nbsp;3&nbsp;vars&nbsp;are&nbsp;arguments,&nbsp;3&nbsp;others&nbsp;are&nbsp;globals.<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">a20a3g3</span><span style="color: #007700">(</span><span style="color: #0000BB">$a1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$a2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$a3</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$a4</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$a5</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$a6</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a1&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a2&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a3&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3&nbsp;</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a4&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">4&nbsp;</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a5&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">5&nbsp;</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a6&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">6&nbsp;</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a7&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">7&nbsp;</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a8&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">8&nbsp;</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a9&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">9&nbsp;</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a10&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a11&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">11</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a12&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">12</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a13&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">13&nbsp;</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a14&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">14&nbsp;</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a15&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">15&nbsp;</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a16&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">16&nbsp;</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a17&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">17&nbsp;</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a18&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">18&nbsp;</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a19&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">19&nbsp;</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a20&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">20</span><span style="color: #007700">;<br /><br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;function&nbsp;has&nbsp;too&nbsp;many&nbsp;variables<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">a20</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a1&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a2&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a3&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3&nbsp;</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a4&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">4&nbsp;</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a5&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">5&nbsp;</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a6&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">6&nbsp;</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a7&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">7&nbsp;</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a8&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">8&nbsp;</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a9&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">9&nbsp;</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a10&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a11&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">11</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a12&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">12</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a13&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">13&nbsp;</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a14&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">14&nbsp;</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a15&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">15&nbsp;</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a16&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">16&nbsp;</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a17&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">17&nbsp;</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a18&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">18&nbsp;</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a19&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">19&nbsp;</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a20&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">20</span><span style="color: #007700">;<br /><br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_globalsvsglobal" id="php_globalsvsglobal">$GLOBALS Or global</a></h2><p>[Since 0.9.2] - [ -P Php/GlobalsVsGlobal ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#$globals-or-global">Online docs</a> ]</p><p>Usually, PHP projects make a choice between the global keyword, and the $GLOBALS variable. Sometimes, the project has no recommendations. <br />
<br />
When your project use a vast majority of one of the convention, then the analyzer will report all remaining inconsistently cased constant. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">global&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$d</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$e</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$f</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$g</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$h</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$j</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$k</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$l</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$m</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;access&nbsp;is&nbsp;inconsistent&nbsp;with&nbsp;the&nbsp;previous&nbsp;usage<br /></span><span style="color: #0000BB">$GLOBALS</span><span style="color: #007700">[</span><span style="color: #DD0000">'a'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_wrongname" id="classes_wrongname">Illegal Name For Method</a></h2><p>[Since 0.9.2] - [ -P Classes/WrongName ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#illegal-name-for-method">Online docs</a> ]</p><p>PHP has reserved usage of methods starting with  <span style="border: 1px solid #ddd; background-color: #f5f5f5">__</span>  for magic methods. It is recommended to avoid using this prefix, to prevent confusions.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Constructor<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&nbsp;{}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Constructor's&nbsp;typo<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">__constructor</span><span style="color: #007700">()&nbsp;{}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Illegal&nbsp;function&nbsp;name,&nbsp;even&nbsp;as&nbsp;private<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">private&nbsp;function&nbsp;</span><span style="color: #0000BB">__bar</span><span style="color: #007700">()&nbsp;{}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.magic.php" alt="Magic Methods">Magic Methods</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_unsetorcast" id="php_unsetorcast">Unset() Or (unset)</a></h2><p>[Since 0.9.3] - [ -P Php/UnsetOrCast ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unset---or--unset-">Online docs</a> ]</p><p>Unset() and (unset) have the same functional use. <br />
<br />
The analyzed code has less than 10% of one of them : for consistency reasons, it is recommended to make them all the same. <br />
<br />
It happens that <a href="https://www.php.net/unset" alt="unset()">unset()</a> or (unset) are used depending on coding style and files. One file may be consistently using <a href="https://www.php.net/unset" alt="unset()">unset()</a>, while the others are all using (unset). <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;be&nbsp;consistent<br /></span><span style="color: #007700">(unset)&nbsp;</span><span style="color: #0000BB">$a1</span><span style="color: #007700">;<br />(unset)&nbsp;</span><span style="color: #0000BB">$a2</span><span style="color: #007700">;<br />(unset)&nbsp;</span><span style="color: #0000BB">$a3</span><span style="color: #007700">;<br />(unset)&nbsp;</span><span style="color: #0000BB">$a4</span><span style="color: #007700">;<br />(unset)&nbsp;</span><span style="color: #0000BB">$a5</span><span style="color: #007700">;<br />(unset)&nbsp;</span><span style="color: #0000BB">$a6</span><span style="color: #007700">;<br />(unset)&nbsp;</span><span style="color: #0000BB">$a7</span><span style="color: #007700">;<br />(unset)&nbsp;</span><span style="color: #0000BB">$a8</span><span style="color: #007700">;<br />(unset)&nbsp;</span><span style="color: #0000BB">$a9</span><span style="color: #007700">;<br />(unset)&nbsp;</span><span style="color: #0000BB">$a10</span><span style="color: #007700">;<br />(unset)&nbsp;</span><span style="color: #0000BB">$a11</span><span style="color: #007700">;<br />(unset)&nbsp;</span><span style="color: #0000BB">$a12</span><span style="color: #007700">;<br /><br />unset(</span><span style="color: #0000BB">$b</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_closetagsconsistency" id="php_closetagsconsistency">Close Tags Consistency</a></h2><p>[Since 0.9.3] - [ -P Php/CloseTagsConsistency ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#close-tags-consistency">Online docs</a> ]</p><p>PHP scripts may omit the final closing tag. <br />
<br />
This is a convention, used to avoid the infamous 'headers already sent' error message, that appears when a script with extra invisible spaces is included before actually emitting the headers.<br />
<br />
The PHP manual recommends : If a file is pure PHP code, it is preferable to omit the PHP closing tag at the end of the file.. (See <a href="http://php.net/manual/en/language.basic-syntax.phptags.php" alt="PHP Tags">PHP Tags</a>)<br />
<br />
<?literal<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br /><br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extstring" id="extensions_extstring">String</a></h2><p>[Since 0.9.4] - [ -P Extensions/Extstring ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#string">Online docs</a> ]</p><p>Strings in PHP. Strings are part of the core of PHP, and are not a separate extension.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$str&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">Mary&nbsp;Had&nbsp;A&nbsp;Little&nbsp;Lamb&nbsp;</span><span style="color: #007700">and&nbsp;</span><span style="color: #0000BB">She&nbsp;LOVED&nbsp;It&nbsp;So</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$str&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">strtolower</span><span style="color: #007700">(</span><span style="color: #0000BB">$str</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #0000BB">$str</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;Prints&nbsp;mary&nbsp;had&nbsp;a&nbsp;little&nbsp;lamb&nbsp;and&nbsp;she&nbsp;loved&nbsp;it&nbsp;so<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/ref.strings.php" alt="String functions">String functions</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_finalbyocramius" id="classes_finalbyocramius">Class Should Be Final By Ocramius</a></h2><p>[Since 0.9.4] - [ -P Classes/FinalByOcramius ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#class-should-be-final-by-ocramius">Online docs</a> ]</p><p>'Make your classes always final, if they implement an interface, and no other public methods are defined'.<br />
<br />
When a class should be final, as explained by  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Ocramius</span>  ( <span style="border: 1px solid #ddd; background-color: #f5f5f5">Marco Pivetta</span> ).<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">interface&nbsp;</span><span style="color: #0000BB">i1&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">i1</span><span style="color: #007700">()&nbsp;;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Class&nbsp;should&nbsp;final,&nbsp;as&nbsp;its&nbsp;public&nbsp;methods&nbsp;are&nbsp;in&nbsp;an&nbsp;interface<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">finalClass&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">i1&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;public&nbsp;interface&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">i1&nbsp;</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;private&nbsp;method<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">private&nbsp;function&nbsp;</span><span style="color: #0000BB">a1&nbsp;</span><span style="color: #007700">()&nbsp;{}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://ocramius.github.io/blog/when-to-declare-classes-final/" alt="When to declare classes final">When to declare classes final</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extmhash" id="extensions_extmhash">ext/mhash</a></h2><p>[Since 0.9.4] - [ -P Extensions/Extmhash ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-mhash">Online docs</a> ]</p><p>Extension mhash (obsolete since PHP 5.3.0).<br />
<br />
This extension provides functions, intended to work with <a href="http://mhash.sourceforge.net/" alt="mhash">mhash</a>.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$input&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'what&nbsp;do&nbsp;ya&nbsp;want&nbsp;for&nbsp;nothing?'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$hash&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mhash</span><span style="color: #007700">(</span><span style="color: #0000BB">MHASH_MD5</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$input</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">'The&nbsp;hash&nbsp;is&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">bin2hex</span><span style="color: #007700">(</span><span style="color: #0000BB">$hash</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">'&lt;br&nbsp;/&gt;'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$hash&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mhash</span><span style="color: #007700">(</span><span style="color: #0000BB">MHASH_MD5</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$input</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Jefe'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">'The&nbsp;hmac&nbsp;is&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">bin2hex</span><span style="color: #007700">(</span><span style="color: #0000BB">$hash</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">'&lt;br&nbsp;/&gt;'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.mhash.php" alt="Extension mhash">Extension mhash</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extzbarcode" id="extensions_extzbarcode">ext/zbarcode</a></h2><p>[Since 0.9.5] - [ -P Extensions/Extzbarcode ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-zbarcode">Online docs</a> ] - [ PHP 7.0 and more recent ]</p><p>Extension Zbarcode. <br />
<br />
PHP extension for reading barcodes.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">/*&nbsp;Create&nbsp;new&nbsp;image&nbsp;object&nbsp;*/<br /></span><span style="color: #0000BB">$image&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ZBarCodeImage</span><span style="color: #007700">(</span><span style="color: #DD0000">'test.jpg'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Create&nbsp;a&nbsp;barcode&nbsp;scanner&nbsp;*/<br /></span><span style="color: #0000BB">$scanner&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ZBarCodeScanner</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">/*&nbsp;Scan&nbsp;the&nbsp;image&nbsp;*/<br /></span><span style="color: #0000BB">$barcode&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$scanner</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">scan</span><span style="color: #007700">(</span><span style="color: #0000BB">$image</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Loop&nbsp;through&nbsp;possible&nbsp;barcodes&nbsp;*/<br /></span><span style="color: #007700">if&nbsp;(!empty(</span><span style="color: #0000BB">$barcode</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #0000BB">$barcode&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$code</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">'Found&nbsp;type&nbsp;%s&nbsp;barcode&nbsp;with&nbsp;data&nbsp;%s\n'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$code</span><span style="color: #007700">[</span><span style="color: #DD0000">'type'</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">$code</span><span style="color: #007700">[</span><span style="color: #DD0000">'data'</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://github.com/mkoppanen/php-zbarcode" alt="php-zbarcode">php-zbarcode</a>. <br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extmongodb" id="extensions_extmongodb">ext/mongodb</a></h2><p>[Since 0.9.5] - [ -P Extensions/Extmongodb ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-mongodb">Online docs</a> ] - [ PHP 7.0 and more recent ]</p><p>Extension MongoDb.<br />
<br />
Do not mistake with extension Mongo, the previous version.<br />
<br />
Mongodb driver supports both PHP and HHVM and is developed atop the <a href="https://github.com/mongodb/mongo-c-driver" alt="libmongoc">libmongoc</a> and <a href="https://github.com/mongodb/libbson" alt="libbson">libbson</a> libraries. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">require&nbsp;</span><span style="color: #DD0000">'vendor/autoload.php'</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;include&nbsp;Composer's&nbsp;autoloader<br /><br /></span><span style="color: #0000BB">$client&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MongoDB</span><span style="color: #007700">\</span><span style="color: #0000BB">Client</span><span style="color: #007700">(</span><span style="color: #0000BB">mongodb</span><span style="color: #007700">:</span><span style="color: #FF8000">//localhost:27017);<br /></span><span style="color: #0000BB">$collection&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$client</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">demo</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">beers</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$collection</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">insertOne</span><span style="color: #007700">(&nbsp;[&nbsp;</span><span style="color: #DD0000">'name'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Hinterland'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'brewery'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'BrewDog'&nbsp;</span><span style="color: #007700">]&nbsp;);<br /><br />echo&nbsp;</span><span style="color: #0000BB">Inserted&nbsp;with&nbsp;Object&nbsp;ID&nbsp;</span><span style="color: #007700">{</span><span style="color: #0000BB">$result</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getInsertedId</span><span style="color: #007700">()};<br /></span>?&gt;</pre><br />
 <br />
See also <a href="http://php.net/manual/en/set.mongodb.php" alt="MongoDB driver">MongoDB driver</a>.</p>
<h2><a href="issues.html#analyzer=php_shouldusefunction" id="php_shouldusefunction">Should Use Function</a></h2><p>[Since 0.9.5] - [ -P Php/ShouldUseFunction ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#should-use-function">Online docs</a> ]</p><p>Functioncalls that fall back to global scope should be using 'use function' or be fully namespaced. <br />
<br />
PHP searches for functions in the local namespaces, and in case it fails, makes the same search in the global scope. Anytime a native function is referenced this way, the search (and fail) happens. This slows down the scripts.<br />
<br />
The speed bump range from 2 to 8 %, depending on the availability of functions in the local scope. The overall bump is about 1 s per functioncall, which makes it a micro optimisation until a lot of function calls are made.<br />
<br />
Based on one of <a href="https://twitter.com/Ocramius/status/811504929357660160" alt="Marco Pivetta tweet">Marco Pivetta tweet</a>.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">X&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;function&nbsp;</span><span style="color: #0000BB">strtolower&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">strtolower_aliased</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;PHP&nbsp;searches&nbsp;for&nbsp;strtolower&nbsp;in&nbsp;X,&nbsp;fails,&nbsp;then&nbsp;falls&nbsp;back&nbsp;to&nbsp;global&nbsp;scope,&nbsp;succeeds.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">strtolower</span><span style="color: #007700">(</span><span style="color: #0000BB">$b</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;PHP&nbsp;searches&nbsp;for&nbsp;strtolower&nbsp;in&nbsp;global&nbsp;scope,&nbsp;succeeds.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;\</span><span style="color: #0000BB">strtolower</span><span style="color: #007700">(</span><span style="color: #0000BB">$b</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;PHP&nbsp;searches&nbsp;for&nbsp;strtolower_aliased&nbsp;in&nbsp;global&nbsp;scope,&nbsp;succeeds.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;\</span><span style="color: #0000BB">strtolower_aliased</span><span style="color: #007700">(</span><span style="color: #0000BB">$b</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
This analysis is a related to Performances/Php74ArrayKeyExists, and is a more general version. <br />
<br />
See also <a href="http://veewee.github.io/blog/optimizing-php-performance-by-fq-function-calls/" alt="blog post">blog post</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_oneexpressionbracketsconsistency" id="structures_oneexpressionbracketsconsistency">One Expression Brackets Consistency</a></h2><p>[Since 0.9.5] - [ -P Structures/OneExpressionBracketsConsistency ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#one-expression-brackets-consistency">Online docs</a> ]</p><p>Brackets around one-line expressions are not consistent. <br />
<br />
PHP makes bracket optional when a control structure pilot only one expression. Both are semantically identical.<br />
<br />
This analysis reports code that uses brackets while the vast majority of other expressions uses none. Or the contrary. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;One&nbsp;expression&nbsp;with&nbsp;brackets<br /></span><span style="color: #007700">for(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)&nbsp;{&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">++;&nbsp;}<br /><br /></span><span style="color: #FF8000">//&nbsp;One&nbsp;expression&nbsp;without&nbsp;bracket<br /></span><span style="color: #007700">for(</span><span style="color: #0000BB">$i2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i2&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i2</span><span style="color: #007700">++)&nbsp;&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">++;<br /></span>?&gt;</pre><br />
<br />
Another analysis, [Structures/Bracketless], reports the absence of brackets as an error. <br />
</p>
<h2><a href="issues.html#analyzer=performances_fetchonerowformat" id="performances_fetchonerowformat">Fetch One Row Format</a></h2><p>[Since 0.9.6] - [ -P Performances/FetchOneRowFormat ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#fetch-one-row-format">Online docs</a> ]</p><p>When reading results with ext/Sqlite3, it is recommended to explicitly request SQLITE3_NUM or SQLITE3_ASSOC, while avoiding the default value and SQLITE3_BOTH.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$res&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$database</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">query</span><span style="color: #007700">(</span><span style="color: #0000BB">$query</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Fastest&nbsp;version,&nbsp;but&nbsp;less&nbsp;readable<br /></span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$res</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fetchArray</span><span style="color: #007700">(\</span><span style="color: #0000BB">SQLITE3_NUM</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;Almost&nbsp;the&nbsp;fastest&nbsp;version,&nbsp;and&nbsp;more&nbsp;readable<br /></span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$res</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fetchArray</span><span style="color: #007700">(\</span><span style="color: #0000BB">SQLITE3_ASSOC</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Default&nbsp;version.&nbsp;Quite&nbsp;slow<br /></span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$res</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fetchArray</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;Worse&nbsp;case<br /></span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$res</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fetchArray</span><span style="color: #007700">(\</span><span style="color: #0000BB">SQLITE3_BOTH</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
This is a micro-optimisation. The difference may be visible with 200k rows fetches, and measurable with 10k.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_nostringwithappend" id="php_nostringwithappend">No String With Append</a></h2><p>[Since 0.8.4] - [ -P Php/NoStringWithAppend ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-string-with-append">Online docs</a> ] - [ PHP 7.0 and more recent ]</p><p>PHP 7 doesn't allow the usage of [] with strings. [] is an array-only operator.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'abc'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Not&nbsp;possible&nbsp;in&nbsp;PHP&nbsp;7<br /></span><span style="color: #0000BB">$string</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #DD0000">'d'</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
This was possible in PHP 5, but is now forbidden in PHP 7.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=performances_noglob" id="performances_noglob">Avoid glob() Usage</a></h2><p>[Since 0.9.6] - [ -P Performances/NoGlob ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#avoid-glob---usage">Online docs</a> ]</p><p><a href="https://www.php.net/glob" alt="glob()">glob()</a> and <a href="https://www.php.net/scandir" alt="scandir()">scandir()</a> sorts results by default. When that kind of sorting is not needed, save some time by requesting  <span style="border: 1px solid #ddd; background-color: #f5f5f5">NOSORT</span>  with those functions.<br />
<br />
Besides, whenever possible, use <a href="https://www.php.net/scandir" alt="scandir()">scandir()</a> instead of <a href="https://www.php.net/glob" alt="glob()">glob()</a>. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Scandir&nbsp;without&nbsp;sorting&nbsp;is&nbsp;the&nbsp;fastest.&nbsp;<br /></span><span style="color: #0000BB">scandir</span><span style="color: #007700">(</span><span style="color: #DD0000">'docs/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">SCANDIR_SORT_NONE</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Scandir&nbsp;sorts&nbsp;files&nbsp;by&nbsp;default.&nbsp;Same&nbsp;as&nbsp;above,&nbsp;but&nbsp;with&nbsp;sorting<br /></span><span style="color: #0000BB">scandir</span><span style="color: #007700">(</span><span style="color: #DD0000">'docs/'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;glob&nbsp;sorts&nbsp;files&nbsp;by&nbsp;default.&nbsp;Same&nbsp;as&nbsp;below,&nbsp;but&nbsp;no&nbsp;sorting<br /></span><span style="color: #0000BB">glob</span><span style="color: #007700">(</span><span style="color: #DD0000">'docs/*'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">GLOB_NOSORT</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;glob&nbsp;sorts&nbsp;files&nbsp;by&nbsp;default.&nbsp;This&nbsp;is&nbsp;the&nbsp;slowest&nbsp;version<br /></span><span style="color: #0000BB">glob</span><span style="color: #007700">(</span><span style="color: #DD0000">'docs/*'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
Using <a href="https://www.php.net/opendir" alt="opendir()">opendir()</a> and a while loop may be even faster. <br />
<br />
This analysis skips <a href="https://www.php.net/scandir" alt="scandir()">scandir()</a> and <a href="https://www.php.net/glob" alt="glob()">glob()</a> if they are expliciely configured with flags (aka, sorting is explicitly needed).<br />
<br />
<a href="https://www.php.net/glob" alt="glob()">glob()</a> accepts wildchar, such as  <span style="border: 1px solid #ddd; background-color: #f5f5f5">*</span> , that may not easily replaced with <a href="https://www.php.net/scandir" alt="scandir()">scandir()</a> or <a href="https://www.php.net/opendir" alt="opendir()">opendir()</a>.<br />
<br />
See also <a href="https://www.phparch.com/2010/04/putting-glob-to-the-test/" alt="Putting glob to the test">Putting glob to the test</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_noassignationinfunction" id="structures_noassignationinfunction">Avoid Large Array Assignation</a></h2><p>[Since 0.9.7] - [ -P Structures/NoAssignationInFunction ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#avoid-large-array-assignation">Online docs</a> ]</p><p>Avoid setting large arrays to local variables. This is done every time the function is called.<br />
<br />
There are different ways to avoid this : inject the array, build the array once. Using an constant or even a global variable is faster.<br />
<br />
The effect on small arrays (less than 10 elements) is not significant. Arrays with 10 elements or more are reported here. The effect is also more important on functions that are called often, or within loops.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;with&nbsp;constants,&nbsp;for&nbsp;functions<br /></span><span style="color: #007700">const&nbsp;ARRAY&nbsp;=&nbsp;array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">,</span><span style="color: #0000BB">3</span><span style="color: #007700">,</span><span style="color: #0000BB">4</span><span style="color: #007700">,</span><span style="color: #0000BB">5</span><span style="color: #007700">,</span><span style="color: #0000BB">6</span><span style="color: #007700">,</span><span style="color: #0000BB">7</span><span style="color: #007700">,</span><span style="color: #0000BB">8</span><span style="color: #007700">,</span><span style="color: #0000BB">9</span><span style="color: #007700">,</span><span style="color: #0000BB">10</span><span style="color: #007700">,</span><span style="color: #0000BB">11</span><span style="color: #007700">);<br />function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;ARRAY;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//more&nbsp;code<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;with&nbsp;class&nbsp;constants,&nbsp;for&nbsp;methods&nbsp;<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;ARRAY&nbsp;=&nbsp;array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">,</span><span style="color: #0000BB">3</span><span style="color: #007700">,</span><span style="color: #0000BB">4</span><span style="color: #007700">,</span><span style="color: #0000BB">5</span><span style="color: #007700">,</span><span style="color: #0000BB">6</span><span style="color: #007700">,</span><span style="color: #0000BB">7</span><span style="color: #007700">,</span><span style="color: #0000BB">8</span><span style="color: #007700">,</span><span style="color: #0000BB">9</span><span style="color: #007700">,</span><span style="color: #0000BB">10</span><span style="color: #007700">,</span><span style="color: #0000BB">11</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::ARRAY;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//more&nbsp;code<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;with&nbsp;properties,&nbsp;for&nbsp;methods&nbsp;<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">,</span><span style="color: #0000BB">3</span><span style="color: #007700">,</span><span style="color: #0000BB">4</span><span style="color: #007700">,</span><span style="color: #0000BB">5</span><span style="color: #007700">,</span><span style="color: #0000BB">6</span><span style="color: #007700">,</span><span style="color: #0000BB">7</span><span style="color: #007700">,</span><span style="color: #0000BB">8</span><span style="color: #007700">,</span><span style="color: #0000BB">9</span><span style="color: #007700">,</span><span style="color: #0000BB">10</span><span style="color: #007700">,</span><span style="color: #0000BB">11</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">array</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//more&nbsp;code<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;injection,&nbsp;leveraging&nbsp;default&nbsp;values<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">,</span><span style="color: #0000BB">3</span><span style="color: #007700">,</span><span style="color: #0000BB">4</span><span style="color: #007700">,</span><span style="color: #0000BB">5</span><span style="color: #007700">,</span><span style="color: #0000BB">6</span><span style="color: #007700">,</span><span style="color: #0000BB">7</span><span style="color: #007700">,</span><span style="color: #0000BB">8</span><span style="color: #007700">,</span><span style="color: #0000BB">9</span><span style="color: #007700">,</span><span style="color: #0000BB">10</span><span style="color: #007700">,</span><span style="color: #0000BB">11</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//more&nbsp;code<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;local&nbsp;cache&nbsp;with&nbsp;static<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">,</span><span style="color: #0000BB">3</span><span style="color: #007700">,</span><span style="color: #0000BB">4</span><span style="color: #007700">,</span><span style="color: #0000BB">5</span><span style="color: #007700">,</span><span style="color: #0000BB">6</span><span style="color: #007700">,</span><span style="color: #0000BB">7</span><span style="color: #007700">,</span><span style="color: #0000BB">8</span><span style="color: #007700">,</span><span style="color: #0000BB">9</span><span style="color: #007700">,</span><span style="color: #0000BB">10</span><span style="color: #007700">,</span><span style="color: #0000BB">11</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//more&nbsp;code<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;Avoid&nbsp;creating&nbsp;the&nbsp;same&nbsp;array&nbsp;all&nbsp;the&nbsp;time&nbsp;in&nbsp;a&nbsp;function<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;assign&nbsp;to&nbsp;non&nbsp;local&nbsp;variable&nbsp;is&nbsp;OK.&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Here,&nbsp;to&nbsp;a&nbsp;property,&nbsp;though&nbsp;it&nbsp;may&nbsp;be&nbsp;better&nbsp;in&nbsp;a&nbsp;__construct&nbsp;or&nbsp;as&nbsp;default&nbsp;values<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">s&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">,</span><span style="color: #0000BB">3</span><span style="color: #007700">,</span><span style="color: #0000BB">4</span><span style="color: #007700">,</span><span style="color: #0000BB">5</span><span style="color: #007700">,</span><span style="color: #0000BB">6</span><span style="color: #007700">,</span><span style="color: #0000BB">7</span><span style="color: #007700">,</span><span style="color: #0000BB">8</span><span style="color: #007700">,</span><span style="color: #0000BB">9</span><span style="color: #007700">,</span><span style="color: #0000BB">10</span><span style="color: #007700">,</span><span style="color: #0000BB">11</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;wasting&nbsp;resources,&nbsp;as&nbsp;it&nbsp;is&nbsp;done&nbsp;each&nbsp;time.&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=classes_couldbeprotectedproperty" id="classes_couldbeprotectedproperty">Could Be Protected Property</a></h2><p>[Since 0.9.7] - [ -P Classes/CouldBeProtectedProperty ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#could-be-protected-property">Online docs</a> ]</p><p>Those properties are declared public, but are never used publicly. They may be made protected. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Public,&nbsp;and&nbsp;used&nbsp;publicly<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;</span><span style="color: #0000BB">$publicProperty</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Public,&nbsp;but&nbsp;never&nbsp;used&nbsp;outside&nbsp;the&nbsp;class&nbsp;or&nbsp;its&nbsp;children<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;</span><span style="color: #0000BB">$protectedProperty</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">protectedProperty&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Foo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$foo</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">publicProperty&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
This property may even be made private.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_longarguments" id="structures_longarguments">Long Arguments</a></h2><p>[Since 0.9.7] - [ -P Structures/LongArguments ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#long-arguments">Online docs</a> ]</p><p>Long arguments should be put in variable, to preserve readability. <br />
<br />
When literal arguments are too long, they break the hosting structure by moving the next argument too far on the right. Whenever possible, long arguments should be set in a local variable to keep the readability.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Now&nbsp;the&nbsp;call&nbsp;to&nbsp;foo()&nbsp;is&nbsp;easier&nbsp;to&nbsp;read.<br /></span><span style="color: #0000BB">$reallyBigNumber&nbsp;</span><span style="color: #007700">=&nbsp;&lt;&lt;&lt;BIGNUMBER<br /></span><span style="color: #DD0000">123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890<br /></span><span style="color: #007700">BIGNUMBER<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$reallyBigNumber</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'12345678901234567890123456789012345678901234567890'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;where&nbsp;are&nbsp;the&nbsp;next&nbsp;arguments&nbsp;?&nbsp;<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #DD0000">'123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'123456789012345678901234567890123456789012345678901234567890'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;still&nbsp;difficult&nbsp;to&nbsp;read<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(&lt;&lt;&lt;BIGNUMBER<br /></span><span style="color: #DD0000">123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890<br /></span><span style="color: #007700">BIGNUMBER<br />,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'123456789012345678901234567890123456789012345678901234567890'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
Literal strings and heredoc strings, including variables, that are over 50 chars longs are reported here. <br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_newonfunctioncalloridentifier" id="classes_newonfunctioncalloridentifier">New On Functioncall Or Identifier</a></h2><p>[Since 0.9.8] - [ -P Classes/NewOnFunctioncallOrIdentifier ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#new-on-functioncall-or-identifier">Online docs</a> ]</p><p>Object instantiation with new works with or without arguments. Both are valid in PHP. <br />
<br />
The analyzed code has less than 10% of one of the two forms : for consistency reasons, it is recommended to make them all the same. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">stdClass</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;Parenthesis&nbsp;are&nbsp;used&nbsp;when&nbsp;arguments&nbsp;are&nbsp;compulsory<br /></span><span style="color: #0000BB">$mysql&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MySQLI</span><span style="color: #007700">(</span><span style="color: #0000BB">$host</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$user</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$pass</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Parenthesis&nbsp;are&nbsp;omitted&nbsp;when&nbsp;no&nbsp;arguments&nbsp;are&nbsp;available<br />//&nbsp;That&nbsp;also&nbsp;makes&nbsp;the&nbsp;instantiation&nbsp;look&nbsp;different<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">stdClass</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=variables_assignedtwiceormore" id="variables_assignedtwiceormore">Assigned Twice</a></h2><p>[Since 0.9.8] - [ -P Variables/AssignedTwiceOrMore ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#assigned-twice">Online docs</a> ]</p><p>The same variable is assigned twice in the same function.<br />
<br />
While this is possible and quite common, it is also a good practice to avoid changing a value from one literal to another. It is far better to assign the new value to <br />
<br />
Incremental changes to a variables are not reported here.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;incremental&nbsp;changes&nbsp;of&nbsp;$a;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'a'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">uppercase</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">$b</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;B&nbsp;changed&nbsp;its&nbsp;purpose.&nbsp;Why&nbsp;not&nbsp;call&nbsp;it&nbsp;$d?&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">,</span><span style="color: #0000BB">3</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;some&nbsp;forgotten&nbsp;debug<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$e&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$config</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getSomeList</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$e&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'OneElement'</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_newlinestyle" id="structures_newlinestyle">New Line Style</a></h2><p>[Since 0.9.8] - [ -P Structures/NewLineStyle ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#new-line-style">Online docs</a> ]</p><p>New lines may be written with the sequence \n or with the constant PHP_EOL.<br />
<br />
When one of those alternatives is used over 90% of the time, it is considered as standard : the remaining are reported.<br />
<br />
\n are only located when used alone, in \n (including the double quotes). When \n is used inside a double-quoted string, its replacement with PHP_EOL would be cumbersome : as such, they are ignored by this analyzer.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;may&nbsp;be&nbsp;repeated&nbsp;over&nbsp;10&nbsp;times<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">PHP&nbsp;is&nbsp;a&nbsp;great&nbsp;language</span><span style="color: #007700">\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">.=&nbsp;\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;only&nbsp;appears&nbsp;once&nbsp;in&nbsp;the&nbsp;code&nbsp;:&nbsp;this&nbsp;line&nbsp;is&nbsp;reported.<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">.</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_php72deprecation" id="php_php72deprecation">PHP 7.2 Deprecations</a></h2><p>[Since 0.9.9] - [ -P Php/Php72Deprecation ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php-7.2-deprecations">Online docs</a> ] - [ PHP  older than 7.2]</p><p>Several functions are deprecated in PHP 7.2. <br />
<br />
<ul>
<li><a href="https://www.php.net/parse_str" alt="parse_str()">parse_str()</a> with no second argument</li>
<li><a href="https://www.php.net/assert" alt="assert()">assert()</a> on strings</li>
<li>Usage of gmp_random(), <a href="https://www.php.net/create_function" alt="create_function()">create_function()</a>, <a href="https://www.php.net/each" alt="each()">each()</a></li>
<li>Usage of (unset)</li>
<li>Usage of  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$php_errormsg</span> </li>
<li>directive  <span style="border: 1px solid #ddd; background-color: #f5f5f5">mbstring.func_overload</span>  (not supported yet)</li>
</ul>
<br />
Deprecated functions and extensions are reported in a separate analysis.<br />
<br />
See also <a href="https://wiki.php.net/rfc/deprecations_php_7_2" alt="Deprecations for PHP 7.2">Deprecations for PHP 7.2</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_php72removedfunctions" id="php_php72removedfunctions">PHP 7.2 Removed Functions</a></h2><p>[Since 0.9.9] - [ -P Php/Php72RemovedFunctions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php-7.2-removed-functions">Online docs</a> ] - [ PHP  older than 7.2]</p><p>The following PHP native functions were removed in PHP 7.2.<br />
<br />
<ul>
<li>png2wbmp()</li>
<li>jpeg2wbmp()</li>
<li><a href="https://www.php.net/create_function" alt="create_function()">create_function()</a></li>
<li>gmp_random()</li>
<li><a href="https://www.php.net/each" alt="each()">each()</a></li>
</ul>
<br />
This analysis skips redefined PHP functions : when a replacement for a removed PHP function was created, with condition on the PHP version, then its usage is considered valid.<br />
<br />
See also <a href="http://php.net/manual/en/migration72.deprecated.php" alt="Deprecated features in PHP 7.2.x">Deprecated features in PHP 7.2.x</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_errorlogusage" id="php_errorlogusage">Error_Log() Usage</a></h2><p>[Since 0.10.0] - [ -P Php/ErrorLogUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#error_log---usage">Online docs</a> ]</p><p>Usage of <a href="https://www.php.net/error_log" alt="error_log()">error_log()</a> function. This leads to checking the configuration of  <span style="border: 1px solid #ddd; background-color: #f5f5f5">error_log</span>  in the PHP configuration directives.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">error_log</span><span style="color: #007700">(</span><span style="color: #0000BB">logging&nbsp;message</span><span style="color: #007700">\</span><span style="color: #0000BB">n</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=classes_raisedaccesslevel" id="classes_raisedaccesslevel">Raised Access Level</a></h2><p>[Since 0.10.0] - [ -P Classes/RaisedAccessLevel ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#raised-access-level">Online docs</a> ]</p><p>A property's visibility may be lowered, but not raised.<br />
<br />
This error may be detected when the classes are all in the same file : then, PHP reports the problem. However, when the classes are separated in different files, as it is customary, PHP won't check this at linting time, yielding a fatal error at execution time. <br />
<br />
First file.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$publicProperty</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$protectedProperty</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$privateProperty</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
Second file.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Bar&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$publicProperty</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$protectedProperty</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$privateProperty</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;one&nbsp;is&nbsp;OK<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.visibility.php" alt="Visibility">Visibility</a> and <br />
         <a href="https://torquemag.io/2016/05/understanding-concept-visibility-object-oriented-php/" alt="Understanding the concept of visibility in object oriented php">Understanding the concept of visibility in object oriented php</a>.<br />
</p>
<h2><a href="issues.html#analyzer=functions_nobooleanasdefault" id="functions_nobooleanasdefault">No Boolean As Default</a></h2><p>[Since 0.10.0] - [ -P Functions/NoBooleanAsDefault ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-boolean-as-default">Online docs</a> ]</p><p>Default values should always be set up with a constant name.<br />
<br />
Class constants and constants improve readability when calling the methods or comparing values and statuses.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">CASE_INSENSITIVE&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br />const&nbsp;</span><span style="color: #0000BB">CASE_SENSITIVE&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">;<br /><br />function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$case_insensitive&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;doSomething()<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;Readable&nbsp;code&nbsp;<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">CASE_INSENSITIVE</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">CASE_SENSITIVE</span><span style="color: #007700">);<br /><br /><br /></span><span style="color: #FF8000">//&nbsp;unreadable&nbsp;code&nbsp;&nbsp;:&nbsp;is&nbsp;true&nbsp;case&nbsp;insensitive&nbsp;or&nbsp;case&nbsp;sensitive&nbsp;?&nbsp;<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">false</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.martinfowler.com/bliki/FlagArgument.html" alt="FlagArgument">FlagArgument</a> and <br />
         <a href="https://medium.com/@amlcurran/clean-code-the-curse-of-a-boolean-parameter-c237a830b7a3" alt="Clean code: The curse of a boolean parameter">Clean code: The curse of a boolean parameter</a>.<br />
</p>
<h2><a href="issues.html#analyzer=type_sql" id="type_sql">SQL queries</a></h2><p>[Since 0.10.1] - [ -P Type/Sql ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#sql-queries">Online docs</a> ]</p><p>SQL queries, detected in literal strings. <br />
<br />
SQL queries are detected with keywords, inside literals or concatenations. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;SQL&nbsp;in&nbsp;a&nbsp;string<br /></span><span style="color: #0000BB">$query&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'SELECT&nbsp;name&nbsp;FROM&nbsp;users&nbsp;WHERE&nbsp;id&nbsp;=&nbsp;1'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;SQL&nbsp;in&nbsp;a&nbsp;concatenation<br /></span><span style="color: #0000BB">$query&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'SELECT&nbsp;name&nbsp;FROM&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$table_users</span><span style="color: #007700">.</span><span style="color: #DD0000">'&nbsp;WHERE&nbsp;id&nbsp;=&nbsp;1'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;SQL&nbsp;in&nbsp;a&nbsp;Heredoc<br /></span><span style="color: #0000BB">$query&nbsp;</span><span style="color: #007700">=&nbsp;&lt;&lt;&lt;SQL<br /></span><span style="color: #DD0000">SELECT&nbsp;name&nbsp;FROM&nbsp;</span><span style="color: #0000BB">$table_users</span><span style="color: #DD0000">&nbsp;WHERE&nbsp;id&nbsp;=&nbsp;1<br /></span><span style="color: #007700">SQL;<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extlibsodium" id="extensions_extlibsodium">ext/libsodium</a></h2><p>[Since 0.10.2] - [ -P Extensions/Extlibsodium ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-libsodium">Online docs</a> ]</p><p>Extension for libsodium : in PECL until PHP 7.2, and in core ever since. <br />
<br />
The Sodium crypto library (libsodium) is a modern, easy-to-use software library for encryption, decryption, signatures, password hashing and more.<br />
<br />
Sodium supports a variety of compilers and operating systems, including Windows (with MinGW or Visual Studio, x86 and x64), iOS and Android.<br />
<br />
The design choices emphasize security, and "magic constants" have clear rationales.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Example&nbsp;from&nbsp;the&nbsp;docs&nbsp;:&nbsp;https://paragonie.com/book/pecl-libsodium/read/06-hashing.md#crypto-generichash<br /><br />//&nbsp;Fast,&nbsp;unkeyed&nbsp;hash&nbsp;function.<br />//&nbsp;Can&nbsp;be&nbsp;used&nbsp;as&nbsp;a&nbsp;secure&nbsp;replacement&nbsp;for&nbsp;MD5<br /></span><span style="color: #0000BB">$h&nbsp;</span><span style="color: #007700">=&nbsp;\</span><span style="color: #0000BB">Sodium</span><span style="color: #007700">\</span><span style="color: #0000BB">crypto_generichash</span><span style="color: #007700">(</span><span style="color: #DD0000">'msg'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Fast,&nbsp;keyed&nbsp;hash&nbsp;function.<br />//&nbsp;The&nbsp;key&nbsp;can&nbsp;be&nbsp;of&nbsp;any&nbsp;length&nbsp;between&nbsp;\Sodium\CRYPTO_GENERICHASH_KEYBYTES_MIN<br />//&nbsp;and&nbsp;\Sodium\CRYPTO_GENERICHASH_KEYBYTES_MAX,&nbsp;in&nbsp;bytes.<br />//&nbsp;\Sodium\CRYPTO_GENERICHASH_KEYBYTES&nbsp;is&nbsp;the&nbsp;recommended&nbsp;length.<br /></span><span style="color: #0000BB">$h&nbsp;</span><span style="color: #007700">=&nbsp;\</span><span style="color: #0000BB">Sodium</span><span style="color: #007700">\</span><span style="color: #0000BB">crypto_generichash</span><span style="color: #007700">(</span><span style="color: #DD0000">'msg'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$key</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Fast,&nbsp;keyed&nbsp;hash&nbsp;function,&nbsp;with&nbsp;user-chosen&nbsp;output&nbsp;length,&nbsp;in&nbsp;bytes.<br />//&nbsp;Output&nbsp;length&nbsp;can&nbsp;be&nbsp;between&nbsp;\Sodium\CRYPTO_GENERICHASH_BYTES_MIN&nbsp;and<br />//&nbsp;\Sodium\CRYPTO_GENERICHASH_BYTES_MAX.<br />//&nbsp;\Sodium\CRYPTO_GENERICHASH_BYTES&nbsp;is&nbsp;the&nbsp;default&nbsp;length.<br /></span><span style="color: #0000BB">$h&nbsp;</span><span style="color: #007700">=&nbsp;\</span><span style="color: #0000BB">Sodium</span><span style="color: #007700">\</span><span style="color: #0000BB">crypto_generichash</span><span style="color: #007700">(</span><span style="color: #DD0000">'msg'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$key</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">64</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://github.com/jedisct1/libsodium-php" alt="PHP extension for libsodium">PHP extension for libsodium</a> and <br />
         <a href="https://paragonie.com/book/pecl-libsodium/read/00-intro.md" alt="Using Libsodium in PHP Projects">Using Libsodium in PHP Projects</a>.<br />
</p>
<h2><a href="issues.html#analyzer=exceptions_forgottenthrown" id="exceptions_forgottenthrown">Forgotten Thrown</a></h2><p>[Since 0.10.2] - [ -P Exceptions/ForgottenThrown ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#forgotten-thrown">Online docs</a> ]</p><p>An exception is instantiated, but not thrown. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">MyException&nbsp;</span><span style="color: #007700">extends&nbsp;\</span><span style="color: #0000BB">Exception&nbsp;</span><span style="color: #007700">{&nbsp;}<br /><br />if&nbsp;(</span><span style="color: #0000BB">$error&nbsp;</span><span style="color: #007700">!==&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;looks&nbsp;like&nbsp;'throw'&nbsp;was&nbsp;omitted<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">new&nbsp;</span><span style="color: #0000BB">MyException</span><span style="color: #007700">();<br />}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=php_shouldusearraycolumn" id="php_shouldusearraycolumn">Should Use array_column()</a></h2><p>[Since 0.10.2] - [ -P Php/ShouldUseArrayColumn ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#should-use-array_column--">Online docs</a> ]</p><p>Avoid writing a whole slow loop, and use the native <a href="https://www.php.net/array_column" alt="array_column()">array_column()</a>.<br />
<br />
<a href="https://www.php.net/array_column" alt="array_column()">array_column()</a> is a native PHP function, that extract a property or a index from a array of object, or a multidimensional array. This prevents the usage of foreach to collect those values.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;array(array(</span><span style="color: #DD0000">'b'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">),&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(</span><span style="color: #DD0000">'b'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'c'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">),&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'c'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">));&nbsp;</span><span style="color: #FF8000">//&nbsp;b&nbsp;doesn't&nbsp;always&nbsp;exists<br /><br /></span><span style="color: #0000BB">$bColumn&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_column</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Slow&nbsp;and&nbsp;cumbersome&nbsp;code<br /></span><span style="color: #0000BB">$bColumn&nbsp;</span><span style="color: #007700">=&nbsp;array();<br />foreach(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$k&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$v</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(isset(</span><span style="color: #0000BB">$v</span><span style="color: #007700">[</span><span style="color: #DD0000">'b'</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$bColumn</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">$v</span><span style="color: #007700">[</span><span style="color: #DD0000">'b'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
<a href="https://www.php.net/array_column" alt="array_column()">array_column()</a> is faster than for<a href="https://www.php.net/each" alt="each()">each()</a> (with or without the isset() test) with 3 elements or more, and it is significantly faster beyond 5 elements. Memory consumption is the same.<br />
<br />
See also <a href="https://www.php.net/array_column" alt="[blog] `array_column()">[blog] `array_column()</a> <https://benramsey.com/projects/array-column/>`_.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=namespaces_multiplealiasdefinitionperfile" id="namespaces_multiplealiasdefinitionperfile">Multiple Alias Definitions Per File</a></h2><p>[Since 0.10.3] - [ -P Namespaces/MultipleAliasDefinitionPerFile ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#multiple-alias-definitions-per-file">Online docs</a> ]</p><p>Avoid aliasing the same name with different aliases. This leads to confusion.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;first&nbsp;occurrence<br /></span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">name</span><span style="color: #007700">\</span><span style="color: #0000BB">space</span><span style="color: #007700">\</span><span style="color: #0000BB">ClasseName</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;when&nbsp;this&nbsp;happens,&nbsp;several&nbsp;other&nbsp;uses&nbsp;are&nbsp;mentionned<br /><br />//&nbsp;name\space\ClasseName&nbsp;has&nbsp;now&nbsp;two&nbsp;names<br /></span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">name</span><span style="color: #007700">\</span><span style="color: #0000BB">space</span><span style="color: #007700">\</span><span style="color: #0000BB">ClasseName&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">anotherName</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also Namespaces/MultipleAliasDefinition.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_dirthenslash" id="structures_dirthenslash">__DIR__ Then Slash</a></h2><p>[Since 0.10.3] - [ -P Structures/DirThenSlash ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#__dir__-then-slash">Online docs</a> ]</p><p>__DIR__ must be concatenated with a string starting with /.<br />
<br />
The magic constant __DIR__ holds the name of the current directory, without final /. When it is used to build path, then the following path fragment must start with /. Otherwise, two directories names will be merged together. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;__DIR__&nbsp;=&nbsp;/a/b/c<br />//&nbsp;$filePath&nbsp;=&nbsp;/a/b/c/g.php<br /><br />//&nbsp;/a/b/c/d/e/f.txt&nbsp;:&nbsp;correct&nbsp;path<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">__DIR__</span><span style="color: #007700">.</span><span style="color: #DD0000">'/d/e/f.txt'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">$filePath</span><span style="color: #007700">).</span><span style="color: #DD0000">'/d/e/f.txt'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;/a/b/cd/e/f.txt&nbsp;:&nbsp;most&nbsp;probably&nbsp;incorrect&nbsp;path<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">__DIR__</span><span style="color: #007700">.</span><span style="color: #DD0000">'d/e/f.txt'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">$filePath</span><span style="color: #007700">).</span><span style="color: #DD0000">'d/e/f.txt'</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_nopssoutsideclass" id="classes_nopssoutsideclass">self, parent, static Outside Class</a></h2><p>[Since 0.10.3] - [ -P Classes/NoPSSOutsideClass ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#self,-parent,-static-outside-class">Online docs</a> ]</p><p>self, parent and static should be called inside a class or trait. PHP lint won't report those situations. <br />
<br />
self, parent and static may be used in a trait : their actual value will be only known at execution time, when the trait is used.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;In&nbsp;the&nbsp;examples,&nbsp;self,&nbsp;parent&nbsp;and&nbsp;static&nbsp;may&nbsp;be&nbsp;used&nbsp;interchangeably<br /><br />//&nbsp;This&nbsp;raises&nbsp;a&nbsp;Fatal&nbsp;error<br />//Fatal&nbsp;error:&nbsp;Uncaught&nbsp;Error:&nbsp;Cannot&nbsp;access&nbsp;static::&nbsp;when&nbsp;no&nbsp;class&nbsp;scope&nbsp;is&nbsp;active<br /></span><span style="color: #007700">new&nbsp;static();<br /><br /></span><span style="color: #FF8000">//&nbsp;static&nbsp;calls<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">CONSTANTE</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$property</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">method</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;as&nbsp;a&nbsp;type&nbsp;hint<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(static&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;as&nbsp;a&nbsp;instanceof<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">instanceof&nbsp;static)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}<br /></span>?&gt;</pre><br />
<br />
Such syntax problem is only revealed at execution time : PHP raises a Fatal error. <br />
<br />
The origin of the problem is usually a method that was moved outside a class, at least temporarily.<br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.paamayim-nekudotayim.php" alt="Scope Resolution Operator (::)">Scope Resolution Operator (::)</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_usedonceproperty" id="classes_usedonceproperty">Used Once Property</a></h2><p>[Since 0.10.3] - [ -P Classes/UsedOnceProperty ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#used-once-property">Online docs</a> ]</p><p>Property used once in their defining class. <br />
<br />
Properties used in one method only may be used several times, and read only. This may be a class constant. Such properties are meant to be overwritten by an extending class, and that's possible with class constants. <br />
<br />
Setting properties with default values is a good way to avoid littering the code with literal values, and provide a single point of update (by extension, or by hardcoding) for all those situations. A constant is definitely better suited for this task.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$defaultCols&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'*'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">cont&nbsp;DEFAULT_COLUMNS&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'*'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$this-&gt;defaultCols&nbsp;holds&nbsp;a&nbsp;default&nbsp;value.&nbsp;Should&nbsp;be&nbsp;a&nbsp;constant.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">$table</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$cols</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;necessary&nbsp;to&nbsp;activate&nbsp;usage&nbsp;of&nbsp;default&nbsp;values<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(empty(</span><span style="color: #0000BB">$cols</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$cols&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">defaultCols</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$res&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">query</span><span style="color: #007700">(</span><span style="color: #DD0000">'SELECT&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$cols</span><span style="color: #007700">.</span><span style="color: #DD0000">'&nbsp;FROM&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$table</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;....<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Upgraded&nbsp;version&nbsp;of&nbsp;bar,&nbsp;with&nbsp;default&nbsp;values<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">bar2</span><span style="color: #007700">(</span><span style="color: #0000BB">$table</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$cols&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">DEFAULT_COLUMNS</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$res&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">query</span><span style="color: #007700">(</span><span style="color: #DD0000">'SELECT&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$cols</span><span style="color: #007700">.</span><span style="color: #DD0000">'&nbsp;FROM&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$table</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;.....<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=classes_propertyusedinonemethodonly" id="classes_propertyusedinonemethodonly">Property Used In One Method Only</a></h2><p>[Since 0.10.3] - [ -P Classes/PropertyUsedInOneMethodOnly ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#property-used-in-one-method-only">Online docs</a> ]</p><p>Properties should be used in several methods. When a property is used in only one method, this should have be of another shape. <br />
<br />
Properties used in one method only may be used several times, and read only. This may be a class constant. Such properties are meant to be overwritten by an extending class, and that's possible with class constants.<br />
<br />
Properties that read and written may be converted into a variable, static to the method. This way, they are kept close to the method, and do not pollute the object's properties.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$once&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">ONCE&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$counter&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$this-&gt;once&nbsp;is&nbsp;never&nbsp;used&nbsp;anywhere&nbsp;else.&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">someFunction</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">once</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">someFunction</span><span style="color: #007700">(</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">ONCE</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Make&nbsp;clear&nbsp;that&nbsp;it&nbsp;is&nbsp;a&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">bar2</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;</span><span style="color: #0000BB">$localCounter&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">counter</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$this-&gt;once&nbsp;is&nbsp;only&nbsp;used&nbsp;here,&nbsp;for&nbsp;distinguising&nbsp;calls&nbsp;to&nbsp;someFunction2<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">counter&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">)&nbsp;{&nbsp;</span><span style="color: #FF8000">//&nbsp;$this-&gt;counter&nbsp;is&nbsp;used&nbsp;only&nbsp;in&nbsp;bar2,&nbsp;but&nbsp;it&nbsp;may&nbsp;be&nbsp;used&nbsp;several&nbsp;times<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">someFunction2</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">counter</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$localCounter&nbsp;keeps&nbsp;track&nbsp;for&nbsp;all&nbsp;the&nbsp;calls<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$localCounter&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">)&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">someFunction2</span><span style="color: #007700">(</span><span style="color: #0000BB">$localCounter</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
Note : properties used only once are not returned by this analysis. They are omitted, and are available in the analysis `Used Once Property`_.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extds" id="extensions_extds">ext/ds</a></h2><p>[Since 0.10.4] - [ -P Extensions/Extds ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-ds">Online docs</a> ]</p><p>Extension Data Structures : <a href="http://docs.php.net/manual/en/book.ds.php" alt="Data structures">Data structures</a>.<br />
<br />
See also : <a href="https://medium.com/@rtheunissen/efficient-data-structures-for-php-7-9dda7af674cd#.x69w9j6ui" alt="Efficient data structures for PHP 7">Efficient data structures for PHP 7</a>.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$vector&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;\</span><span style="color: #0000BB">Ds</span><span style="color: #007700">\</span><span style="color: #0000BB">Vector</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">$vector</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">push</span><span style="color: #007700">(</span><span style="color: #DD0000">'a'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$vector</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">push</span><span style="color: #007700">(</span><span style="color: #DD0000">'b'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'c'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$vector</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #DD0000">'d'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$vector</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_noneedforelse" id="structures_noneedforelse">No Need For Else</a></h2><p>[Since 0.10.4] - [ -P Structures/NoNeedForElse ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-need-for-else">Online docs</a> ]</p><p>Else is not needed when the Then ends with a break. A break may be the following keywords : break, continue, return, goto. Any of these send the execution somewhere in the code. The else block is then executed as the main sequence, only if the condition fails.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Else&nbsp;may&nbsp;be&nbsp;in&nbsp;the&nbsp;main&nbsp;sequence.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$a1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Same&nbsp;as&nbsp;above,&nbsp;but&nbsp;negate&nbsp;the&nbsp;condition&nbsp;:&nbsp;if&nbsp;(!$a2)&nbsp;{&nbsp;return&nbsp;$a2;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a2</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$a2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;OK<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a3</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;has&nbsp;no&nbsp;break<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a4</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;has&nbsp;no&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a5</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://williamdurand.fr/2013/06/03/object-calisthenics/" alt="Object Calisthenics, rule # 2">Object Calisthenics, rule # 2</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=security_shouldusesessionregenerateid" id="security_shouldusesessionregenerateid">Should Use session_regenerateid()</a></h2><p>[Since 0.10.4] - [ -P Security/ShouldUseSessionRegenerateId ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#should-use-session_regenerateid--">Online docs</a> ]</p><p>session_regenerateid() should be used when sessions are used.<br />
<br />
When using sessions, a session ID is assigned to the user. It is a random number, used to connect the user and its data on the server. Actually, anyone with the session ID may have access to the data. This is why those session ID are so long and complex.<br />
<br />
A good approach to protect the session ID is to reduce its lifespan : the shorter the time of use, the better. While changing the session ID at every hit on the page may no be possible, a more reasonable approach is to change the session id when an important action is about to take place. What important means is left to the application to decide.<br />
<br />
Based on this philosophy, a code source that uses Zend\Session but never uses Zend\Session::regenerateId() has to be updated.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">session_start</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$id&nbsp;</span><span style="color: #007700">=&nbsp;(int)&nbsp;</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'id'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;no&nbsp;usage&nbsp;of&nbsp;session_regenerateid()&nbsp;anywhere&nbsp;triggers&nbsp;the&nbsp;analysis<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;basic&nbsp;regeneration&nbsp;every&nbsp;20&nbsp;hits&nbsp;on&nbsp;the&nbsp;page.&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(++</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'count'</span><span style="color: #007700">]&nbsp;&gt;&nbsp;</span><span style="color: #0000BB">20</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">session_regenerateid</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /></span>?&gt;</pre><br />
<br />
See <a href="http://php.net/session_regenerate_id" alt="session_regenerateid()">session_regenerateid()</a> and <a href="http://phpsec.org/projects/guide/4.html" alt="PHP Security Guide: Sessions">PHP Security Guide: Sessions</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=variables_strangename" id="variables_strangename">Strange Name For Variables</a></h2><p>[Since 0.10.5] - [ -P Variables/StrangeName ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#strange-name-for-variables">Online docs</a> ]</p><p>Variables with strange names. They might be a typo, or bear strange patterns.<br />
<br />
Any variable with three identical letter in a row are considered as strange. 2 letters in a row is classic, and while three letters may happen, it is rare enough. <br />
<br />
A list of classic typo is also used to find such variables.<br />
<br />
This analysis is case-sensitive.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Strange&nbsp;name&nbsp;$tihs<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">$tihs</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">barbar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;variables&nbsp;with&nbsp;blocks&nbsp;of&nbsp;3&nbsp;times&nbsp;the&nbsp;same&nbsp;character&nbsp;are&nbsp;reported<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Based&nbsp;on&nbsp;Alexandre&nbsp;Joly's&nbsp;tweet<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$aaa&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$bab&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$www</span><span style="color: #007700">;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://twitter.com/bsmt_nevers/status/949238391769653249" alt="#QuandLeDevALaFleme">#QuandLeDevALaFleme</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=constants_strangename" id="constants_strangename">Strange Name For Constants</a></h2><p>[Since 0.10.5] - [ -P Constants/StrangeName ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#strange-name-for-constants">Online docs</a> ]</p><p>Those constants looks like a typo from other names.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;code&nbsp;looks&nbsp;OK&nbsp;:&nbsp;DIRECTORY_SEPARATOR&nbsp;is&nbsp;a&nbsp;native&nbsp;PHP&nbsp;constant<br /></span><span style="color: #0000BB">$path&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$path&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">DIRECTORY_SEPARATOR&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$file</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Strange&nbsp;name&nbsp;DIRECOTRY_SEPARATOR<br /></span><span style="color: #0000BB">$path&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$path&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">DIRECOTRY_SEPARATOR&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$file</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_regexdelimiter" id="structures_regexdelimiter">Regex Delimiter</a></h2><p>[Since 0.10.5] - [ -P Structures/RegexDelimiter ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#regex-delimiter">Online docs</a> ]</p><p>PCRE regular expressions may use a variety of delimiters. <br />
<br />
There seems to be a standard delimiter in the code, and some exceptions : one or several forms are dominant (> 90%), while the others are rare. <br />
<br />
The analyzed code has less than 10% of the rare delimiters. For consistency reasons, it is recommended to make them all the same. <br />
<br />
Generally, one or two delimiters are used, depending on the expected special chars in the scanned strings : for example, / tends to be avoided when parsing HTML.<br />
<br />
Regex are literals, or partial literals, used in preg_match(), preg_match_all(), <a href="https://www.php.net/preg_replace" alt="preg_replace()">preg_replace()</a>, <a href="https://www.php.net/preg_replace_callback" alt="preg_replace_callback()">preg_replace_callback()</a>, <a href="https://www.php.net/preg_replace_callback_array" alt="preg_replace_callback_array()">preg_replace_callback_array()</a>.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'a'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'c'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'d'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'e'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'f'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'g'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'h'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'i'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'j'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'k'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;should&nbsp;probably&nbsp;be&nbsp;written&nbsp;'echo';<br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #DD0000">'l'</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://codelegance.com/ideal-regex-delimiters-in-php/" alt="Ideal regex delimiters in PHP">Ideal regex delimiters in PHP</a>.<br />
</p>
<h2><a href="issues.html#analyzer=functions_couldbecallable" id="functions_couldbecallable">Could Be Typehinted Callable</a></h2><p>[Since 0.10.5] - [ -P Functions/CouldBeCallable ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#could-be-typehinted-callable">Online docs</a> ]</p><p>Those arguments may use the callable Typehint. <br />
<br />
'callable' is a PHP keyword that represents callback functions. Those may be used in dynamic function call, like $function(); or as callback functions, like with <a href="https://www.php.net/array_map" alt="array_map()">array_map()</a>;<br />
<br />
callable may be a string representing a function name or a static call (including ::), an array with two elements, (a class or object, and a method), or a closure.<br />
<br />
When arguments are used to call a function, but are not marked with 'callable', they are reported by this analysis.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(callable&nbsp;</span><span style="color: #0000BB">$callable</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;very&nbsp;simple&nbsp;callback<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">$callable</span><span style="color: #007700">();<br />}<br /><br />function&nbsp;</span><span style="color: #0000BB">foo2</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$callable</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;very&nbsp;simple&nbsp;callback<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">array_map</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$callable</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.types.callable.php" alt="Callback / callable">Callback / callable</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=security_encodedletters" id="security_encodedletters">Encoded Simple Letters</a></h2><p>[Since 0.10.5] - [ -P Security/EncodedLetters ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#encoded-simple-letters">Online docs</a> ]</p><p>Some simple letters are written in escape sequence. <br />
<br />
Usually, escape sequences are made to encode unusual characters. Using escape sequences for simple characters, like letters or numbers is suspicious.<br />
<br />
This analysis also detect unicode codepoint with superfluous leading zeros.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;escape&nbsp;sequence&nbsp;makes&nbsp;eval&nbsp;hard&nbsp;to&nbsp;spot<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ev</span><span style="color: #007700">\</span><span style="color: #0000BB">101l</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">(</span><span style="color: #DD0000">'php_info();'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;With&nbsp;a&nbsp;PHP&nbsp;7.0&nbsp;unicode&nbsp;code&nbsp;point&nbsp;sequence<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ev</span><span style="color: #007700">\</span><span style="color: #0000BB">u</span><span style="color: #007700">{</span><span style="color: #0000BB">000041</span><span style="color: #007700">}</span><span style="color: #0000BB">l</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">(</span><span style="color: #DD0000">'php_info();'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;With&nbsp;a&nbsp;PHP&nbsp;5.0+&nbsp;hexadecimal&nbsp;sequence<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ev</span><span style="color: #007700">\</span><span style="color: #0000BB">x41l</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">(</span><span style="color: #DD0000">'php_info();'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=classes_toomanyfinds" id="classes_toomanyfinds">Too Many Finds</a></h2><p>[Since 0.10.5] - [ -P Classes/TooManyFinds ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#too-many-finds">Online docs</a> ]</p><p>Too many methods called 'find*' in this class. It is may be time to consider the <a href="https://en.wikipedia.org/wiki/Specification_pattern" alt="Specification pattern">Specification pattern</a>.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;quite&nbsp;a&nbsp;fishy&nbsp;interface<br /></span><span style="color: #007700">interface&nbsp;</span><span style="color: #0000BB">UserInterface&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">findByEmail</span><span style="color: #007700">(</span><span style="color: #0000BB">$email</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">findByUsername</span><span style="color: #007700">(</span><span style="color: #0000BB">$username</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">findByFirstName</span><span style="color: #007700">(</span><span style="color: #0000BB">$firstname</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">findByLastName</span><span style="color: #007700">(</span><span style="color: #0000BB">$lastname</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">findByName</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">findById</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">insert</span><span style="color: #007700">(</span><span style="color: #0000BB">$user</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">update</span><span style="color: #007700">(</span><span style="color: #0000BB">$user</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://beberlei.de/2013/03/04/doctrine_repositories.html" alt="On Taming Repository Classes in Doctrine">On Taming Repository Classes in Doctrine</a> , <br />
<a href="http://blog.kevingomez.fr/2015/02/07/on-taming-repository-classes-in-doctrine-among-other-things/" alt="On Taming Repository Classes in Doctrine Among other things.">On Taming Repository Classes in Doctrine Among other things.</a>,<br />
<a href="https://slides.pixelart.at/2017-02-04/fosdem/specifications/#/" alt="specifications">specifications</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_usecookies" id="php_usecookies">Use Cookies</a></h2><p>[Since 0.10.6] - [ -P Php/UseCookies ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-cookies">Online docs</a> ]</p><p>This code source uses cookies. <br />
<br />
Cookie usage is spotted with the usage of <a href="https://www.php.net/setcookie" alt="setcookie()">setcookie()</a>, setawcookie() and <a href="https://www.php.net/header" alt="header()">header()</a> with the 'Set-Cookie' header. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Set-Cookie:&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$name</span><span style="color: #007700">.</span><span style="color: #DD0000">'='</span><span style="color: #007700">.</span><span style="color: #0000BB">$value</span><span style="color: #007700">.</span><span style="color: #DD0000">';&nbsp;EXPIRES'</span><span style="color: #007700">.</span><span style="color: #0000BB">$date</span><span style="color: #007700">.</span><span style="color: #DD0000">';'</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;From&nbsp;the&nbsp;PHP&nbsp;Manual&nbsp;:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">setcookie</span><span style="color: #007700">(</span><span style="color: #DD0000">'TestCookie3'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">time</span><span style="color: #007700">()+</span><span style="color: #0000BB">3600</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'/~rasmus/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'example.com'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also : <a href="http://php.net/manual/en/features.cookies.php" alt="Cookies">Cookies</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_usesetcookie" id="php_usesetcookie">Should Use SetCookie()</a></h2><p>[Since 0.10.6] - [ -P Php/UseSetCookie ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#should-use-setcookie--">Online docs</a> ]</p><p>Use <a href="https://www.php.net/setcookie" alt="setcookie()">setcookie()</a> or <a href="https://www.php.net/setrawcookie" alt="setrawcookie()">setrawcookie()</a>. Avoid using <a href="https://www.php.net/header" alt="header()">header()</a> to do so, as the PHP native functions are more convenient and easier to spot during a refactoring.<br />
<br />
<a href="https://www.php.net/setcookie" alt="setcookie()">setcookie()</a> applies some encoding internally, for the value of the cookie and the date of expiration. Rarely, this encoding has to be skipped : then, use setrawencoding().<br />
<br />
Both functions help by giving a checklist of important attributes to be used with the cookie. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;same&nbsp;as&nbsp;below<br /></span><span style="color: #0000BB">setcookie</span><span style="color: #007700">(</span><span style="color: #0000BB">myCookie</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'chocolate'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">time</span><span style="color: #007700">()+</span><span style="color: #0000BB">3600</span><span style="color: #007700">,&nbsp;/,&nbsp;,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;same&nbsp;as&nbsp;above.&nbsp;Slots&nbsp;for&nbsp;path&nbsp;and&nbsp;domain&nbsp;are&nbsp;omitted,&nbsp;but&nbsp;should&nbsp;be&nbsp;used&nbsp;whenever&nbsp;possible<br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Set-Cookie:&nbsp;myCookie=chocolate;&nbsp;Expires='</span><span style="color: #007700">.</span><span style="color: #0000BB">date</span><span style="color: #007700">(</span><span style="color: #DD0000">'r'</span><span style="color: #007700">,&nbsp;(</span><span style="color: #0000BB">time</span><span style="color: #007700">()+</span><span style="color: #0000BB">3600</span><span style="color: #007700">)).</span><span style="color: #DD0000">';&nbsp;Secure;&nbsp;HttpOnly'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie" alt="Set-Cookie">Set-Cookie</a>,<br />
         <a href="https://php.net/setcookie" alt="setcookie">setcookie</a>.<br />
</p>
<h2><a href="issues.html#analyzer=security_setcookieargs" id="security_setcookieargs">Set Cookie Safe Arguments</a></h2><p>[Since 0.10.6] - [ -P Security/SetCookieArgs ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#set-cookie-safe-arguments">Online docs</a> ]</p><p>The last five arguments of <a href="https://www.php.net/setcookie" alt="setcookie()">setcookie()</a> and <a href="https://www.php.net/setrawcookie" alt="setrawcookie()">setrawcookie()</a> are for security. Use them anytime you can.<br />
<br />
 <span style="border: 1px solid #ddd; background-color: #f5f5f5">setcookie ( string $name [, string $value =  [, int $expire = 0 [, string $path =  [, string $domain =  [, bool $secure = false [, bool $httponly = false ]]]]]] )</span> <br />
<br />
The  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$expire</span>  argument sets the date of expiration of the cookie. It is recommended to make it as low as possible, to reduce its chances to be captured. Sometimes, low expiration date may be several days (for preferences), and other times, low expiration date means a few minutes. <br />
<br />
The  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$path</span>  argument limits the transmission of the cookie to URL whose path matches the one mentioned here. By default, it is  <span style="border: 1px solid #ddd; background-color: #f5f5f5">'/'</span> , which means the whole server. If a cookie usage is limited to a part of the application, use it here.<br />
<br />
The  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$domain</span>  argument limits the transmission of the cookie to URL whose domain matches the one mentioned here. By default, it is  <span style="border: 1px solid #ddd; background-color: #f5f5f5">''</span> , which means any server on the internet. At worse, you may use  <span style="border: 1px solid #ddd; background-color: #f5f5f5">mydomain.com</span>  to cover your whole domain, or better, refine it with the actual subdomain of usage.<br />
<br />
The  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$secure</span>  argument limits the transmission of the cookie over HTTP (by default) or HTTPS. The second is better, as the transmission of the cookie is crypted. In case HTTPS is still at the planned stage, use '$_SERVER[HTTPS]'. This environment variable is false on HTTP, and true on HTTPS.<br />
<br />
The  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$httponly</span>  argument limits the access of the cookie to JavaScript. It is only transmitted to the browser, and retransmitted. This helps reducing XSS and CSRF attacks, though it is disputed. <br />
<br />
The  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$samesite</span>  argument limits the sending of the cookie to the domain that initiated the request. It is by default  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Lax</span>  but should be upgraded to  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Strict</span>  whenever possible. This feature is available as PHP 7.3. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//admin&nbsp;cookie,&nbsp;available&nbsp;only&nbsp;on&nbsp;https://admin.my-domain.com/system/,&nbsp;for&nbsp;the&nbsp;next&nbsp;minute,&nbsp;and&nbsp;not&nbsp;readable&nbsp;by&nbsp;javascript<br /></span><span style="color: #0000BB">setcookie</span><span style="color: #007700">(</span><span style="color: #0000BB">admin</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$login</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">time</span><span style="color: #007700">()+</span><span style="color: #0000BB">60</span><span style="color: #007700">,&nbsp;/</span><span style="color: #0000BB">system</span><span style="color: #007700">/,&nbsp;</span><span style="color: #0000BB">admin</span><span style="color: #007700">.</span><span style="color: #0000BB">my</span><span style="color: #007700">-</span><span style="color: #0000BB">domain</span><span style="color: #007700">.</span><span style="color: #0000BB">com</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTPS'</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//login&nbsp;cookie,&nbsp;available&nbsp;until&nbsp;the&nbsp;browser&nbsp;is&nbsp;closed,&nbsp;over&nbsp;http&nbsp;or&nbsp;https<br /></span><span style="color: #0000BB">setcookie</span><span style="color: #007700">(</span><span style="color: #0000BB">login</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$login</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//removing&nbsp;the&nbsp;login&nbsp;cookie&nbsp;:&nbsp;Those&nbsp;situations&nbsp;are&nbsp;omitted&nbsp;by&nbsp;the&nbsp;analysis<br /></span><span style="color: #0000BB">setcookie</span><span style="color: #007700">(</span><span style="color: #0000BB">login</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/setcookie" alt="setcookie">setcookie</a> and <br />
         <a href="https://www.chromestatus.com/feature/4672634709082112" alt="'SameSite' cookie attribute">'SameSite' cookie attribute</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_checkalltypes" id="structures_checkalltypes">Check All Types</a></h2><p>[Since 0.10.6] - [ -P Structures/CheckAllTypes ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#check-all-types">Online docs</a> ]</p><p>When checking for time, avoid using else. Mention explicitly all tested type, and raise an exception when reaching else.<br />
<br />
PHP has a short list of scalar types : null, boolean, integer, real, strings, object, resource and array. When a variable is not holding one the the type, then it may be of any other type. <br />
<br />
Most of the time, when using a simple <a href="https://www.php.net/is_string" alt="is_string()">is_string()</a> / else test, this is relying on the conception of the code. By construction, the arguments may be one of two types : array or string. <br />
<br />
What happens often is that in case of failure in the code (database not working, another class not checking its results), a third type is pushed to the structure, and it ends up breaking the execution. <br />
<br />
The safe way is to check the various types all the time, and use the default case (here, the else) to throw exception() or test an assertion and handle the special case.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;hasty&nbsp;version<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$argument</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$out&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$argument</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Here,&nbsp;$argument&nbsp;is&nbsp;NOT&nbsp;an&nbsp;array.&nbsp;What&nbsp;if&nbsp;it&nbsp;is&nbsp;an&nbsp;object&nbsp;?&nbsp;or&nbsp;a&nbsp;NULL&nbsp;?&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$out&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">$argument</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Safe&nbsp;type&nbsp;checking&nbsp;:&nbsp;do&nbsp;not&nbsp;assume&nbsp;that&nbsp;'not&nbsp;an&nbsp;array'&nbsp;means&nbsp;that&nbsp;it&nbsp;is&nbsp;the&nbsp;other&nbsp;expected&nbsp;type.<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$argument</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$out&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$argument</span><span style="color: #007700">;<br />}&nbsp;elseif&nbsp;(</span><span style="color: #0000BB">is_string</span><span style="color: #007700">(</span><span style="color: #0000BB">$argument</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$out&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">$argument</span><span style="color: #007700">);<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">assert</span><span style="color: #007700">(</span><span style="color: #0000BB">false</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'$argument&nbsp;is&nbsp;not&nbsp;an&nbsp;array&nbsp;nor&nbsp;a&nbsp;string,&nbsp;as&nbsp;expected!'</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
Using <a href="https://www.php.net/is_callable" alt="is_callable()">is_callable()</a>, is_iterable() with this structure is fine : when variable is callable or not, while a variable is an integer or else. <br />
<br />
Using a type test without else is also accepted here. This is a special treatment for this test, and all others are ignored. This aspect may vary depending on situations and projects.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_missingcases" id="structures_missingcases">Missing Cases In Switch</a></h2><p>[Since 0.10.7] - [ -P Structures/MissingCases ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#missing-cases-in-switch">Online docs</a> ]</p><p>It seems that some cases are missing in this switch structure.<br />
<br />
When comparing two different switch() structures, it appears that some cases are missing in one of them. The set of cases are almost identical, but one of the values are missing. <br />
<br />
Switch() structures using strings as literals are compared in this analysis. When the discrepancy between two lists is below 25%, both switches are reported.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;switch&nbsp;operates&nbsp;on&nbsp;a,&nbsp;b,&nbsp;c,&nbsp;d&nbsp;and&nbsp;default&nbsp;<br /></span><span style="color: #007700">switch(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">'a'</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">doSomethingA</span><span style="color: #007700">();&nbsp;break&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">doSomethingB</span><span style="color: #007700">();&nbsp;break&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">'c'</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">doSomethingC</span><span style="color: #007700">();&nbsp;break&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">'d'</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">doSomethingD</span><span style="color: #007700">();&nbsp;break&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;default:&nbsp;</span><span style="color: #0000BB">doNothing</span><span style="color: #007700">();<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;switch&nbsp;operates&nbsp;on&nbsp;a,&nbsp;b,&nbsp;d&nbsp;and&nbsp;default&nbsp;<br /></span><span style="color: #007700">switch(</span><span style="color: #0000BB">$o</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">p</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">'a'</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">doSomethingA</span><span style="color: #007700">();&nbsp;break&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">doSomethingB</span><span style="color: #007700">();&nbsp;break&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">'d'</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">doSomethingD</span><span style="color: #007700">();&nbsp;break&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;default:&nbsp;</span><span style="color: #0000BB">doNothing</span><span style="color: #007700">();<br />}<br /></span>?&gt;</pre><br />
<br />
In the example, one may argue that the 'c' case is actually handled by the 'default' case. Otherwise, business logic may request that omission. <br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_php72newfunctions" id="php_php72newfunctions">New Functions In PHP 7.2</a></h2><p>[Since 0.10.7] - [ -P Php/Php72NewFunctions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#new-functions-in-php-7.2">Online docs</a> ] - [ PHP  older than 7.2]</p><p>The following functions are now native functions in PHP 7.2. It is advised to change them before moving to this new version.<br />
<br />
<ul>
<li>mb_<a href="https://www.php.net/ord" alt="ord()">ord()</a></li>
<li>mb_<a href="https://www.php.net/chr" alt="chr()">chr()</a></li>
<li>mb_scrub()</li>
<li>stream_isatty()</li>
<li><a href="https://www.php.net/proc_nice" alt="proc_nice()">proc_nice()</a> (Windows only)</li>
</ul>
<br />
</p>
<h2><a href="issues.html#analyzer=php_php72newconstants" id="php_php72newconstants">New Constants In PHP 7.2</a></h2><p>[Since 0.10.7] - [ -P Php/Php72NewConstants ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#new-constants-in-php-7.2">Online docs</a> ] - [ PHP  older than 7.2]</p><p>The following constants are now native in PHP 7.2. It is advised to avoid using such names for constant before moving to this new version.<br />
<br />
<ul>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">PHP_OS_FAMILY</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">PHP_FLOAT_DIG</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">PHP_FLOAT_EPSILON</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">PHP_FLOAT_MAX</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">PHP_FLOAT_MIN</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">SQLITE3_DETERMINISTIC</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">CURLSSLOPT_NO_REVOKE</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">CURLOPT_DEFAULT_PROTOCOL</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">CURLOPT_STREAM_WEIGHT</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">CURLMOPT_PUSHFUNCTION</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">CURL_PUSH_OK</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">CURL_PUSH_DENY</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">CURL_HTTP_VERSION_2TLS</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">CURLOPT_TFTP_NO_OPTIONS</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">CURL_HTTP_VERSION_2_PRIOR_KNOWLEDGE</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">CURLOPT_CONNECT_TO</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">CURLOPT_TCP_FASTOPEN</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">DNS_CAA</span> </li>
</ul>
<br />
See also <a href="http://php.net/manual/en/migration72.constants.php" alt="New global constants in 7.2">New global constants in 7.2</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_groupusedeclaration" id="php_groupusedeclaration">Group Use Declaration</a></h2><p>[Since 0.10.7] - [ -P Php/GroupUseDeclaration ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#group-use-declaration">Online docs</a> ]</p><p>The group use declaration is used in the code.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Adapted&nbsp;from&nbsp;the&nbsp;RFC&nbsp;documentation&nbsp;<br />//&nbsp;Pre&nbsp;PHP&nbsp;7&nbsp;code<br /></span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">some</span><span style="color: #007700">\</span><span style="color: #0000BB">name_space</span><span style="color: #007700">\</span><span style="color: #0000BB">ClassA</span><span style="color: #007700">;<br />use&nbsp;</span><span style="color: #0000BB">some</span><span style="color: #007700">\</span><span style="color: #0000BB">name_space</span><span style="color: #007700">\</span><span style="color: #0000BB">ClassB</span><span style="color: #007700">;<br />use&nbsp;</span><span style="color: #0000BB">some</span><span style="color: #007700">\</span><span style="color: #0000BB">name_space</span><span style="color: #007700">\</span><span style="color: #0000BB">ClassC&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">C</span><span style="color: #007700">;<br /><br />use&nbsp;function&nbsp;</span><span style="color: #0000BB">some</span><span style="color: #007700">\</span><span style="color: #0000BB">name_space</span><span style="color: #007700">\</span><span style="color: #0000BB">fn_a</span><span style="color: #007700">;<br />use&nbsp;function&nbsp;</span><span style="color: #0000BB">some</span><span style="color: #007700">\</span><span style="color: #0000BB">name_space</span><span style="color: #007700">\</span><span style="color: #0000BB">fn_b</span><span style="color: #007700">;<br />use&nbsp;function&nbsp;</span><span style="color: #0000BB">some</span><span style="color: #007700">\</span><span style="color: #0000BB">name_space</span><span style="color: #007700">\</span><span style="color: #0000BB">fn_c</span><span style="color: #007700">;<br /><br />use&nbsp;const&nbsp;</span><span style="color: #0000BB">some</span><span style="color: #007700">\</span><span style="color: #0000BB">name_space</span><span style="color: #007700">\</span><span style="color: #0000BB">ConstA</span><span style="color: #007700">;<br />use&nbsp;const&nbsp;</span><span style="color: #0000BB">some</span><span style="color: #007700">\</span><span style="color: #0000BB">name_space</span><span style="color: #007700">\</span><span style="color: #0000BB">ConstB</span><span style="color: #007700">;<br />use&nbsp;const&nbsp;</span><span style="color: #0000BB">some</span><span style="color: #007700">\</span><span style="color: #0000BB">name_space</span><span style="color: #007700">\</span><span style="color: #0000BB">ConstC</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;PHP&nbsp;7+&nbsp;code<br /></span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">some</span><span style="color: #007700">\</span><span style="color: #0000BB">name_space</span><span style="color: #007700">\{</span><span style="color: #0000BB">ClassA</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">ClassB</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">ClassC&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">C</span><span style="color: #007700">};<br />use&nbsp;function&nbsp;</span><span style="color: #0000BB">some</span><span style="color: #007700">\</span><span style="color: #0000BB">name_space</span><span style="color: #007700">\{</span><span style="color: #0000BB">fn_a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">fn_b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">fn_c</span><span style="color: #007700">};<br />use&nbsp;const&nbsp;</span><span style="color: #0000BB">some</span><span style="color: #007700">\</span><span style="color: #0000BB">name_space</span><span style="color: #007700">\{</span><span style="color: #0000BB">ConstA</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">ConstB</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">ConstC</span><span style="color: #007700">};<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://wiki.php.net/rfc/group_use_declarations" alt="Group Use Declaration RFC">Group Use Declaration RFC</a> and <a href="http://php.net/manual/en/language.namespaces.importing.php" alt="Using namespaces: Aliasing/Importing">Using namespaces: Aliasing/Importing</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_repeatedregex" id="structures_repeatedregex">Repeated Regex</a></h2><p>[Since 0.10.9] - [ -P Structures/RepeatedRegex ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#repeated-regex">Online docs</a> ]</p><p>Repeated regex should be centralized. <br />
<br />
When a regex is repeatedly used in the code, it is getting harder to update. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Regex&nbsp;used&nbsp;several&nbsp;times,&nbsp;at&nbsp;least&nbsp;twice.<br /></span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/^abc_|^square$/i'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'x'</span><span style="color: #007700">]);<br /><br /></span><span style="color: #FF8000">//.......<br /><br /></span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/^abc_|^square$/i'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">'name'</span><span style="color: #007700">]);<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;regex&nbsp;is&nbsp;dynamically&nbsp;built,&nbsp;so&nbsp;it&nbsp;is&nbsp;not&nbsp;reported.<br /></span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/^circle|^'</span><span style="color: #007700">.</span><span style="color: #0000BB">$x</span><span style="color: #007700">.</span><span style="color: #DD0000">'$/i'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;regex&nbsp;is&nbsp;used&nbsp;once,&nbsp;so&nbsp;it&nbsp;is&nbsp;not&nbsp;reported.<br /></span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/^circle|^square$/i'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
Regex that are repeated at least once (aka, used twice or more) are reported. Regex that are dynamically build are not reported.<br />
</p>
<h2><a href="issues.html#analyzer=php_noclassinglobal" id="php_noclassinglobal">No Class In Global</a></h2><p>[Since 0.10.9] - [ -P Php/NoClassInGlobal ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-class-in-global">Online docs</a> ]</p><p>Avoid defining structures in Global namespace. Always prefer using a namespace. This will come handy later, either when publishing the code, or when importing a library, or even if PHP reclaims that name. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Code&nbsp;prepared&nbsp;for&nbsp;later<br /></span><span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;class&nbsp;</span><span style="color: #0000BB">Bar&nbsp;</span><span style="color: #007700">{}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Code&nbsp;that&nbsp;may&nbsp;conflict&nbsp;with&nbsp;other&nbsp;names.<br /></span><span style="color: #007700">namespace&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;class&nbsp;</span><span style="color: #0000BB">Bar&nbsp;</span><span style="color: #007700">{}<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_crc32mightbenegative" id="php_crc32mightbenegative">Crc32() Might Be Negative</a></h2><p>[Since 0.11.0] - [ -P Php/Crc32MightBeNegative ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#crc32---might-be-negative">Online docs</a> ]</p><p><a href="https://www.php.net/crc32" alt="crc32()">crc32()</a> may return a negative number, on 32 bits platforms.<br />
<br />
According to the manual : Because PHP\'s integer type is signed many  <span style="border: 1px solid #ddd; background-color: #f5f5f5">CRC32</span>  checksums will result in negative integers on 32 bits platforms. On 64 bits installations, all <a href="https://www.php.net/crc32" alt="crc32()">crc32()</a> results will be positive integers though.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;display&nbsp;the&nbsp;checksum&nbsp;with&nbsp;%u,&nbsp;to&nbsp;make&nbsp;it&nbsp;unsigned<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">sprintf</span><span style="color: #007700">(</span><span style="color: #DD0000">'%u'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">crc32</span><span style="color: #007700">(</span><span style="color: #0000BB">$str</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;turn&nbsp;the&nbsp;checksum&nbsp;into&nbsp;an&nbsp;unsigned&nbsp;hexadecimal<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">dechex</span><span style="color: #007700">(</span><span style="color: #0000BB">crc32</span><span style="color: #007700">(</span><span style="color: #0000BB">$str</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;avoid&nbsp;concatenating&nbsp;crc32&nbsp;to&nbsp;a&nbsp;string,&nbsp;as&nbsp;it&nbsp;may&nbsp;be&nbsp;negative&nbsp;on&nbsp;32bits&nbsp;platforms&nbsp;<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'prefix'</span><span style="color: #007700">.</span><span style="color: #0000BB">crc32</span><span style="color: #007700">(</span><span style="color: #0000BB">$str</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.php.net/crc32" alt="`crc32()">`crc32()</a> <https://www.php.net/crc32>`_.<br />
 </p>
<h2><a href="issues.html#analyzer=structures_couldusestrrepeat" id="structures_couldusestrrepeat">Could Use str_repeat()</a></h2><p>[Since 0.11.0] - [ -P Structures/CouldUseStrrepeat ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#could-use-str_repeat--">Online docs</a> ]</p><p>Use <a href="https://www.php.net/str_repeat" alt="str_repeat()">str_repeat()</a> or <a href="https://www.php.net/str_pad" alt="str_pad()">str_pad()</a> instead of making a loop.<br />
<br />
Making a loop to repeat the same concatenation is actually much longer than using <a href="https://www.php.net/str_repeat" alt="str_repeat()">str_repeat()</a>. As soon as the loop repeats more than twice, <a href="https://www.php.net/str_repeat" alt="str_repeat()">str_repeat()</a> is much faster. With arrays of 30, the difference is significant, though the whole operation is short by itself. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;adds&nbsp;7&nbsp;'e'&nbsp;to&nbsp;$x<br /></span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #0000BB">str_repeat</span><span style="color: #007700">(</span><span style="color: #DD0000">'e'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">7</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;the&nbsp;same&nbsp;as&nbsp;above,&nbsp;<br /></span><span style="color: #007700">for(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">;&nbsp;++</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">'e'</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;here,&nbsp;$default&nbsp;must&nbsp;contains&nbsp;7&nbsp;elements&nbsp;to&nbsp;be&nbsp;equivalent&nbsp;to&nbsp;the&nbsp;previous&nbsp;code<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$default&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">'e'</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_suspiciouscomparison" id="structures_suspiciouscomparison">Suspicious Comparison</a></h2><p>[Since 0.11.0] - [ -P Structures/SuspiciousComparison ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#suspicious-comparison">Online docs</a> ]</p><p>The comparison seems to be misplaced.<br />
<br />
A comparison happens in the last argument, while the actual function expect another type : this may be the case of a badly placed parenthesis.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;trim&nbsp;expect&nbsp;a&nbsp;string,&nbsp;a&nbsp;boolean&nbsp;is&nbsp;given.<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">trim</span><span style="color: #007700">(</span><span style="color: #0000BB">$str&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">)){<br /><br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Just&nbsp;move&nbsp;the&nbsp;first&nbsp;closing&nbsp;parenthesis&nbsp;to&nbsp;give&nbsp;back&nbsp;its&nbsp;actual&nbsp;meaning<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">trim</span><span style="color: #007700">(</span><span style="color: #0000BB">$str</span><span style="color: #007700">)&nbsp;===&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">){<br /><br />}<br /></span>?&gt;</pre><br />
<br />
Original idea by <a href="https://twitter.com/kalessil" alt="Vladimir Reznichenko">Vladimir Reznichenko</a>. <br />
<br />
</p>
<h2><a href="issues.html#analyzer=arrays_emptyfinal" id="arrays_emptyfinal">Empty Final Element</a></h2><p>[Since 0.11.0] - [ -P Arrays/EmptyFinal ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#empty-final-element">Online docs</a> ]</p><p>The array() construct allows for the empty last element. <br />
<br />
By putting an element on each line, and adding the final comma, it is possible to reduce the size of the diff when comparing code with the previous version.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Array&nbsp;definition&nbsp;with&nbsp;final&nbsp;empty&nbsp;element<br /></span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">1</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;];<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;array&nbsp;definition&nbsp;has&nbsp;only&nbsp;one&nbsp;line&nbsp;of&nbsp;diff&nbsp;with&nbsp;the&nbsp;previous&nbsp;array&nbsp;:&nbsp;the&nbsp;line&nbsp;with&nbsp;'4,'<br /></span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">1</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;];<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;array&nbsp;definition&nbsp;is&nbsp;totally&nbsp;different&nbsp;from&nbsp;the&nbsp;first&nbsp;array&nbsp;:&nbsp;<br /></span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">];<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.types.array.php" alt="Array">Array</a>, <br />
         <a href="https://framework.zend.com/manual/2.4/en/ref/coding.standard.html#arrays" alt="Zend Framework Coding Standard">Zend Framework Coding Standard</a> and <br />
         <a href="https://blog.madewithlove.be/post/code-style-options-for-cleaner-diffs/" alt="How clean is your code? How clean are your diffs?">How clean is your code? How clean are your diffs?</a>.<br />
</p>
<h2><a href="issues.html#analyzer=type_stringwithstrangespace" id="type_stringwithstrangespace">Strings With Strange Space</a></h2><p>[Since 0.11.0] - [ -P Type/StringWithStrangeSpace ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#strings-with-strange-space">Online docs</a> ]</p><p>An invisible space may be mistaken for a normal space. <br />
<br />
However, PHP does straight comparisons, and may fail at recognizing. This analysis reports when it finds such strange spaces inside strings.<br />
<br />
PHP doesn't mistake space and tables for whitespace when tokenizing the code.<br />
<br />
This analysis doesn't report Unicode Codepoint Notation : those are visible in the code.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;PHP&nbsp;7&nbsp;notation,&nbsp;<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;\</span><span style="color: #0000BB">u</span><span style="color: #007700">{</span><span style="color: #0000BB">3000</span><span style="color: #007700">};<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;;<br /><br /></span><span style="color: #FF8000">//&nbsp;Displays&nbsp;false<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.cs.tut.fi/~jkorpela/chars/spaces.html" alt="Unicode spaces">Unicode spaces</a>, and <br />
         <a href="http://eslint.org/docs/rules/no-irregular-whitespace" alt="disallow irregular whitespace (no-irregular-whitespace)">disallow irregular whitespace (no-irregular-whitespace)</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_differencepreference" id="structures_differencepreference">Difference Consistence</a></h2><p>[Since 0.11.1] - [ -P Structures/DifferencePreference ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#difference-consistence">Online docs</a> ]</p><p>There are two operators to check a difference : <> and !=.<br />
<br />
The analyzed code has less than 10% of one of them : for consistency reasons, it is recommended to make them all the same. <br />
<br />
It happens that != and <> are used depending on coding style and files. One file may be consistently using <>, while the others are all using !=. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Both&nbsp;!=&nbsp;and&nbsp;&lt;&gt;&nbsp;are&nbsp;used&nbsp;in&nbsp;the&nbsp;code<br />//&nbsp;When&nbsp;one&nbsp;of&nbsp;them&nbsp;is&nbsp;used&nbsp;less&nbsp;than&nbsp;10%,&nbsp;it&nbsp;is&nbsp;reported&nbsp;as&nbsp;a&nbsp;consistence&nbsp;issue.<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">!=&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{<br /><br />}&nbsp;elseif&nbsp;(</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">&lt;&gt;&nbsp;</span><span style="color: #0000BB">$d</span><span style="color: #007700">)&nbsp;{<br /><br />}<br /></span>?&gt;</pre><br />
<br />
<> and != are the two only comparison operators that are identical.<br />
<br />
See also <a href="http://php.net/manual/en/language.operators.comparison.php" alt="Comparison Operators">Comparison Operators</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_noemptyregex" id="structures_noemptyregex">No Empty Regex</a></h2><p>[Since 0.11.1] - [ -P Structures/NoEmptyRegex ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-empty-regex">Online docs</a> ]</p><p>PHP regex don't accept empty regex, nor regex with alphanumeric delimiter.<br />
<br />
Most of those errors happen at execution time, when the regex is build dynamically, but still may end empty. At compile time, such error are made when the code is not tested before commit.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;No&nbsp;empty&nbsp;regex<br /></span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$r</span><span style="color: #007700">);&nbsp;<br /><br /></span><span style="color: #FF8000">//&nbsp;Delimiter&nbsp;must&nbsp;be&nbsp;non-alphanumerical<br /></span><span style="color: #0000BB">preg_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'1abc1'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$r</span><span style="color: #007700">);&nbsp;<br /><br /></span><span style="color: #FF8000">//&nbsp;Delimiter&nbsp;must&nbsp;be&nbsp;non-alphanumerical<br /></span><span style="color: #0000BB">preg_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'1'</span><span style="color: #007700">.</span><span style="color: #0000BB">$regex</span><span style="color: #007700">.</span><span style="color: #DD0000">'1'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$r</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/pcre" alt="PCRE">PCRE</a> and <a href="http://php.net/manual/en/regexp.reference.delimiters.php" alt="Delimiters">Delimiters</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_alternativeconsistencebyfile" id="structures_alternativeconsistencebyfile">Alternative Syntax Consistence</a></h2><p>[Since 0.11.2] - [ -P Structures/AlternativeConsistenceByFile ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#alternative-syntax-consistence">Online docs</a> ]</p><p>PHP allows for two syntax : the alternative syntax, and the classic syntax. <br />
<br />
The classic syntax is almost always used. When used, the alternative syntax is used in templates. <br />
<br />
This analysis reports files that are using both syntax at the same time. This is confusing.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Mixing&nbsp;both&nbsp;syntax&nbsp;is&nbsp;confusing.<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$item</span><span style="color: #007700">)&nbsp;:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$item&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">$item&nbsp;elements</span><span style="color: #007700">\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">$item&nbsp;element</span><span style="color: #007700">\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />endforeach;<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=arrays_randomlysortedliterals" id="arrays_randomlysortedliterals">Randomly Sorted Arrays</a></h2><p>[Since 0.11.2] - [ -P Arrays/RandomlySortedLiterals ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#randomly-sorted-arrays">Online docs</a> ]</p><p>Those literal arrays are written in several places, but their items are in various orders. <br />
<br />
This may reduce the reading and proofing of the arrays, and induce confusion. The random order may also be a residue of development : both arrays started with different values, but they grew overtime to handle the same items. The way they were written lead to the current order.<br />
<br />
Unless order is important, it is recommended to always use the same order when defining literal arrays. This makes it easier to match different part of the code by recognizing one of its literal.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;an&nbsp;array<br /></span><span style="color: #0000BB">$set&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">3</span><span style="color: #007700">,</span><span style="color: #0000BB">5</span><span style="color: #007700">,</span><span style="color: #0000BB">9</span><span style="color: #007700">,</span><span style="color: #0000BB">10</span><span style="color: #007700">];<br /><br />function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;an&nbsp;array,&nbsp;with&nbsp;the&nbsp;same&nbsp;values&nbsp;but&nbsp;different&nbsp;order,&nbsp;in&nbsp;a&nbsp;different&nbsp;context<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$list&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">3</span><span style="color: #007700">,</span><span style="color: #0000BB">5</span><span style="color: #007700">,</span><span style="color: #0000BB">10</span><span style="color: #007700">,</span><span style="color: #0000BB">9</span><span style="color: #007700">,];<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;an&nbsp;array,&nbsp;with&nbsp;the&nbsp;same&nbsp;order&nbsp;than&nbsp;the&nbsp;initial&nbsp;one<br /></span><span style="color: #0000BB">$inits&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">3</span><span style="color: #007700">,</span><span style="color: #0000BB">5</span><span style="color: #007700">,</span><span style="color: #0000BB">9</span><span style="color: #007700">,</span><span style="color: #0000BB">10</span><span style="color: #007700">];<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extsphinx" id="extensions_extsphinx">ext/sphinx</a></h2><p>[Since 0.11.3] - [ -P Extensions/Extsphinx ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-sphinx">Online docs</a> ]</p><p>Extension for the Sphinx search server.<br />
<br />
This extension provides bindings for Sphinx search client library. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$s&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SphinxClient</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$s</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setServer</span><span style="color: #007700">(</span><span style="color: #0000BB">localhost</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">6712</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$s</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setMatchMode</span><span style="color: #007700">(</span><span style="color: #0000BB">SPH_MATCH_ANY</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$s</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setMaxQueryTime</span><span style="color: #007700">(</span><span style="color: #0000BB">3</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$s</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">query</span><span style="color: #007700">(</span><span style="color: #0000BB">test</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.sphinx.php" alt="Sphinx Client">Sphinx Client</a> and <a href="http://sphinxsearch.com/" alt="Sphinx Search">Sphinx Search</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_trymultiplecatch" id="php_trymultiplecatch">Try With Multiple Catch</a></h2><p>[Since 0.11.3] - [ -P Php/TryMultipleCatch ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#try-with-multiple-catch">Online docs</a> ]</p><p>Try may be used with multiple catch clauses. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">try&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">OneCatch</span><span style="color: #007700">();&nbsp;<br />}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">FirstException&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br /><br />}<br /><br />try&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">TwoCatches</span><span style="color: #007700">();&nbsp;<br />}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">FirstException&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">SecondException&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.exceptions.php" alt="Exceptions">Exceptions</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extgrpc" id="extensions_extgrpc">ext/grpc</a></h2><p>[Since 0.11.3] - [ -P Extensions/Extgrpc ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-grpc">Online docs</a> ]</p><p>Extension for GRPC : A high performance, open-source universal RPC framework.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//https://github.com/grpc/grpc/blob/master/examples/php/greeter_client.php<br /><br /></span><span style="color: #007700">require&nbsp;</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">__FILE__</span><span style="color: #007700">).</span><span style="color: #DD0000">'/vendor/autoload.php'</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;The&nbsp;following&nbsp;includes&nbsp;are&nbsp;needed&nbsp;when&nbsp;using&nbsp;protobuf&nbsp;3.1.0<br />//&nbsp;and&nbsp;will&nbsp;suppress&nbsp;warnings&nbsp;when&nbsp;using&nbsp;protobuf&nbsp;3.2.0+<br /></span><span style="color: #007700">@include_once&nbsp;</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">__FILE__</span><span style="color: #007700">).</span><span style="color: #DD0000">'/helloworld.pb.php'</span><span style="color: #007700">;<br />@include_once&nbsp;</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">__FILE__</span><span style="color: #007700">).</span><span style="color: #DD0000">'/helloworld_grpc_pb.php'</span><span style="color: #007700">;<br />function&nbsp;</span><span style="color: #0000BB">greet</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$client&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Helloworld</span><span style="color: #007700">\</span><span style="color: #0000BB">GreeterClient</span><span style="color: #007700">(</span><span style="color: #DD0000">'localhost:50051'</span><span style="color: #007700">,&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'credentials'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">Grpc</span><span style="color: #007700">\</span><span style="color: #0000BB">ChannelCredentials</span><span style="color: #007700">::</span><span style="color: #0000BB">createInsecure</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;]);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$request&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Helloworld</span><span style="color: #007700">\</span><span style="color: #0000BB">HelloRequest</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$request</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setName</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;list(</span><span style="color: #0000BB">$reply</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$status</span><span style="color: #007700">)&nbsp;=&nbsp;</span><span style="color: #0000BB">$client</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">SayHello</span><span style="color: #007700">(</span><span style="color: #0000BB">$request</span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">wait</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$message&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$reply</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMessage</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$message</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">$name&nbsp;</span><span style="color: #007700">=&nbsp;!empty(</span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">])&nbsp;?&nbsp;</span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]&nbsp;:&nbsp;</span><span style="color: #DD0000">'world'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">greet</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">).\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.grpc.io/" alt="GRPC">GRPC</a> and <a href="https://pecl.php.net/package/gRPC" alt="GRPC on PECL">GRPC on PECL</a>.</p>
<h2><a href="issues.html#analyzer=functions_onlyvariablepassedbyreference" id="functions_onlyvariablepassedbyreference">Only Variable Passed By Reference</a></h2><p>[Since 0.11.3] - [ -P Functions/OnlyVariablePassedByReference ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#only-variable-passed-by-reference">Online docs</a> ]</p><p>When an argument is expected by reference, it is compulsory to provide a container. A container may be a variable, an array, a property or a static property. <br />
<br />
This may be linted by PHP, when the function definition is in the same file as the function usage. This is silently linted if definition and usage are separated, if the call is dynamical or made as a method.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(&amp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">)&nbsp;{&nbsp;</span><span style="color: #FF8000">/**/&nbsp;</span><span style="color: #007700">}<br /><br />function&nbsp;&amp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{&nbsp;</span><span style="color: #FF8000">/**/&nbsp;</span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;not&nbsp;possible&nbsp;:&nbsp;`strtolower()&nbsp;&lt;https://www.php.net/strtolower&gt;`_&nbsp;returns&nbsp;a&nbsp;value<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">strtolower</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;valid&nbsp;:&nbsp;bar()&nbsp;returns&nbsp;a&nbsp;reference<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">));<br /></span>?&gt;</pre><br />
<br />
This analysis currently covers functioncalls and static methodcalls, but omits methodcalls.<br />
</p>
<h2><a href="issues.html#analyzer=functions_noreturnused" id="functions_noreturnused">No Return Used</a></h2><p>[Since 0.11.3] - [ -P Functions/NoReturnUsed ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-return-used">Online docs</a> ]</p><p>The return value of the following functions are never used. The return argument may be dropped from the code, as it is dead code.<br />
<br />
This analysis supports functions and static methods, when a definition may be found. It doesn't support method calls.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;)&nbsp;{&nbsp;return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;}<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;function&nbsp;doesn't&nbsp;return&nbsp;anything.&nbsp;<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo2</span><span style="color: #007700">()&nbsp;{&nbsp;}<br /><br /></span><span style="color: #FF8000">//&nbsp;The&nbsp;following&nbsp;function&nbsp;are&nbsp;used&nbsp;in&nbsp;an&nbsp;expression,&nbsp;thus&nbsp;the&nbsp;return&nbsp;is&nbsp;important<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo3</span><span style="color: #007700">()&nbsp;{&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;}<br />function&nbsp;</span><span style="color: #0000BB">foo4</span><span style="color: #007700">()&nbsp;{&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;}<br />function&nbsp;</span><span style="color: #0000BB">foo5</span><span style="color: #007700">()&nbsp;{&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;}<br /><br /></span><span style="color: #0000BB">foo3</span><span style="color: #007700">()&nbsp;+&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">foo4</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">foo5</span><span style="color: #007700">());<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=php_usebrowscap" id="php_usebrowscap">Use Browscap</a></h2><p>[Since 0.11.4] - [ -P Php/UseBrowscap ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-browscap">Online docs</a> ]</p><p>Browscap is a browser database, accessible via <a href="https://www.php.net/get_browser" alt="get_browser()">get_browser()</a>. <br />
<br />
Browscap is the 'Browser Capabilities Project'.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_USER_AGENT'</span><span style="color: #007700">]&nbsp;.&nbsp;\</span><span style="color: #0000BB">n</span><span style="color: #007700">\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$browser&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">get_browser</span><span style="color: #007700">(</span><span style="color: #0000BB">null</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$browser</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://browscap.org/" alt="browscap">browscap</a>. </p>
<h2><a href="issues.html#analyzer=structures_usedebug" id="structures_usedebug">Use Debug</a></h2><p>[Since 0.11.4] - [ -P Structures/UseDebug ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-debug">Online docs</a> ]</p><p>The code source includes calls to debug functions.<br />
<br />
The following debug functions and libraries are reported : <br />
<br />
<ul>
<li><a href="https://github.com/aronduby/dump" alt="Aronduby Dump">Aronduby Dump</a></li>
<li><a href="https://github.com/cakephp/debug_kit" alt="Cakephp Debug Toolbar">Cakephp Debug Toolbar</a></li>
<li><a href="https://github.com/kint-php/kint" alt="Kint">Kint</a></li>
<li><a href="https://github.com/mmucklo/krumo" alt="Krumo">Krumo</a></li>
<li><a href="https://tracy.nette.org/" alt="Nette tracy">Nette tracy</a></li>
<li><a href="https://github.com/maximebf/php-debugbar" alt="php-debugbar">php-debugbar</a></li>
<li>PHP native functions : <a href="https://www.php.net/print_r" alt="print_r()">print_r()</a>, <a href="https://www.php.net/var_dump" alt="var_dump()">var_dump()</a>, <a href="https://www.php.net/debug_backtrace" alt="debug_backtrace()">debug_backtrace()</a>, <a href="https://www.php.net/debug_print_backtrace" alt="debug_print_backtrace()">debug_print_backtrace()</a>, <a href="https://www.php.net/debug_zval_dump" alt="debug_zval_dump()">debug_zval_dump()</a></li>
<li><a href="https://symfony.com/doc/current/components/debug.html" alt="Symfony debug">Symfony debug</a></li>
<li><a href="https://codex.wordpress.org/Debugging_in_WordPress" alt="Wordpress debug">Wordpress debug</a></li>
<li><a href="https://xdebug.org/" alt="Xdebug">Xdebug</a></li>
<li><a href="https://github.com/zendframework/zend-debug" alt="Zend debug">Zend debug</a></li>
</ul>
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Example&nbsp;with&nbsp;Zend&nbsp;Debug<br /></span><span style="color: #0000BB">Zend</span><span style="color: #007700">\</span><span style="color: #0000BB">Debug</span><span style="color: #007700">\</span><span style="color: #0000BB">Debug</span><span style="color: #007700">::</span><span style="color: #0000BB">dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$var</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$label&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$echo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_noreferenceonleft" id="structures_noreferenceonleft">No Reference On Left Side</a></h2><p>[Since 0.11.5] - [ -P Structures/NoReferenceOnLeft ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-reference-on-left-side">Online docs</a> ]</p><p>Do not use references as the right element in an assignation. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;&amp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;$a&nbsp;===&nbsp;2&nbsp;===&nbsp;$b;<br /><br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;$a&nbsp;===&nbsp;5<br /></span>?&gt;</pre><br />
<br />
This is the case for most situations : addition, multiplication, bitshift, logical, power, concatenation.<br />
Note that PHP won't compile the code if the operator is a short operator (+=, .=, etc.), nor if the & is on the right side of the operator. <br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_implementedmethodsarepublic" id="classes_implementedmethodsarepublic">Implemented Methods Are Public</a></h2><p>[Since 0.11.5] - [ -P Classes/ImplementedMethodsArePublic ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#implemented-methods-are-public">Online docs</a> ]</p><p>Class methods that are defined in an interface must be public. They cannot be either private, nor protected.<br />
<br />
This error is not reported by lint, but is reported at execution time.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">interface&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">X&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;method&nbsp;is&nbsp;defined&nbsp;in&nbsp;the&nbsp;interface&nbsp;:&nbsp;it&nbsp;must&nbsp;be&nbsp;public<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">protected&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;other&nbsp;methods&nbsp;may&nbsp;be&nbsp;private<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">private&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.interfaces.php#language.oop5.interfaces" alt="Interfaces">Interfaces</a> and <br />
        <a href="https://phpenthusiast.com/object-oriented-php-tutorials/interfaces" alt="Interfaces - the next level of abstraction">Interfaces - the next level of abstraction</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=psr_psr16usage" id="psr_psr16usage">PSR-16 Usage</a></h2><p>[Since 0.11.6] - [ -P Psr/Psr16Usage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#psr-16-usage">Online docs</a> ]</p><p>PSR-16 describes a simple yet extensible interface for a cache item and a cache driver. It is supported by an set of interfaces, that one may use in the code.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">My</span><span style="color: #007700">\</span><span style="color: #0000BB">SimpleCache</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;MyCache&nbsp;implements&nbsp;the&nbsp;PSR-16&nbsp;Simple&nbsp;cache.<br />//&nbsp;MyCache&nbsp;is&nbsp;more&nbsp;of&nbsp;a&nbsp;black&nbsp;hole&nbsp;than&nbsp;a&nbsp;real&nbsp;cache.<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">MyCache&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">Psr</span><span style="color: #007700">\</span><span style="color: #0000BB">SimpleCache</span><span style="color: #007700">\</span><span style="color: #0000BB">CacheInterface&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">get</span><span style="color: #007700">(</span><span style="color: #0000BB">$key</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$default&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">)&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">set</span><span style="color: #007700">(</span><span style="color: #0000BB">$key</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$ttl&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">)&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">delete</span><span style="color: #007700">(</span><span style="color: #0000BB">$key</span><span style="color: #007700">)&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">clear</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">getMultiple</span><span style="color: #007700">(</span><span style="color: #0000BB">$keys</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$default&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">)&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">setMultiple</span><span style="color: #007700">(</span><span style="color: #0000BB">$values</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$ttl&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">)&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">deleteMultiple</span><span style="color: #007700">(</span><span style="color: #0000BB">$keys</span><span style="color: #007700">)&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">has</span><span style="color: #007700">(</span><span style="color: #0000BB">$key</span><span style="color: #007700">)&nbsp;{}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php-fig.org/psr/psr-16/" alt="PSR-16 : Common Interface for Caching Libraries">PSR-16 : Common Interface for Caching Libraries</a>.</p>
<h2><a href="issues.html#analyzer=psr_psr7usage" id="psr_psr7usage">PSR-7 Usage</a></h2><p>[Since 0.11.6] - [ -P Psr/Psr7Usage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#psr-7-usage">Online docs</a> ]</p><p>PSR-7 describes common interfaces for representing HTTP messages as described in <a href="https://tools.ietf.org/html/rfc7230" alt="RFC 7230">RFC 7230</a> and <a href="https://tools.ietf.org/html/rfc7231" alt="RFC 7231">RFC 7231</a>, and URIs for use with HTTP messages as described in <a href="https://tools.ietf.org/html/rfc3986" alt="RFC 3986">RFC 3986</a>. <br />
<br />
It is supported by an set of interfaces, that one may use in the code.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">MyNamespace</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;MyServerRequest&nbsp;implements&nbsp;the&nbsp;PSR-7&nbsp;ServerRequestInterface.<br />//&nbsp;MyServerRequest&nbsp;is&nbsp;more&nbsp;of&nbsp;a&nbsp;black&nbsp;hole&nbsp;than&nbsp;a&nbsp;real&nbsp;Server.<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">MyServerRequest&nbsp;</span><span style="color: #007700">extends&nbsp;&nbsp;\</span><span style="color: #0000BB">Psr</span><span style="color: #007700">\</span><span style="color: #0000BB">Http</span><span style="color: #007700">\</span><span style="color: #0000BB">Message</span><span style="color: #007700">\</span><span style="color: #0000BB">ServerRequestInterface&nbsp;&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">getServerParams</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">getCookieParams</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">withCookieParams</span><span style="color: #007700">(array&nbsp;</span><span style="color: #0000BB">$cookies</span><span style="color: #007700">)&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">getQueryParams</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">withQueryParams</span><span style="color: #007700">(array&nbsp;</span><span style="color: #0000BB">$query</span><span style="color: #007700">)&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">getUploadedFiles</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">withUploadedFiles</span><span style="color: #007700">(array&nbsp;</span><span style="color: #0000BB">$uploadedFiles</span><span style="color: #007700">)&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">getParsedBody</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">withParsedBody</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">)&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">getAttributes</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">getAttribute</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$default&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">)&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">withAttribute</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">withoutAttribute</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">)&nbsp;{}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php-fig.org/psr/psr-7/" alt="PSR-7 : HTTP message interfaces">PSR-7 : HTTP message interfaces</a>.</p>
<h2><a href="issues.html#analyzer=psr_psr6usage" id="psr_psr6usage">PSR-6 Usage</a></h2><p>[Since 0.11.6] - [ -P Psr/Psr6Usage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#psr-6-usage">Online docs</a> ]</p><p>PSR-6 is the cache standard for PHP.<br />
<br />
The goal of PSR-6 is to allow developers to create cache-aware libraries that can be integrated into existing frameworks and systems without the need for custom development.<br />
<br />
It is supported by an set of interfaces, that one may use in the code.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">MyNamespace</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;MyCacheItem&nbsp;implements&nbsp;the&nbsp;PSR-7&nbsp;CacheItemInterface.<br />//&nbsp;This&nbsp;MyCacheItem&nbsp;is&nbsp;more&nbsp;of&nbsp;a&nbsp;black&nbsp;hole&nbsp;than&nbsp;a&nbsp;real&nbsp;CacheItem.<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">MyCacheItem&nbsp;</span><span style="color: #007700">implements&nbsp;\</span><span style="color: #0000BB">Psr</span><span style="color: #007700">\</span><span style="color: #0000BB">Cache</span><span style="color: #007700">\</span><span style="color: #0000BB">CacheItemInterface&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">getKey</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">get</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">isHit</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">set</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">expiresAt</span><span style="color: #007700">(</span><span style="color: #0000BB">$expiration</span><span style="color: #007700">)&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">expiresAfter</span><span style="color: #007700">(</span><span style="color: #0000BB">$time</span><span style="color: #007700">)&nbsp;{}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php-fig.org/psr/psr-6/" alt="PSR-6 : Caching">PSR-6 : Caching</a>.</p>
<h2><a href="issues.html#analyzer=psr_psr3usage" id="psr_psr3usage">PSR-3 Usage</a></h2><p>[Since 0.11.6] - [ -P Psr/Psr3Usage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#psr-3-usage">Online docs</a> ]</p><p>PSR-3 describes a common interface for logging libraries.<br />
<br />
It is supported by an set of interfaces, that one may use in the code.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">MyNamespace</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;MyLog&nbsp;implements&nbsp;the&nbsp;PSR-3&nbsp;LoggerInterface.<br />//&nbsp;MyLog&nbsp;is&nbsp;more&nbsp;of&nbsp;a&nbsp;black&nbsp;hole&nbsp;than&nbsp;a&nbsp;real&nbsp;Log.<br /></span><span style="color: #007700">namespace&nbsp;;<br /><br />class&nbsp;</span><span style="color: #0000BB">MyLog&nbsp;</span><span style="color: #007700">implements&nbsp;\</span><span style="color: #0000BB">Psr</span><span style="color: #007700">\</span><span style="color: #0000BB">Log</span><span style="color: #007700">\</span><span style="color: #0000BB">LoggerInterface&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">emergency</span><span style="color: #007700">(</span><span style="color: #0000BB">$message</span><span style="color: #007700">,&nbsp;array&nbsp;</span><span style="color: #0000BB">$context&nbsp;</span><span style="color: #007700">=&nbsp;array())&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">alert</span><span style="color: #007700">(</span><span style="color: #0000BB">$message</span><span style="color: #007700">,&nbsp;array&nbsp;</span><span style="color: #0000BB">$context&nbsp;</span><span style="color: #007700">=&nbsp;array())&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">critical</span><span style="color: #007700">(</span><span style="color: #0000BB">$message</span><span style="color: #007700">,&nbsp;array&nbsp;</span><span style="color: #0000BB">$context&nbsp;</span><span style="color: #007700">=&nbsp;array())&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">error</span><span style="color: #007700">(</span><span style="color: #0000BB">$message</span><span style="color: #007700">,&nbsp;array&nbsp;</span><span style="color: #0000BB">$context&nbsp;</span><span style="color: #007700">=&nbsp;array())&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">warning</span><span style="color: #007700">(</span><span style="color: #0000BB">$message</span><span style="color: #007700">,&nbsp;array&nbsp;</span><span style="color: #0000BB">$context&nbsp;</span><span style="color: #007700">=&nbsp;array())&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">notice</span><span style="color: #007700">(</span><span style="color: #0000BB">$message</span><span style="color: #007700">,&nbsp;array&nbsp;</span><span style="color: #0000BB">$context&nbsp;</span><span style="color: #007700">=&nbsp;array())&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">info</span><span style="color: #007700">(</span><span style="color: #0000BB">$message</span><span style="color: #007700">,&nbsp;array&nbsp;</span><span style="color: #0000BB">$context&nbsp;</span><span style="color: #007700">=&nbsp;array())&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">debug</span><span style="color: #007700">(</span><span style="color: #0000BB">$message</span><span style="color: #007700">,&nbsp;array&nbsp;</span><span style="color: #0000BB">$context&nbsp;</span><span style="color: #007700">=&nbsp;array())&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">log</span><span style="color: #007700">(</span><span style="color: #0000BB">$level</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$message</span><span style="color: #007700">,&nbsp;array&nbsp;</span><span style="color: #0000BB">$context&nbsp;</span><span style="color: #007700">=&nbsp;array())&nbsp;{}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php-fig.org/psr/psr-3/" alt="PSR-3 : Logger Interface">PSR-3 : Logger Interface</a>.</p>
<h2><a href="issues.html#analyzer=psr_psr11usage" id="psr_psr11usage">PSR-11 Usage</a></h2><p>[Since 0.11.5] - [ -P Psr/Psr11Usage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#psr-11-usage">Online docs</a> ]</p><p>PSR-11 describes a common interface for dependency injection containers.<br />
<br />
It is supported by an set of interfaces, that one may use in the code.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">MyNamespace</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;MyContainerInterface&nbsp;implements&nbsp;the&nbsp;PSR-7&nbsp;ServerRequestInterface.<br />//&nbsp;MyContainerInterface&nbsp;is&nbsp;more&nbsp;of&nbsp;a&nbsp;black&nbsp;hole&nbsp;than&nbsp;a&nbsp;real&nbsp;Container.<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">MyContainerInterface&nbsp;</span><span style="color: #007700">implements&nbsp;\</span><span style="color: #0000BB">Psr</span><span style="color: #007700">\</span><span style="color: #0000BB">Container</span><span style="color: #007700">\</span><span style="color: #0000BB">ContainerInterface&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">get</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">)&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">has</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">)&nbsp;{}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://github.com/container-interop/fig-standards/blob/master/proposed/container.md" alt="PSR-11 : Dependency injection container">PSR-11 : Dependency injection container</a>.<br />
</p>
<h2><a href="issues.html#analyzer=psr_psr13usage" id="psr_psr13usage">PSR-13 Usage</a></h2><p>[Since 0.11.6] - [ -P Psr/Psr13Usage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#psr-13-usage">Online docs</a> ]</p><p>PSR-13 describes a common interface for dependency injection containers.<br />
<br />
It is supported by an set of interfaces, that one may use in the code.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">MyNamespace</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;MyLink&nbsp;implements&nbsp;the&nbsp;PSR-13&nbsp;LinkInterface.<br />//&nbsp;MyLink&nbsp;is&nbsp;more&nbsp;of&nbsp;a&nbsp;black&nbsp;hole&nbsp;than&nbsp;a&nbsp;real&nbsp;Container.<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">MyLink&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">LinkInterface&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">getHref</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">isTemplated</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">getRels</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">getAttributes</span><span style="color: #007700">()&nbsp;{}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php-fig.org/psr/psr-13/" alt="PSR-13 : Link definition interface">PSR-13 : Link definition interface</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_mixedconcatinterpolation" id="structures_mixedconcatinterpolation">Mixed Concat And Interpolation</a></h2><p>[Since 0.11.5] - [ -P Structures/MixedConcatInterpolation ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#mixed-concat-and-interpolation">Online docs</a> ]</p><p>Mixed usage of concatenation and string interpolation is error prone. It is harder to read, and leads to overlooking the concatenation or the interpolation.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Concatenation&nbsp;string<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'c'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$d</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Interpolation&nbsp;strings<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;{</span><span style="color: #0000BB">$b</span><span style="color: #007700">}</span><span style="color: #0000BB">c</span><span style="color: #007700">{</span><span style="color: #0000BB">$d</span><span style="color: #007700">};&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;regular&nbsp;form<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;{</span><span style="color: #0000BB">$b</span><span style="color: #007700">}</span><span style="color: #0000BB">c$d</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;irregular&nbsp;form<br /><br />//&nbsp;Mixed&nbsp;Concatenation&nbsp;and&nbsp;Interpolation&nbsp;string<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;{</span><span style="color: #0000BB">$b</span><span style="color: #007700">}</span><span style="color: #0000BB">c&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$d</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">c$d</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">c</span><span style="color: #007700">{</span><span style="color: #0000BB">$d</span><span style="color: #007700">};<br /><br /></span><span style="color: #FF8000">//&nbsp;Mixed&nbsp;Concatenation&nbsp;and&nbsp;Interpolation&nbsp;string&nbsp;with&nbsp;constant<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;{</span><span style="color: #0000BB">$b</span><span style="color: #007700">}</span><span style="color: #0000BB">c&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">CONSTANT</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
Fixing this issue has no impact on the output. It makes code less error prone.<br />
<br />
There are some situations where using concatenation are compulsory : when using a constant, calling a function, running a complex expression or make use of the escape sequence. You may also consider pushing the storing of such expression in a local variable.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extstats" id="extensions_extstats">ext/stats</a></h2><p>[Since 0.11.5] - [ -P Extensions/Extstats ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-stats">Online docs</a> ]</p><p>Statistics extension.<br />
<br />
This extension contains few dozens of functions useful for statistical computations. It is a wrapper around 2 scientific libraries, namely <a href="https://people.sc.fsu.edu/~jburkardt/c_src/cdflib/cdflib.html" alt="DCDFLIB">DCDFLIB</a> (Library of C routines for Cumulative Distributions Functions, Inverses, and Other parameters) by B. Brown & J. Lavato and <a href="http://people.sc.fsu.edu/~jburkardt/f77_src/ranlib/ranlib.html" alt="RANDLIB">RANDLIB</a> by Barry Brown, James Lavato & Kathy Russell. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;[&nbsp;</span><span style="color: #0000BB">15</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">16</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">8</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">6</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">15</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">12</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">12</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">18</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">12</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">20</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">12</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">14</span><span style="color: #007700">,&nbsp;];<br /></span><span style="color: #0000BB">$y&nbsp;</span><span style="color: #007700">=&nbsp;[&nbsp;</span><span style="color: #0000BB">17.24</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">15</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">14.91</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4.5</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">18</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">6.29</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">19.23</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">18.69</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">7.21</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">42.06</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">7.5</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">8</span><span style="color: #007700">,];<br /><br /></span><span style="color: #0000BB">sprintf</span><span style="color: #007700">(%</span><span style="color: #0000BB">2.9f</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">stats_covariance</span><span style="color: #007700">(</span><span style="color: #0000BB">$a_1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$a_2</span><span style="color: #007700">));<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.stats.php" alt="Statistics">Statistics</a> and <a href="https://pecl.php.net/package/stats" alt="ext/stats">ext/stats</a>.</p>
<h2><a href="issues.html#analyzer=structures_concatenationinterpolationfavorite" id="structures_concatenationinterpolationfavorite">Concatenation Interpolation Consistence</a></h2><p>[Since 0.11.6] - [ -P Structures/ConcatenationInterpolationFavorite ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#concatenation-interpolation-consistence">Online docs</a> ]</p><p>Concatenations are done with the . operator or by interpolation inside a string. <br />
<br />
Interpolation is a clean way to write concatenation, though it gets messy with long dereferences or with constants. Concatenations are longer to write. <br />
<br />
The analyzed code has less than 10% of one of them : for consistency reasons, it is recommended to make them all the same. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;be&nbsp;consistent<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;$c</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;$e</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$e&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;$e</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;$f</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$f&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;$z</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$h&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;$e</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$y&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;$e</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;$x</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$j&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;$c</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;$g</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;$h</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Be&nbsp;consistent,&nbsp;always&nbsp;use&nbsp;the&nbsp;same.&nbsp;<br /></span><span style="color: #0000BB">$z&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$w</span><span style="color: #007700">.</span><span style="color: #DD0000">'&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$e</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_php73newfunctions" id="php_php73newfunctions">New Functions In PHP 7.3</a></h2><p>[Since 0.10.7] - [ -P Php/Php73NewFunctions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#new-functions-in-php-7.3">Online docs</a> ] - [ PHP  older than 7.3]</p><p>New functions are added to new PHP version.<br />
<br />
The following functions are now native functions in PHP 7.3. It is compulsory to rename any custom function that was created in older versions. One alternative is to move the function to a custom namespace, and update the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">use</span>  list at the beginning of the script. <br />
<br />
<ul>
<li><a href="http://php.net/net_get_interfaces" alt="net_get_interfaces">net_get_interfaces</a></li>
<li><a href="http://php.net/gmp_binomial" alt="gmp_binomial">gmp_binomial</a></li>
<li><a href="http://php.net/gmp_lcm" alt="gmp_lcm">gmp_lcm</a></li>
<li><a href="http://php.net/gmp_perfect_power" alt="gmp_perfect_power">gmp_perfect_power</a></li>
<li><a href="http://php.net/gmp_kronecker" alt="gmp_kronecker">gmp_kronecker</a></li>
<li><a href="http://php.net/openssl_pkey_derive" alt="openssl_pkey_derive">openssl_pkey_derive</a></li>
<li><a href="http://php.net/is_countable" alt="is_countable">is_countable</a></li>
<li><a href="http://php.net/ldap_exop_refresh" alt="ldap_exop_refresh">ldap_exop_refresh</a></li>
</ul>
<br />
Note : At the moment of writing, all links to the manual are not working. <br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_toomanyinjections" id="classes_toomanyinjections">Too Many Injections</a></h2><p>[Since 0.11.6] - [ -P Classes/TooManyInjections ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#too-many-injections">Online docs</a> ]</p><p>When a class is constructed with more than four dependencies, it should be split into smaller classes.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;class&nbsp;relies&nbsp;on&nbsp;5&nbsp;other&nbsp;instances.&nbsp;<br />//&nbsp;It&nbsp;is&nbsp;probably&nbsp;doing&nbsp;too&nbsp;much.<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">A&nbsp;$a</span><span style="color: #007700">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">B&nbsp;$b</span><span style="color: #007700">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">C&nbsp;$c</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">D&nbsp;$d<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;E&nbsp;$e&nbsp;</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">d&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$d</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">d&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$d</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">e&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$e</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://seregazhuk.github.io/2017/05/04/di-smells/" alt="Dependency Injection Smells">Dependency Injection Smells</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=patterns_dependencyinjection" id="patterns_dependencyinjection">Dependency Injection</a></h2><p>[Since 0.11.6] - [ -P Patterns/DependencyInjection ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#dependency-injection">Online docs</a> ]</p><p>A dependency injection is a typehinted argument, that is stored in a property by the constructor. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Classic&nbsp;dependency&nbsp;injection&nbsp;<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">Bar&nbsp;$bar</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">(</span><span style="color: #0000BB">$args</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">barbar</span><span style="color: #007700">(</span><span style="color: #0000BB">$args</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Without&nbsp;typehint,&nbsp;this&nbsp;is&nbsp;not&nbsp;a&nbsp;dependency&nbsp;injection<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$bar</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php-di.org/doc/understanding-di.html" alt="Understanding Dependency Injection">Understanding Dependency Injection</a>.<br />
</p>
<h2><a href="issues.html#analyzer=patterns_courrierantipattern" id="patterns_courrierantipattern">Courier Anti-Pattern</a></h2><p>[Since 0.11.6] - [ -P Patterns/CourrierAntiPattern ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#courier-anti-pattern">Online docs</a> ]</p><p>The courier anti-pattern is the storage of a dependency by a class, in order to create an instance that requires this dependency.<br />
<br />
The class itself doesn't actually need this dependency, but has a dependency to a class that requires it. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;The&nbsp;foo&nbsp;class&nbsp;requires&nbsp;bar<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">Bar&nbsp;$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Class&nbsp;A&nbsp;doesn't&nbsp;depends&nbsp;on&nbsp;Bar,&nbsp;but&nbsp;depends&nbsp;on&nbsp;Foo<br />//&nbsp;Class&nbsp;A&nbsp;never&nbsp;uses&nbsp;Bar,&nbsp;but&nbsp;only&nbsp;uses&nbsp;Foo.<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$courier</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">Bar&nbsp;$courier</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">courier&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$courier</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">Afoo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">courier</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />}<br /></span>?&gt;</pre><br />
<br />
The alternative here is to inject Foo instead of Bar. <br />
<br />
See also <a href="https://r.je/oop-courier-anti-pattern.html" alt="Courier Anti-pattern">Courier Anti-pattern</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extgender" id="extensions_extgender">ext/gender</a></h2><p>[Since 0.11.6] - [ -P Extensions/Extgender ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-gender">Online docs</a> ]</p><p>Gender extension.<br />
<br />
The Gender PHP extension is a port of the gender.c program originally written by Joerg Michael. Its main purpose is to find out the gender of firstnames, based on a database of over 40000 firstnames from 54 countries.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">Gender</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$gender&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Gender</span><span style="color: #007700">;<br /><br />&nbsp;<br /></span><span style="color: #0000BB">$name&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Milene'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$country&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">Gender</span><span style="color: #007700">::</span><span style="color: #0000BB">FRANCE</span><span style="color: #007700">;<br />&nbsp;<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$gender</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">get</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$country</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$data&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$gender</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">country</span><span style="color: #007700">(</span><span style="color: #0000BB">$country</span><span style="color: #007700">);<br /><br />switch(</span><span style="color: #0000BB">$result</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">Gender</span><span style="color: #007700">::</span><span style="color: #0000BB">IS_FEMALE</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">'The&nbsp;name&nbsp;%s&nbsp;is&nbsp;female&nbsp;in&nbsp;%s\n'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #DD0000">'country'</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;break;<br /><br />&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">Gender</span><span style="color: #007700">::</span><span style="color: #0000BB">IS_MOSTLY_FEMALE</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">'The&nbsp;name&nbsp;%s&nbsp;is&nbsp;mostly&nbsp;female&nbsp;in&nbsp;%s\n'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #DD0000">'country'</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;break;<br /><br />&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">Gender</span><span style="color: #007700">::</span><span style="color: #0000BB">IS_MALE</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">'The&nbsp;name&nbsp;%s&nbsp;is&nbsp;male&nbsp;in&nbsp;%s\n'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #DD0000">'country'</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;break;<br /><br />&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">Gender</span><span style="color: #007700">::</span><span style="color: #0000BB">IS_MOSTLY_MALE</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">'The&nbsp;name&nbsp;%s&nbsp;is&nbsp;mostly&nbsp;male&nbsp;in&nbsp;%s\n'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #DD0000">'country'</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;break;<br /><br />&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">Gender</span><span style="color: #007700">::</span><span style="color: #0000BB">IS_UNISEX_NAME</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">'The&nbsp;name&nbsp;%s&nbsp;is&nbsp;unisex&nbsp;in&nbsp;%s\n'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #DD0000">'country'</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;break;<br /><br />&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">Gender</span><span style="color: #007700">::</span><span style="color: #0000BB">IS_A_COUPLE</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">'The&nbsp;name&nbsp;%s&nbsp;is&nbsp;both&nbsp;male&nbsp;and&nbsp;female&nbsp;in&nbsp;%s\n'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #DD0000">'country'</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;break;<br /><br />&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">Gender</span><span style="color: #007700">::</span><span style="color: #0000BB">NAME_NOT_FOUND</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">'The&nbsp;name&nbsp;%s&nbsp;was&nbsp;not&nbsp;found&nbsp;for&nbsp;%s\n'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #DD0000">'country'</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;break;<br /><br />&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">Gender</span><span style="color: #007700">::</span><span style="color: #0000BB">ERROR_IN_NAME</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'There&nbsp;is&nbsp;an&nbsp;error&nbsp;in&nbsp;the&nbsp;given&nbsp;name!'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;default:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'An&nbsp;error&nbsp;occurred!'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;break;<br /><br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.gender.php" alt="ext/gender manual">ext/gender manual</a> and <br />
         <a href="https://github.com/cstuder/genderReader" alt="genderReader">genderReader</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extjudy" id="extensions_extjudy">ext/judy</a></h2><p>[Since 0.11.6] - [ -P Extensions/Extjudy ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-judy">Online docs</a> ]</p><p>The Judy extension. <br />
<br />
PHP Judy is a PECL extension for the <a href="http://judy.sourceforge.net/" alt="Judy C library">Judy C library</a> implementing dynamic sparse arrays.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$judy&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Judy</span><span style="color: #007700">(</span><span style="color: #0000BB">Judy</span><span style="color: #007700">::</span><span style="color: #0000BB">BITSET</span><span style="color: #007700">);<br />if&nbsp;(</span><span style="color: #0000BB">$judy</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getType</span><span style="color: #007700">()&nbsp;===&nbsp;</span><span style="color: #0000BB">judy_type</span><span style="color: #007700">(</span><span style="color: #0000BB">$judy</span><span style="color: #007700">)&nbsp;&amp;&amp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$judy</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getType</span><span style="color: #007700">()&nbsp;===&nbsp;</span><span style="color: #0000BB">Judy</span><span style="color: #007700">::</span><span style="color: #0000BB">BITSET</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Judy&nbsp;BITSET&nbsp;type&nbsp;OK'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Judy&nbsp;BITSET&nbsp;type&nbsp;check&nbsp;fail'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />}<br />unset(</span><span style="color: #0000BB">$judy</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://github.com/orieg/php-judy" alt="php-judy">php-judy</a>.<br />
</p>
<h2><a href="issues.html#analyzer=functions_couldcentralize" id="functions_couldcentralize">Could Make A Function</a></h2><p>[Since 0.11.6] - [ -P Functions/CouldCentralize ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#could-make-a-function">Online docs</a> ]</p><p>When a function is called across the code with the same arguments often enough, it should be turned into a local API. <br />
<br />
This approach is similar to turning literals into constants : it centralize the value, it helps refactoring by updating it. It also makes the code more readable. Moreover, it often highlight common grounds between remote code locations. <br />
<br />
The analysis looks for functions calls, and checks the arguments. When the calls occurs more than 4 times, it is reported. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;str_replace&nbsp;is&nbsp;used&nbsp;to&nbsp;clean&nbsp;'&amp;'&nbsp;from&nbsp;strings.&nbsp;<br />//&nbsp;It&nbsp;should&nbsp;be&nbsp;upgraded&nbsp;to&nbsp;a&nbsp;central&nbsp;function<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$arg&nbsp;</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$arg&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'&amp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$arg</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;do&nbsp;something&nbsp;with&nbsp;$arg<br /></span><span style="color: #007700">}<br /><br />class&nbsp;</span><span style="color: #0000BB">y&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">$database&nbsp;</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$value&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$database</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">queryName</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$value&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'&amp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$value&nbsp;=&nbsp;removeAmpersand($value);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;do&nbsp;something&nbsp;with&nbsp;$arg2<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;helper&nbsp;function<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">removeAmpersand</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'&amp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself" alt="Don't repeat yourself (DRY)">Don't repeat yourself (DRY)</a>.<br />
</p>
<h2><a href="issues.html#analyzer=interfaces_coulduseinterface" id="interfaces_coulduseinterface">Forgotten Interface</a></h2><p>[Since 0.11.7] - [ -P Interfaces/CouldUseInterface ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#forgotten-interface">Online docs</a> ]</p><p>The following classes have been found implementing an interface's methods, though it doesn't explicitly implements this interface. This may have been forgotten.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">interface&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">i</span><span style="color: #007700">();&nbsp;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;i&nbsp;is&nbsp;not&nbsp;implemented&nbsp;and&nbsp;declared<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">i</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">j</span><span style="color: #007700">()&nbsp;{}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;i&nbsp;is&nbsp;implemented&nbsp;and&nbsp;declared<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">i</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">j</span><span style="color: #007700">()&nbsp;{}<br />}<br /></span>?&gt;</pre><br />
<br />
See also Traits/CouldUseTrait.<br />
<br />
 </p>
<h2><a href="issues.html#analyzer=vendors_yii" id="vendors_yii">Yii usage</a></h2><p>[Since 0.11.8] - [ -P Vendors/Yii ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#yii-usage">Online docs</a> ]</p><p>This analysis reports usage of the Yii framework.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;A&nbsp;Yii&nbsp;controller<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">SiteController&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">CController<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">actionIndex</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;...<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">actionContact</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;...<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.yiiframework.com/" alt="Yii">Yii</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=vendors_codeigniter" id="vendors_codeigniter">Codeigniter usage</a></h2><p>[Since 0.11.8] - [ -P Vendors/Codeigniter ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#codeigniter-usage">Online docs</a> ]</p><p>This analysis reports usage of the Codeigniter framework.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;A&nbsp;code&nbsp;igniter&nbsp;controller<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Blog&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">CI_Controller&nbsp;</span><span style="color: #007700">{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">index</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Hello&nbsp;World!'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://codeigniter.com/" alt="Codeigniter">Codeigniter</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=vendors_laravel" id="vendors_laravel">Laravel usage</a></h2><p>[Since 0.11.8] - [ -P Vendors/Laravel ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#laravel-usage">Online docs</a> ]</p><p>This analysis reports usage of the Laravel framework.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">App</span><span style="color: #007700">\</span><span style="color: #0000BB">Http</span><span style="color: #007700">\</span><span style="color: #0000BB">Controllers</span><span style="color: #007700">;<br /><br />use&nbsp;</span><span style="color: #0000BB">App</span><span style="color: #007700">\</span><span style="color: #0000BB">User</span><span style="color: #007700">;<br />use&nbsp;</span><span style="color: #0000BB">App</span><span style="color: #007700">\</span><span style="color: #0000BB">Http</span><span style="color: #007700">\</span><span style="color: #0000BB">Controllers</span><span style="color: #007700">\</span><span style="color: #0000BB">Controller</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">UserController&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Controller<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Show&nbsp;the&nbsp;profile&nbsp;for&nbsp;the&nbsp;given&nbsp;user.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;&nbsp;int&nbsp;&nbsp;$id<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;Response<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">show</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">view</span><span style="color: #007700">(</span><span style="color: #DD0000">'user.profile'</span><span style="color: #007700">,&nbsp;[</span><span style="color: #DD0000">'user'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">User</span><span style="color: #007700">::</span><span style="color: #0000BB">findOrFail</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">)]);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.lavarel.com/" alt="Laravel">Laravel</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=vendors_symfony" id="vendors_symfony">Symfony usage</a></h2><p>[Since 0.11.8] - [ -P Vendors/Symfony ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#symfony-usage">Online docs</a> ]</p><p>This analysis reports usage of the Symfony framework.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;src/AppBundle/Controller/LuckyController.php<br /></span><span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">AppBundle</span><span style="color: #007700">\</span><span style="color: #0000BB">Controller</span><span style="color: #007700">;<br /><br />use&nbsp;</span><span style="color: #0000BB">Sensio</span><span style="color: #007700">\</span><span style="color: #0000BB">Bundle</span><span style="color: #007700">\</span><span style="color: #0000BB">FrameworkExtraBundle</span><span style="color: #007700">\</span><span style="color: #0000BB">Configuration</span><span style="color: #007700">\</span><span style="color: #0000BB">Route</span><span style="color: #007700">;<br />use&nbsp;</span><span style="color: #0000BB">Symfony</span><span style="color: #007700">\</span><span style="color: #0000BB">Component</span><span style="color: #007700">\</span><span style="color: #0000BB">HttpFoundation</span><span style="color: #007700">\</span><span style="color: #0000BB">Response</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">LuckyController<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@Route(/lucky/number)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">numberAction</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$number&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mt_rand</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;</span><span style="color: #0000BB">Response</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'&lt;html&gt;&lt;body&gt;Lucky&nbsp;number:&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$number</span><span style="color: #007700">.</span><span style="color: #DD0000">'&lt;/body&gt;&lt;/html&gt;'<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.symfony.com/" alt="Symfony">Symfony</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=vendors_wordpress" id="vendors_wordpress">Wordpress usage</a></h2><p>[Since 0.11.8] - [ -P Vendors/Wordpress ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#wordpress-usage">Online docs</a> ]</p><p>This analysis reports usage of the Wordress platform.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//Usage&nbsp;of&nbsp;the&nbsp;WP_http&nbsp;class&nbsp;from&nbsp;Wordpress<br /></span><span style="color: #0000BB">$rags&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'x'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'1'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'y'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'2'<br /></span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$url&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'http://www.example.com/'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$request&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">WP_Http</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$request</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">request</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$url</span><span style="color: #007700">,&nbsp;array(&nbsp;</span><span style="color: #DD0000">'method'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'POST'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'body'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$body</span><span style="color: #007700">)&nbsp;);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.wordpress.org/" alt="Wordpress">Wordpress</a>.<br />
</p>
<h2><a href="issues.html#analyzer=vendors_ez" id="vendors_ez">Ez cms usage</a></h2><p>[Since 0.11.8] - [ -P Vendors/Ez ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ez-cms-usage">Online docs</a> ]</p><p>This analysis reports usage of the Ez cms.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">My</span><span style="color: #007700">\</span><span style="color: #0000BB">Bundle</span><span style="color: #007700">\</span><span style="color: #0000BB">With</span><span style="color: #007700">\</span><span style="color: #0000BB">Controller</span><span style="color: #007700">;<br /><br />use&nbsp;</span><span style="color: #0000BB">eZ</span><span style="color: #007700">\</span><span style="color: #0000BB">Bundle</span><span style="color: #007700">\</span><span style="color: #0000BB">EzPublishCoreBundle</span><span style="color: #007700">\</span><span style="color: #0000BB">Controller</span><span style="color: #007700">;<br />use&nbsp;</span><span style="color: #0000BB">Symfony</span><span style="color: #007700">\</span><span style="color: #0000BB">Component</span><span style="color: #007700">\</span><span style="color: #0000BB">HttpFoundation</span><span style="color: #007700">\</span><span style="color: #0000BB">Request</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">DemoController&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Controller&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">demoCreateContentAction</span><span style="color: #007700">(</span><span style="color: #0000BB">Request&nbsp;$request</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://ez.no/" alt="Ez">Ez</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_usesessionstartoptions" id="php_usesessionstartoptions">Use session_start() Options</a></h2><p>[Since 0.11.8] - [ -P Php/UseSessionStartOptions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-session_start---options">Online docs</a> ] - [ PHP 7.0 and more recent ]</p><p>It is possible to set the session's option at session_start() call, skipping the usage of session_option().<br />
<br />
This way, session's options are set in one call, saving several hits.<br />
<br />
This is available since PHP 7.0. It is recommended to set those values in the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">php.ini</span>  file, whenever possible. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;PHP&nbsp;7.0<br /></span><span style="color: #0000BB">session_start</span><span style="color: #007700">([</span><span style="color: #DD0000">'session.name'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'mySession'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'session.cookie_httponly'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'session.gc_maxlifetime'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">60&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">60</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;PHP&nbsp;5.6-&nbsp;old&nbsp;way&nbsp;<br /></span><span style="color: #0000BB">ini_set&nbsp;</span><span style="color: #007700">(</span><span style="color: #DD0000">'session.name'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'mySession'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">ini_set</span><span style="color: #007700">(</span><span style="color: #0000BB">session</span><span style="color: #007700">.</span><span style="color: #0000BB">cookie_httponly</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);&nbsp;<br /></span><span style="color: #0000BB">ini_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'session.gc_maxlifetime'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">60&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">60</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">session_start</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_cantinheritabstractmethod" id="classes_cantinheritabstractmethod">Cant Inherit Abstract Method</a></h2><p>[Since 0.11.8] - [ -P Classes/CantInheritAbstractMethod ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#cant-inherit-abstract-method">Online docs</a> ] - [ PHP 7.2 and more recent ]</p><p>Inheriting abstract methods was made available in PHP 7.2. In previous versions, it emitted a fatal error.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">abstract&nbsp;class&nbsp;</span><span style="color: #0000BB">A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">{&nbsp;abstract&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">stdClass&nbsp;$x</span><span style="color: #007700">);&nbsp;&nbsp;}<br />abstract&nbsp;class&nbsp;</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{&nbsp;abstract&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">$x</span><span style="color: #007700">):&nbsp;</span><span style="color: #0000BB">stdClass</span><span style="color: #007700">;&nbsp;}<br /><br /></span><span style="color: #FF8000">//&nbsp;&nbsp;&nbsp;Fatal&nbsp;error:&nbsp;Can't&nbsp;inherit&nbsp;abstract&nbsp;function&nbsp;A::bar()<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://wiki.php.net/rfc/allow-abstract-function-override" alt="PHP RFC: Allow abstract function override">PHP RFC: Allow abstract function override</a>.<br />
</p>
<h2><a href="issues.html#analyzer=vendors_joomla" id="vendors_joomla">Joomla usage</a></h2><p>[Since 0.11.8] - [ -P Vendors/Joomla ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#joomla-usage">Online docs</a> ]</p><p>This analysis reports usage of the Joomla CMS.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;no&nbsp;direct&nbsp;access<br /></span><span style="color: #0000BB">defined</span><span style="color: #007700">(</span><span style="color: #DD0000">'_JEXEC'</span><span style="color: #007700">)&nbsp;or&nbsp;die(</span><span style="color: #DD0000">'Restricted&nbsp;access'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">jimport</span><span style="color: #007700">(</span><span style="color: #DD0000">'joomla.application.component.controller'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">JLoader</span><span style="color: #007700">::</span><span style="color: #0000BB">import</span><span style="color: #007700">(</span><span style="color: #DD0000">'KBIntegrator'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">JPATH_PLUGINS&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">DS&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'kbi'</span><span style="color: #007700">);<br /><br />class&nbsp;</span><span style="color: #0000BB">MyController&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">JController&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">display</span><span style="color: #007700">(</span><span style="color: #0000BB">$message</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$message</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.joomla.org/" alt="Joomla">Joomla</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_nonbreakablespaceinnames" id="structures_nonbreakablespaceinnames">Non Breakable Space In Names</a></h2><p>[Since 0.12.0] - [ -P Structures/NonBreakableSpaceInNames ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#non-breakable-space-in-names">Online docs</a> ]</p><p>PHP allows non-breakable spaces in structures names, such as class, interfaces, traits, and variables.<br />
<br />
This may be a nice trick to make names more readable outside code context, like long-named methods for tests. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">classwithnonbreakablespaces&nbsp;</span><span style="color: #007700">{}<br /><br />class&nbsp;</span><span style="color: #0000BB">ClassWithoutNonBreakableSpaces&nbsp;</span><span style="color: #007700">{}<br /></span>?&gt;</pre><br />
<br />
See also the original post by  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Matthieu Napoli</span>  : <a href="http://mnapoli.fr/using-non-breakable-spaces-in-test-method-names/" alt="Using non-breakable spaces in test method names">Using non-breakable spaces in test method names</a> and <br />
<a href="http://schappo.blogspot.nl/2015/06/php-variable-names.html" alt="PHP Variable Names">PHP Variable Names</a>.<br />
</p>
<h2><a href="issues.html#analyzer=functions_multipledeclarations" id="functions_multipledeclarations">Multiple Functions Declarations</a></h2><p>[Since 0.12.0] - [ -P Functions/MultipleDeclarations ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#multiple-functions-declarations">Online docs</a> ]</p><p>Some functions are declared multiple times in the code. <br />
<br />
PHP accepts multiple definitions for the same functions, as long as they are not in the same file (linting error), or not included simultaneously during the execution. <br />
<br />
This creates to several situations in which the same functions are defined multiple times : the function may be compatible with various PHP version, but their implementation may not. Or the function is part of a larger library, and sometimes only need without the rest of the library. <br />
<br />
It is recommended to avoid having several functions with the same name in one repository. Turn those functions into methods and load them when needed. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Other&nbsp;file<br /></span><span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{}<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_avoidoptionalproperties" id="classes_avoidoptionalproperties">Avoid Optional Properties</a></h2><p>[Since 0.12.0] - [ -P Classes/AvoidOptionalProperties ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#avoid-optional-properties">Online docs</a> ]</p><p>Avoid optional properties, to prevent littering the code with existence checks. <br />
<br />
When a property has to be checked once for existence, it is safer to check it each time. This leads to a decrease in readability and a lot of checks added to the code.<br />
<br />
Either make sure the property is set with an actual object rather than with null, or use a null object. A null object offers the same interface than the expected object, but does nothing. It allows calling its methods, without running into a Fatal error, nor testing it. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Example&nbsp;is&nbsp;courtesy&nbsp;'The&nbsp;Coding&nbsp;Machine'&nbsp;:&nbsp;it&nbsp;has&nbsp;been&nbsp;adapted&nbsp;from&nbsp;its&nbsp;original&nbsp;form.&nbsp;See&nbsp;link&nbsp;below.<br /><br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">MyMailer&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$logger</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">LoggerInterface&nbsp;$logger&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">logger&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$logger</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;function&nbsp;</span><span style="color: #0000BB">sendMail</span><span style="color: #007700">(</span><span style="color: #0000BB">Mail&nbsp;$mail</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Since&nbsp;$this-&gt;logger&nbsp;may&nbsp;be&nbsp;null,&nbsp;it&nbsp;must&nbsp;be&nbsp;tested&nbsp;anytime&nbsp;it&nbsp;is&nbsp;used.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">logger</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">logger</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">info</span><span style="color: #007700">(</span><span style="color: #DD0000">'Mail&nbsp;successfully&nbsp;sent.'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://bestpractices.thecodingmachine.com/php/design_beautiful_classes_and_methods.html#avoid-optional-services-as-much-as-possible" alt="Avoid optional services as much as possible">Avoid optional services as much as possible</a>,<br />
         <a href="https://www.sitepoint.com/the-null-object-pattern-polymorphism-in-domain-models/" alt="The Null Object Pattern  Polymorphism in Domain Models">The Null Object Pattern  Polymorphism in Domain Models</a>, and <br />
         <a href="https://dzone.com/articles/practical-php-refactoring-26" alt="Practical PHP Refactoring: Introduce Null Object">Practical PHP Refactoring: Introduce Null Object</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extswoole" id="extensions_extswoole">ext/swoole</a></h2><p>[Since 0.12.0] - [ -P Extensions/Extswoole ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-swoole">Online docs</a> ]</p><p>Swoole : Production-Grade Async programming Framework for PHP.<br />
<br />
Swoole is an event-driven asynchronous & concurrent networking communication framework with high performance written only in C for PHP.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">for(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">Swoole</span><span style="color: #007700">\</span><span style="color: #0000BB">Coroutine</span><span style="color: #007700">::</span><span style="color: #0000BB">create</span><span style="color: #007700">(function()&nbsp;use&nbsp;(</span><span style="color: #0000BB">$i</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$redis&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Swoole</span><span style="color: #007700">\</span><span style="color: #0000BB">Coroutine</span><span style="color: #007700">\</span><span style="color: #0000BB">Redis</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$res&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$redis</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'127.0.0.1'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">6379</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ret&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$redis</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">incr</span><span style="color: #007700">(</span><span style="color: #DD0000">'coroutine'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$redis</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">close</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">50</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">Swoole</span><span style="color: #007700">\</span><span style="color: #0000BB">Coroutine</span><span style="color: #007700">::</span><span style="color: #0000BB">create</span><span style="color: #007700">(function()&nbsp;use&nbsp;(</span><span style="color: #0000BB">$i</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$redis&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Swoole</span><span style="color: #007700">\</span><span style="color: #0000BB">Coroutine</span><span style="color: #007700">\</span><span style="color: #0000BB">Redis</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$res&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$redis</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'127.0.0.1'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">6379</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ret&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$redis</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">set</span><span style="color: #007700">(</span><span style="color: #DD0000">'coroutine_i'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">50</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$redis</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">close</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;});<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.swoole.com/" alt="Swoole">Swoole</a> and <br />
         <a href="https://github.com/swoole/swoole-src" alt="Swoole src">Swoole src</a>.</p>
<h2><a href="issues.html#analyzer=php_isnan" id="php_isnan">Manipulates NaN</a></h2><p>[Since 0.10.6] - [ -P Php/IsNAN ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#manipulates-nan">Online docs</a> ]</p><p>This code handles  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Not-a-Number</span>  situations.  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Not-a-Number</span> , also called  <span style="border: 1px solid #ddd; background-color: #f5f5f5">NaN</span> , happens when a calculation can't return an actual float. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;acos&nbsp;returns&nbsp;a&nbsp;float,&nbsp;unless&nbsp;it&nbsp;is&nbsp;not&nbsp;possible.<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">acos</span><span style="color: #007700">(</span><span style="color: #0000BB">8</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">is_nan</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">));<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.types.float.php" alt="Floats">Floats</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_isinf" id="php_isinf">Manipulates INF</a></h2><p>[Since 0.10.6] - [ -P Php/IsINF ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#manipulates-inf">Online docs</a> ]</p><p>This code handles INF situations. INF represents the infinity, when used in a float context. It happens when a calculation returns a number that is much larger than the maximum allowed float (not integer), or a number that is not a Division by 0. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;pow&nbsp;returns&nbsp;INF,&nbsp;as&nbsp;it&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;1&nbsp;/&nbsp;0&nbsp;^&nbsp;2<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pow</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,-</span><span style="color: #0000BB">2</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;<br /><br />//&nbsp;exp&nbsp;returns&nbsp;an&nbsp;actual&nbsp;value,&nbsp;but&nbsp;won't&nbsp;be&nbsp;able&nbsp;to&nbsp;represent&nbsp;it&nbsp;as&nbsp;a&nbsp;float<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">exp</span><span style="color: #007700">(</span><span style="color: #0000BB">PHP_INT_MAX</span><span style="color: #007700">);&nbsp;<br /><br /></span><span style="color: #FF8000">//&nbsp;0&nbsp;^&nbsp;-1&nbsp;is&nbsp;like&nbsp;1&nbsp;/&nbsp;0&nbsp;but&nbsp;returns&nbsp;INF.<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pow</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">);&nbsp;<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">is_infinite</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;yields&nbsp;a&nbsp;Division&nbsp;by&nbsp;zero&nbsp;exception<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">/&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/math.constants.php" alt="Math predefined constants">Math predefined constants</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_noreturninfinally" id="structures_noreturninfinally">No Return Or Throw In Finally</a></h2><p>[Since 0.12.1] - [ -P Structures/NoReturnInFinally ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-return-or-throw-in-finally">Online docs</a> ]</p><p>Avoid using return and throw in a finally block. Both command will interrupt the processing of the try catch block, and any exception that was emitted will not be processed. This leads to unprocessed exceptions, leaving the application in an unstable state.<br />
<br />
Note that PHP prevents the usage of goto, break and continue within the finally block at linting phase. This is categorized as a Security problem.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Exception&nbsp;is&nbsp;thrown&nbsp;here&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">throw&nbsp;new&nbsp;\</span><span style="color: #0000BB">Exception</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">Exception&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;executed&nbsp;AFTER&nbsp;finally<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #DD0000">'Exception'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;finally&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;executed&nbsp;BEFORE&nbsp;catch<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #DD0000">'Finally'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Displays&nbsp;'Finally'.&nbsp;No&nbsp;exception<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /><br />function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Exception&nbsp;is&nbsp;thrown&nbsp;here&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">throw&nbsp;new&nbsp;\</span><span style="color: #0000BB">Exception</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">Exception&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Process&nbsp;the&nbsp;exception.&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #DD0000">'Exception'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;finally&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;clean&nbsp;the&nbsp;current&nbsp;situation<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Keep&nbsp;running&nbsp;the&nbsp;current&nbsp;function<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">'Finally'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Displays&nbsp;'Exception',&nbsp;with&nbsp;processed&nbsp;Exception<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.owasp.org/index.php/Return_Inside_Finally_Block" alt="Return Inside Finally Block">Return Inside Finally Block</a>.<br />
 </p>
<h2><a href="issues.html#analyzer=structures_constdefinefavorite" id="structures_constdefinefavorite">Const Or Define</a></h2><p>[Since 0.12.1] - [ -P Structures/ConstDefineFavorite ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#const-or-define">Online docs</a> ]</p><p> <span style="border: 1px solid #ddd; background-color: #f5f5f5">const</span>  and  <span style="border: 1px solid #ddd; background-color: #f5f5f5">define() <https://www.php.net/define>`_</span>  have the same functional use : create constants. <br />
<br />
The analyzed code has less than 10% of one of them : for consistency reasons, it is recommended to make them all the same. <br />
<br />
They are almost interchangeable, though not totally :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">define() <https://www.php.net/define>`_</span>  allows the creation of case-insensitive constants, while  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Const</span>  won\'t. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;be&nbsp;consistent<br /></span><span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">A1&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">;<br />const&nbsp;</span><span style="color: #0000BB">A2&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">;<br />const&nbsp;</span><span style="color: #0000BB">A3&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3&nbsp;</span><span style="color: #007700">;<br />const&nbsp;</span><span style="color: #0000BB">A4&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">4&nbsp;</span><span style="color: #007700">;<br />const&nbsp;</span><span style="color: #0000BB">A5&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">5&nbsp;</span><span style="color: #007700">;<br />const&nbsp;</span><span style="color: #0000BB">A6&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">6&nbsp;</span><span style="color: #007700">;<br />const&nbsp;</span><span style="color: #0000BB">A7&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">7&nbsp;</span><span style="color: #007700">;<br />const&nbsp;</span><span style="color: #0000BB">A8&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">8&nbsp;</span><span style="color: #007700">;<br />const&nbsp;</span><span style="color: #0000BB">A9&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">9&nbsp;</span><span style="color: #007700">;<br />const&nbsp;</span><span style="color: #0000BB">A10&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">;<br />const&nbsp;</span><span style="color: #0000BB">A11&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">11</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'A12'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">12</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;Be&nbsp;consistent,&nbsp;always&nbsp;use&nbsp;the&nbsp;same.<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/function.define.php" alt="define">define</a> and <br />
         <a href="http://www.php.net/manual/en/language.constants.php" alt="const">const</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=security_mkdirdefault" id="security_mkdirdefault">Mkdir Default</a></h2><p>[Since 0.12.2] - [ -P Security/MkdirDefault ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#mkdir-default">Online docs</a> ]</p><p><a href="https://www.php.net/mkdir" alt="mkdir()">mkdir()</a> gives universal access to created folders, by default. It is recommended to gives limited set of rights (0755, 0700), or to explicitly set the rights to 0777. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;By&nbsp;default,&nbsp;this&nbsp;dir&nbsp;is&nbsp;777<br /></span><span style="color: #0000BB">mkdir</span><span style="color: #007700">(</span><span style="color: #DD0000">'/path/to/dir'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Explicitely,&nbsp;this&nbsp;is&nbsp;wanted.&nbsp;It&nbsp;may&nbsp;also&nbsp;be&nbsp;audited&nbsp;easily<br /></span><span style="color: #0000BB">mkdir</span><span style="color: #007700">(</span><span style="color: #DD0000">'/path/to/dir'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0777</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;dir&nbsp;is&nbsp;limited&nbsp;to&nbsp;the&nbsp;current&nbsp;user.&nbsp;<br /></span><span style="color: #0000BB">mkdir</span><span style="color: #007700">(</span><span style="color: #DD0000">'/path/to/dir'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0700</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.spiralscripts.co.uk/Blog/why-777-folder-permissions-are-a-security-risk.html" alt="Why 777 Folder Permissions are a Security Risk">Why 777 Folder Permissions are a Security Risk</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_declarestrict" id="php_declarestrict">strict_types Preference</a></h2><p>[Since 0.12.2] - [ -P Php/DeclareStrict ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#strict_types-preference">Online docs</a> ] - [ PHP 7.0 and more recent ]</p><p> <span style="border: 1px solid #ddd; background-color: #f5f5f5">strict_types</span>  is a PHP mode where typehint are enforced strictly or weakly. By default, it is weak typing, allowing backward compatibility with previous versions. <br />
<br />
This analysis reports if  <span style="border: 1px solid #ddd; background-color: #f5f5f5">strict_types</span>  are used systematically or not.  <span style="border: 1px solid #ddd; background-color: #f5f5f5">strict_types</span>  affects the calling file, not the definition file. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;define&nbsp;strict_types<br /></span><span style="color: #007700">declare(</span><span style="color: #0000BB">strict_types&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/functions.arguments.php#functions.arguments.type-declaration.strict" alt="Strict typing">Strict typing</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_declarestricttype" id="php_declarestricttype">Declare strict_types Usage</a></h2><p>[Since 0.12.1] - [ -P Php/DeclareStrictType ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#declare-strict_types-usage">Online docs</a> ] - [ PHP 7.0 and more recent ]</p><p>Usage of  <span style="border: 1px solid #ddd; background-color: #f5f5f5">strict_types</span> . By default, PHP attempts to change the original type to match the type specified by the type-declaration. With an explicit  <span style="border: 1px solid #ddd; background-color: #f5f5f5">strict_types</span>  declaration, PHP ensures that the incoming argument has the exact type. <br />
<br />
 <span style="border: 1px solid #ddd; background-color: #f5f5f5">strict_types</span>  were introduced in PHP 7.0.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Setting&nbsp;strict_types;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">declare(</span><span style="color: #0000BB">strict_types&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">int&nbsp;$i</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Always&nbsp;valid&nbsp;:&nbsp;displays&nbsp;1<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;with&nbsp;strict&nbsp;types,&nbsp;this&nbsp;emits&nbsp;an&nbsp;error<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;without&nbsp;strict&nbsp;types,&nbsp;this&nbsp;displays&nbsp;1<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">1.7</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/control-structures.declare.php" alt="declare">declare</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_declareencoding" id="php_declareencoding">Encoding Usage</a></h2><p>[Since 0.12.1] - [ -P Php/DeclareEncoding ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#encoding-usage">Online docs</a> ]</p><p>Usage of declare(encoding = );.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Setting&nbsp;encoding&nbsp;for&nbsp;the&nbsp;file;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">declare(</span><span style="color: #0000BB">encoding&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'UTF-8'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/control-structures.declare.php" alt="declare">declare</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_declareticks" id="php_declareticks">Ticks Usage</a></h2><p>[Since 0.12.1] - [ -P Php/DeclareTicks ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ticks-usage">Online docs</a> ]</p><p>Usage of declare(ticks = );.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Setting&nbsp;ticks&nbsp;value<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">declare(</span><span style="color: #0000BB">ticks&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'UTF-8'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/control-structures.declare.php" alt="declare">declare</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_mismatchedternary" id="structures_mismatchedternary">Mismatched Ternary Alternatives</a></h2><p>[Since 0.12.1] - [ -P Structures/MismatchedTernary ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#mismatched-ternary-alternatives">Online docs</a> ]</p><p>A ternary operator should yield the same type on both branches.<br />
<br />
Ternary operator applies a condition, and yield two different results. Those results will then be processed by code that expects the same types. It is recommended to match the types on both branches of the ternary operator.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;$object&nbsp;may&nbsp;end&nbsp;up&nbsp;in&nbsp;a&nbsp;very&nbsp;unstable&nbsp;state<br /></span><span style="color: #0000BB">$object&nbsp;</span><span style="color: #007700">=&nbsp;(</span><span style="color: #0000BB">$type&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #DD0000">'Type'</span><span style="color: #007700">)&nbsp;?&nbsp;new&nbsp;</span><span style="color: #0000BB">$type</span><span style="color: #007700">()&nbsp;:&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//same&nbsp;result&nbsp;are&nbsp;provided&nbsp;by&nbsp;both&nbsp;alternative,&nbsp;though&nbsp;process&nbsp;is&nbsp;very&nbsp;different<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;(</span><span style="color: #0000BB">$type&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #DD0000">'Addition'</span><span style="color: #007700">)&nbsp;?&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//Currently,&nbsp;this&nbsp;is&nbsp;omitted<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;empty(</span><span style="color: #0000BB">$condition</span><span style="color: #007700">)&nbsp;?&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'default&nbsp;value'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;empty(</span><span style="color: #0000BB">$condition</span><span style="color: #007700">)&nbsp;?&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">getDefaultValue</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extlapack" id="extensions_extlapack">ext/lapack</a></h2><p>[Since 0.12.2] - [ -P Extensions/Extlapack ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-lapack">Online docs</a> ]</p><p>Extension Lapack. LAPACK provides routines for solving systems of simultaneous linear equations, least-squares solutions of linear systems of equations, eigenvalue problems, and singular value problems. <br />
<br />
<?php<br />
<br />
 $a = array(<br />
     array( 1.44,  -7.84,  -4.39,   4.53),<br />
     array(-9.96,  -0.28,  -3.24,   3.83),<br />
     array(-7.55,   3.24,   6.27,  -6.64),<br />
     array( 8.34,   8.09,   5.28,   2.06),<br />
     array( 7.08,   2.52,   0.74,  -2.47),<br />
     array(-5.45,  -5.70,  -1.19,   4.70),<br />
 );<br />
<br />
 $b = array(<br />
     array( 8.58,   9.35),<br />
     array( 8.26,  -4.43),<br />
     array( 8.48,  -0.70),<br />
     array(-5.28,  -0.26),<br />
     array( 5.72,  -7.36),<br />
     array( 8.93,  -2.52),           <br />
 );<br />
<br />
 $result = Lapack::leastSquaresByFactorisation($a, $b);<br />
 ?><br />
 <br />
See also <a href="http://php.net/manual/en/book.lapack.php" alt="Lapack">Lapack</a> and <a href="https://github.com/ianbarber/php-lapack" alt="php-lapack">php-lapack</a>.<br />
 <br />
 </p>
<h2><a href="issues.html#analyzer=functions_mismatcheddefaultarguments" id="functions_mismatcheddefaultarguments">Mismatched Default Arguments</a></h2><p>[Since 0.12.3] - [ -P Functions/MismatchedDefaultArguments ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#mismatched-default-arguments">Online docs</a> ]</p><p>Arguments are relayed from one method to the other, and the arguments have different default values. <br />
<br />
Although it is possible to have different default values, it is worth checking why this is actually the case.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;array()&nbsp;)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;foo&nbsp;method&nbsp;calls&nbsp;directly&nbsp;bar.&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;When&nbsp;argument&nbsp;are&nbsp;provided,&nbsp;it's&nbsp;OK<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;When&nbsp;argument&nbsp;are&nbsp;omited,&nbsp;the&nbsp;default&nbsp;value&nbsp;is&nbsp;not&nbsp;the&nbsp;same&nbsp;as&nbsp;the&nbsp;next&nbsp;method<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">);<br />}<br /><br />function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">=&nbsp;array()&nbsp;)&nbsp;{<br /><br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=functions_mismatchedtypehint" id="functions_mismatchedtypehint">Mismatched Typehint</a></h2><p>[Since 0.12.3] - [ -P Functions/MismatchedTypehint ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#mismatched-typehint">Online docs</a> ]</p><p>Relayed arguments don't have the same typehint.<br />
<br />
Typehint acts as a filter method. When an object is checked with a first class, and then checked again with a second distinct class, the whole process is always false : $a can't be of two different classes at the same time.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Foo()&nbsp;calls&nbsp;bar()<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">A&nbsp;$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">B&nbsp;$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;$a&nbsp;is&nbsp;of&nbsp;A&nbsp;typehint&nbsp;in&nbsp;both&nbsp;methods,&nbsp;but&nbsp;<br />//&nbsp;$b&nbsp;is&nbsp;of&nbsp;B&nbsp;then&nbsp;BB&nbsp;typehing<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">A&nbsp;$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">BB&nbsp;$b</span><span style="color: #007700">)&nbsp;{<br /><br />}<br /></span>?&gt;</pre><br />
<br />
Note : This analysis currently doesn't check generalisation of classes : for example, when B is a child of BB, it is still reported as a mismatch.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_scalarorobjectproperty" id="classes_scalarorobjectproperty">Scalar Or Object Property</a></h2><p>[Since 0.12.3] - [ -P Classes/ScalarOrObjectProperty ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#scalar-or-object-property">Online docs</a> ]</p><p>Property shouldn't use both object and scalar syntaxes. When a property may be an object, it is recommended to implement the Null Object pattern : instead of checking if the property is scalar, make it always object. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$display&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'echo'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">is_string</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">display</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">string</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;elseif&nbsp;(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">display&nbsp;</span><span style="color: #007700">instanceof&nbsp;</span><span style="color: #0000BB">myDisplayInterface</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$display</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">display</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">Error&nbsp;when&nbsp;displaying</span><span style="color: #007700">\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />interface&nbsp;</span><span style="color: #0000BB">myDisplayInterface&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">display</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;does&nbsp;the&nbsp;display&nbsp;in&nbsp;its&nbsp;own&nbsp;way<br /></span><span style="color: #007700">}<br /><br />class&nbsp;</span><span style="color: #0000BB">nullDisplay&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">myDisplayInterface&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;implements&nbsp;myDisplayInterface&nbsp;but&nbsp;does&nbsp;nothing<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">display</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">)&nbsp;{}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">x2&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$display&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">display&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">nullDisplay</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Keep&nbsp;the&nbsp;check,&nbsp;as&nbsp;$display&nbsp;is&nbsp;public,&nbsp;and&nbsp;may&nbsp;get&nbsp;wrong&nbsp;values<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">display&nbsp;</span><span style="color: #007700">instanceof&nbsp;</span><span style="color: #0000BB">myDisplayInterface</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$display</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">display</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">Error&nbsp;when&nbsp;displaying</span><span style="color: #007700">\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Simple&nbsp;class&nbsp;for&nbsp;echo<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">echoDisplay&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">myDisplayInterface&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;implements&nbsp;myDisplayInterface&nbsp;but&nbsp;does&nbsp;nothing<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">display</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://en.wikipedia.org/wiki/Null_Object_pattern#PHP" alt="Null Object Pattern">Null Object Pattern</a>. and <a href="https://www.sitepoint.com/the-null-object-pattern-polymorphism-in-domain-models/" alt="The Null Object Pattern">The Null Object Pattern</a>.</p>
<h2><a href="issues.html#analyzer=php_groupusetrailingcomma" id="php_groupusetrailingcomma">Group Use Trailing Comma</a></h2><p>[Since 0.12.3] - [ -P Php/GroupUseTrailingComma ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#group-use-trailing-comma">Online docs</a> ] - [ PHP 7.2 and more recent ]</p><p>The usage of a final empty slot in array() was allowed with use statements. This works in PHP 7.2 and more recent.<br />
<br />
Although this empty instruction is ignored at execution, this allows for clean presentation of code, and short diff when committing in a VCS.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Valid&nbsp;in&nbsp;PHP&nbsp;7.2&nbsp;and&nbsp;more&nbsp;recent.<br /></span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">a</span><span style="color: #007700">\</span><span style="color: #0000BB">b</span><span style="color: #007700">\{</span><span style="color: #0000BB">c</span><span style="color: #007700">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">d</span><span style="color: #007700">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">e</span><span style="color: #007700">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">f</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;won't&nbsp;compile&nbsp;in&nbsp;7.1&nbsp;and&nbsp;older.<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://wiki.php.net/rfc/list-syntax-trailing-commas" alt="Trailing Commas In List Syntax">Trailing Commas In List Syntax</a> and <a href="https://www.mail-archive.com/internals@lists.php.net/msg81138.html" alt="Revisit trailing commas in function arguments">Revisit trailing commas in function arguments</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_assignand" id="php_assignand">Assign With And</a></h2><p>[Since 0.12.4] - [ -P Php/AssignAnd ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#assign-with-and">Online docs</a> ]</p><p>The lettered logical operators yield to assignation. It may collect less information than expected.<br />
<br />
It is recommended to use the &&, ^ and || operators, instead of and, or and xor, to prevent confusion.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;The&nbsp;expected&nbsp;behavior&nbsp;is&nbsp;<br />//&nbsp;The&nbsp;following&nbsp;are&nbsp;equivalent<br />&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;&nbsp;</span><span style="color: #0000BB">$b&nbsp;&nbsp;</span><span style="color: #007700">&amp;&amp;&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br />&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;(</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">&amp;&amp;&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;The&nbsp;unexpected&nbsp;behavior&nbsp;is&nbsp;<br />//&nbsp;The&nbsp;following&nbsp;are&nbsp;equivalent<br />&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;&nbsp;</span><span style="color: #007700">and&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br />(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;and&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.operators.precedence.php" alt="Operator Precedence">Operator Precedence</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_lettercharslogicalfavorite" id="php_lettercharslogicalfavorite">Logical Operators Favorite</a></h2><p>[Since 0.12.4] - [ -P Php/LetterCharsLogicalFavorite ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#logical-operators-favorite">Online docs</a> ]</p><p>PHP has two sets of logical operators : letters (and, or, xor) and chars (&&, ||, ^). <br />
<br />
The analyzed code has less than 10% of one of the two sets : for consistency reasons, it is recommended to make them all the same. <br />
<br />
Warning : the two sets of operators have different precedence levels. Using and or && is not exactly the same, especially and not only, when assigning the results to a variable. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">and&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">and&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">and&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">or&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">OR&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">and&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">and&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">and&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">or&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">OR&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">^&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
Using and or && are also the target of other analysis.<br />
<br />
See also <a href="http://php.net/manual/en/language.operators.logical.php" alt="Logical Operators">Logical Operators</a> and <a href="http://php.net/manual/en/language.operators.precedence.php" alt="Operators Precedence">Operators Precedence</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_issetmultipleargs" id="php_issetmultipleargs">Isset Multiple Arguments</a></h2><p>[Since 0.12.4] - [ -P Php/IssetMultipleArgs ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#isset-multiple-arguments">Online docs</a> ]</p><p>isset() may be used with multiple arguments and acts as a AND.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;isset&nbsp;without&nbsp;and&nbsp;<br /></span><span style="color: #007700">if&nbsp;(isset(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;doSomething()<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;isset&nbsp;with&nbsp;and&nbsp;<br /></span><span style="color: #007700">if&nbsp;(isset(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;&amp;&amp;&nbsp;isset(</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;&amp;&amp;&nbsp;isset(</span><span style="color: #0000BB">$c</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;doSomething()<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/isset" alt="Isset">Isset</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_nomagicwitharray" id="classes_nomagicwitharray">No Magic With Array</a></h2><p>[Since 0.12.4] - [ -P Classes/NoMagicWithArray ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-magic-with-array">Online docs</a> ]</p><p>Magic method  <span style="border: 1px solid #ddd; background-color: #f5f5f5">__set()</span>  doesn't work for array syntax. <br />
<br />
When overloading properties, they can only be used for scalar values, excluding arrays. Under the hood, PHP uses  <span style="border: 1px solid #ddd; background-color: #f5f5f5">__get()</span>  to reach for the name of the property, and doesn't recognize the following index as an array. It yields an error : Indirect modification of overloaded property.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">c&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$o&nbsp;</span><span style="color: #007700">=&nbsp;array();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__get</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">o</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;property&nbsp;b&nbsp;doesn't&nbsp;exists<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">b</span><span style="color: #007700">[</span><span style="color: #DD0000">'a'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;method&nbsp;has&nbsp;no&nbsp;impact&nbsp;on&nbsp;the&nbsp;issue<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">__set</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">o</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">c</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$c</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
It is possible to use the array syntax with a magic property : by making the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">__get</span>  returns an array, the syntax will actually extract the expected item in the array.<br />
<br />
This is not reported by linting.<br />
<br />
In this analysis, only properties that are found to be magic are reported. For example, using the b property outside the class scope is not reported, as it would yield too many false-positives.<br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.overloading.php#object.get" alt="Overload">Overload</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_php72objectkeyword" id="php_php72objectkeyword">PHP 7.2 Object Keyword</a></h2><p>[Since 0.12.4] - [ -P Php/Php72ObjectKeyword ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php-7.2-object-keyword">Online docs</a> ] - [ PHP  older than 7.2]</p><p>'object' is a PHP keyword. It can't be used for class, interface or trait name. <br />
<br />
This is the case since PHP 7.2. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Valid&nbsp;until&nbsp;PHP&nbsp;7.2<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">object&nbsp;</span><span style="color: #007700">{}<br /><br /></span><span style="color: #FF8000">//&nbsp;Altough&nbsp;it&nbsp;is&nbsp;really&nbsp;weird&nbsp;anyway...<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/reserved.keywords.php" alt="List of Keywords">List of Keywords</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_childremovetypehint" id="classes_childremovetypehint">Child Class Removes Typehint</a></h2><p>[Since 0.12.4] - [ -P Classes/ChildRemoveTypehint ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#child-class-removes-typehint">Online docs</a> ] - [ PHP 7.2 and more recent ]</p><p>PHP 7.2 introduced the ability to remove a typehint when overloading a method. This is not valid code for older versions.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foobar</span><span style="color: #007700">(</span><span style="color: #0000BB">foo&nbsp;$a</span><span style="color: #007700">)&nbsp;{}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foobar</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{}<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extxattr" id="extensions_extxattr">ext/xattr</a></h2><p>[Since 0.12.4] - [ -P Extensions/Extxattr ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-xattr">Online docs</a> ]</p><p>Extensions xattr.<br />
<br />
The xattr extension allows for the manipulation of extended attributes on a filesystem.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$file&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'my_favourite_song.wav'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">xattr_set</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Artist'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Someone'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">xattr_set</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'My&nbsp;ranking'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Good'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">xattr_set</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Listen&nbsp;count'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'34'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;...&nbsp;other&nbsp;code&nbsp;...&nbsp;*/<br /><br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">'You\'ve&nbsp;played&nbsp;this&nbsp;song&nbsp;%d&nbsp;times'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">xattr_get</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Listen&nbsp;count'</span><span style="color: #007700">));<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.xattr.php" alt="xattr">xattr</a> and <a href="https://en.wikipedia.org/wiki/Extended_file_attributes" alt="Extended attributres">Extended attributres</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=performances_noconcatinloop" id="performances_noconcatinloop">Avoid Concat In Loop</a></h2><p>[Since 0.12.4] - [ -P Performances/NoConcatInLoop ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#avoid-concat-in-loop">Online docs</a> ]</p><p>Concatenations inside a loop generate a lot of temporary variables. They are accumulated and tend to raise the memory usage, leading to slower performances.<br />
<br />
It is recommended to store the values in an array, and then use <a href="https://www.php.net/implode" alt="implode()">implode()</a> on that array to make the concatenation at once. The effect is positive when the source array has at least 50 elements. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Concatenation&nbsp;in&nbsp;one&nbsp;operation<br /></span><span style="color: #0000BB">$tmp&nbsp;</span><span style="color: #007700">=&nbsp;array();<br />foreach(</span><span style="color: #0000BB">data_source</span><span style="color: #007700">()&nbsp;as&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$tmp</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">$final&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$tmp</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Concatenation&nbsp;in&nbsp;many&nbsp;operations<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">data_source</span><span style="color: #007700">()&nbsp;as&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$final&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
The same doesn't apply to addition and multiplication, with <a href="https://www.php.net/array_sum" alt="array_sum()">array_sum()</a> and array_multiply(), as those operations work on the current memory allocation, and don't need to allocate new memory at each step. <br />
<br />
See also <a href="https://blog.blackfire.io/php-7-performance-improvements-encapsed-strings-optimization.html" alt="PHP 7 performance improvements (3/5): Encapsed strings optimization">PHP 7 performance improvements (3/5): Encapsed strings optimization</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_nosubstrminusone" id="php_nosubstrminusone">No Substr Minus One</a></h2><p>[Since 0.12.5] - [ -P Php/NoSubstrMinusOne ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-substr-minus-one">Online docs</a> ] - [ PHP 7.1 and more recent ]</p><p>Negative index were introduced in PHP 7.1. This syntax is not compatible with PHP 7.0 and older.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'abc'</span><span style="color: #007700">;<br /><br />echo&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">[-</span><span style="color: #0000BB">1</span><span style="color: #007700">];&nbsp;</span><span style="color: #FF8000">//&nbsp;c<br /><br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];&nbsp;</span><span style="color: #FF8000">//&nbsp;a<br /></span>?&gt;</pre><br />
<br />
Seel also <a href="https://wiki.php.net/rfc/negative-string-offsets" alt="Generalize support of negative string offsets">Generalize support of negative string offsets</a>.<br />
</p>
<h2><a href="issues.html#analyzer=performances_logicaltoinarray" id="performances_logicaltoinarray">Logical To in_array</a></h2><p>[Since 0.12.5] - [ -P Performances/LogicalToInArray ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#logical-to-in_array">Online docs</a> ]</p><p>Multiples exclusive comparisons may be replaced by <a href="https://www.php.net/in_array" alt="in_array()">in_array()</a>.<br />
<br />
<a href="https://www.php.net/in_array" alt="in_array()">in_array()</a> makes the alternatives more readable, especially when the number of alternatives is large. In fact, the list of alternative may even be set in a variable, and centralized for easier management.<br />
<br />
Even two 'or' comparisons are slower than using a <a href="https://www.php.net/in_array" alt="in_array()">in_array()</a> call. More calls are even slower than just two. This is a micro-optimisation : speed gain is low, and marginal. Code centralisation is a more significant advantage.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Set&nbsp;the&nbsp;list&nbsp;of&nbsp;alternative&nbsp;in&nbsp;a&nbsp;variable,&nbsp;property&nbsp;or&nbsp;constant.&nbsp;<br /></span><span style="color: #0000BB">$valid_values&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">);<br />if&nbsp;(</span><span style="color: #0000BB">in_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$valid_values</span><span style="color: #007700">)&nbsp;)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;doSomething()<br /></span><span style="color: #007700">}<br /><br />if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">||&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">||&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">3&nbsp;</span><span style="color: #007700">||&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;doSomething()<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;in_array&nbsp;also&nbsp;works&nbsp;with&nbsp;strict&nbsp;comparisons<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">in_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$valid_values</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">)&nbsp;)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;doSomething()<br /></span><span style="color: #007700">}<br /><br />if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">||&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">||&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">3&nbsp;</span><span style="color: #007700">||&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;doSomething()<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.php.net/in_array" alt="`in_array()">`in_array()</a> <http://www.php.net/in_array>`_.<br />
</p>
<h2><a href="issues.html#analyzer=structures_shoulduseforeach" id="structures_shoulduseforeach">Should Use Foreach</a></h2><p>[Since 0.12.7] - [ -P Structures/ShouldUseForeach ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#should-use-foreach">Online docs</a> ]</p><p>Use foreach instead of for when traversing an array.<br />
<br />
For<a href="https://www.php.net/each" alt="each()">each()</a> is the modern loop : it maps automatically every element of the array to a blind variable, and loop over it. This is faster and safer.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Foreach&nbsp;version<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$element</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">(</span><span style="color: #0000BB">$element</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;The&nbsp;above&nbsp;case&nbsp;may&nbsp;even&nbsp;be&nbsp;upgraded&nbsp;with&nbsp;array_map&nbsp;and&nbsp;a&nbsp;callback,&nbsp;<br />//&nbsp;for&nbsp;the&nbsp;simplest&nbsp;one&nbsp;of&nbsp;them<br /></span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_map</span><span style="color: #007700">(</span><span style="color: #DD0000">'doSomething'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;For&nbsp;version&nbsp;(one&nbsp;of&nbsp;various&nbsp;alternatives)<br /></span><span style="color: #007700">for(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$element&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">(</span><span style="color: #0000BB">$element</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Based&nbsp;on&nbsp;array_pop&nbsp;or&nbsp;`array_shift()&nbsp;&lt;https://www.php.net/array_shift&gt;`_<br /></span><span style="color: #007700">while(</span><span style="color: #0000BB">$value&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_pop</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/control-structures.foreach.php" alt="foreach">foreach</a> and <br />
         <a href="https://www.codewall.co.uk/5-ways-to-loop-through-array-php/" alt="5 Ways To Loop Through An Array In PHP">5 Ways To Loop Through An Array In PHP</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extrdkafka" id="extensions_extrdkafka">ext/rdkafka</a></h2><p>[Since 0.12.8] - [ -P Extensions/Extrdkafka ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-rdkafka">Online docs</a> ]</p><p>Extension for RDkafka.<br />
<br />
PHP-rdkafka is a thin librdkafka binding providing a working PHP 5 / PHP 7 Kafka 0.8 / 0.9 / 0.10 client.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$rk&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">RdKafka</span><span style="color: #007700">\</span><span style="color: #0000BB">Producer</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$rk</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setLogLevel</span><span style="color: #007700">(</span><span style="color: #0000BB">LOG_DEBUG</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$rk</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addBrokers</span><span style="color: #007700">(</span><span style="color: #0000BB">10.0.0.1</span><span style="color: #007700">,</span><span style="color: #0000BB">10.0.0.2</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://github.com/arnaud-lb/php-rdkafka" alt="Kafka client for PHP">Kafka client for PHP</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extfam" id="extensions_extfam">ext/fam</a></h2><p>[Since 0.12.8] - [ -P Extensions/Extfam ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-fam">Online docs</a> ]</p><p>File Alteration Monitor extension.<br />
<br />
<a href="http://oss.sgi.com/projects/fam/" alt="FAM">FAM</a> monitors files and directories, notifying interested applications of changes.<br />
<br />
ext/FAM is not available for Windows<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$fam&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fam_open</span><span style="color: #007700">(</span><span style="color: #DD0000">'myApplication'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">fam_monitor_directory</span><span style="color: #007700">(</span><span style="color: #0000BB">$fam</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'/tmp'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">fam_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$fam</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.fam.php" alt="File Alteration Monitor">File Alteration Monitor</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_shellfavorite" id="php_shellfavorite">Shell Favorite</a></h2><p>[Since 0.12.9] - [ -P Php/ShellFavorite ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#shell-favorite">Online docs</a> ]</p><p>PHP has several syntax to make system calls. <a href="https://www.php.net/shell_exec" alt="shell_exec()">shell_exec()</a>, <a href="https://www.php.net/exec" alt="exec()">exec()</a> and back-ticks, &#96; are the common ones.<br />
<br />
It was found that one of those three is actually being used over 90% of the time. The remaining cases should be uniformed, so has to make this code consistent.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;back-ticks&nbsp;&amp;#96;&nbsp;are&nbsp;only&nbsp;used&nbsp;once.<br /></span><span style="color: #007700">&amp;</span><span style="color: #FF8000">#96;back-tick&amp;#96;;<br /><br /></span><span style="color: #0000BB">shell_exec</span><span style="color: #007700">(</span><span style="color: #DD0000">'exec1'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">shell_exec</span><span style="color: #007700">(</span><span style="color: #DD0000">'exec2'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">shell_exec</span><span style="color: #007700">(</span><span style="color: #DD0000">'exec3'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">shell_exec</span><span style="color: #007700">(</span><span style="color: #DD0000">'exec4'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">shell_exec</span><span style="color: #007700">(</span><span style="color: #DD0000">'exec5'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">shell_exec</span><span style="color: #007700">(</span><span style="color: #DD0000">'exec6'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">shell_exec</span><span style="color: #007700">(</span><span style="color: #DD0000">'exec7'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">shell_exec</span><span style="color: #007700">(</span><span style="color: #DD0000">'exec8'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">shell_exec</span><span style="color: #007700">(</span><span style="color: #DD0000">'exec9'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">shell_exec</span><span style="color: #007700">(</span><span style="color: #DD0000">'exec10'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">shell_exec</span><span style="color: #007700">(</span><span style="color: #DD0000">'exec11'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">shell_exec</span><span style="color: #007700">(</span><span style="color: #DD0000">'exec12'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.operators.execution.php" alt="Execution Operators">Execution Operators</a> and <br />
         <a href="https://www.php.net/shell_exec" alt="`shell_exec()">`shell_exec()</a> <http://php.net/manual/en/function.shell-exec.php>`_.<br />
</p>
<h2><a href="issues.html#analyzer=classes_couldbeprivateconstante" id="classes_couldbeprivateconstante">Could Be Private Class Constant</a></h2><p>[Since 0.12.10] - [ -P Classes/CouldBePrivateConstante ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#could-be-private-class-constant">Online docs</a> ]</p><p>Class constant may use  <span style="border: 1px solid #ddd; background-color: #f5f5f5">private</span>  visibility. <br />
<br />
Since PHP 7.1, constants may also have a public/protected/private visibility. This restrict their usage to anywhere, class and children or class. <br />
<br />
As a general rule, it is recommended to make constant  <span style="border: 1px solid #ddd; background-color: #f5f5f5">private</span>  by default, and to relax this restriction as needed. PHP makes them public by default.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;pre-7.1&nbsp;style<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">PRE_71_CONSTANT&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;post-7.1&nbsp;style<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">private&nbsp;const&nbsp;</span><span style="color: #0000BB">PRIVATE_CONSTANT&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;const&nbsp;</span><span style="color: #0000BB">PUBLIC_CONSTANT&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;PRIVATE&nbsp;CONSTANT&nbsp;may&nbsp;only&nbsp;be&nbsp;used&nbsp;in&nbsp;its&nbsp;class<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">PRIVATE_CONSTANT</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Other&nbsp;constants&nbsp;may&nbsp;be&nbsp;used&nbsp;anywhere<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">x</span><span style="color: #007700">(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">::</span><span style="color: #0000BB">PUBLIC_CONSTANT</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">.</span><span style="color: #DD0000">'&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">foo</span><span style="color: #007700">:</span><span style="color: #0000BB">PRE_71_CONSTANT</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
Constant shall stay  <span style="border: 1px solid #ddd; background-color: #f5f5f5">public</span>  when the code has to be compatible with PHP 7.0 and older. <br />
<br />
They also have to be public in the case of component : some of those constants have to be used by external actors, in order to configure the component.<br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.constants.php" alt="Class Constants">Class Constants</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_couldbeprotectedconstant" id="classes_couldbeprotectedconstant">Could Be Protected Class Constant</a></h2><p>[Since 0.12.11] - [ -P Classes/CouldBeProtectedConstant ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#could-be-protected-class-constant">Online docs</a> ]</p><p>Class constant may use 'protected' visibility. <br />
<br />
Since PHP 7.1, constants may also have a public/protected/private visibility. This restrict their usage to anywhere, class and children or class. <br />
<br />
As a general rule, it is recommended to make constant 'private' by default, and to relax this restriction as needed. PHP makes them public by default.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;pre-7.1&nbsp;style<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">PRE_71_CONSTANT&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;post-7.1&nbsp;style<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">protected&nbsp;const&nbsp;</span><span style="color: #0000BB">PROTECTED_CONSTANT&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;const&nbsp;</span><span style="color: #0000BB">PUBLIC_CONSTANT&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">foo2&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;PROTECTED_CONSTANT&nbsp;may&nbsp;only&nbsp;be&nbsp;used&nbsp;in&nbsp;its&nbsp;class&nbsp;or&nbsp;its&nbsp;children<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">PROTECTED_CONSTANT</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">foo3&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;PROTECTED_CONSTANT&nbsp;may&nbsp;only&nbsp;be&nbsp;used&nbsp;in&nbsp;its&nbsp;class&nbsp;or&nbsp;any&nbsp;of&nbsp;its&nbsp;children<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">PROTECTED_CONSTANT</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Other&nbsp;constants&nbsp;may&nbsp;be&nbsp;used&nbsp;anywhere<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">x</span><span style="color: #007700">(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">::</span><span style="color: #0000BB">PUBLIC_CONSTANT</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">.</span><span style="color: #DD0000">'&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">foo</span><span style="color: #007700">:</span><span style="color: #0000BB">PRE_71_CONSTANT</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_couldbeprivatemethod" id="classes_couldbeprivatemethod">Method Could Be Private Method</a></h2><p>[Since 0.12.11] - [ -P Classes/CouldBePrivateMethod ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#method-could-be-private-method">Online docs</a> ]</p><p>The following methods are never used outside their class of definition. Given the analyzed code, they could be set as private. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">couldBePrivate</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">cantdBePrivate</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;couldBePrivate&nbsp;is&nbsp;used&nbsp;internally.&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">couldBePrivate</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">foo2&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">bar2</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;cantdBePrivate&nbsp;is&nbsp;used&nbsp;in&nbsp;a&nbsp;child&nbsp;class.&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">cantdBePrivate</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//couldBePrivate()&nbsp;is&nbsp;not&nbsp;used&nbsp;outside&nbsp;<br /></span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//cantdBePrivate&nbsp;is&nbsp;used&nbsp;outside&nbsp;the&nbsp;class<br /></span><span style="color: #0000BB">$foo</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">cantdBePrivate</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
Note that dynamic properties (such as $x->$y) are not taken into account. </p>
<h2><a href="issues.html#analyzer=classes_couldbeprotectedmethod" id="classes_couldbeprotectedmethod">Could Be Protected Method</a></h2><p>[Since 0.12.11] - [ -P Classes/CouldBeProtectedMethod ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#could-be-protected-method">Online docs</a> ]</p><p>Those methods are declared public, but are never used publicly. They may be made protected. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Public,&nbsp;and&nbsp;used&nbsp;publicly<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;</span><span style="color: #0000BB">publicMethod</span><span style="color: #007700">()&nbsp;{}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Public,&nbsp;but&nbsp;never&nbsp;used&nbsp;outside&nbsp;the&nbsp;class&nbsp;or&nbsp;its&nbsp;children<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;</span><span style="color: #0000BB">protectedMethod</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">protectedMethod</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Foo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$foo</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">publicMethod</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
These properties may even be made private.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_pathinforeturns" id="php_pathinforeturns">Pathinfo() Returns May Vary</a></h2><p>[Since 0.12.11] - [ -P Php/PathinfoReturns ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#pathinfo---returns-may-vary">Online docs</a> ]</p><p><a href="https://www.php.net/pathinfo" alt="pathinfo()">pathinfo()</a> function returns an array whose content may vary. It is recommended to collect the values after check, rather than directly.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$file&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'/a/b/.c'</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//$extension&nbsp;may&nbsp;be&nbsp;missing,&nbsp;leading&nbsp;to&nbsp;empty&nbsp;$filename&nbsp;and&nbsp;filename&nbsp;in&nbsp;$extension<br /></span><span style="color: #007700">list(&nbsp;</span><span style="color: #0000BB">$dirname</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$basename</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$extension</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$filename&nbsp;</span><span style="color: #007700">)&nbsp;=&nbsp;</span><span style="color: #0000BB">array_values</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">pathinfo</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">)&nbsp;);<br /><br /></span><span style="color: #FF8000">//Use&nbsp;PHP&nbsp;7.1&nbsp;list()&nbsp;syntax&nbsp;to&nbsp;assign&nbsp;correctly&nbsp;the&nbsp;values,&nbsp;and&nbsp;skip&nbsp;`array_values()&nbsp;&lt;https://www.php.net/array_values&gt;`_<br />//This&nbsp;emits&nbsp;a&nbsp;warning&nbsp;in&nbsp;case&nbsp;of&nbsp;missing&nbsp;index<br /></span><span style="color: #007700">[</span><span style="color: #DD0000">'dirname'&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$dirname</span><span style="color: #007700">,&nbsp;<br />&nbsp;</span><span style="color: #DD0000">'basename'&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$basename</span><span style="color: #007700">,&nbsp;<br />&nbsp;</span><span style="color: #DD0000">'extension'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$extension</span><span style="color: #007700">,&nbsp;<br />&nbsp;</span><span style="color: #DD0000">'filename'&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$filename&nbsp;</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">pathinfo</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">);<br />&nbsp;<br /></span><span style="color: #FF8000">//This&nbsp;works&nbsp;without&nbsp;warning<br /></span><span style="color: #0000BB">$details&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pathinfo</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$dirname&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$details</span><span style="color: #007700">[</span><span style="color: #DD0000">'dirname'</span><span style="color: #007700">]&nbsp;??&nbsp;</span><span style="color: #0000BB">getpwd</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$basename&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$details</span><span style="color: #007700">[</span><span style="color: #DD0000">'basename'</span><span style="color: #007700">]&nbsp;??&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$extension&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$details</span><span style="color: #007700">[</span><span style="color: #DD0000">'extension'</span><span style="color: #007700">]&nbsp;??&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$filename&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$details</span><span style="color: #007700">[</span><span style="color: #DD0000">'filename'</span><span style="color: #007700">]&nbsp;??&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
The same applies to <a href="https://www.php.net/parse_url" alt="parse_url()">parse_url()</a>, which returns an array with various index. <br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_usepathinfoargs" id="php_usepathinfoargs">Use pathinfo() Arguments</a></h2><p>[Since 0.12.12] - [ -P Php/UsePathinfoArgs ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-pathinfo---arguments">Online docs</a> ]</p><p><a href="https://www.php.net/pathinfo" alt="pathinfo()">pathinfo()</a> has a second argument to select only useful data. <br />
<br />
It is twice faster to get only one element from <a href="https://www.php.net/pathinfo" alt="pathinfo()">pathinfo()</a> than get the four of them, and use only one.<br />
<br />
This analysis reports <a href="https://www.php.net/pathinfo" alt="pathinfo()">pathinfo()</a> usage, without second argument, where only one or two indices are used, after the call.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;could&nbsp;use&nbsp;only&nbsp;PATHINFO_BASENAME<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo_db</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pathinfo</span><span style="color: #007700">(</span><span style="color: #0000BB">$file2</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #DD0000">'basename'</span><span style="color: #007700">];<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;could&nbsp;be&nbsp;2&nbsp;calls,&nbsp;with&nbsp;PATHINFO_BASENAME&nbsp;and&nbsp;PATHINFO_DIRNAME.<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo_de</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pathinfo</span><span style="color: #007700">(</span><span style="color: #0000BB">$file3</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #DD0000">'dirname'</span><span style="color: #007700">].</span><span style="color: #DD0000">'/'</span><span style="color: #007700">.</span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #DD0000">'basename'</span><span style="color: #007700">];<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;OK&nbsp;:&nbsp;3&nbsp;calls&nbsp;to&nbsp;`pathinfo()&nbsp;&lt;https://www.php.net/pathinfo&gt;`_&nbsp;is&nbsp;slower&nbsp;than&nbsp;array&nbsp;access.<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo_deb</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pathinfo</span><span style="color: #007700">(</span><span style="color: #0000BB">$file4</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #DD0000">'dirname'</span><span style="color: #007700">].</span><span style="color: #DD0000">'/'</span><span style="color: #007700">.</span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #DD0000">'filename'</span><span style="color: #007700">].</span><span style="color: #DD0000">'.'</span><span style="color: #007700">.</span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #DD0000">'extension'</span><span style="color: #007700">];<br />}<br /></span>?&gt;</pre><br />
<br />
Depending on the situation, the functions <a href="https://www.php.net/dirname" alt="dirname()">dirname()</a> and <a href="https://www.php.net/basename" alt="basename()">basename()</a> may also be used. They are even faster, when only fetching those data.<br />
<br />
See also <a href="http://php.net/manual/en/function.list.php" alt="list">list</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extparle" id="extensions_extparle">ext/parle</a></h2><p>[Since 0.12.12] - [ -P Extensions/Extparle ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-parle">Online docs</a> ]</p><p>Extension Parser and Lexer.<br />
<br />
The parle extension provides lexing and parsing facilities. The implementation is based on  Ben Hanson's libraries and requires a  C++14 capable compiler. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">Parle</span><span style="color: #007700">\{</span><span style="color: #0000BB">Token</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">Lexer</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">LexerException</span><span style="color: #007700">};<br /><br /></span><span style="color: #FF8000">/*&nbsp;name&nbsp;=&gt;&nbsp;id&nbsp;*/<br /></span><span style="color: #0000BB">$token&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'EOI'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'COMMA'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'CRLF'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'DECIMAL'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,<br />);<br /></span><span style="color: #FF8000">/*&nbsp;id&nbsp;=&gt;&nbsp;name&nbsp;*/<br /></span><span style="color: #0000BB">$token_rev&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_flip</span><span style="color: #007700">(</span><span style="color: #0000BB">$token</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$lex&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Lexer</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$lex</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">push</span><span style="color: #007700">(</span><span style="color: #DD0000">"[\x2c]"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$token</span><span style="color: #007700">[</span><span style="color: #DD0000">'COMMA'</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB">$lex</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">push</span><span style="color: #007700">(</span><span style="color: #DD0000">"[\r][\n]"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$token</span><span style="color: #007700">[</span><span style="color: #DD0000">'CRLF'</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB">$lex</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">push</span><span style="color: #007700">(</span><span style="color: #DD0000">"[\d]+"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$token</span><span style="color: #007700">[</span><span style="color: #DD0000">'DECIMAL'</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB">$lex</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">build</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">$in&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">\</span><span style="color: #0000BB">r</span><span style="color: #007700">\</span><span style="color: #0000BB">n3</span><span style="color: #007700">,</span><span style="color: #0000BB">42</span><span style="color: #007700">,</span><span style="color: #0000BB">5</span><span style="color: #007700">\</span><span style="color: #0000BB">r</span><span style="color: #007700">\</span><span style="color: #0000BB">n6</span><span style="color: #007700">,</span><span style="color: #0000BB">77</span><span style="color: #007700">,</span><span style="color: #0000BB">8</span><span style="color: #007700">\</span><span style="color: #0000BB">r</span><span style="color: #007700">\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$lex</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">consume</span><span style="color: #007700">(</span><span style="color: #0000BB">$in</span><span style="color: #007700">);<br /><br />do&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$lex</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">advance</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$tok&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$lex</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getToken</span><span style="color: #007700">();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">Token</span><span style="color: #007700">::</span><span style="color: #0000BB">UNKNOWN&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">$tok</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">id</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;</span><span style="color: #0000BB">LexerException</span><span style="color: #007700">(</span><span style="color: #DD0000">'Unknown&nbsp;token&nbsp;"'</span><span style="color: #007700">.</span><span style="color: #0000BB">$tok</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">value</span><span style="color: #007700">.</span><span style="color: #DD0000">'"&nbsp;at&nbsp;offset&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$tok</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">offset</span><span style="color: #007700">.</span><span style="color: #DD0000">'.'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'TOKEN:&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$token_rev</span><span style="color: #007700">[</span><span style="color: #0000BB">$tok</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">id</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />}&nbsp;while&nbsp;(</span><span style="color: #0000BB">Token</span><span style="color: #007700">::</span><span style="color: #0000BB">EOI&nbsp;</span><span style="color: #007700">!=&nbsp;</span><span style="color: #0000BB">$tok</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">id</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.parle.php" alt="Parsing and Lexing">Parsing and Lexing</a>.<br />
</p>
<h2><a href="issues.html#analyzer=type_regex" id="type_regex">Regex Inventory</a></h2><p>[Since 0.12.14] - [ -P Type/Regex ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#regex-inventory">Online docs</a> ]</p><p>All regex used in the code. PHP has the PCRE extension that handles all regex : preg_match(), <a href="https://www.php.net/preg_replace" alt="preg_replace()">preg_replace()</a>, etc. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;PCRE&nbsp;regex&nbsp;used&nbsp;with&nbsp;preg_match<br /></span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/[abc]+/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Mbstring&nbsp;regex,&nbsp;in&nbsp;the&nbsp;arabic&nbsp;range<br /></span><span style="color: #007700">if(</span><span style="color: #0000BB">mb_ereg</span><span style="color: #007700">(</span><span style="color: #DD0000">'[\x{0600}-\x{06FF}]'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$text</span><span style="color: #007700">))<br /></span>?&gt;</pre><br />
<br />
mbstring regexes are also collected. Pre-PHP 7.0 POSIX regex are not listed. <br />
<br />
See also `ext/mbstring <https://www.php.net/manual/en/book.mbstring.php> `_ and <br />
         `ext/pcre <https://www.php.net/manual/en/book.pcre.php> `_.<br />
</p>
<h2><a href="issues.html#analyzer=structures_fallthrough" id="structures_fallthrough">Switch Fallthrough</a></h2><p>[Since 0.12.14] - [ -P Structures/Fallthrough ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#switch-fallthrough">Online docs</a> ]</p><p>A switch with fallthrough is prone to errors. <br />
<br />
A fallthrough happens when a case or default clause in a switch statement is not finished by a break (or equivalent);<br />
CWE report this as a security concern, unless well documented.<br />
<br />
A fallthrough may be used as a feature. Then, it is indistinguishable from an error. <br />
<br />
When the case block is empty, this analysis doesn't report it : the case is then used as an alias.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">switch(</span><span style="color: #0000BB">$variable</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">:&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;1&nbsp;is&nbsp;not&nbsp;reported,&nbsp;as&nbsp;it&nbsp;actually&nbsp;shares&nbsp;the&nbsp;same&nbsp;body&nbsp;as&nbsp;33<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">case&nbsp;</span><span style="color: #0000BB">33&nbsp;</span><span style="color: #007700">:&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break&nbsp;;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break&nbsp;;<br />&nbsp;&nbsp;&nbsp;&nbsp;default:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">4&nbsp;</span><span style="color: #007700">:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break&nbsp;;<br />}<br /></span>?&gt;</pre><br />
<br />
This analysis cannot take into account comments about the fallthrough. <br />
<br />
See also <a href="https://cwe.mitre.org/data/definitions/484.html" alt="CWE-484: Omitted Break Statement in Switch">CWE-484: Omitted Break Statement in Switch</a> and <br />
         <a href="https://palantir.github.io/tslint/rules/no-switch-case-fall-through/" alt="Rule: no-switch-case-fall-through">Rule: no-switch-case-fall-through</a>.<br />
</p>
<h2><a href="issues.html#analyzer=security_uploadfilenameinjection" id="security_uploadfilenameinjection">Upload Filename Injection</a></h2><p>[Since 0.12.14] - [ -P Security/UploadFilenameInjection ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#upload-filename-injection">Online docs</a> ]</p><p>When receiving a file via Upload, it is recommended to store it under a self-generated name. Any storage that uses the original filename, or even a part of it may be vulnerable to injections.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Security&nbsp;error&nbsp;!&nbsp;the&nbsp;$_FILES['upload']['filename']&nbsp;is&nbsp;provided&nbsp;by&nbsp;the&nbsp;sender.<br />//&nbsp;'a.&lt;script&gt;alert(\'a\')&lt;/script&gt;';&nbsp;may&nbsp;lead&nbsp;to&nbsp;a&nbsp;HTML&nbsp;injection.<br /></span><span style="color: #0000BB">$extension&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">strrchr</span><span style="color: #007700">(</span><span style="color: #0000BB">$_FILES</span><span style="color: #007700">[</span><span style="color: #DD0000">'upload'</span><span style="color: #007700">][</span><span style="color: #DD0000">'name'</span><span style="color: #007700">],&nbsp;</span><span style="color: #DD0000">'.'</span><span style="color: #007700">)&nbsp;,</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />if&nbsp;(!</span><span style="color: #0000BB">in_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$extension</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #DD0000">'gif'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'jpeg'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'jpg'</span><span style="color: #007700">))&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;process&nbsp;error<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">continue;<br />}<br /></span><span style="color: #FF8000">//&nbsp;Md5&nbsp;provides&nbsp;a&nbsp;name&nbsp;without&nbsp;special&nbsp;characters<br /></span><span style="color: #0000BB">$name&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">md5</span><span style="color: #007700">(</span><span style="color: #0000BB">$_FILES</span><span style="color: #007700">[</span><span style="color: #DD0000">'upload'</span><span style="color: #007700">][</span><span style="color: #DD0000">'filename'</span><span style="color: #007700">]);<br />if(@</span><span style="color: #0000BB">move_uploaded_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$_FILES</span><span style="color: #007700">[</span><span style="color: #DD0000">'upload'</span><span style="color: #007700">][</span><span style="color: #DD0000">'tmp_name'</span><span style="color: #007700">],&nbsp;</span><span style="color: #DD0000">'/var/no-www/upload/'</span><span style="color: #007700">.</span><span style="color: #0000BB">$name</span><span style="color: #007700">.</span><span style="color: #DD0000">'.'</span><span style="color: #007700">.</span><span style="color: #0000BB">$extension</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">safeStoring</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">.</span><span style="color: #DD0000">'.'</span><span style="color: #007700">.</span><span style="color: #0000BB">$extension</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$_FILES</span><span style="color: #007700">[</span><span style="color: #DD0000">'upload'</span><span style="color: #007700">][</span><span style="color: #DD0000">'filename'</span><span style="color: #007700">]);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Security&nbsp;error&nbsp;!&nbsp;the&nbsp;$_FILES['upload']['filename']&nbsp;is&nbsp;provided&nbsp;by&nbsp;the&nbsp;sender.<br /></span><span style="color: #007700">if(@</span><span style="color: #0000BB">move_uploaded_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$_FILES</span><span style="color: #007700">[</span><span style="color: #DD0000">'upload'</span><span style="color: #007700">][</span><span style="color: #DD0000">'tmp_name'</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">$_FILES</span><span style="color: #007700">[</span><span style="color: #DD0000">'upload'</span><span style="color: #007700">][</span><span style="color: #DD0000">'filename'</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">safeStoring</span><span style="color: #007700">(</span><span style="color: #0000BB">$_FILES</span><span style="color: #007700">[</span><span style="color: #DD0000">'upload'</span><span style="color: #007700">][</span><span style="color: #DD0000">'filename'</span><span style="color: #007700">]);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Security&nbsp;error&nbsp;!&nbsp;the&nbsp;$_FILES['upload']['filename']&nbsp;is&nbsp;provided&nbsp;by&nbsp;the&nbsp;sender.<br />//&nbsp;'a.&lt;script&gt;alert('a')&lt;/script&gt;';&nbsp;may&nbsp;lead&nbsp;to&nbsp;a&nbsp;HTML&nbsp;injection.<br /></span><span style="color: #0000BB">$extension&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">strrchr</span><span style="color: #007700">(</span><span style="color: #0000BB">$_FILES</span><span style="color: #007700">[</span><span style="color: #DD0000">'upload'</span><span style="color: #007700">][</span><span style="color: #DD0000">'name'</span><span style="color: #007700">],&nbsp;</span><span style="color: #DD0000">'.'</span><span style="color: #007700">)&nbsp;,</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$name&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">md5</span><span style="color: #007700">(</span><span style="color: #0000BB">$_FILES</span><span style="color: #007700">[</span><span style="color: #DD0000">'upload'</span><span style="color: #007700">][</span><span style="color: #DD0000">'filename'</span><span style="color: #007700">]);<br />if(@</span><span style="color: #0000BB">move_uploaded_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$_FILES</span><span style="color: #007700">[</span><span style="color: #DD0000">'upload'</span><span style="color: #007700">][</span><span style="color: #DD0000">'tmp_name'</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">.</span><span style="color: #DD0000">'.'</span><span style="color: #007700">.</span><span style="color: #0000BB">$extension</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">safeStoring</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">.</span><span style="color: #DD0000">'.'</span><span style="color: #007700">.</span><span style="color: #0000BB">$extension</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$_FILES</span><span style="color: #007700">[</span><span style="color: #DD0000">'upload'</span><span style="color: #007700">][</span><span style="color: #DD0000">'filename'</span><span style="color: #007700">]);<br />}<br /></span>?&gt;</pre><br />
<br />
It is highly recommended to validate any incoming file, generate a name for it, and store the result in a folder outside the web folder. Also, avoid accepting PHP scripts, if possible.<br />
<br />
See also <a href="https://cxsecurity.com/issue/WLB-2017100031" alt="[CVE-2017-6090]">[CVE-2017-6090]</a>, <br />
<a href="https://cwe.mitre.org/data/definitions/616.html" alt="CWE-616: Incomplete Identification of Uploaded File Variables">CWE-616: Incomplete Identification of Uploaded File Variables</a>, <br />
<a href="https://www.acunetix.com/websitesecurity/upload-forms-threat/" alt="Why File Upload Forms are a Major Security Threat">Why File Upload Forms are a Major Security Threat</a>.<br />
</p>
<h2><a href="issues.html#analyzer=security_anchorregex" id="security_anchorregex">Always Anchor Regex</a></h2><p>[Since 0.12.15] - [ -P Security/AnchorRegex ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#always-anchor-regex">Online docs</a> ]</p><p>Unanchored regex finds the requested pattern, and leaves room for malicious content. <br />
<br />
Without  <span style="border: 1px solid #ddd; background-color: #f5f5f5">^</span>  and  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$</span> , the regex searches for any pattern that satisfies the criteria, leaving any unused part of the string available for arbitrary content. It is recommended to use both anchor<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$birthday&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">getSomeDate</span><span style="color: #007700">(</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Permissive&nbsp;version&nbsp;:&nbsp;$birthday&nbsp;=&nbsp;'1970-01-01&lt;script&gt;xss();&lt;/script&gt;';<br /></span><span style="color: #007700">if&nbsp;(!</span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/\d{4}-\d{2}-\d{2}/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$birthday</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">error</span><span style="color: #007700">(</span><span style="color: #DD0000">'Wrong&nbsp;data&nbsp;format&nbsp;for&nbsp;your&nbsp;birthday!'</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Restrictive&nbsp;version&nbsp;:&nbsp;$birthday&nbsp;=&nbsp;'1970-01-01';<br /></span><span style="color: #007700">if&nbsp;(!</span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/^\d{4}-\d{2}-\d{2}$/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$birthday</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">error</span><span style="color: #007700">(</span><span style="color: #DD0000">'Wrong&nbsp;data&nbsp;format&nbsp;for&nbsp;your&nbsp;birthday!'</span><span style="color: #007700">);<br />}<br /><br />echo&nbsp;</span><span style="color: #DD0000">'Your&nbsp;birthday&nbsp;is&nbsp;on&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$birthday</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
Note that $ may be a line ending, still leaving room after it for injection.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$birthday&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'1970-01-01'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">.</span><span style="color: #DD0000">'&lt;script&gt;xss();&lt;/script&gt;'</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
This analysis reports false positive when the regex is used to search a pattern in a much larger string. Check if this rule doesn't apply, though.<br />
<br />
See also <a href="https://cwe.mitre.org/data/definitions/625.html" alt="CWE-625: Permissive Regular Expression">CWE-625: Permissive Regular Expression</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_multipletypevariable" id="structures_multipletypevariable">Multiple Type Variable</a></h2><p>[Since 0.12.15] - [ -P Structures/MultipleTypeVariable ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#multiple-type-variable">Online docs</a> ]</p><p>Avoid using the same variable with different types of data. <br />
<br />
It is recommended to use different names for differently typed data, while processing them. This prevents errors where one believe the variable holds the former type, while it has already been cast to the later.<br />
<br />
Incrementing variables, with math operations or concatenation, is OK : the content changes, but not the type. And casting the variable without storing it in itself is OK. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;$x&nbsp;is&nbsp;an&nbsp;array<br /></span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">range</span><span style="color: #007700">(</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'z'</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;$x&nbsp;is&nbsp;now&nbsp;a&nbsp;string<br /></span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">join</span><span style="color: #007700">(</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$x</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;$x&nbsp;is&nbsp;not&nbsp;an&nbsp;array&nbsp;anymore<br /><br /><br />//&nbsp;$letters&nbsp;is&nbsp;an&nbsp;array<br /></span><span style="color: #0000BB">$letters&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">range</span><span style="color: #007700">(</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'z'</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;$alphabet&nbsp;is&nbsp;a&nbsp;string<br /></span><span style="color: #0000BB">$alphabet&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">join</span><span style="color: #007700">(</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$letters</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Here,&nbsp;$letters&nbsp;is&nbsp;cast&nbsp;by&nbsp;PHP,&nbsp;but&nbsp;the&nbsp;variable&nbsp;is&nbsp;changed.<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$letters</span><span style="color: #007700">)&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$count&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$letters</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;$letters&nbsp;is&nbsp;still&nbsp;an&nbsp;array&nbsp;<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_iszero" id="structures_iszero">Is Actually Zero</a></h2><p>[Since 0.12.15] - [ -P Structures/IsZero ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#is-actually-zero">Online docs</a> ]</p><p>This addition actually may be simplified because one term is actually negated by another. <br />
<br />
This kind of error happens when the expression is very large : the more terms are included, the more chances are that some auto-annihilation happens. <br />
<br />
This error may also be a simple typo : for example, calculating the difference between two consecutive terms.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;quite&nbsp;obvious<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">-&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;obvious&nbsp;too.&nbsp;This&nbsp;may&nbsp;be&nbsp;a&nbsp;typo-ed&nbsp;difference&nbsp;between&nbsp;two&nbsp;consecutive&nbsp;terms.&nbsp;<br />//&nbsp;Could&nbsp;have&nbsp;been&nbsp;$c&nbsp;=&nbsp;$fx[3][4]&nbsp;-&nbsp;$fx[3][3]&nbsp;or&nbsp;$c&nbsp;=&nbsp;$fx[3][5]&nbsp;-&nbsp;$fx[3][4];<br /></span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$fx</span><span style="color: #007700">[</span><span style="color: #0000BB">3</span><span style="color: #007700">][</span><span style="color: #0000BB">4</span><span style="color: #007700">]&nbsp;-&nbsp;</span><span style="color: #0000BB">$fx</span><span style="color: #007700">[</span><span style="color: #0000BB">3</span><span style="color: #007700">][</span><span style="color: #0000BB">4</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;less&nbsp;obvious<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">[</span><span style="color: #0000BB">3</span><span style="color: #007700">]&nbsp;-&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$d</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">,</span><span style="color: #0000BB">3</span><span style="color: #007700">)&nbsp;+&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">[</span><span style="color: #0000BB">3</span><span style="color: #007700">];<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_unconditionloopbreak" id="structures_unconditionloopbreak">Unconditional Break In Loop</a></h2><p>[Since 0.12.16] - [ -P Structures/UnconditionLoopBreak ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unconditional-break-in-loop">Online docs</a> ]</p><p>An unconditional break in a loop creates dead code. Since the break is directly in the body of the loop, it is always executed, creating a strange loop that can only run once. <br />
<br />
Here, break may also be a return, a goto or a continue. They all branch out of the loop. Such statement are valid, but should be moderated with a condition. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;return&nbsp;in&nbsp;loop&nbsp;should&nbsp;be&nbsp;in&nbsp;<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">summAll</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$sum&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Stop&nbsp;at&nbsp;the&nbsp;first&nbsp;error<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">is_string</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$sum</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$sum&nbsp;</span><span style="color: #007700">+=&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$sum</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;foreach&nbsp;loop&nbsp;used&nbsp;to&nbsp;collect&nbsp;first&nbsp;element&nbsp;in&nbsp;array<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">getFirst</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=security_sessionlazywrite" id="security_sessionlazywrite">Session Lazy Write</a></h2><p>[Since 0.12.15] - [ -P Security/SessionLazyWrite ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#session-lazy-write">Online docs</a> ]</p><p>Classes that implements SessionHandlerInterface must also implements SessionUpdateTimestampHandlerInterface. <br />
<br />
The two extra methods are used to help lazy loading : the first actually checks if a sessionId is available, and the seconds updates the time of last usage of the session data in the session storage. <br />
<br />
This was spotted by  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Nicolas Grekas</span> , and fixed in Symfony <a href="https://github.com/symfony/symfony/pull/24523" alt="[HttpFoundation] Make sessions secure and lazy #24523">[HttpFoundation] Make sessions secure and lazy #24523</a>. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">interface&nbsp;</span><span style="color: #0000BB">SessionUpdateTimestampHandlerInterface&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;returns&nbsp;a&nbsp;boolean&nbsp;to&nbsp;indicate&nbsp;that&nbsp;valid&nbsp;data&nbsp;is&nbsp;available&nbsp;for&nbsp;this&nbsp;sessionId,&nbsp;or&nbsp;not.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">validateId</span><span style="color: #007700">(</span><span style="color: #0000BB">$sessionId</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//called&nbsp;to&nbsp;change&nbsp;the&nbsp;last&nbsp;time&nbsp;of&nbsp;usage&nbsp;for&nbsp;the&nbsp;session&nbsp;data.<br />&nbsp;&nbsp;&nbsp;&nbsp;//It&nbsp;may&nbsp;be&nbsp;a&nbsp;file's&nbsp;touch&nbsp;or&nbsp;full&nbsp;write,&nbsp;or&nbsp;a&nbsp;simple&nbsp;update&nbsp;on&nbsp;the&nbsp;database<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">updateTimestamp</span><span style="color: #007700">(</span><span style="color: #0000BB">$sessionId</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$sessionData</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://wiki.php.net/rfc/session-read_only-lazy_write" alt="Sessions: Improve original RFC about lazy_write">Sessions: Improve original RFC about lazy_write</a> and<br />
         the <a href="http://php.net/manual/en/book.session.php" alt="Sessions">Sessions</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_sessionvariables" id="php_sessionvariables">Session Variables</a></h2><p>[Since 0.12.16] - [ -P Php/SessionVariables ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#session-variables">Online docs</a> ]</p><p>Sessions names, used across the application. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">if&nbsp;(isset(</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'mySessionVariable'</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'mySessionVariable'</span><span style="color: #007700">][</span><span style="color: #DD0000">'counter'</span><span style="color: #007700">]++;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'mySessionVariable'</span><span style="color: #007700">]&nbsp;=&nbsp;array(</span><span style="color: #DD0000">'counter'&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'creation'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">time</span><span style="color: #007700">());<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.session.php" alt="Sessions">Sessions</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_incomingvariables" id="php_incomingvariables">Incoming Variables</a></h2><p>[Since 0.12.16] - [ -P Php/IncomingVariables ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#incoming-variables">Online docs</a> ]</p><p>Incoming names, used across the application. <br />
<br />
Incoming variables are first-level index in  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$_POST</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$_GET</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$_COOKIE</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$_REQUEST</span>  and  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$_FILE</span> ;<br />
<br />
 <span style="border: 1px solid #ddd; background-color: #f5f5f5">$_SESSION</span>  and  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$_ENV</span>  are not reported as incoming data, as they are not supposed to be manipulated by normal user. <br />
<br />
Dynamic names are not reported too.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$name&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'name'</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">$cookie&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$_COOKIE</span><span style="color: #007700">[</span><span style="color: #DD0000">'cookie'</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;'archive'&nbsp;is&nbsp;the&nbsp;incoming&nbsp;variable,&nbsp;not&nbsp;'file_name'<br /></span><span style="color: #0000BB">$file_name&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$_FILE</span><span style="color: #007700">[</span><span style="color: #DD0000">'archive'</span><span style="color: #007700">][</span><span style="color: #DD0000">'file_name'</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;not&nbsp;reported,&nbsp;because&nbsp;it&nbsp;is&nbsp;from&nbsp;$_ENV.<br /></span><span style="color: #0000BB">$db_pass&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$_ENV</span><span style="color: #007700">[</span><span style="color: #DD0000">'DB_PASS'</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;not&nbsp;reported,&nbsp;because&nbsp;it&nbsp;is&nbsp;dynamic<br /></span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'userId'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$userId&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #0000BB">$x</span><span style="color: #007700">];<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_cookiesvariables" id="php_cookiesvariables">Cookies Variables</a></h2><p>[Since 0.12.16] - [ -P Php/CookiesVariables ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#cookies-variables">Online docs</a> ]</p><p>Cookies names, used across the application. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">if&nbsp;(isset(</span><span style="color: #0000BB">$_COOKIE</span><span style="color: #007700">[</span><span style="color: #DD0000">'myCookie'</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Usual&nbsp;method&nbsp;for&nbsp;reading&nbsp;and&nbsp;setting&nbsp;cookies<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$_COOKIE</span><span style="color: #007700">[</span><span style="color: #DD0000">'myCookie'</span><span style="color: #007700">]++;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Usual&nbsp;method&nbsp;for&nbsp;writing&nbsp;cookies<br /></span><span style="color: #0000BB">setcookie</span><span style="color: #007700">(</span><span style="color: #DD0000">'myCookie'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/setcookie" alt="setcookie">setcookie</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_complexexpression" id="structures_complexexpression">Too Complex Expression</a></h2><p>[Since 0.12.16] - [ -P Structures/ComplexExpression ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#too-complex-expression">Online docs</a> ]</p><p>Long expressions should be broken in small chunks, to limit complexity. <br />
<br />
Really long expressions tends to be error prone : either by typo, or by missing details. They are even harder to review, once the initially build of the expression is gone. <br />
<br />
As a general rule, it is recommended to keep expressions short. The analysis include any expression that is more than 15 tokens large : variable and operators counts as one, properties, arrays count as two. Parenthesis are also counted. <br />
<br />
PHP has no specific limit to expression size, so long expression are legal and valid. It is possible that the business logic requires a complex equation. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Why&nbsp;not&nbsp;calculate&nbsp;wordwrap&nbsp;size&nbsp;separatedly&nbsp;?&nbsp;<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">explode</span><span style="color: #007700">(</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">wordwrap</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">message</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">floor</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">width&nbsp;</span><span style="color: #007700">/&nbsp;</span><span style="color: #0000BB">imagefontwidth</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fontsize</span><span style="color: #007700">)),&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;Longer&nbsp;but&nbsp;easier&nbsp;to&nbsp;read<br /></span><span style="color: #0000BB">$width&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">floor</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">width&nbsp;</span><span style="color: #007700">/&nbsp;</span><span style="color: #0000BB">imagefontwidth</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fontsize</span><span style="color: #007700">)),&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">explode</span><span style="color: #007700">(</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">wordwrap</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">message</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$width</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Here,&nbsp;some&nbsp;string&nbsp;building,&nbsp;including&nbsp;error&nbsp;management&nbsp;with&nbsp;@,&nbsp;is&nbsp;making&nbsp;the&nbsp;data&nbsp;quite&nbsp;complex.<br /></span><span style="color: #0000BB">fwrite</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'HEAD&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;@</span><span style="color: #0000BB">$url</span><span style="color: #007700">[</span><span style="color: #DD0000">'path'</span><span style="color: #007700">]&nbsp;.&nbsp;@</span><span style="color: #0000BB">$url</span><span style="color: #007700">[</span><span style="color: #DD0000">'query'</span><span style="color: #007700">]&nbsp;.&nbsp;</span><span style="color: #DD0000">'&nbsp;HTTP/1.0'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\r\n"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'Host:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;@</span><span style="color: #0000BB">$url</span><span style="color: #007700">[</span><span style="color: #DD0000">'host'</span><span style="color: #007700">]&nbsp;.&nbsp;</span><span style="color: #DD0000">"\r\n\r\n"</span><span style="color: #007700">)<br /><br /></span><span style="color: #FF8000">//&nbsp;Better&nbsp;validation&nbsp;of&nbsp;data.&nbsp;<br /></span><span style="color: #0000BB">$http_header&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'HEAD&nbsp;'</span><span style="color: #007700">;<br />if&nbsp;(isset(</span><span style="color: #0000BB">$url</span><span style="color: #007700">[</span><span style="color: #DD0000">'path'</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$http_header&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #0000BB">$url</span><span style="color: #007700">[</span><span style="color: #DD0000">'path'</span><span style="color: #007700">];<br />}<br />if&nbsp;(isset(</span><span style="color: #0000BB">$url</span><span style="color: #007700">[</span><span style="color: #DD0000">'query'</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$http_header&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #0000BB">$url</span><span style="color: #007700">[</span><span style="color: #DD0000">'query'</span><span style="color: #007700">];<br />}<br /><br /></span><span style="color: #0000BB">$http_header&nbsp;</span><span style="color: #007700">.=&nbsp;&nbsp;</span><span style="color: #DD0000">"\r\n"</span><span style="color: #007700">;<br />if&nbsp;(isset(</span><span style="color: #0000BB">$url</span><span style="color: #007700">[</span><span style="color: #DD0000">'host'</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$http_header&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">'Host:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$url</span><span style="color: #007700">[</span><span style="color: #DD0000">'host'</span><span style="color: #007700">]&nbsp;.&nbsp;</span><span style="color: #DD0000">"\r\n\r\n"</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">fwrite</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$http_header</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_dateformats" id="php_dateformats">Date Formats</a></h2><p>[Since 0.12.16] - [ -P Php/DateFormats ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#date-formats">Online docs</a> ]</p><p>Inventory of date formats used in the code. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$time&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">time</span><span style="color: #007700">();<br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;a&nbsp;formated&nbsp;date<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">date</span><span style="color: #007700">(</span><span style="color: #DD0000">'r'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$time</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.datetime.php" alt="Date and Time">Date and Time</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_couldbeelse" id="structures_couldbeelse">Could Be Else</a></h2><p>[Since 1.0.1] - [ -P Structures/CouldBeElse ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#could-be-else">Online docs</a> ]</p><p>Merge opposition conditions into one if/then structure.<br />
<br />
When two if/then structures follow each other, using a condition and its opposite, they may be merged into one.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Short&nbsp;version<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Long&nbsp;version<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />}<br /><br />if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">!=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=performances_simpleswitch" id="performances_simpleswitch">Simple Switch</a></h2><p>[Since 1.0.1] - [ -P Performances/SimpleSwitch ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#simple-switch">Online docs</a> ] - [ PHP 7.2 and more recent ]</p><p>Switches are faster when relying only on integers or strings.<br />
<br />
Since PHP 7.2, simple switches that use only strings or integers are optimized. The gain is as great as the switch is big. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Optimized&nbsp;switch.&nbsp;<br /></span><span style="color: #007700">switch(</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">"a"</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">"b"</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">"c"</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">"d"</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;default&nbsp;:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Unoptimized&nbsp;switch.&nbsp;<br />//&nbsp;Try&nbsp;moving&nbsp;the&nbsp;foo()&nbsp;call&nbsp;in&nbsp;the&nbsp;default,&nbsp;to&nbsp;keep&nbsp;the&nbsp;rest&nbsp;of&nbsp;the&nbsp;switch&nbsp;optimized.<br /></span><span style="color: #007700">switch(</span><span style="color: #0000BB">$c</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">"a"</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$b</span><span style="color: #007700">):<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">"c"</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">"d"</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;default&nbsp;:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://derickrethans.nl/php7.2-switch.html" alt="PHP 7.2's "switch" optimisations">PHP 7.2's "switch" optimisations</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_nextmonthtrap" id="structures_nextmonthtrap">Next Month Trap</a></h2><p>[Since 1.0.1] - [ -P Structures/NextMonthTrap ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#next-month-trap">Online docs</a> ]</p><p>Avoid using +1 month with strtotime(). <br />
<br />
strtotime() calculates the next month by incrementing the month number. For day number that do not exist from one month to the next, strtotime() fixes them by setting them in the next-next month. <br />
<br />
This happens to January, March, May, July, August and October. January is also vulnerable for 29 (not every year), 30 and 31. <br />
<br />
Avoid using '+1 month', and rely on 'first day of next month' or 'last day of next month' to extract the next month's name.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Base&nbsp;date&nbsp;is&nbsp;October&nbsp;31&nbsp;=&gt;&nbsp;10/31<br />//&nbsp;+1&nbsp;month&nbsp;adds&nbsp;+1&nbsp;to&nbsp;10&nbsp;=&gt;&nbsp;11/31&nbsp;<br />//&nbsp;Since&nbsp;November&nbsp;31rst&nbsp;doesn't&nbsp;exists,&nbsp;it&nbsp;is&nbsp;corrected&nbsp;to&nbsp;12/01.&nbsp;<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">date</span><span style="color: #007700">(</span><span style="color: #DD0000">'F'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">strtotime</span><span style="color: #007700">(</span><span style="color: #DD0000">'+1&nbsp;month'</span><span style="color: #007700">,</span><span style="color: #0000BB">mktime</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">$i</span><span style="color: #007700">,</span><span style="color: #0000BB">31</span><span style="color: #007700">,</span><span style="color: #0000BB">2017</span><span style="color: #007700">))).</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Base&nbsp;date&nbsp;is&nbsp;October&nbsp;31&nbsp;=&gt;&nbsp;10/31<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">date</span><span style="color: #007700">(</span><span style="color: #DD0000">'F'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">strtotime</span><span style="color: #007700">(</span><span style="color: #DD0000">'first&nbsp;day&nbsp;of&nbsp;next&nbsp;month'</span><span style="color: #007700">,</span><span style="color: #0000BB">mktime</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">$i</span><span style="color: #007700">,</span><span style="color: #0000BB">31</span><span style="color: #007700">,</span><span style="color: #0000BB">2017</span><span style="color: #007700">))).</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://twitter.com/rasmus/status/925431734128197632" alt="It is the 31st again">It is the 31st again</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_printfarguments" id="structures_printfarguments">Printf Number Of Arguments</a></h2><p>[Since 1.0.1] - [ -P Structures/PrintfArguments ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#printf-number-of-arguments">Online docs</a> ]</p><p>The number of arguments provided to <a href="https://www.php.net/printf" alt="printf()">printf()</a> or <a href="https://www.php.net/vprintf" alt="vprintf()">vprintf()</a> doesn't match the format string.<br />
<br />
Extra arguments are ignored, and are dead code as such. Missing arguments are reported with a warning, and nothing is displayed.<br />
<br />
Omitted arguments produce an error.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;not&nbsp;enough<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">'&nbsp;a&nbsp;%s&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$a1</span><span style="color: #007700">);&nbsp;<br /></span><span style="color: #FF8000">//&nbsp;OK<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">'&nbsp;a&nbsp;%s&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$a1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$a2</span><span style="color: #007700">);&nbsp;<br /></span><span style="color: #FF8000">//&nbsp;too&nbsp;many<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">'&nbsp;a&nbsp;%s&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$a1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$a2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$a3</span><span style="color: #007700">);&nbsp;<br /><br /></span><span style="color: #FF8000">//&nbsp;not&nbsp;enough<br /></span><span style="color: #0000BB">sprintf</span><span style="color: #007700">(</span><span style="color: #DD0000">'&nbsp;a&nbsp;%s&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$a1</span><span style="color: #007700">);&nbsp;<br /></span><span style="color: #FF8000">//&nbsp;OK<br /></span><span style="color: #007700">\</span><span style="color: #0000BB">sprintf</span><span style="color: #007700">(</span><span style="color: #DD0000">'&nbsp;a&nbsp;%s&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$a1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$a2</span><span style="color: #007700">);&nbsp;<br /></span><span style="color: #FF8000">//&nbsp;too&nbsp;many<br /></span><span style="color: #0000BB">sprintf</span><span style="color: #007700">(</span><span style="color: #DD0000">'&nbsp;a&nbsp;%s&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$a1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$a2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$a3</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/printf" alt="printf">printf</a> and <a href="http://php.net/sprintf" alt="sprintf">sprintf</a>.<br />
</p>
<h2><a href="issues.html#analyzer=performances_substrfirst" id="performances_substrfirst">Substring First</a></h2><p>[Since 1.0.1] - [ -P Performances/SubstrFirst ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#substring-first">Online docs</a> ]</p><p>Always start by reducing a string before applying some transformation on it. The shorter string will be processed faster. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;fast&nbsp;version<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">strtolower</span><span style="color: #007700">(</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$offset</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$length</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;slower&nbsp;version<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">strtolower</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">$offset</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$length</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
The gain produced here is greater with longer strings, or greater reductions. They may also be used in loops. This is a micro-optimisation when used on short strings and single string reductions.<br />
<br />
This works with any reduction function instead of substr(), like <a href="https://www.php.net/trim" alt="trim()">trim()</a>, iconv(), etc. <br />
<br />
</p>
<h2><a href="issues.html#analyzer=vendors_drupal" id="vendors_drupal">Drupal Usage</a></h2><p>[Since 1.0.3] - [ -P Vendors/Drupal ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#drupal-usage">Online docs</a> ]</p><p>This analysis reports usage of the Drupal CMS. The report is based on the usage of Drupal namespace.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">Drupal</span><span style="color: #007700">\</span><span style="color: #0000BB">example</span><span style="color: #007700">\</span><span style="color: #0000BB">Controller</span><span style="color: #007700">;<br /><br />use&nbsp;</span><span style="color: #0000BB">Drupal</span><span style="color: #007700">\</span><span style="color: #0000BB">Core</span><span style="color: #007700">\</span><span style="color: #0000BB">Controller</span><span style="color: #007700">\</span><span style="color: #0000BB">ControllerBase</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/**<br />&nbsp;*&nbsp;An&nbsp;example&nbsp;controller.<br />&nbsp;*/<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">ExampleController&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">ControllerBase&nbsp;</span><span style="color: #007700">{<br /><br />&nbsp;&nbsp;</span><span style="color: #FF8000">/**<br />&nbsp;&nbsp;&nbsp;*&nbsp;{@inheritdoc}<br />&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">content</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$build&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'#type'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'markup'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'#markup'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">t</span><span style="color: #007700">(</span><span style="color: #DD0000">'Hello&nbsp;World!'</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;);<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$build</span><span style="color: #007700">;<br />&nbsp;&nbsp;}<br /><br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.drupal.org/" alt="Drupal">Drupal</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_ambiguousstatic" id="classes_ambiguousstatic">Ambiguous Static</a></h2><p>[Since 1.0.3] - [ -P Classes/AmbiguousStatic ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ambiguous-static">Online docs</a> ]</p><p>Methods or properties with the same name, are defined static in one class, and not static in another. This is error prone, as it requires a good knowledge of the code to make it static or not. <br />
<br />
Try to keep the methods simple and unique. Consider renaming the methods and properties to distinguish them easily. A method and a static method have probably different responsibilities.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">mixedStaticMethod</span><span style="color: #007700">()&nbsp;{}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">b&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">mixedStaticMethod</span><span style="color: #007700">()&nbsp;{}<br />}<br /><br />/...&nbsp;</span><span style="color: #0000BB">a&nbsp;lot&nbsp;more&nbsp;code&nbsp;later&nbsp;</span><span style="color: #007700">.../<br /><br /></span><span style="color: #0000BB">$c</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">mixedStaticMethod</span><span style="color: #007700">();<br /></span><span style="color: #FF8000">//&nbsp;or&nbsp;<br /></span><span style="color: #0000BB">$c</span><span style="color: #007700">::</span><span style="color: #0000BB">mixedStaticMethod</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=vendors_phalcon" id="vendors_phalcon">Phalcon Usage</a></h2><p>[Since 1.0.3] - [ -P Vendors/Phalcon ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#phalcon-usage">Online docs</a> ]</p><p>This analysis reports usage of the Phalcon Framework. The report is based on the usage of Phalcon namespace, which may be provided by PHP code inclusion or the PHP extension.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">Phalcon</span><span style="color: #007700">\</span><span style="color: #0000BB">Mvc</span><span style="color: #007700">\</span><span style="color: #0000BB">Application</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Register&nbsp;autoloaders<br /><br />//&nbsp;Register&nbsp;services<br /><br />//&nbsp;Handle&nbsp;the&nbsp;request<br /></span><span style="color: #0000BB">$application&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Application</span><span style="color: #007700">(</span><span style="color: #0000BB">$di</span><span style="color: #007700">);<br /><br />try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$response&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$application</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">handle</span><span style="color: #007700">();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$response</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">s</span><span style="color: #007700">`</span><span style="color: #DD0000">end()&nbsp;&lt;https://www.php.net/end&gt;</span><span style="color: #007700">`</span><span style="color: #0000BB">_</span><span style="color: #007700">;<br />}&nbsp;catch&nbsp;(\</span><span style="color: #0000BB">Exception&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Exception:&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$e</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMessage</span><span style="color: #007700">();<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://phalconphp.com/" alt="Phalcon">Phalcon</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=vendors_fuel" id="vendors_fuel">FuelPHP Usage</a></h2><p>[Since 1.0.3] - [ -P Vendors/Fuel ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#fuelphp-usage">Online docs</a> ]</p><p>This analysis reports usage of the Fuel PHP Framework. The report is based on the usage of Fuel namespace.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;file&nbsp;located&nbsp;in&nbsp;APPPATH/classes/presenter.php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Presenter&nbsp;</span><span style="color: #007700">extends&nbsp;\</span><span style="color: #0000BB">Fuel</span><span style="color: #007700">\</span><span style="color: #0000BB">Core</span><span style="color: #007700">\</span><span style="color: #0000BB">Presenter<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;namespace&nbsp;prefix<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">protected&nbsp;static&nbsp;</span><span style="color: #0000BB">$ns_prefix&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Presenter\';<br />}</span>?&gt;</pre><br />
<br />
See also <a href="https://fuelphp.com" alt="FuelPHP">FuelPHP</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_uselistwithforeach" id="structures_uselistwithforeach">Use List With Foreach</a></h2><p>[Since 1.0.4] - [ -P Structures/UseListWithForeach ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-list-with-foreach">Online docs</a> ]</p><p>For<a href="https://www.php.net/each" alt="each()">each()</a> structures accepts list() as blind key. If the loop-value is an array with a fixed structure, it is possible to extract the values directly into variables with explicit names.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Short&nbsp;way&nbsp;to&nbsp;assign&nbsp;variables<br />//&nbsp;Works&nbsp;on&nbsp;PHP&nbsp;7.1,&nbsp;where&nbsp;list()&nbsp;accepts&nbsp;keys.<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$names&nbsp;</span><span style="color: #007700">as&nbsp;list(</span><span style="color: #DD0000">'first'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$first</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'last'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$last</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">(</span><span style="color: #0000BB">$first</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$last</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Short&nbsp;way&nbsp;to&nbsp;assign&nbsp;variables<br />//&nbsp;Works&nbsp;on&nbsp;all&nbsp;PHP&nbsp;versions&nbsp;with&nbsp;numerically&nbsp;indexed&nbsp;arrays.<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$names&nbsp;</span><span style="color: #007700">as&nbsp;list(</span><span style="color: #0000BB">$first</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$last</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">(</span><span style="color: #0000BB">$first</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$last</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Long&nbsp;way&nbsp;to&nbsp;assign&nbsp;variables<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$names&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$first&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">[</span><span style="color: #DD0000">'first'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$last&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">[</span><span style="color: #DD0000">'last'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">(</span><span style="color: #0000BB">$first</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$last</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/function.list.php" alt="list">list</a> and <a href="http://php.net/manual/en/control-structures.foreach.php" alt="foreach">foreach</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_dontsendthisinconstructor" id="classes_dontsendthisinconstructor">Don't Send $this In Constructor</a></h2><p>[Since 1.0.4] - [ -P Classes/DontSendThisInConstructor ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#don't-send-$this-in-constructor">Online docs</a> ]</p><p>Don't use  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$this</span>  as an argument while in the __construct(). Until the constructor is finished, the object is not finished, and may be in an unstable state. Providing it to another code may lead to error. <br />
<br />
This is true when the receiving structure puts the incoming object immediately to work, and don't store it for later use. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;$this&nbsp;is&nbsp;only&nbsp;provided&nbsp;when&nbsp;Foo&nbsp;is&nbsp;constructed<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$data&nbsp;</span><span style="color: #007700">=&nbsp;array();<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">build</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Can't&nbsp;build&nbsp;in&nbsp;one&nbsp;call.&nbsp;Must&nbsp;make&nbsp;it&nbsp;separate.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$foo</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">finalize</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$this&nbsp;is&nbsp;provided&nbsp;too&nbsp;early<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">data&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">finalize</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Bar</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;$this&nbsp;is&nbsp;provided&nbsp;too&nbsp;early,&nbsp;leading&nbsp;to&nbsp;error&nbsp;in&nbsp;Bar<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Foo2&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$data&nbsp;</span><span style="color: #007700">=&nbsp;array();<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$this&nbsp;is&nbsp;provided&nbsp;too&nbsp;early<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Bar</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">data&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">Bar&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">Foo&nbsp;$foo</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;the&nbsp;cache&nbsp;is&nbsp;now&nbsp;initialized&nbsp;with&nbsp;a&nbsp;wrong&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">cache&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$foo</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getIt</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.javapractices.com/topic/TopicAction.do?Id=252" alt="Don't pass this out of a constructor">Don't pass this out of a constructor</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_argon2usage" id="php_argon2usage">Argon2 Usage</a></h2><p>[Since 1.0.4] - [ -P Php/Argon2Usage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#argon2-usage">Online docs</a> ]</p><p>Argon2 is an optionally compiled password hashing API. <br />
<br />
Argon2 has been added to the password hashing API in PHP 7.2. <br />
<br />
It is not available in older version. It also requires PHP to be compiled with the --with-password-argon2 option. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Hashing&nbsp;a&nbsp;password&nbsp;with&nbsp;argon2<br /></span><span style="color: #0000BB">$hash&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">password_hash</span><span style="color: #007700">(</span><span style="color: #DD0000">'password'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PASSWORD_ARGON2I</span><span style="color: #007700">,&nbsp;[</span><span style="color: #DD0000">'memory_cost'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">&lt;&lt;</span><span style="color: #0000BB">17</span><span style="color: #007700">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'time_cost'&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">PASSWORD_ARGON2_DEFAULT_TIME_COST</span><span style="color: #007700">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'threads'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">PASSWORD_ARGON2_DEFAULT_THREADS</span><span style="color: #007700">]);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://wiki.php.net/rfc/argon2_password_hash" alt="Argon2 Password Hash">Argon2 Password Hash</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_cryptousage" id="php_cryptousage">Crypto Usage</a></h2><p>[Since 1.0.4] - [ -P Php/CryptoUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#crypto-usage">Online docs</a> ]</p><p>Usage of cryptography and hashes functions. <br />
<br />
The functions listed are the native PHP functions, and do not belong to a specific extension, like  <span style="border: 1px solid #ddd; background-color: #f5f5f5">OpenSSL</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">mcrypt</span>  or  <span style="border: 1px solid #ddd; background-color: #f5f5f5">mhash</span> .<br />
<br />
Cryptography and hashes are mainly used for storing sensitive data, such as passwords, or to verify authenticity of data. They may also be used for name-randomization with cache.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">md5</span><span style="color: #007700">(</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'password'</span><span style="color: #007700">])&nbsp;===&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">'password_hash'</span><span style="color: #007700">])&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">user_login</span><span style="color: #007700">(</span><span style="color: #0000BB">$user</span><span style="color: #007700">);<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">error</span><span style="color: #007700">(</span><span style="color: #DD0000">'Wrong&nbsp;password'</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/refs.crypto.php" alt="Cryptography Extensions">Cryptography Extensions</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_integerasproperty" id="classes_integerasproperty">Integer As Property</a></h2><p>[Since 1.0.4] - [ -P Classes/IntegerAsProperty ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#integer-as-property">Online docs</a> ] - [ PHP 7.2 and more recent ]</p><p>It is backward incompatible to use integers are property names. This feature was introduced in PHP 7.2.<br />
<br />
If the code must be compatible with previous versions, avoid casting arrays to object.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;array&nbsp;to&nbsp;object<br /></span><span style="color: #0000BB">$arr&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">0&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">$obj&nbsp;</span><span style="color: #007700">=&nbsp;(object)&nbsp;</span><span style="color: #0000BB">$arr</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$obj</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;{</span><span style="color: #DD0000">'0'</span><span style="color: #007700">},&nbsp;</span><span style="color: #FF8000">//&nbsp;PHP&nbsp;7.2+&nbsp;accessible<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;{</span><span style="color: #0000BB">0</span><span style="color: #007700">}&nbsp;</span><span style="color: #FF8000">//&nbsp;PHP&nbsp;7.2+&nbsp;accessible<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;{</span><span style="color: #DD0000">'b'</span><span style="color: #007700">},&nbsp;</span><span style="color: #FF8000">//&nbsp;always&nbsp;been&nbsp;accessible<br /></span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://wiki.php.net/rfc/convert_numeric_keys_in_object_array_casts" alt="PHP RFC: Convert numeric keys in object/array casts">PHP RFC: Convert numeric keys in object/array casts</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_nogetclassnull" id="structures_nogetclassnull">No get_class() With Null</a></h2><p>[Since 1.0.4] - [ -P Structures/NoGetClassNull ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-get_class---with-null">Online docs</a> ]</p><p>It is not possible to pass explicitly null to get_class() to get the current's class name. Since PHP 7.2, one must call get_class() without arguments to achieve that result.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">f</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Gets&nbsp;the&nbsp;classname<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$classname&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">get_class</span><span style="color: #007700">();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Gets&nbsp;the&nbsp;classname&nbsp;and&nbsp;a&nbsp;warning<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$classname&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">null</span><span style="color: #007700">);<br />&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">f</span><span style="color: #007700">(</span><span style="color: #DD0000">'get_class'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_php72newclasses" id="php_php72newclasses">Php 7.2 New Class</a></h2><p>[Since 1.0.4] - [ -P Php/Php72NewClasses ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php-7.2-new-class">Online docs</a> ] - [ PHP  older than 7.2]</p><p>New classes, introduced in PHP 7.2. If classes where created with the same name, in current code, they have to be moved in a namespace, or removed from code to migrate safely to PHP 7.2.<br />
<br />
The new class is : HashContext.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Global&nbsp;namespace<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">HashContext&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Move&nbsp;to&nbsp;a&nbsp;namespace<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;or,&nbsp;remove&nbsp;this&nbsp;class<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /><br />namespace&nbsp;</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;class&nbsp;</span><span style="color: #0000BB">HashContext&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;OK&nbsp;:&nbsp;in&nbsp;a&nbsp;namespace<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_avoidseterrorhandlercontextarg" id="php_avoidseterrorhandlercontextarg">Avoid set_error_handler $context Argument</a></h2><p>[Since 1.0.4] - [ -P Php/AvoidSetErrorHandlerContextArg ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#avoid-set_error_handler-$context-argument">Online docs</a> ]</p><p>Avoid configuring <a href="https://www.php.net/set_error_handler" alt="set_error_handler()">set_error_handler()</a> with a method that accepts 5 arguments. The last argument,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$errcontext</span> , is deprecated since PHP 7.2, and will be removed later.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;setting&nbsp;error_handler&nbsp;with&nbsp;an&nbsp;incorrect&nbsp;closure<br /></span><span style="color: #0000BB">set_error_handler</span><span style="color: #007700">(function(</span><span style="color: #0000BB">$errno</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$errstr</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$errfile</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$errline</span><span style="color: #007700">)&nbsp;{});<br /><br /></span><span style="color: #FF8000">//&nbsp;setting&nbsp;error_handler&nbsp;with&nbsp;an&nbsp;incorrect&nbsp;closure<br /></span><span style="color: #0000BB">set_error_handler</span><span style="color: #007700">(function(</span><span style="color: #0000BB">$errno</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$errstr</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$errfile</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$errline</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$errcontext</span><span style="color: #007700">)&nbsp;{});<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.php.net/set_error_handler" alt="set_error_handler()">set_error_handler()</a>;<br />
</p>
<h2><a href="issues.html#analyzer=php_hashusesobjects" id="php_hashusesobjects">Hash Will Use Objects</a></h2><p>[Since 1.0.4] - [ -P Php/HashUsesObjects ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#hash-will-use-objects">Online docs</a> ]</p><p>The <a href="http://www.php.net/manual/en/book.hash.php" alt="ext/hash extension">ext/hash extension</a> used resources, and is being upgraded to use resources. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Post&nbsp;7.2&nbsp;code&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$hash&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">hash_init</span><span style="color: #007700">(</span><span style="color: #DD0000">'sha256'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #0000BB">is_object</span><span style="color: #007700">(</span><span style="color: #0000BB">$hash</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">trigger_error</span><span style="color: #007700">(</span><span style="color: #DD0000">'error'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">hash_update</span><span style="color: #007700">(</span><span style="color: #0000BB">$hash</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$message</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Pre-7.2&nbsp;code<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$hash&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">hash_init</span><span style="color: #007700">(</span><span style="color: #DD0000">'md5'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #0000BB">is_resource</span><span style="color: #007700">(</span><span style="color: #0000BB">$hash</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">trigger_error</span><span style="color: #007700">(</span><span style="color: #DD0000">'error'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">hash_update</span><span style="color: #007700">(</span><span style="color: #0000BB">$hash</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$message</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/migration72.incompatible.php#migration72.incompatible.hash-ext-to-objects" alt="Move ext/hash from resources to objects">Move ext/hash from resources to objects</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_cancountnoncountable" id="structures_cancountnoncountable">Can't Count Non-Countable</a></h2><p>[Since 1.0.4] - [ -P Structures/CanCountNonCountable ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#can't-count-non-countable">Online docs</a> ]</p><p>Count() emits an error when it tries to count scalars or objects what don't implement Countable interface.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Normal&nbsp;usage<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">,</span><span style="color: #0000BB">3</span><span style="color: #007700">,</span><span style="color: #0000BB">4</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">).</span><span style="color: #0000BB">items</span><span style="color: #007700">\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Error&nbsp;emiting&nbsp;usage<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'1234'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">).</span><span style="color: #0000BB">chars</span><span style="color: #007700">\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Error&nbsp;emiting&nbsp;usage<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$unsetVar</span><span style="color: #007700">).</span><span style="color: #0000BB">elements</span><span style="color: #007700">\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/migration72.incompatible.php#migration72.incompatible.warn-on-non-countable-types" alt="Warn when counting non-countable types">Warn when counting non-countable types</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_missingnew" id="structures_missingnew">Missing New ?</a></h2><p>[Since 1.0.4] - [ -P Structures/MissingNew ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#missing-new-?">Online docs</a> ]</p><p>This functioncall looks like a class instantiation that is missing the new keyword.<br />
<br />
Any function definition was found for that function, but a class with that name was. New is probably missing.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Functioncall<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;Class&nbsp;definition<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{}<br /></span><span style="color: #FF8000">//&nbsp;Function&nbsp;definition<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{}<br /><br /><br /></span><span style="color: #FF8000">//&nbsp;Functioncall<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">BAR</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Function&nbsp;definition<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">{}<br /></span><span style="color: #FF8000">//&nbsp;Constant&nbsp;definition<br /></span><span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">BAR&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_unknownpcre2option" id="php_unknownpcre2option">Unknown Pcre2 Option</a></h2><p>[Since 1.0.4] - [ -P Php/UnknownPcre2Option ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unknown-pcre2-option">Online docs</a> ]</p><p> <span style="border: 1px solid #ddd; background-color: #f5f5f5">PCRE2</span>  supports different options, compared to  <span style="border: 1px solid #ddd; background-color: #f5f5f5">PCRE1</span> .  <span style="border: 1px solid #ddd; background-color: #f5f5f5">PCRE2</span>  was adopted with PHP 7.3. <br />
<br />
The  <span style="border: 1px solid #ddd; background-color: #f5f5f5">S</span>  modifier : it used to tell PCRE to spend more time studying the regex, so as to be faster at execution. This is now the default behavior, and may be dropped from the regex.<br />
<br />
The  <span style="border: 1px solid #ddd; background-color: #f5f5f5">X</span>  modifier :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">X</span>  is still existing with  <span style="border: 1px solid #ddd; background-color: #f5f5f5">PCRE2</span> , though it is now the default for  <span style="border: 1px solid #ddd; background-color: #f5f5f5">PCRE2</span> , and not for PHP as time of writing. In particular,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Any backslash in a pattern that is followed by a letter that has no special meaning causes an error, thus reserving these combinations for future expansion. </span> . It is recommended to avoid using useless sequence \s in regex to get ready for that change. All the following letters  <span style="border: 1px solid #ddd; background-color: #f5f5f5">gijkmoqyFIJMOTY</span>  . Note that  <span style="border: 1px solid #ddd; background-color: #f5f5f5">clLpPuU</span>  are valid  <span style="border: 1px solid #ddd; background-color: #f5f5f5">PRCE</span>  sequences, and are probably failing for other reasons. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;\y&nbsp;has&nbsp;no&nbsp;meaning.&nbsp;With&nbsp;X&nbsp;option,&nbsp;this&nbsp;leads&nbsp;to&nbsp;a&nbsp;regex&nbsp;compilation&nbsp;error,&nbsp;and&nbsp;a&nbsp;failed&nbsp;test.<br /></span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/ye\y/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/ye\y/X'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/reference.pcre.pattern.modifiers.php" alt="Pattern Modifiers">Pattern Modifiers</a> and <br />
         <a href="https://wiki.php.net/rfc/pcre2-migration" alt="PHP RFC: PCRE2 migration">PHP RFC: PCRE2 migration</a>.<br />
</p>
<h2><a href="issues.html#analyzer=performances_php7encapsedstrings" id="performances_php7encapsedstrings">Use PHP7 Encapsed Strings</a></h2><p>[Since 1.0.4] - [ -P Performances/PHP7EncapsedStrings ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-php7-encapsed-strings">Online docs</a> ]</p><p>PHP 7 has optimized the handling of double-quoted strings. In particular, double-quoted strings are much less memory hungry than classic concatenations. <br />
<br />
PHP allocates memory at the end of the double-quoted string, making only one call to the allocator. On the other hand, concatenations are allocated each time they include dynamic content, leading to higher memory consumption. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">;<br />&nbsp;<br /></span><span style="color: #FF8000">/*&nbsp;PHP&nbsp;7&nbsp;optimized&nbsp;this&nbsp;*/<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"foo&nbsp;and&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br />&nbsp;<br /></span><span style="color: #FF8000">/*&nbsp;This&nbsp;is&nbsp;PHP&nbsp;5&nbsp;code&nbsp;(aka,&nbsp;don't&nbsp;use&nbsp;it)&nbsp;*/<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'foo&nbsp;and&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Constants&nbsp;can't&nbsp;be&nbsp;used&nbsp;with&nbsp;double&nbsp;quotes<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'foo&nbsp;and&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">__DIR__</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">and&nbsp;</span><span style="color: #0000BB">__DIR__</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;__DIR__&nbsp;is&nbsp;not&nbsp;interpolated<br /></span>?&gt;</pre><br />
<br />
Concatenations are still needed with constants, static constants, magic constants, functions, static properties or static methods. <br />
<br />
See also <a href="https://blog.blackfire.io/php-7-performance-improvements-encapsed-strings-optimization.html" alt="PHP 7 performance improvements (3/5): Encapsed strings optimization">PHP 7 performance improvements (3/5): Encapsed strings optimization</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=type_arrayindex" id="type_arrayindex">Array Index</a></h2><p>[Since 1.0.4] - [ -P Type/ArrayIndex ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#array-index">Online docs</a> ]</p><p>All literal index used in the code. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;index&nbsp;is&nbsp;an&nbsp;index.&nbsp;it&nbsp;is&nbsp;read<br /></span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #DD0000">'index'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;another_index&nbsp;and&nbsp;second_level&nbsp;are&nbsp;read<br /></span><span style="color: #0000BB">$array</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #DD0000">'another_index'</span><span style="color: #007700">][</span><span style="color: #DD0000">'second_level'</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;variables&nbsp;index&nbsp;are&nbsp;not&nbsp;reported<br /></span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #0000BB">$variable</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=type_gpcindex" id="type_gpcindex">Incoming Variable Index Inventory</a></h2><p>[Since 1.0.4] - [ -P Type/GPCIndex ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#incoming-variable-index-inventory">Online docs</a> ]</p><p>This collects all the index used in incoming variables : $_GET, $_POST, $_REQUEST, $_COOKIE.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;x&nbsp;is&nbsp;collected<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'x'</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;y&nbsp;is&nbsp;collected,&nbsp;but&nbsp;no&nbsp;z.&nbsp;<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'y'</span><span style="color: #007700">][</span><span style="color: #DD0000">'z'</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;a&nbsp;is&nbsp;not&nbsp;collected<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$_ENV</span><span style="color: #007700">[</span><span style="color: #DD0000">'s'</span><span style="color: #007700">];<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=arrays_slicefirst" id="arrays_slicefirst">Slice Arrays First</a></h2><p>[Since 1.0.4] - [ -P Arrays/SliceFirst ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#slice-arrays-first">Online docs</a> ]</p><p>Always start by reducing an array before applying some transformation on it. The shorter array will be processed faster. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;fast&nbsp;version<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_map</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">array_slice</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;slower&nbsp;version<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_slice</span><span style="color: #007700">(</span><span style="color: #0000BB">array_map</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
The gain produced here is greater with longer arrays, or greater reductions. They may also be used in loops. This is a micro-optimisation when used on short arrays.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extvips" id="extensions_extvips">ext/vips</a></h2><p>[Since 1.0.4] - [ -P Extensions/Extvips ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-vips">Online docs</a> ]</p><p>Extension VIPS.<br />
<br />
The VIPS image processing system is a very fast, multi-threaded image processing library with low memory needs.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">dl</span><span style="color: #007700">(</span><span style="color: #DD0000">'vips.'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">PHP_SHLIB_SUFFIX</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">vips_image_new_from_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">])[</span><span style="color: #0000BB">out</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">vips_image_write_to_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$x</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">]);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://github.com/jcupitt/php-vips-ext" alt="php-vips-ext">php-vips-ext</a>, <br />
         <a href="https://jcupitt.github.io/libvips/" alt="libvips">libvips</a> and<br />
         <a href="https://www.liip.ch/en/blog/libvips-adapter-for-php-imagine" alt="libvips adapter for PHP Imagine">libvips adapter for PHP Imagine</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_dlusage" id="php_dlusage">Dl() Usage</a></h2><p>[Since 1.0.4] - [ -P Php/DlUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#dl---usage">Online docs</a> ]</p><p>Dynamically load PHP extensions with dl().<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;dynamically&nbsp;loading&nbsp;ext/vips<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">dl</span><span style="color: #007700">(</span><span style="color: #DD0000">'vips.'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">PHP_SHLIB_SUFFIX</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/dl" alt="dl">dl</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_parentfirst" id="classes_parentfirst">Parent First</a></h2><p>[Since 1.0.5] - [ -P Classes/ParentFirst ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#parent-first">Online docs</a> ]</p><p>When calling parent constructor, always put it first in the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">__construct</span>  method. It ensures the parent is correctly build before the child start using values. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">father&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$name&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">init</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">goodSon&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;parent&nbsp;is&nbsp;build&nbsp;immediately,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">__construct</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">my&nbsp;name&nbsp;is</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">badSon&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;will&nbsp;fail.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">my&nbsp;name&nbsp;is</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;parent&nbsp;is&nbsp;build&nbsp;later,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">__construct</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
This analysis doesn't apply to Exceptions. <br />
</p>
<h2><a href="issues.html#analyzer=variables_uncommonenvvar" id="variables_uncommonenvvar">Environment Variables</a></h2><p>[Since 1.0.5] - [ -P Variables/UncommonEnvVar ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#environment-variables">Online docs</a> ]</p><p>Environment variables are used to interact with the hosting system. <br />
<br />
They often provides configuration parameter that are set by the hoster for the application to be used. <br />
That way, information is not hardcoded in the application, and may be changed at production.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//ENVIRONMENT&nbsp;set&nbsp;the&nbsp;production&nbsp;context<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">getenv</span><span style="color: #007700">(</span><span style="color: #DD0000">'ENVIRONMENT'</span><span style="color: #007700">)&nbsp;===&nbsp;</span><span style="color: #DD0000">'Production'</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$sshKey&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">getenv</span><span style="color: #007700">(</span><span style="color: #DD0000">'HOST_KEY'</span><span style="color: #007700">);<br />}&nbsp;elseif&nbsp;(</span><span style="color: #0000BB">getenv</span><span style="color: #007700">(</span><span style="color: #DD0000">'ENVIRONMENT'</span><span style="color: #007700">)&nbsp;===&nbsp;</span><span style="color: #DD0000">'Developper'</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$sshKey&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'NO&nbsp;KEY'</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'No&nbsp;website&nbsp;here.'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;die();<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/reserved.variables.environment.php" alt="$_ENV">$_ENV</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_invalidregex" id="structures_invalidregex">Invalid Regex</a></h2><p>[Since 1.0.5] - [ -P Structures/InvalidRegex ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#invalid-regex">Online docs</a> ]</p><p>The PCRE regex doesn't compile. It isn't a valid regex.<br />
<br />
Several reasons may lead to this situation : syntax error, Unknown modifier, missing parenthesis or reference.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;valid&nbsp;regex<br /></span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/[abc]/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;invalid&nbsp;regex&nbsp;(missing&nbsp;terminating&nbsp;]&nbsp;for&nbsp;character&nbsp;class&nbsp;<br /></span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/[abc/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
Regex are check with the Exakat version of PHP. <br />
<br />
Dynamic regex are only checked for simple values. Dynamic values may eventually generate a compilation error.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=functions_avoidbooleanargument" id="functions_avoidbooleanargument">Use Named Boolean In Argument Definition</a></h2><p>[Since 1.0.6] - [ -P Functions/AvoidBooleanArgument ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-named-boolean-in-argument-definition">Online docs</a> ]</p><p>Boolean in argument definitions is confusing. <br />
<br />
It is recommended to use explicit constant names, instead. They are more readable. They also allow for easy replacement when the code evolve and has to replace those booleans by strings. This works even also with classes, and class constants.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">flipImage</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$horizontal&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">NO_HORIZONTAL_FLIP</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$vertical&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">NO_VERTICAL_FLIP</span><span style="color: #007700">)&nbsp;{&nbsp;}<br /><br /></span><span style="color: #FF8000">//&nbsp;with&nbsp;constants<br /></span><span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">HORIZONTAL_FLIP&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br />const&nbsp;</span><span style="color: #0000BB">NO_HORIZONTAL_FLIP&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br />const&nbsp;</span><span style="color: #0000BB">VERTICAL_FLIP&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br />const&nbsp;</span><span style="color: #0000BB">NO_VERTICAL_FLIP&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">rotateImage</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">HORIZONTAL_FLIP</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">NO_VERTICAL_FLIP</span><span style="color: #007700">);<br /><br /><br /></span><span style="color: #FF8000">//&nbsp;without&nbsp;constants&nbsp;<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">flipImage</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$horizontal&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$vertical&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">)&nbsp;{&nbsp;}<br /><br /></span><span style="color: #0000BB">rotateImage</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://martinfowler.com/bliki/FlagArgument.html" alt="Flag Argument">Flag Argument</a>, to avoid boolean altogether.<br />
</p>
<h2><a href="issues.html#analyzer=structures_autounsetforeach" id="structures_autounsetforeach">Same Variables Foreach</a></h2><p>[Since 1.0.5] - [ -P Structures/AutoUnsetForeach ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#same-variables-foreach">Online docs</a> ]</p><p>A foreach which uses its own source as a blind variable is actually broken.<br />
<br />
Actually, PHP makes a copy of the source before it starts the loop. As such, the same variable may be used for both source and blind value. <br />
<br />
Of course, this is very confusing, to see the same variables used in very different ways. <br />
<br />
The source will also be destroyed immediately after the blind variable has been turned into a reference.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">range</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">);<br />foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;display&nbsp;number&nbsp;from&nbsp;0&nbsp;to&nbsp;10.<br /><br /></span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">range</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">);<br />foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;&amp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;display&nbsp;10<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=functions_neverusedparameter" id="functions_neverusedparameter">Never Used Parameter</a></h2><p>[Since 1.0.6] - [ -P Functions/NeverUsedParameter ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#never-used-parameter">Online docs</a> ]</p><p>When a parameter is never used at calltime, it may be turned into a local variable.<br />
<br />
It seems that the parameter was set up initially, but never found its practical usage. It is never mentioned, and always fall back on its default value.  <br />
<br />
Parameter without a default value are reported by PHP, and are usually always filled. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;$b&nbsp;may&nbsp;be&nbsp;turned&nbsp;into&nbsp;a&nbsp;local&nbsp;var,&nbsp;it&nbsp;is&nbsp;unused<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;whenever&nbsp;foo&nbsp;is&nbsp;called,&nbsp;the&nbsp;2nd&nbsp;arg&nbsp;is&nbsp;not&nbsp;mentionned<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">3</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #DD0000">'a'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$c</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extigbinary" id="extensions_extigbinary">ext/igbinary</a></h2><p>[Since 1.0.6] - [ -P Extensions/Extigbinary ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-igbinary">Online docs</a> ]</p><p>Extension igbinary. <br />
<br />
igbinary is a drop in replacement for the standard php serializer. Instead of time and space consuming textual representation, igbinary stores php data structures in compact binary form. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$serialized&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">igbinary_serialize</span><span style="color: #007700">(</span><span style="color: #0000BB">$variable</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$unserialized&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">igbinary_unserialize</span><span style="color: #007700">(</span><span style="color: #0000BB">$serialized</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://github.com/igbinary/igbinary/" alt="igbinary">igbinary</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_shouldusearrayfilter" id="php_shouldusearrayfilter">Should Use array_filter()</a></h2><p>[Since 1.0.7] - [ -P Php/ShouldUseArrayFilter ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#should-use-array_filter--">Online docs</a> ]</p><p>Should use <a href="https://www.php.net/array_filter" alt="array_filter()">array_filter()</a>.<br />
<br />
<a href="https://www.php.net/array_filter" alt="array_filter()">array_filter()</a> is a native PHP function, that extract elements from an array, based on a closure or a function. Using <a href="https://www.php.net/array_filter" alt="array_filter()">array_filter()</a> shortens your code, and allows for reusing the filtering logic across the application, instead of hard coding it every time.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">range</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;integers&nbsp;from&nbsp;0&nbsp;to&nbsp;10<br /><br />//&nbsp;Extracts&nbsp;odd&nbsp;numbers<br /></span><span style="color: #0000BB">$odds&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_filter</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;function(</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;{&nbsp;return&nbsp;</span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">%&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;&nbsp;});<br /></span><span style="color: #0000BB">$odds&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_filter</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'odd'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Slow&nbsp;and&nbsp;cumbersome&nbsp;code&nbsp;for&nbsp;extracting&nbsp;odd&nbsp;numbers<br /></span><span style="color: #0000BB">$odds&nbsp;</span><span style="color: #007700">=&nbsp;array();<br />foreach(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$v</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">%&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;{&nbsp;</span><span style="color: #FF8000">//&nbsp;same&nbsp;filter&nbsp;than&nbsp;the&nbsp;closure&nbsp;above,&nbsp;or&nbsp;the&nbsp;odd&nbsp;function&nbsp;below<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$bColumn</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">$v</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">%&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;&nbsp;<br />}<br /></span>?&gt;</pre><br />
<br />
<a href="https://www.php.net/array_filter" alt="array_filter()">array_filter()</a> is faster than for<a href="https://www.php.net/each" alt="each()">each()</a> (with or without the isset() test) with 3 elements or more, and it is significantly faster beyond 5 elements. Memory consumption is the same.<br />
<br />
See also <a href="https://php.net/array_filter" alt="array_filter">array_filter</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_identicalonbothsides" id="structures_identicalonbothsides">Identical On Both Sides</a></h2><p>[Since 1.0.8] - [ -P Structures/IdenticalOnBothSides ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#identical-on-both-sides">Online docs</a> ]</p><p>Operands should be different when comparing or making a logical combination. Of course, the value each operand holds may be identical. When the same operand appears on both sides of the expression, the result is know before execution. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Trying&nbsp;to&nbsp;confirm&nbsp;consistency<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$login&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">$login</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Works&nbsp;with&nbsp;every&nbsp;operators<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$object</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">login</span><span style="color: #007700">(&nbsp;)&nbsp;!==&nbsp;</span><span style="color: #0000BB">$object</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">login</span><span style="color: #007700">())&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}<br /><br />if&nbsp;(</span><span style="color: #0000BB">$sum&nbsp;</span><span style="color: #007700">&gt;=&nbsp;</span><span style="color: #0000BB">$sum</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}<br /><br /></span><span style="color: #FF8000">//<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$mask&nbsp;</span><span style="color: #007700">&amp;&amp;&nbsp;</span><span style="color: #0000BB">$mask</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}<br /><br />if&nbsp;(</span><span style="color: #0000BB">$mask&nbsp;</span><span style="color: #007700">||&nbsp;</span><span style="color: #0000BB">$mask</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_identicalconsecutive" id="structures_identicalconsecutive">Identical Consecutive Expression</a></h2><p>[Since 1.0.8] - [ -P Structures/IdenticalConsecutive ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#identical-consecutive-expression">Online docs</a> ]</p><p>Identical consecutive expressions are worth being checked. <br />
<br />
They may be a copy/paste with unmodified content. When the content has to be duplicated, it is recommended to avoid executing the expression again, and just access the cached result.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$current&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">$next&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">$nextnext&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">];&nbsp;</span><span style="color: #FF8000">//&nbsp;OOps,&nbsp;nextnext&nbsp;is&nbsp;wrong.<br /><br />//&nbsp;Initialization<br /></span><span style="color: #0000BB">$previous&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]);&nbsp;</span><span style="color: #FF8000">//&nbsp;previous&nbsp;is&nbsp;initialized&nbsp;with&nbsp;the&nbsp;first&nbsp;value&nbsp;on&nbsp;purpose<br /></span><span style="color: #0000BB">$next&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]);&nbsp;</span><span style="color: #FF8000">//&nbsp;the&nbsp;second&nbsp;call&nbsp;to&nbsp;foo()&nbsp;with&nbsp;the&nbsp;same&nbsp;arguments&nbsp;should&nbsp;be&nbsp;avoided<br />//&nbsp;the&nbsp;above&nbsp;can&nbsp;be&nbsp;rewritten&nbsp;as&nbsp;:&nbsp;<br /></span><span style="color: #0000BB">$next&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$previous</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;save&nbsp;the&nbsp;processing.<br /><br /></span><span style="color: #007700">for(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">200</span><span style="color: #007700">;&nbsp;++</span><span style="color: #0000BB">$i</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$next&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_noreferenceforternary" id="php_noreferenceforternary">No Reference For Ternary</a></h2><p>[Since 1.0.8] - [ -P Php/NoReferenceForTernary ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-reference-for-ternary">Online docs</a> ]</p><p>The ternary operator and the null coalescing operator are both expressions that only return values, and not a variable. <br />
<br />
This means that any provided reference will be turned into its value. While this is usually invisible, it will raise a warning when a reference is expected. This is the case with methods returning a reference. <br />
<br />
A PHP notice is generated when using a ternary operator or the null coalesce operator :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Only variable references should be returned by reference</span> . The notice is also emitted when returning objects. <br />
<br />
This applies to methods, functions and closures. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;works<br /></span><span style="color: #007700">function&nbsp;&amp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;raises&nbsp;a&nbsp;warning,&nbsp;as&nbsp;the&nbsp;operator&nbsp;returns&nbsp;a&nbsp;value<br /></span><span style="color: #007700">function&nbsp;&amp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{&nbsp;return&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;&nbsp;}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.operators.comparison.php#language.operators.comparison.coalesce" alt="Null Coalescing Operator">Null Coalescing Operator</a>, <br />
         <a href="http://php.net/manual/en/language.operators.comparison.php#language.operators.comparison.ternary" alt="Ternary Operator">Ternary Operator</a>.<br />
</p>
<h2><a href="issues.html#analyzer=security_sqlite3requiressinglequotes" id="security_sqlite3requiressinglequotes">Sqlite3 Requires Single Quotes</a></h2><p>[Since 1.0.10] - [ -P Security/Sqlite3RequiresSingleQuotes ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#sqlite3-requires-single-quotes">Online docs</a> ]</p><p>The escapeString() method from  <span style="border: 1px solid #ddd; background-color: #f5f5f5">SQLite3</span>  doesn't escape  <span style="border: 1px solid #ddd; background-color: #f5f5f5">"</span> , but only  <span style="border: 1px solid #ddd; background-color: #f5f5f5">'</span> . <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;OK.&nbsp;escapeString&nbsp;is&nbsp;OK&nbsp;with&nbsp;'<br /></span><span style="color: #0000BB">$query&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"SELECT&nbsp;*&nbsp;FROM&nbsp;table&nbsp;WHERE&nbsp;col&nbsp;=&nbsp;'"</span><span style="color: #007700">.</span><span style="color: #0000BB">$sqlite</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">escapeString</span><span style="color: #007700">(</span><span style="color: #0000BB">$x</span><span style="color: #007700">).</span><span style="color: #DD0000">"'"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;vulnerable&nbsp;to&nbsp;"&nbsp;in&nbsp;$x<br /></span><span style="color: #0000BB">$query&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'SELECT&nbsp;*&nbsp;FROM&nbsp;table&nbsp;WHERE&nbsp;col&nbsp;=&nbsp;"'</span><span style="color: #007700">.</span><span style="color: #0000BB">$sqlite</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">escapeString</span><span style="color: #007700">(</span><span style="color: #0000BB">$x</span><span style="color: #007700">).</span><span style="color: #DD0000">'"'</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
To properly handle quotes and  <span style="border: 1px solid #ddd; background-color: #f5f5f5">NUL</span>  characters, use bindParam() instead.<br />
<br />
Quote from the PHP manual comments :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">The reason this function doesn't escape double quotes is because double quotes are used with names (the equivalent of backticks in MySQL), as in table or column names, while single quotes are used for values.</span> <br />
<br />
See also <a href="http://php.net/manual/en/sqlite3.escapestring.php" alt="SQLite3::escapeString">SQLite3::escapeString</a>.<br />
</p>
<h2><a href="issues.html#analyzer=security_nonetforxmlload" id="security_nonetforxmlload">No Net For Xml Load</a></h2><p>[Since 1.0.11] - [ -P Security/NoNetForXmlLoad ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-net-for-xml-load">Online docs</a> ]</p><p>Simplexml and ext/DOM load all external entities from the web, by default. This is dangerous, in particular when loading unknown XML code.<br />
<br />
Look at this XML code below : it is valid. It defines an entity  <span style="border: 1px solid #ddd; background-color: #f5f5f5">xxe</span> , that is filled with a file, read on the system and base64 encoded. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php 


&lt;!DOCTYPE replace [&lt;!ENTITY xxe SYSTEM "php://filter/convert.base64-encode/resource=index.php"&gt; ]&gt;
<replace>&xxe;</replace>
?&gt;</pre><br />
<br />
This file could be processed with the following code : note, you can replace 'index.php' in the above entity by any valid filepath. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$dom&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">DOMDocument</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$dom</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">loadXML</span><span style="color: #007700">(</span><span style="color: #0000BB">$xml</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">LIBXML_NOENT&nbsp;</span><span style="color: #007700">|&nbsp;</span><span style="color: #0000BB">LIBXML_DTDLOAD</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$info&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">simplexml_import_dom</span><span style="color: #007700">(</span><span style="color: #0000BB">$dom</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">base64_decode</span><span style="color: #007700">(</span><span style="color: #0000BB">$info</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]);<br /></span>?&gt;</pre> <br />
<br />
Here, PHP tries to load the XML file, finds the entity, then solves the entity by encoding a file called  <span style="border: 1px solid #ddd; background-color: #f5f5f5">index.php</span> . The source code of the file is not used as data in the XML file. <br />
<br />
At that point, the example illustrates how a XXE works : by using the XML engine to load external resources, and preprocessing the XML code. in fact, there is only one change to make this XML code arbitrarily injected : <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php 


&lt;!DOCTYPE replace [&lt;!ENTITY writer SYSTEM https://www.example.com/entities.dtd&gt; ]&gt;
<replace>&xxe;</replace>
?&gt;</pre><br />
<br />
With the above example, the XML code is static (as, it never changes), but the 'xxe' definitions are loaded from a remove website, and are completely under the attacker control.<br />
<br />
See also <a href="https://github.com/swisskyrepo/PayloadsAllTheThings/tree/master/XXE%20injection" alt="XML External Entity">XML External Entity</a>, <br />
         <a href="https://www.owasp.org/index.php/XML_External_Entity_(XXE)_Processing" alt="XML External Entity (XXE) Processing">XML External Entity (XXE) Processing</a> and <br />
         <a href="https://web-in-security.blogspot.nl/2014/11/detecting-and-exploiting-xxe-in-saml.html" alt="Detecting and exploiting XXE in SAML Interfaces">Detecting and exploiting XXE in SAML Interfaces</a>.<br />
 </p>
<h2><a href="issues.html#analyzer=functions_unusedinheritedvariable" id="functions_unusedinheritedvariable">Unused Inherited Variable In Closure</a></h2><p>[Since 1.0.11] - [ -P Functions/UnusedInheritedVariable ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unused-inherited-variable-in-closure">Online docs</a> ]</p><p>Some closures forgot to make usage of inherited variables.<br />
<br />
Closure have two separate set of incoming variables : the arguments (between parenthesis) and the inherited variables, in the 'use' clause. Inherited variables are extracted from the local environment at creation time, and keep their value until execution. <br />
<br />
The reported closures are requesting some local variables, but do not make any usage of them. They may be considered as dead code.  <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;In&nbsp;this&nbsp;closure,&nbsp;$y&nbsp;is&nbsp;forgotten,&nbsp;but&nbsp;$u&nbsp;is&nbsp;used.<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;function&nbsp;(</span><span style="color: #0000BB">$y</span><span style="color: #007700">)&nbsp;use&nbsp;(</span><span style="color: #0000BB">$u</span><span style="color: #007700">)&nbsp;{&nbsp;return&nbsp;</span><span style="color: #0000BB">$u</span><span style="color: #007700">;&nbsp;};<br /><br /></span><span style="color: #FF8000">//&nbsp;In&nbsp;this&nbsp;closure,&nbsp;$u&nbsp;is&nbsp;forgotten<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;function&nbsp;(</span><span style="color: #0000BB">$y</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$z</span><span style="color: #007700">)&nbsp;use&nbsp;(</span><span style="color: #0000BB">$u</span><span style="color: #007700">)&nbsp;{&nbsp;return&nbsp;</span><span style="color: #0000BB">$u</span><span style="color: #007700">;&nbsp;};<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/functions.anonymous.php" alt="Anonymous functions">Anonymous functions</a>.<br />
</p>
<h2><a href="issues.html#analyzer=files_inclusionwrongcase" id="files_inclusionwrongcase">Inclusion Wrong Case</a></h2><p>[Since 1.1.1] - [ -P Files/InclusionWrongCase ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#inclusion-wrong-case">Online docs</a> ]</p><p>Inclusion should follow exactly the case of included files and path. This prevents the infamous case-sensitive filesystem bug, where files are correctly included in a case-insensitive system, and failed to be when moved to production.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;There&nbsp;must&nbsp;exist&nbsp;a&nbsp;path&nbsp;called&nbsp;path/to&nbsp;and&nbsp;a&nbsp;file&nbsp;library.php&nbsp;with&nbsp;this&nbsp;case<br /></span><span style="color: #007700">include&nbsp;</span><span style="color: #0000BB">path</span><span style="color: #007700">/</span><span style="color: #0000BB">to</span><span style="color: #007700">/</span><span style="color: #0000BB">library</span><span style="color: #007700">.</span><span style="color: #0000BB">php</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Error&nbsp;on&nbsp;the&nbsp;case,&nbsp;while&nbsp;the&nbsp;file&nbsp;does&nbsp;exist<br /></span><span style="color: #007700">include&nbsp;</span><span style="color: #0000BB">path</span><span style="color: #007700">/</span><span style="color: #0000BB">to</span><span style="color: #007700">/</span><span style="color: #0000BB">LIBRARY</span><span style="color: #007700">.</span><span style="color: #0000BB">php</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Error&nbsp;on&nbsp;the&nbsp;case,&nbsp;on&nbsp;the&nbsp;PATH<br /></span><span style="color: #007700">include&nbsp;</span><span style="color: #0000BB">path</span><span style="color: #007700">/</span><span style="color: #0000BB">TO</span><span style="color: #007700">/</span><span style="color: #0000BB">library</span><span style="color: #007700">.</span><span style="color: #0000BB">php</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/function.include-once.php" alt="include_once">include_once</a>, about case sensitivity and inclusions.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=files_missinginclude" id="files_missinginclude">Missing Include</a></h2><p>[Since 1.1.2] - [ -P Files/MissingInclude ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#missing-include">Online docs</a> ]</p><p>The included files doesn't exists in the repository. The inclusions target a files that doesn't exist.<br />
<br />
The analysis works with every type of inclusion : include(), require(), include_once() and require_once(). It also works with parenthesis when used as parameter delimiter.<br />
<br />
The analysis doesn't take into account  <span style="border: 1px solid #ddd; background-color: #f5f5f5">include_path</span> . This may yield false positives.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">include&nbsp;</span><span style="color: #DD0000">'non_existent.php'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;variables&nbsp;are&nbsp;not&nbsp;resolved.&nbsp;This&nbsp;won't&nbsp;be&nbsp;reported.<br /></span><span style="color: #007700">require&nbsp;(</span><span style="color: #0000BB">$path</span><span style="color: #007700">.</span><span style="color: #DD0000">'non_existent.php'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
Missing included files may lead to a fatal error, a warning or other error later in the execution.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=functions_uselessreferenceargument" id="functions_uselessreferenceargument">Useless Referenced Argument</a></h2><p>[Since 1.1.3] - [ -P Functions/UselessReferenceArgument ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#useless-referenced-argument">Online docs</a> ]</p><p>The argument has a reference, but is only used for reading. <br />
<br />
This is probably a development artefact that was forgotten. It is better to remove it. <br />
<br />
This analysis also applies to for<a href="https://www.php.net/each" alt="each()">each()</a> loops, that declare the blind variable as reference, then use the variable as an object, accessing properties and methods. When a variable contains an object, there is no need to declare a reference : it is a reference automatically.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;&amp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;&amp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$c&nbsp;is&nbsp;passed&nbsp;by&nbsp;reference,&nbsp;but&nbsp;only&nbsp;read.&nbsp;The&nbsp;reference&nbsp;is&nbsp;useless.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;The&nbsp;reference&nbsp;is&nbsp;useful&nbsp;for&nbsp;$b<br /></span><span style="color: #007700">}<br /><br />foreach&nbsp;(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;&amp;</span><span style="color: #0000BB">$element</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$element</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">method</span><span style="color: #007700">();<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.references.php" alt="Objects and references">Objects and references</a>.<br />
</p>
<h2><a href="issues.html#analyzer=functions_fallbackfunction" id="functions_fallbackfunction">Fallback Function</a></h2><p>[Since 1.1.4] - [ -P Functions/FallbackFunction ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#fallback-function">Online docs</a> ]</p><p>A function that is called with its name alone, and whose definition is in the global scope.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;global&nbsp;definition<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{}<br />}<br /><br />namespace&nbsp;</span><span style="color: #0000BB">Bar&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;local&nbsp;definition<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo2</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//&nbsp;definition&nbsp;is&nbsp;in&nbsp;the&nbsp;global&nbsp;namespace<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">foo2</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//&nbsp;definition&nbsp;is&nbsp;in&nbsp;the&nbsp;Bar&nbsp;namespace<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.namespaces.fallback.php" alt="Using namespaces: fallback to global function/constant">Using namespaces: fallback to global function/constant</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_reusevariable" id="structures_reusevariable">Reuse Variable</a></h2><p>[Since 1.1.4] - [ -P Structures/ReuseVariable ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#reuse-variable">Online docs</a> ]</p><p>A variable is already holding the content that is re-calculated later. Use the cached value.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">strtolower</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;strtolower($a)&nbsp;is&nbsp;already&nbsp;calculated&nbsp;in&nbsp;$b.&nbsp;Just&nbsp;reuse&nbsp;the&nbsp;value.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">strtolower</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;===&nbsp;</span><span style="color: #DD0000">'c'</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=performances_doublearrayflip" id="performances_doublearrayflip">Double array_flip()</a></h2><p>[Since 1.1.4] - [ -P Performances/DoubleArrayFlip ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#double-array_flip--">Online docs</a> ]</p><p>Avoid double <a href="https://www.php.net/array_flip" alt="array_flip()">array_flip()</a> to gain speed. While <a href="https://www.php.net/array_flip" alt="array_flip()">array_flip()</a> alone is usually useful, a double <a href="https://www.php.net/array_flip" alt="array_flip()">array_flip()</a> usually is made to handle values and keys. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;without&nbsp;array_flip<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$key&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_search</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$key&nbsp;</span><span style="color: #007700">!==&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unset(</span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;double&nbsp;array_flip<br />//&nbsp;`array_flip()&nbsp;&lt;https://www.php.net/array_flip&gt;`_&nbsp;usage&nbsp;means&nbsp;that&nbsp;$array's&nbsp;values&nbsp;are&nbsp;all&nbsp;unique<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$flipped&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_flip</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;unset(</span><span style="color: #0000BB">$flipped</span><span style="color: #007700">[</span><span style="color: #0000BB">$value</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">array_flip</span><span style="color: #007700">(</span><span style="color: #0000BB">$flipped</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=exceptions_uselesscatch" id="exceptions_uselesscatch">Useless Catch</a></h2><p>[Since 1.1.4] - [ -P Exceptions/UselessCatch ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#useless-catch">Online docs</a> ]</p><p>Catch clause should handle the exception with some work. <br />
<br />
Among the task of a catch clause : log the exception, clean any mess that was introduced, fail graciously. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">Throwable&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;No&nbsp;log&nbsp;of&nbsp;the&nbsp;exception&nbsp;:&nbsp;no&nbsp;one&nbsp;knows&nbsp;it&nbsp;happened.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;return&nbsp;immediately&nbsp;?&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">complete</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.exceptions.php" alt="Exceptions">Exceptions</a> and <br />
         <a href="https://www.moxio.com/blog/34/best-practices-for-php-exception-handling" alt="Best practices for PHP exception handling">Best practices for PHP exception handling</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_possibleinfiniteloop" id="structures_possibleinfiniteloop">Possible Infinite Loop</a></h2><p>[Since 1.1.5] - [ -P Structures/PossibleInfiniteLoop ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#possible-infinite-loop">Online docs</a> ]</p><p>Loops on files that can't be open results in infinite loop.<br />
<br />
<a href="https://www.php.net/fgets" alt="fgets()">fgets()</a>, and functions like <a href="https://www.php.net/fgetss" alt="fgetss()">fgetss()</a>, <a href="https://www.php.net/fgetcsv" alt="fgetcsv()">fgetcsv()</a>, <a href="https://www.php.net/fread" alt="fread()">fread()</a>, return false when they finish reading, or can't access the file. <br />
<br />
In case the file is not accessible, comparing the result of the reading to something that is falsy, leads to a permanent valid condition. The execution will only finish when the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">max_execution_time</span>  is reached. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$file&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">'/path/to/file.txt'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'r'</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;when&nbsp;`fopen()&nbsp;&lt;https://www.php.net/fopen&gt;`_&nbsp;fails,&nbsp;the&nbsp;next&nbsp;loops&nbsp;is&nbsp;infinite<br />//&nbsp;`fgets()&nbsp;&lt;https://www.php.net/fgets&gt;`_&nbsp;will&nbsp;always&nbsp;return&nbsp;false,&nbsp;and&nbsp;while&nbsp;will&nbsp;always&nbsp;be&nbsp;true.&nbsp;<br /></span><span style="color: #007700">while(</span><span style="color: #0000BB">$line&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fgets</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">)&nbsp;!=&nbsp;</span><span style="color: #DD0000">'a'</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}<br /></span>?&gt;</pre><br />
<br />
It is recommended to check the file resources when they are opened, and always use === or !== to compare readings. <a href="https://www.php.net/feof" alt="feof()">feof()</a> is also a reliable function here.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_shouldusemath" id="structures_shouldusemath">Should Use Math</a></h2><p>[Since 1.1.5] - [ -P Structures/ShouldUseMath ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#should-use-math">Online docs</a> ]</p><p>Use math operators to make the operation readable.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Adding&nbsp;one&nbsp;to&nbsp;self<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">*=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;same&nbsp;as&nbsp;above<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">+=&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Squaring&nbsp;oneself<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">**=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;same&nbsp;as&nbsp;above<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">*=&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Removing&nbsp;oneself<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;same&nbsp;as&nbsp;above<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">-=&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Dividing&nbsp;oneself<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;same&nbsp;as&nbsp;above<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">/=&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Divisition&nbsp;remainer<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;same&nbsp;as&nbsp;above<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">%=&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.math.php" alt="Mathematical Functions">Mathematical Functions</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_exthrtime" id="extensions_exthrtime">ext/hrtime</a></h2><p>[Since 1.1.5] - [ -P Extensions/Exthrtime ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-hrtime">Online docs</a> ]</p><p>High resolution timing Extension.<br />
<br />
The HRTime extension implements a high resolution StopWatch class. It uses the best possible APIs on different platforms which brings resolution up to nanoseconds. It also makes possible to implement a custom stopwatch using low level ticks delivered by the underlaying APIs.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">HRTime</span><span style="color: #007700">\</span><span style="color: #0000BB">StopWatch</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$c</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">start</span><span style="color: #007700">();<br /></span><span style="color: #FF8000">/*&nbsp;measure&nbsp;this&nbsp;code&nbsp;block&nbsp;execution&nbsp;*/<br /></span><span style="color: #007700">for&nbsp;(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">1024</span><span style="color: #007700">*</span><span style="color: #0000BB">1024</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++);<br /></span><span style="color: #0000BB">$c</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">stop</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$elapsed0&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getLastElapsedTime</span><span style="color: #007700">(</span><span style="color: #0000BB">HRTime</span><span style="color: #007700">\</span><span style="color: #0000BB">Unit</span><span style="color: #007700">::</span><span style="color: #0000BB">NANOSECOND</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;measurement&nbsp;is&nbsp;not&nbsp;running&nbsp;here*/<br /></span><span style="color: #007700">for&nbsp;(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">1024</span><span style="color: #007700">*</span><span style="color: #0000BB">1024</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++);<br /><br /></span><span style="color: #0000BB">$c</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">start</span><span style="color: #007700">();<br /></span><span style="color: #FF8000">/*&nbsp;measure&nbsp;this&nbsp;code&nbsp;block&nbsp;execution&nbsp;*/<br /></span><span style="color: #007700">for&nbsp;(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">1024</span><span style="color: #007700">*</span><span style="color: #0000BB">1024</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++);<br /></span><span style="color: #0000BB">$c</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">stop</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$elapsed1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getLastElapsedTime</span><span style="color: #007700">(</span><span style="color: #0000BB">HRTime</span><span style="color: #007700">\</span><span style="color: #0000BB">Unit</span><span style="color: #007700">::</span><span style="color: #0000BB">NANOSECOND</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$elapsed_total&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getElapsedTime</span><span style="color: #007700">(</span><span style="color: #0000BB">HRTime</span><span style="color: #007700">\</span><span style="color: #0000BB">Unit</span><span style="color: #007700">::</span><span style="color: #0000BB">NANOSECOND</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/intro.hrtime.php" alt="ext/hrtime manual">ext/hrtime manual</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_listwithreference" id="php_listwithreference">List With Reference</a></h2><p>[Since 1.1.6] - [ -P Php/ListWithReference ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#list-with-reference">Online docs</a> ] - [ PHP 7.3 and more recent ]</p><p>Support for references in list calls is not backward compatible with older versions of PHP. The support was introduced in PHP 7.3.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">,</span><span style="color: #0000BB">3</span><span style="color: #007700">];<br /><br />[</span><span style="color: #0000BB">$c</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$d</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$e</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$d</span><span style="color: #007700">++;<br />echo&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">];&nbsp;</span><span style="color: #FF8000">//&nbsp;Displays&nbsp;4<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://wiki.php.net/rfc/list_reference_assignment" alt="list() Reference Assignment">list() Reference Assignment</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_testthencast" id="structures_testthencast">Test Then Cast</a></h2><p>[Since 1.1.6] - [ -P Structures/TestThenCast ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#test-then-cast">Online docs</a> ]</p><p>A test is run on the value, but the cast value is later used. <br />
<br />
The cast may introduce a distortion to the value, and still lead to the unwanted situation. For example, comparing to 0, then later casting to an int. The comparison to 0 is done without casting, and as such, 0.1 is different from 0. Yet, (int) 0.1 is actually 0, leading to a Division by 0 error.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Here.&nbsp;$x&nbsp;may&nbsp;be&nbsp;different&nbsp;from&nbsp;0,&nbsp;but&nbsp;(int)&nbsp;$x&nbsp;may&nbsp;be&nbsp;0<br /></span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0.1</span><span style="color: #007700">;<br /><br />if&nbsp;(</span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">!=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$y&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">4&nbsp;</span><span style="color: #007700">/&nbsp;(int)&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Safe&nbsp;solution&nbsp;:&nbsp;check&nbsp;the&nbsp;cast&nbsp;value.<br /></span><span style="color: #007700">if&nbsp;(&nbsp;(int)&nbsp;</span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">!=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$y&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">4&nbsp;</span><span style="color: #007700">/&nbsp;(int)&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_couldusecompact" id="structures_couldusecompact">Could Use Compact</a></h2><p>[Since 1.1.6] - [ -P Structures/CouldUseCompact ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#could-use-compact">Online docs</a> ]</p><p>Compact() turns a group of variables into an array. It may be used to simplify expressions. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Compact&nbsp;call<br /></span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">compact</span><span style="color: #007700">(</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">===&nbsp;[</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;Detailing&nbsp;all&nbsp;the&nbsp;keys&nbsp;and&nbsp;their&nbsp;value<br /></span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #DD0000">'a'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'b'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">];<br /></span>?&gt;</pre><br />
<br />
Note that compact accepts any string, and any undefined variable is not set, without a warning.<br />
<br />
See also <a href="http://www.php.net/compact" alt="compact">compact</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_foreachobject" id="php_foreachobject">Foreach On Object</a></h2><p>[Since 1.1.6] - [ -P Php/ForeachObject ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#foreach-on-object">Online docs</a> ]</p><p>Foreach on object looks like a typo. This is particularly true when both object and member are variables.<br />
<br />
Foreach on an object member is a legit PHP syntax, though it is very rare : blind variables rarely have to be securing in an object to be processed.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Looks&nbsp;suspicious<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$o&nbsp;</span><span style="color: #007700">-&gt;&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;the&nbsp;real&nbsp;thing<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$o&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extxxtea" id="extensions_extxxtea">ext/xxtea</a></h2><p>[Since 1.1.7] - [ -P Extensions/Extxxtea ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-xxtea">Online docs</a> ]</p><p>Extension xxtea : XXTEA encryption algorithm extension for PHP.<br />
<br />
XXTEA is a fast and secure encryption algorithm. This is a XXTEA extension for PHP.<br />
It is different from the original XXTEA encryption algorithm. It encrypts and decrypts string instead of uint32 array, and the key is also string.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Example&nbsp;is&nbsp;extracted&nbsp;from&nbsp;the&nbsp;xxtea&nbsp;repository&nbsp;on&nbsp;github&nbsp;:&nbsp;tests/xxtea.phpt<br /><br /></span><span style="color: #0000BB">$str&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Hello&nbsp;World!&nbsp;'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$key&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'1234567890'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$base64&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'D4t0rVXUDl3bnWdERhqJmFIanfn/6zAxAY9jD6n9MSMQNoD8TOS4rHHcGuE='</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$encrypt_data&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">xxtea_encrypt</span><span style="color: #007700">(</span><span style="color: #0000BB">$str</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$key</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$decrypt_data&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">xxtea_decrypt</span><span style="color: #007700">(</span><span style="color: #0000BB">$encrypt_data</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$key</span><span style="color: #007700">);<br />if&nbsp;(</span><span style="color: #0000BB">$str&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">$decrypt_data&nbsp;</span><span style="color: #007700">&amp;&amp;&nbsp;</span><span style="color: #0000BB">base64_encode</span><span style="color: #007700">(</span><span style="color: #0000BB">$encrypt_data</span><span style="color: #007700">)&nbsp;==&nbsp;</span><span style="color: #0000BB">$base64</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'success!'</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">base64_encode</span><span style="color: #007700">(</span><span style="color: #0000BB">$encrypt_data</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'fail!'</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://pecl.php.net/package/xxtea" alt="PECL ext/xxtea">PECL ext/xxtea</a> and <br />
         <a href="https://github.com/xxtea/xxtea-pecl" alt="ext/xxtea on Github">ext/xxtea on Github</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extuopz" id="extensions_extuopz">ext/uopz</a></h2><p>[Since 1.1.7] - [ -P Extensions/Extuopz ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-uopz">Online docs</a> ]</p><p>Extension UOPZ : User Operations for Zend.<br />
<br />
The uopz extension is focused on providing utilities to aid with unit testing PHP code.<br />
<br />
It supports the following activities: Intercepting function execution, Intercepting object creation, Hooking into function execution, Manipulation of function statics, Manipulation of function flags, Redefinition of constants, Deletion of constants, Runtime creation of functions and methods, <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;The&nbsp;example&nbsp;is&nbsp;extracted&nbsp;from&nbsp;the&nbsp;UOPZ&nbsp;extension&nbsp;test&nbsp;suite&nbsp;:&nbsp;tests/001.phpt<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">int&nbsp;$arg</span><span style="color: #007700">)&nbsp;:&nbsp;</span><span style="color: #0000BB">int&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$arg</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">uopz_set_return</span><span style="color: #007700">(</span><span style="color: #0000BB">Foo</span><span style="color: #007700">::class,&nbsp;</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Foo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$foo</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">uopz_set_return</span><span style="color: #007700">(</span><span style="color: #0000BB">Foo</span><span style="color: #007700">::class,&nbsp;</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">,&nbsp;function(</span><span style="color: #0000BB">int&nbsp;$arg</span><span style="color: #007700">)&nbsp;:&nbsp;</span><span style="color: #0000BB">int&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$arg&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />},&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$foo</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">2</span><span style="color: #007700">));<br />try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">uopz_set_return</span><span style="color: #007700">(</span><span style="color: #0000BB">Foo</span><span style="color: #007700">::class,&nbsp;</span><span style="color: #DD0000">'nope'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />}&nbsp;catch(</span><span style="color: #0000BB">Throwable&nbsp;$t</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$t</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMessage</span><span style="color: #007700">());<br />}<br />class&nbsp;</span><span style="color: #0000BB">Bar&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">{}<br />try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">uopz_set_return</span><span style="color: #007700">(</span><span style="color: #0000BB">Bar</span><span style="color: #007700">::class,&nbsp;</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">);<br />}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">Throwable&nbsp;$t</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$t</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMessage</span><span style="color: #007700">());<br />}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">uopz_set_something</span><span style="color: #007700">(</span><span style="color: #0000BB">Bar</span><span style="color: #007700">::class,&nbsp;</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://pecl.php.net/package/uopz" alt="ext/uopz">ext/uopz</a> and <a href="https://github.com/krakjoe/uopz" alt="User Operations for Zend">User Operations for Zend</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extvarnish" id="extensions_extvarnish">ext/varnish</a></h2><p>[Since 1.1.7] - [ -P Extensions/Extvarnish ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-varnish">Online docs</a> ]</p><p>Extension PHP for varnish.<br />
<br />
Varnish Cache is an open source, state of the art web application accelerator. The extension makes it possible to interact with a running varnish instance through TCP socket or shared memory.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$args&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">VARNISH_CONFIG_HOST&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'::1'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">VARNISH_CONFIG_PORT&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">6082</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">VARNISH_CONFIG_SECRET&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'5174826b-8595-4958-aa7a-0609632ad7ca'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">VARNISH_CONFIG_TIMEOUT&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">300</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$va&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">VarnishAdmin</span><span style="color: #007700">(</span><span style="color: #0000BB">$args</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.varnish.php" alt="ext/varnish">ext/varnish</a> and <a href="http://svn.php.net/viewvc/pecl/varnish/trunk/tests/" alt="pecl/Varnish">pecl/Varnish</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extopencensus" id="extensions_extopencensus">ext/opencensus</a></h2><p>[Since 1.1.7] - [ -P Extensions/Extopencensus ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-opencensus">Online docs</a> ]</p><p>Extension PHP for OpenCensus : <br />
<br />
A stats collection and distributed tracing framework.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">opencensus_trace_begin</span><span style="color: #007700">(</span><span style="color: #DD0000">'root'</span><span style="color: #007700">,&nbsp;[</span><span style="color: #DD0000">'spanId'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'1234'</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB">opencensus_trace_add_annotation</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">opencensus_trace_begin</span><span style="color: #007700">(</span><span style="color: #DD0000">'inner'</span><span style="color: #007700">,&nbsp;[]);<br /></span><span style="color: #0000BB">opencensus_trace_add_annotation</span><span style="color: #007700">(</span><span style="color: #DD0000">'asdf'</span><span style="color: #007700">,&nbsp;[</span><span style="color: #DD0000">'spanId'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'1234'</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB">opencensus_trace_add_annotation</span><span style="color: #007700">(</span><span style="color: #DD0000">'abc'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">opencensus_trace_finish</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">opencensus_trace_finish</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$traces&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">opencensus_trace_list</span><span style="color: #007700">();<br />echo&nbsp;</span><span style="color: #0000BB">Number&nbsp;of&nbsp;traces</span><span style="color: #007700">:&nbsp;.&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$traces</span><span style="color: #007700">)&nbsp;.&nbsp;\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$span&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$traces</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$span</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">timeEvents</span><span style="color: #007700">());<br /></span><span style="color: #0000BB">$span2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$traces</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$span2</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">timeEvents</span><span style="color: #007700">());<br /></span>?&gt;</pre><br />
<br />
<br />
See also <a href="https://github.com/census-instrumentation/opencensus-php" alt="opencensus">opencensus</a>.<br />
</p>
<h2><a href="issues.html#analyzer=security_dynamicdl" id="security_dynamicdl">Dynamic Library Loading</a></h2><p>[Since 1.1.7] - [ -P Security/DynamicDl ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#dynamic-library-loading">Online docs</a> ]</p><p>Loading a variable dynamically requires a lot of care in the preparation of the library name. <br />
<br />
In case of injection in the variable, the dynamic loading of a library gives a lot of power to an intruder. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;dynamically&nbsp;loading&nbsp;a&nbsp;library<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">dl</span><span style="color: #007700">(</span><span style="color: #0000BB">$library</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">PHP_SHLIB_SUFFIX</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;dynamically&nbsp;loading&nbsp;ext/vips<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">dl</span><span style="color: #007700">(</span><span style="color: #DD0000">'vips.'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">PHP_SHLIB_SUFFIX</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;static&nbsp;loading&nbsp;ext/vips&nbsp;(unix&nbsp;only)<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">dl</span><span style="color: #007700">(</span><span style="color: #DD0000">'vips.so'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/dl" alt="dl">dl</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_php73lastemptyargument" id="php_php73lastemptyargument">PHP 7.3 Last Empty Argument</a></h2><p>[Since 1.1.7] - [ -P Php/PHP73LastEmptyArgument ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php-7.3-last-empty-argument">Online docs</a> ] - [ PHP 7.3 and more recent ]</p><p>PHP allows the last element of any functioncall to be empty. The argument is then not send.<br />
<br />
This was introduced in PHP 7.3, and is not backward compatible.<br />
<br />
The last empty line is easier on the VCS, allowing clearer text diffs. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">print_r</span><span style="color: #007700">(`</span><span style="color: #DD0000">func_get_args()&nbsp;&lt;https://www.php.net/func_get_args&gt;</span><span style="color: #007700">`</span><span style="color: #0000BB">_</span><span style="color: #007700">);<br />}<br /><br /><br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;);<br /><br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://wiki.php.net/rfc/trailing-comma-function-calls" alt="Allow a trailing comma in function calls">Allow a trailing comma in function calls</a> and <br />
         <a href="https://www.puppetcookbook.com/posts/trailing-commas.html" alt="Trailing commas">Trailing commas</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_couldusearrayfillkeys" id="structures_couldusearrayfillkeys">Could Use array_fill_keys</a></h2><p>[Since 1.1.7] - [ -P Structures/CouldUseArrayFillKeys ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#could-use-array_fill_keys">Online docs</a> ]</p><p><a href="https://www.php.net/array_fill_keys" alt="array_fill_keys()">array_fill_keys()</a> is a native PHP function that creates an array from keys. It gets the list of keys, and a constant value to assign to each keys.<br />
<br />
This is twice faster than doing the same with a loop.<br />
<br />
Note that is possible to use an object as initializing value : every element of the final array will be pointing to the same value. And, also, using an object as initializing value means that the same object will be used for each key : the object will not be cloned for each value.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">range</span><span style="color: #007700">(</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'z'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Fast&nbsp;way&nbsp;to&nbsp;build&nbsp;the&nbsp;array<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_fill_keys</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Fast&nbsp;way&nbsp;to&nbsp;build&nbsp;the&nbsp;array,&nbsp;but&nbsp;every&nbsp;element&nbsp;will&nbsp;be&nbsp;the&nbsp;same&nbsp;object<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_fill_keys</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;new&nbsp;</span><span style="color: #0000BB">Stdclass</span><span style="color: #007700">());<br /><br /></span><span style="color: #FF8000">//&nbsp;Slow&nbsp;way&nbsp;to&nbsp;build&nbsp;the&nbsp;array<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">[</span><span style="color: #0000BB">$a</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Setting&nbsp;everything&nbsp;to&nbsp;null,&nbsp;slowly<br /></span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_map</span><span style="color: #007700">(function()&nbsp;{},&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/array_fill_keys" alt="array_fill_keys">array_fill_keys</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extleveldb" id="extensions_extleveldb">ext/leveldb</a></h2><p>[Since 1.1.7] - [ -P Extensions/Extleveldb ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-leveldb">Online docs</a> ]</p><p>PHP Binding for LevelDB.<br />
<br />
LevelDB is a fast key-value storage library written at Google that provides an ordered mapping from string keys to string values.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$db&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">LevelDB</span><span style="color: #007700">(</span><span style="color: #0000BB">$leveldb_path</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$batch&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">LevelDBWriteBatch</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$batch</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">set</span><span style="color: #007700">(</span><span style="color: #DD0000">'batch_foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'batch_bar'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$batch</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">put</span><span style="color: #007700">(</span><span style="color: #DD0000">'batch_foo2'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'batch_bar2'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$batch</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">delete</span><span style="color: #007700">(</span><span style="color: #DD0000">'batch_foo'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$db</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">write</span><span style="color: #007700">(</span><span style="color: #0000BB">$batch</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$batch</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">clear</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$batch</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">delete</span><span style="color: #007700">(</span><span style="color: #DD0000">'batch_foo2'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$batch</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">set</span><span style="color: #007700">(</span><span style="color: #DD0000">'batch_foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'batch&nbsp;again'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://github.com/reeze/php-leveldb" alt="ext/leveldb on Github">ext/leveldb on Github</a> and <br />
         <a href="https://github.com/google/leveldb" alt="Leveldb">Leveldb</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_usecountrecursive" id="structures_usecountrecursive">Use Count Recursive</a></h2><p>[Since 1.1.7] - [ -P Structures/UseCountRecursive ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-count-recursive">Online docs</a> ]</p><p>The code could use the recursive version of count.<br />
<br />
The second argument of count, when set to  <span style="border: 1px solid #ddd; background-color: #f5f5f5">COUNT_RECURSIVE</span> , count recursively the elements. It also counts the elements themselves. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;array(&nbsp;array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">,</span><span style="color: #0000BB">3</span><span style="color: #007700">),&nbsp;array(</span><span style="color: #0000BB">4</span><span style="color: #007700">,</span><span style="color: #0000BB">5</span><span style="color: #007700">,</span><span style="color: #0000BB">6</span><span style="color: #007700">));<br /><br />print&nbsp;(</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">COUNT_RECURSIVE</span><span style="color: #007700">)&nbsp;-&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">COUNT_NORMAL</span><span style="color: #007700">));<br /><br /></span><span style="color: #0000BB">$count&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$count&nbsp;</span><span style="color: #007700">+=&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br />}<br />print&nbsp;</span><span style="color: #0000BB">$count</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/count" alt="count">count</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_propertycouldbelocal" id="classes_propertycouldbelocal">Property Could Be Local</a></h2><p>[Since 1.1.7] - [ -P Classes/PropertyCouldBeLocal ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#property-could-be-local">Online docs</a> ]</p><p>A property only used in one method may be turned into a local variable.<br />
<br />
Public an protected properties are omitted here : they may be modified somewhere else, in the code. This analysis may be upgraded to support those properties, when tracking of such properties becomes available.<br />
<br />
Classes where only one non-magic method is available are omitted.<br />
<br />
Traits with private properties are processed the same way.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Magic&nbsp;method,&nbsp;and&nbsp;constructor&nbsp;in&nbsp;particular,&nbsp;are&nbsp;omitted.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$foo</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$foo</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foo</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foo</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">barbar</span><span style="color: #007700">()&nbsp;{}<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extdb2" id="extensions_extdb2">ext/db2</a></h2><p>[Since 1.1.8] - [ -P Extensions/Extdb2 ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-db2">Online docs</a> ]</p><p>Extension for IBM DB2, Cloudscape and Apache Derby.<br />
<br />
This extension gives access to IBM DB2 Universal Database, IBM Cloudscape, and Apache Derby databases using the DB2 Call Level Interface (DB2 CLI).<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$conn&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_connect</span><span style="color: #007700">(</span><span style="color: #0000BB">$database</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$user</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$password</span><span style="color: #007700">);<br /><br />if&nbsp;(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$stmt&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_exec</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'SELECT&nbsp;count(*)&nbsp;FROM&nbsp;animals'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$res&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_fetch_array</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$stmt&nbsp;</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$res</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]&nbsp;.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Turn&nbsp;AUTOCOMMIT&nbsp;off<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">db2_autocommit</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">DB2_AUTOCOMMIT_OFF</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Delete&nbsp;all&nbsp;rows&nbsp;from&nbsp;ANIMALS<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">db2_exec</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'DELETE&nbsp;FROM&nbsp;animals'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$stmt&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_exec</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'SELECT&nbsp;count(*)&nbsp;FROM&nbsp;animals'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$res&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_fetch_array</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$stmt&nbsp;</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$res</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]&nbsp;.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Roll&nbsp;back&nbsp;the&nbsp;DELETE&nbsp;statement<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">db2_rollback</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$conn&nbsp;</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$stmt&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_exec</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$conn</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'SELECT&nbsp;count(*)&nbsp;FROM&nbsp;animals'&nbsp;</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$res&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_fetch_array</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$stmt&nbsp;</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$res</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]&nbsp;.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">db2_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.ibm-db2.php" alt="IBM Db2">IBM Db2</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_toomanynativecalls" id="php_toomanynativecalls">Too Many Native Calls</a></h2><p>[Since 1.1.10] - [ -P Php/TooManyNativeCalls ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#too-many-native-calls">Online docs</a> ]</p><p>Avoid stuffing too many PHP native call inside another functioncall. <br />
<br />
For readability reasons, or, more often, for edge case handling, it is recommended to avoid nesting too many PHP native calls. <br />
<br />
This analysis reports any situation where more than 3 PHP native calls are nested.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Too&nbsp;many&nbsp;nested&nbsp;functions&nbsp;<br /></span><span style="color: #0000BB">$cleanArray&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_unique</span><span style="color: #007700">(</span><span style="color: #0000BB">array_keys</span><span style="color: #007700">(</span><span style="color: #0000BB">array_count_values</span><span style="color: #007700">(</span><span style="color: #0000BB">array_column</span><span style="color: #007700">(</span><span style="color: #0000BB">$source</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'x'</span><span style="color: #007700">))));<br /><br /></span><span style="color: #FF8000">//&nbsp;Avoid&nbsp;warning&nbsp;when&nbsp;source&nbsp;is&nbsp;empty<br /></span><span style="color: #0000BB">$extract&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_column</span><span style="color: #007700">(</span><span style="color: #0000BB">$source</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'x'</span><span style="color: #007700">);<br />if&nbsp;(empty(</span><span style="color: #0000BB">$extract</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$cleanArray&nbsp;</span><span style="color: #007700">=&nbsp;array();<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$cleanArray&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_unique</span><span style="color: #007700">(</span><span style="color: #0000BB">array_keys</span><span style="color: #007700">(</span><span style="color: #0000BB">array_count_values</span><span style="color: #007700">(</span><span style="color: #0000BB">$extract</span><span style="color: #007700">)));<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;not&nbsp;readable,&nbsp;although&nbsp;it&nbsp;is&nbsp;short.&nbsp;<br />//&nbsp;It&nbsp;may&nbsp;easily&nbsp;get&nbsp;out&nbsp;of&nbsp;hand.<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">chr</span><span style="color: #007700">(</span><span style="color: #0000BB">80</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">chr</span><span style="color: #007700">(</span><span style="color: #0000BB">72</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">chr</span><span style="color: #007700">(</span><span style="color: #0000BB">80</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">chr</span><span style="color: #007700">(</span><span style="color: #0000BB">32</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">'&nbsp;is&nbsp;great!'</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=functions_toomanyparameters" id="functions_toomanyparameters">Too Many Parameters</a></h2><p>[Since 1.1.9] - [ -P Functions/TooManyParameters ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#too-many-parameters">Online docs</a> ]</p><p>Method has too many parameters. Exakat has a default parameter count which may be configured.<br />
<br />
A method that needs more than 8 parameters is trying to do too much : it should be reviewed and split into smaller methods. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;methods&nbsp;has&nbsp;too&nbsp;many&nbsp;parameters.<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">alertSomeone</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$email</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$title</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$message</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$attachements</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$signature</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$bcc</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$cc</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$extra_headers</span><span style="color: #007700">)&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;too&nbsp;much&nbsp;code&nbsp;here&nbsp;*/&nbsp;<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.exakat.io/how-many-parameters-is-too-many/" alt="How many parameters is too many ?">How many parameters is too many ?</a> and <br />
         <a href="http://wiki.c2.com/?TooManyParameters" alt="Too Many Parameters">Too Many Parameters</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_shouldpreprocess" id="php_shouldpreprocess">Should Preprocess Chr</a></h2><p>[Since 1.1.9] - [ -P Php/ShouldPreprocess ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#should-preprocess-chr">Online docs</a> ]</p><p>Replace literal <a href="https://www.php.net/chr" alt="chr()">chr()</a> calls with their escape sequence.<br />
<br />
<a href="https://www.php.net/chr" alt="chr()">chr()</a> is a functioncall, that cannot be cached. It is only resolved at execution time. <br />
On the other hand, literal values are presprocessed by PHP and may be cached.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;easier&nbsp;on&nbsp;PHP<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"\120\110\120\040&nbsp;is&nbsp;great!"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;slow<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">chr</span><span style="color: #007700">(</span><span style="color: #0000BB">80</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">chr</span><span style="color: #007700">(</span><span style="color: #0000BB">72</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">chr</span><span style="color: #007700">(</span><span style="color: #0000BB">80</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">chr</span><span style="color: #007700">(</span><span style="color: #0000BB">32</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">'&nbsp;is&nbsp;great!'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;would&nbsp;be&nbsp;the&nbsp;best&nbsp;with&nbsp;this&nbsp;example,&nbsp;but&nbsp;it&nbsp;is&nbsp;not&nbsp;always&nbsp;possible<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'PHP&nbsp;is&nbsp;great!'</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
This is a micro-optimisation. <br />
<br />
See also <a href="http://php.net/manual/en/regexp.reference.escape.php" alt="Escape sequences">Escape sequences</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_pppdeclarationstyle" id="classes_pppdeclarationstyle">Properties Declaration Consistence</a></h2><p>[Since 1.2.1] - [ -P Classes/PPPDeclarationStyle ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#properties-declaration-consistence">Online docs</a> ]</p><p>Properties may be declared all at once, or one by one. <br />
<br />
The analyzed code has less than 10% of one of them : for consistency reasons, it is recommended to make them all the same. <br />
<br />
It happens that choosing unique declarations or multiple depends on coding style and files. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Some&nbsp;declarations&nbsp;are&nbsp;made&nbsp;by&nbsp;batch<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">private&nbsp;</span><span style="color: #0000BB">$a1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c4&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Most&nbsp;declarations&nbsp;are&nbsp;made&nbsp;one&nbsp;by&nbsp;one<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">protected&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$b1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$b2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$b3&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$b4&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$b5&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$b6&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$b7&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$b8&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$b9&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$b10&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$b11&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$b12&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$b13&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$b14&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$b15&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$b16&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$b17&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$b18&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$b19&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.properties.php" alt="Properties">Properties</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_possibleincrement" id="structures_possibleincrement">Possible Increment</a></h2><p>[Since 1.2.1] - [ -P Structures/PossibleIncrement ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#possible-increment">Online docs</a> ]</p><p>This expression looks like a typo : a missing + would change the behavior.<br />
<br />
The same pattern is not reported with -, as it is legit expression. + sign is usually understated, rather than explicit.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;could&nbsp;it&nbsp;be&nbsp;a&nbsp;++$b&nbsp;?&nbsp;<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;+</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.operators.increment.php" alt="Incrementing/Decrementing Operators">Incrementing/Decrementing Operators</a> and <br />
         <a href="http://php.net/manual/en/language.operators.arithmetic.php" alt="Arithmetic Operators">Arithmetic Operators</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_substrlastarg" id="structures_substrlastarg">Drop Substr Last Arg</a></h2><p>[Since 1.2.2] - [ -P Structures/SubstrLastArg ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#drop-substr-last-arg">Online docs</a> ]</p><p>Substr() works till the end of the string when the last argument is omitted. There is no need to calculate string size to make this work.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'abcdef'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Extract&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;string<br /></span><span style="color: #0000BB">$cde&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Too&nbsp;much&nbsp;work<br /></span><span style="color: #0000BB">$cde&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">));<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/substr" alt="substr">substr</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_redefinedprivateproperty" id="classes_redefinedprivateproperty">Redefined Private Property</a></h2><p>[Since 1.2.3] - [ -P Classes/RedefinedPrivateProperty ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#redefined-private-property">Online docs</a> ]</p><p>Private properties are local to their defined class. PHP doesn't forbid the re-declaration of a private property in a child class.<br />
<br />
However, having two or more properties with the same name, in the class hierarchy tends to be error prone. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$isReady&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$isReady&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_dontunsetproperties" id="classes_dontunsetproperties">Don't Unset Properties</a></h2><p>[Since 1.2.3] - [ -P Classes/DontUnsetProperties ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#don't-unset-properties">Online docs</a> ]</p><p>Avoid unsetting properties. They would go undefined, and raise more warnings. <br />
<br />
When getting rid of a property, assign it to null. This keeps the property in the object, yet allows existence check without errors.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Foo</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">((array)&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;;<br /></span><span style="color: #FF8000">//&nbsp;la&nbsp;proprit&nbsp;est&nbsp;reporte,&nbsp;et&nbsp;null<br />//&nbsp;['a'&nbsp;=&gt;&nbsp;null]<br /><br /></span><span style="color: #007700">unset(</span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">((array)&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;;<br /></span><span style="color: #FF8000">//Empty&nbsp;[]<br /><br />//&nbsp;Check&nbsp;if&nbsp;a&nbsp;property&nbsp;exists<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">b&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Same&nbsp;result&nbsp;as&nbsp;above,&nbsp;but&nbsp;with&nbsp;a&nbsp;warning<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">c&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
This analysis works on properties and static properties. It also reports magic properties being unset.<br />
<br />
Thanks for <a href="https://twitter.com/BenoitBurnichon" alt="Benoit Burnichon">Benoit Burnichon</a> for the original idea.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_strtrarguments" id="php_strtrarguments">Strtr Arguments</a></h2><p>[Since 1.2.3] - [ -P Php/StrtrArguments ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#strtr-arguments">Online docs</a> ]</p><p>Strtr() replaces characters by others in a string. When using strings, <a href="https://www.php.net/strtr" alt="strtr()">strtr()</a> replaces characters as long as they have a replacement. All others are ignored.<br />
<br />
In particular, <a href="https://www.php.net/strtr" alt="strtr()">strtr()</a> works on strings of the same size, and cannot be used to remove chars.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'abcde'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">strtr</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'abc'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'AB'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">strtr</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'ab'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'ABC'</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;displays&nbsp;ABcde&nbsp;<br />//&nbsp;c&nbsp;is&nbsp;ignored&nbsp;each&nbsp;time<br /><br />//&nbsp;strtr&nbsp;can't&nbsp;remove&nbsp;a&nbsp;char<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">strtr</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;displays&nbsp;a<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/strtr" alt="strtr">strtr</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=performances_regexoncollector" id="performances_regexoncollector">Processing Collector</a></h2><p>[Since 1.2.4] - [ -P Performances/RegexOnCollector ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#processing-collector">Online docs</a> ]</p><p>When accumulating data in a variable, within a loop, it is slow to apply repeatedly a function to the variable.<br />
<br />
The example below illustrate the problem :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$collector</span>  is build with element from  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$array</span> .  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$collector</span>  actually gets larger and larger, slowing the <a href="https://www.php.net/in_array" alt="in_array()">in_array()</a> call each time. <br />
<br />
It is better to apply the <a href="https://www.php.net/preg_replace" alt="preg_replace()">preg_replace()</a> to  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$a</span> , a short variable, and then, add  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$a</span>  to the collector.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Fast&nbsp;way<br /></span><span style="color: #0000BB">$collector&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br />foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">){<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">preg_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'/__(.*?)__/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'&lt;b&gt;$1&lt;/b&gt;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$collector&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Slow&nbsp;way<br /></span><span style="color: #0000BB">$collector&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br />foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">){<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$collector&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$collector&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">preg_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'/__(.*?)__/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'&lt;b&gt;$1&lt;/b&gt;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$collector</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_missingparenthesis" id="structures_missingparenthesis">Missing Parenthesis</a></h2><p>[Since 1.2.6] - [ -P Structures/MissingParenthesis ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#missing-parenthesis">Online docs</a> ]</p><p>Add parenthesis to those expression to prevent bugs. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Missing&nbsp;some&nbsp;parenthesis!!<br /></span><span style="color: #007700">if&nbsp;(!</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">instanceof&nbsp;</span><span style="color: #0000BB">Stdclass</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">Not</span><span style="color: #007700">\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">Is</span><span style="color: #007700">\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Could&nbsp;this&nbsp;addition&nbsp;be&nbsp;actually<br /></span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;-</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;one&nbsp;?&nbsp;<br /></span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;-(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.operators.precedence.php" alt="Operators Precedence">Operators Precedence</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_oneifissufficient" id="structures_oneifissufficient">One If Is Sufficient</a></h2><p>[Since 1.2.6] - [ -P Structures/OneIfIsSufficient ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#one-if-is-sufficient">Online docs</a> ]</p><p>Nested conditions may be written another way, and reduce the amount of code.<br />
<br />
Nested conditions are equivalent to a  <span style="border: 1px solid #ddd; background-color: #f5f5f5">&&</span>  condition. As such, they may be switched. When one of the condition has no explicit else, then it is lighter to write it as the first condition. This way, it is written once, and not repeated.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Less&nbsp;conditions&nbsp;are&nbsp;written&nbsp;here.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if(</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++</span><span style="color: #0000BB">$d</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br /></span><span style="color: #FF8000">//&nbsp;($b&nbsp;==&nbsp;2)&nbsp;is&nbsp;double&nbsp;here<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++</span><span style="color: #0000BB">$d</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_couldusearrayunique" id="structures_couldusearrayunique">Could Use array_unique</a></h2><p>[Since 1.2.6] - [ -P Structures/CouldUseArrayUnique ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#could-use-array_unique">Online docs</a> ]</p><p>Use <a href="https://www.php.net/array_unique" alt="array_unique()">array_unique()</a> to collect unique elements from an array.<br />
<br />
Always try to use native PHP functions, instead of rebuilding them with custom PHP code.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$unique&nbsp;</span><span style="color: #007700">=&nbsp;array();<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #0000BB">in_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$unique</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;&nbsp;May&nbsp;be&nbsp;more&nbsp;code&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$unique</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/array_unique" alt="array_unique">array_unique</a>.<br />
</p>
<h2><a href="issues.html#analyzer=functions_callbackneedsreturn" id="functions_callbackneedsreturn">Callback Needs Return</a></h2><p>[Since 1.2.6] - [ -P Functions/CallbackNeedsReturn ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#callback-needs-return">Online docs</a> ]</p><p>When used with <a href="https://www.php.net/array_map" alt="array_map()">array_map()</a> functions, the callback must return something. This return may be in the form of a  <span style="border: 1px solid #ddd; background-color: #f5f5f5">return</span>  statement, a global variable or a parameter with a reference. All those solutions extract information from the callback. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;filters&nbsp;each&nbsp;element<br /></span><span style="color: #0000BB">$filtered&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_filter</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">,&nbsp;function&nbsp;(</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;{return&nbsp;</span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;&nbsp;});<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;return&nbsp;void&nbsp;for&nbsp;every&nbsp;element<br /></span><span style="color: #0000BB">$filtered&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_filter</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">,&nbsp;function&nbsp;(</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;{return&nbsp;;&nbsp;});<br /><br /></span><span style="color: #FF8000">//&nbsp;costly&nbsp;`array_sum()&nbsp;&lt;https://www.php.net/array_sum&gt;`_<br /></span><span style="color: #0000BB">$sum&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$filtered&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_filter</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">,&nbsp;function&nbsp;(</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;use&nbsp;(&amp;</span><span style="color: #0000BB">$sum</span><span style="color: #007700">)&nbsp;{</span><span style="color: #0000BB">$sum&nbsp;</span><span style="color: #007700">+=&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">;&nbsp;});<br /><br /></span><span style="color: #FF8000">//&nbsp;costly&nbsp;`array_sum()&nbsp;&lt;https://www.php.net/array_sum&gt;`_<br /></span><span style="color: #007700">global&nbsp;</span><span style="color: #0000BB">$sum&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$filtered&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_filter</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">,&nbsp;function&nbsp;()&nbsp;{global&nbsp;</span><span style="color: #0000BB">$sum</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$sum&nbsp;</span><span style="color: #007700">+=&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">;&nbsp;});<br /><br /></span><span style="color: #FF8000">//&nbsp;register_shutown_function()&nbsp;doesn't&nbsp;require&nbsp;any&nbsp;return<br /></span><span style="color: #0000BB">register_shutown_function</span><span style="color: #007700">(</span><span style="color: #0000BB">my_shutdown</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
The following functions are omitted, as they don't require the return : <br />
<br />
+ <a href="https://www.php.net/forward_static_call_array" alt="forward_static_call_array()">forward_static_call_array()</a><br />
+ <a href="https://www.php.net/forward_static_call" alt="forward_static_call()">forward_static_call()</a><br />
+ <a href="https://www.php.net/register_shutdown_function" alt="register_shutdown_function()">register_shutdown_function()</a><br />
+ <a href="https://www.php.net/register_tick_function" alt="register_tick_function()">register_tick_function()</a><br />
<br />
See also <a href="http://php.net/array_map" alt="array_map">array_map</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_wrongrange" id="structures_wrongrange">Wrong Range Check</a></h2><p>[Since 1.2.5] - [ -P Structures/WrongRange ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#wrong-range-check">Online docs</a> ]</p><p>The interval check should use && and not ||. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//interval&nbsp;correctly&nbsp;checked&nbsp;a&nbsp;is&nbsp;between&nbsp;2&nbsp;and&nbsp;999<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">&amp;&amp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">1000</span><span style="color: #007700">)&nbsp;{}<br /><br /></span><span style="color: #FF8000">//interval&nbsp;incorrectly&nbsp;checked&nbsp;:&nbsp;a&nbsp;is&nbsp;2&nbsp;or&nbsp;more&nbsp;($a&nbsp;&lt;&nbsp;1000&nbsp;is&nbsp;never&nbsp;checked)<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">||&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">1000</span><span style="color: #007700">)&nbsp;{}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=extensions_extzookeeper" id="extensions_extzookeeper">ext/zookeeper</a></h2><p>[Since 1.2.5] - [ -P Extensions/Extzookeeper ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-zookeeper">Online docs</a> ]</p><p>Extension for Apache Zookeeper. <br />
<br />
ZooKeeper is an Apache project that enables centralized service for maintaining configuration information, naming, providing distributed synchronization, and providing group services.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$zookeeper&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Zookeeper</span><span style="color: #007700">(</span><span style="color: #DD0000">'locahost:2181'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$path&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'/path/to/node'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$value&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'nodevalue'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$zookeeper</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">set</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$r&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$zookeeper</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">get</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">);<br />if&nbsp;(</span><span style="color: #0000BB">$r</span><span style="color: #007700">)<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$r</span><span style="color: #007700">;<br />else<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'ERR'</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/zookeeper" alt="ext/zookeeper">ext/zookeeper</a>, <br />
         <a href="https://blog.programster.org/install-zookeeper-php-extension" alt="Install Zookeeper PHP Extension">Install Zookeeper PHP Extension</a><br />
         <a href="https://zookeeper.apache.org/" alt="Zookeeper">Zookeeper</a> and .<br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extcmark" id="extensions_extcmark">ext/cmark</a></h2><p>[Since 1.2.7] - [ -P Extensions/Extcmark ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-cmark">Online docs</a> ]</p><p>Extension Cmark, for Common Mark.<br />
<br />
cmark provides access to the reference implementation of CommonMark, a rationalized version of Markdown syntax with a specification.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$text&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">CommonMark</span><span style="color: #007700">\</span><span style="color: #0000BB">Node</span><span style="color: #007700">\</span><span style="color: #0000BB">Text</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$text</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">literal&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Hello&nbsp;World'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$document&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">CommonMark</span><span style="color: #007700">\</span><span style="color: #0000BB">Node</span><span style="color: #007700">\</span><span style="color: #0000BB">Document</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$document</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">appendChild</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;(new&nbsp;</span><span style="color: #0000BB">CommonMark</span><span style="color: #007700">\</span><span style="color: #0000BB">Node</span><span style="color: #007700">\</span><span style="color: #0000BB">Paragraph</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</span><span style="color: #0000BB">appendChild</span><span style="color: #007700">(</span><span style="color: #0000BB">$text</span><span style="color: #007700">));<br />echo&nbsp;</span><span style="color: #0000BB">CommonMark</span><span style="color: #007700">\</span><span style="color: #0000BB">Render</span><span style="color: #007700">\</span><span style="color: #0000BB">HTML</span><span style="color: #007700">(</span><span style="color: #0000BB">$document</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://github.com/commonmark/cmark" alt="Cmark">Cmark</a> and <br />
         <a href="https://github.com/krakjoe/cmark" alt="ext/cmark">ext/cmark</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_cantinstantiateclass" id="classes_cantinstantiateclass">Cant Instantiate Class</a></h2><p>[Since 1.2.8] - [ -P Classes/CantInstantiateClass ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#cant-instantiate-class">Online docs</a> ]</p><p>When constructor is not public, it is not possible to instantiate such a class. Either this is a conception choice, or there are factories to handle that. Either way, it is not possible to call new on such class. <br />
<br />
PHP reports an error similar to this one : 'Call to private Y::__construct() from invalid context'.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//This&nbsp;is&nbsp;the&nbsp;way&nbsp;to&nbsp;go<br /></span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">X</span><span style="color: #007700">::</span><span style="color: #0000BB">factory</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//This&nbsp;is&nbsp;not&nbsp;possible<br /></span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">X</span><span style="color: #007700">();<br /><br />class&nbsp;</span><span style="color: #0000BB">X&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//This&nbsp;is&nbsp;also&nbsp;the&nbsp;case&nbsp;with&nbsp;proctected&nbsp;__construct<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">private&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&nbsp;{}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">factory</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;</span><span style="color: #0000BB">X</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://stackoverflow.com/questions/26079/in-a-php5-class-when-does-a-private-constructor-get-called" alt="In a PHP5 class, when does a private constructor get called?">In a PHP5 class, when does a private constructor get called?</a>,<br />
         <a href="http://verraes.net/2014/06/named-constructors-in-php/" alt="Named Constructors in PHP">Named Constructors in PHP</a> and <br />
         <a href="http://ralphschindler.com/2012/03/09/php-constructor-best-practices-and-the-prototype-pattern" alt="PHP Constructor Best Practices And The Prototype Pattern">PHP Constructor Best Practices And The Prototype Pattern</a>.<br />
</p>
<h2><a href="issues.html#analyzer=performances_strpostoomuch" id="performances_strpostoomuch">strpos() Too Much</a></h2><p>[Since 1.2.8] - [ -P Performances/StrposTooMuch ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#strpos---too-much">Online docs</a> ]</p><p><a href="https://www.php.net/strpos" alt="strpos()">strpos()</a> covers the whole string before reporting 0. If the expected string is expected be at the beginning, or a fixed place, it is more stable to use substr() for comparison.<br />
<br />
The longer the haystack (the searched string), the more efficient is that trick. The string has to be 10k or more to have impact, unless it is in a loop. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;always&nbsp;reads&nbsp;the&nbsp;same&nbsp;amount&nbsp;of&nbsp;string<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$html</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">6</span><span style="color: #007700">)&nbsp;===&nbsp;</span><span style="color: #DD0000">'&lt;html&gt;'</span><span style="color: #007700">)&nbsp;{<br /><br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;When&nbsp;searching&nbsp;for&nbsp;a&nbsp;single&nbsp;character,&nbsp;checking&nbsp;with&nbsp;a&nbsp;known&nbsp;position&nbsp;($string[$position])&nbsp;is&nbsp;even&nbsp;faster<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$html</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]&nbsp;===&nbsp;</span><span style="color: #DD0000">'&lt;'</span><span style="color: #007700">)&nbsp;{<br /><br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;With&nbsp;`strpos()&nbsp;&lt;https://www.php.net/strpos&gt;`_,&nbsp;the&nbsp;best&nbsp;way&nbsp;is&nbsp;to&nbsp;search&nbsp;for&nbsp;something&nbsp;that&nbsp;exist,&nbsp;and&nbsp;use&nbsp;absence&nbsp;as&nbsp;worst&nbsp;case&nbsp;scenario&nbsp;<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$html</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'&lt;html&gt;'</span><span style="color: #007700">)&nbsp;&gt;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{<br /><br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;When&nbsp;the&nbsp;search&nbsp;fails,&nbsp;the&nbsp;whole&nbsp;string&nbsp;has&nbsp;been&nbsp;read<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$html</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'&lt;html&gt;'</span><span style="color: #007700">)&nbsp;===&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{<br /><br />}<br /></span>?&gt;</pre><br />
<br />
This applies to <a href="https://www.php.net/stripos" alt="stripos()">stripos()</a> too.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=functions_typehintedreferences" id="functions_typehintedreferences">Typehinted References</a></h2><p>[Since 1.2.8] - [ -P Functions/TypehintedReferences ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#typehinted-references">Online docs</a> ]</p><p>Typehinted arguments have no need for references. Since they are only an object, they are already a reference.<br />
<br />
In fact, adding the & on the argument definition may lead to error like  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Only variables should be passed by reference</span> .<br />
<br />
This applies to the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">object</span>  type hint, but not the the others, such as  <span style="border: 1px solid #ddd; background-color: #f5f5f5">int</span>  or  <span style="border: 1px solid #ddd; background-color: #f5f5f5">bool</span> .<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;a&nbsp;class<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">X&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;typehinted&nbsp;reference<br />&nbsp;&nbsp;&nbsp;&nbsp;//function&nbsp;foo(object&nbsp;&amp;$x)&nbsp;works&nbsp;too<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">X&nbsp;</span><span style="color: #007700">&amp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Send&nbsp;an&nbsp;object&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$y&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">X</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;prints&nbsp;1;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">print&nbsp;</span><span style="color: #0000BB">$y</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.references.pass.php" alt="Passing by reference">Passing by reference</a> and <br />
         <a href="http://php.net/manual/en/language.oop5.references.php" alt="Objects and references">Objects and references</a>.<br />
</p>
<h2><a href="issues.html#analyzer=performances_doinbase" id="performances_doinbase">Do In Base</a></h2><p>[Since 1.2.8] - [ -P Performances/DoInBase ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#do-in-base">Online docs</a> ]</p><p>Use SQL expression to compute aggregates. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Efficient&nbsp;way<br /></span><span style="color: #0000BB">$res&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$db</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">query</span><span style="color: #007700">(</span><span style="color: #DD0000">'SELECT&nbsp;sum(e)&nbsp;AS&nbsp;sumE&nbsp;FROM&nbsp;table&nbsp;WHERE&nbsp;condition'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;The&nbsp;sum&nbsp;is&nbsp;already&nbsp;done<br /></span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$res</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fetchArray</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">+=&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">'sumE'</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;Slow&nbsp;way<br /></span><span style="color: #0000BB">$res&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$db</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">query</span><span style="color: #007700">(</span><span style="color: #DD0000">'SELECT&nbsp;e&nbsp;FROM&nbsp;table&nbsp;WHERE&nbsp;condition'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;aggregates&nbsp;the&nbsp;column&nbsp;e&nbsp;in&nbsp;a&nbsp;slow&nbsp;way<br /></span><span style="color: #007700">while(</span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$res</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fetchArray</span><span style="color: #007700">())&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">+=&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">'e'</span><span style="color: #007700">];<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_weaktype" id="classes_weaktype">Weak Typing</a></h2><p>[Since 1.2.8] - [ -P Classes/WeakType ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#weak-typing">Online docs</a> ]</p><p>The test on a variable is not enough. The variable is checked for null, then used as an object or an array.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">!==&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">b</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://rskuipers.com/entry/from-assumptions-to-assertions" alt="From assumptions to assertions">From assumptions to assertions</a>.<br />
</p>
<h2><a href="issues.html#analyzer=performances_cachevariableoutsideloop" id="performances_cachevariableoutsideloop">Cache Variable Outside Loop</a></h2><p>[Since 1.2.8] - [ -P Performances/CacheVariableOutsideLoop ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#cache-variable-outside-loop">Online docs</a> ]</p><p>Avoid recalculating constant values inside the loop.<br />
<br />
Do the calculation once, outside the loops, and then reuse the value each time. <br />
<br />
One of the classic example if doing  <span style="border: 1px solid #ddd; background-color: #f5f5f5">count($array)</span>  in a  <span style="border: 1px solid #ddd; background-color: #f5f5f5">for</span>  loop : since the source is constant during the loop, the result of <a href="https://www.php.net/count" alt="count()">count()</a> is always the same. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$path&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'/some/path'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$fullpath&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">realpath</span><span style="color: #007700">(</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$path</span><span style="color: #DD0000">/more/dirs/"</span><span style="color: #007700">);<br />foreach(</span><span style="color: #0000BB">$files&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$file</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Only&nbsp;moving&nbsp;parts&nbsp;are&nbsp;used&nbsp;in&nbsp;the&nbsp;loop<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">copy</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$fullpath</span><span style="color: #007700">.</span><span style="color: #0000BB">$file</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #0000BB">$path&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'/some/path'</span><span style="color: #007700">;<br />foreach(</span><span style="color: #0000BB">$files&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$file</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$fullpath&nbsp;is&nbsp;calculated&nbsp;each&nbsp;loop<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$fullpath&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">realpath</span><span style="color: #007700">(</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$path</span><span style="color: #DD0000">/more/dirs/"</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">copy</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$fullpath</span><span style="color: #007700">.</span><span style="color: #0000BB">$file</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
Depending on the load of the called method, this may increase the speed of the loop from little to enormously.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=performances_useblindvar" id="performances_useblindvar">Use The Blind Var</a></h2><p>[Since 1.2.9] - [ -P Performances/UseBlindVar ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-the-blind-var">Online docs</a> ]</p><p>When in a loop, it is faster to rely on the blind var, rather than the original source.<br />
<br />
When the key is referenced in the foreach loop, it is faster to use the available container to access a value for reading.<br />
<br />
Note that it is also faster to use the value with a reference to handle the writings.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Reaching&nbsp;$source[$key]&nbsp;via&nbsp;$value&nbsp;is&nbsp;faster<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$source&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$key&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$coordinates&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'x'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">],<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'y'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Reaching&nbsp;$source[$key]&nbsp;via&nbsp;$source&nbsp;is&nbsp;slow<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$source&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$key&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$coordinates&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'x'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$source</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">][</span><span style="color: #0000BB">0</span><span style="color: #007700">],<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'y'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$source</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">][</span><span style="color: #0000BB">1</span><span style="color: #007700">]);<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=security_configureextract" id="security_configureextract">Configure Extract</a></h2><p>[Since 1.2.9] - [ -P Security/ConfigureExtract ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#configure-extract">Online docs</a> ]</p><p>The <a href="https://www.php.net/extract" alt="extract()">extract()</a> function overwrites local variables when left unconfigured.<br />
<br />
Extract imports variables from an array into the local scope. In case of a conflict, that is when a local variable already exists, it overwrites the previous variable.<br />
<br />
In fact, <a href="https://www.php.net/extract" alt="extract()">extract()</a> may be configured to handle the situation differently : it may skip the conflicting variable, prefix it, prefix it only if it exists, only import overwriting variables... It may also import them as references to the original values.<br />
<br />
This analysis reports <a href="https://www.php.net/extract" alt="extract()">extract()</a> when it is not configured explicitly. If overwriting is the intended objective, it is not reported.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;ignore&nbsp;overwriting&nbsp;variables<br /></span><span style="color: #0000BB">extract</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EXTR_SKIP</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;prefix&nbsp;all&nbsp;variables&nbsp;explicitly&nbsp;variables&nbsp;with&nbsp;'php_'<br /></span><span style="color: #0000BB">extract</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EXTR_PREFIX_ALL</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'php_'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;overwrites&nbsp;explicitly&nbsp;variables<br /></span><span style="color: #0000BB">extract</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EXTR_OVERWRITE</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;overwrites&nbsp;implicitely&nbsp;variables&nbsp;:&nbsp;do&nbsp;we&nbsp;really&nbsp;want&nbsp;that?&nbsp;<br /></span><span style="color: #0000BB">extract</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EXTR_OVERWRITE</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
Always avoid using <a href="https://www.php.net/extract" alt="extract()">extract()</a> on untrusted sources, such as  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$_GET</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$_POST</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$_FILES</span> , or even databases records.<br />
<br />
See also <a href="http://php.net/extract" alt="extract">extract</a>.<br />
 </p>
<h2><a href="issues.html#analyzer=php_compactinexistant" id="php_compactinexistant">Compact Inexistant Variable</a></h2><p>[Since 1.2.9] - [ -P Php/CompactInexistant ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#compact-inexistant-variable">Online docs</a> ]</p><p>Compact() doesn't warn when it tries to work on an inexistant variable. It just ignores the variable.<br />
<br />
This behavior changed in PHP 7.3, and <a href="https://www.php.net/compact" alt="compact()">compact()</a> now emits a warning when the compacted variable doesn't exist.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$c&nbsp;doesn't&nbsp;exists,&nbsp;and&nbsp;is&nbsp;not&nbsp;compacted.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">compact</span><span style="color: #007700">(</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'c'</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
For performances reasons, this analysis only works inside methods and functions.<br />
<br />
See also <a href="http://www.php.net/compact" alt="compact">compact</a> and <br />
         <a href="https://wiki.php.net/rfc/compact" alt="PHP RFC: Make compact function reports undefined passed variables">PHP RFC: Make compact function reports undefined passed variables</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_methodsignaturemustbecompatible" id="classes_methodsignaturemustbecompatible">Method Signature Must Be Compatible</a></h2><p>[Since 1.2.9] - [ -P Classes/MethodSignatureMustBeCompatible ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#method-signature-must-be-compatible">Online docs</a> ]</p><p>Make sure methods signature are compatible.<br />
<br />
PHP generates the infamous Fatal error at execution :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Declaration of FooParent::Bar() must be compatible with FooChildren::Bar()</span> <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">xa</span><span style="color: #007700">()&nbsp;{}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">xxx&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">xx&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">xa</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{}<br />}<br /></span>?&gt;</pre><br />
<br />
Currently, the analysis doesn't check for ellipsis nor references.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=functions_mismatchtypeanddefault" id="functions_mismatchtypeanddefault">Mismatch Type And Default</a></h2><p>[Since 1.2.9] - [ -P Functions/MismatchTypeAndDefault ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#mismatch-type-and-default">Online docs</a> ]</p><p>The argument typehint and its default value don't match. <br />
<br />
The code may lint and load, and even work when the argument are provided. Though, PHP won't eventually execute it. <br />
<br />
Most of the mismatch problems are caught by PHP at linting time. You'll get the following error message : 'Argument 1 passed to foo() must be of the type integer, string given'.<br />
<br />
The default value may be a constant (normal or class constant) : as such, PHP might find its value only at execution time, from another include. As such, PHP doesn't report anything about the situation at compile time.<br />
<br />
The default value may also be a constant scalar expression : since PHP 7, some of the simple operators such as +, -, *, %, **, etc. are available to build default values. Among them, the ternary operator and Coalesce. Again, those expression may be only evaluated at execution time, when the value of the constants are known. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;bad&nbsp;definition<br /></span><span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">STRING&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /><br />function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;$s&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">STRING</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$s</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;works&nbsp;without&nbsp;problem<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #DD0000">'string'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Fatal&nbsp;error&nbsp;at&nbsp;compile&nbsp;time<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;Fail&nbsp;only&nbsp;at&nbsp;execution&nbsp;time&nbsp;(missing&nbsp;D),&nbsp;and&nbsp;when&nbsp;default&nbsp;is&nbsp;needed<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo2</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;$s&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">D&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #0000BB">null&nbsp;</span><span style="color: #007700">:&nbsp;array())&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$s</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
PHP report typehint and default mismatch at compilation time, unless there is a static expression that can't be resolved within the compiled file : then it is checked only at runtime, leading to a Fatal error.<br />
<br />
See also <a href="http://php.net/manual/en/functions.arguments.php#functions.arguments.type-declaration" alt="Type declarations">Type declarations</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_flexibleheredoc" id="php_flexibleheredoc">Flexible Heredoc</a></h2><p>[Since 1.2.9] - [ -P Php/FlexibleHeredoc ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#flexible-heredoc">Online docs</a> ] - [ PHP 7.3 and more recent ]</p><p>Flexible syntax for Heredoc. <br />
<br />
The new flexible syntax for heredoc and nowdoc enable the closing marker to be indented, and remove the new line requirement after the closing marker.<br />
<br />
It was introduced in PHP 7.3.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;PHP&nbsp;7.3&nbsp;and&nbsp;newer<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;&lt;&lt;&lt;END<br /></span><span style="color: #DD0000">&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;flexible&nbsp;syntax<br />&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;extra&nbsp;indentation<br />&nbsp;&nbsp;&nbsp;&nbsp;<br /></span><span style="color: #007700">&nbsp;&nbsp;&nbsp;&nbsp;END);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br /></span><span style="color: #FF8000">//&nbsp;All&nbsp;PHP&nbsp;versions<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;&lt;&lt;&lt;END<br /></span><span style="color: #DD0000">&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;Normal&nbsp;syntax<br />&nbsp;&nbsp;&nbsp;&nbsp;<br /></span><span style="color: #007700">END;<br /></span>?&gt;</pre><br />
<br />
This syntax is backward incompatible : once adopted in the code, previous versions won't compile it.<br />
<br />
See also <a href="http://php.net/manual/en/language.types.string.php#language.types.string.syntax.heredoc" alt="Heredoc">Heredoc</a> and <br />
         <a href="https://wiki.php.net/rfc/flexible_heredoc_nowdoc_syntaxes" alt="Flexible Heredoc and Nowdoc Syntaxes">Flexible Heredoc and Nowdoc Syntaxes</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_checkjson" id="structures_checkjson">Check JSON</a></h2><p>[Since 1.3.0] - [ -P Structures/CheckJson ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#check-json">Online docs</a> ]</p><p>Check errors whenever JSON is encoded or decoded. <br />
<br />
In particular,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">NULL</span>  is a valid decoded JSON response. If you want to avoid mistaking NULL for an error, it is recommended to call  <span style="border: 1px solid #ddd; background-color: #f5f5f5">json_last_error</span> .<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$encoded&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">json_encode</span><span style="color: #007700">(</span><span style="color: #0000BB">$incoming</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;Unless&nbsp;JSON&nbsp;must&nbsp;contains&nbsp;some&nbsp;non-null&nbsp;data,&nbsp;this&nbsp;mistakes&nbsp;NULL&nbsp;and&nbsp;error<br /></span><span style="color: #007700">if(</span><span style="color: #0000BB">json_last_error</span><span style="color: #007700">()&nbsp;!=&nbsp;</span><span style="color: #0000BB">JSON_ERROR_NONE</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #DD0000">'Error&nbsp;when&nbsp;encoding&nbsp;JSON'</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #0000BB">$decoded&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">json_decode</span><span style="color: #007700">(</span><span style="color: #0000BB">$incoming</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;Unless&nbsp;JSON&nbsp;must&nbsp;contains&nbsp;some&nbsp;non-null&nbsp;data,&nbsp;this&nbsp;mistakes&nbsp;NULL&nbsp;and&nbsp;error<br /></span><span style="color: #007700">if(</span><span style="color: #0000BB">$decoded&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #DD0000">'ERROR'</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://ayesh.me/Upgrade-PHP-7.3#json-exceptions" alt="Option to make json_encode and json_decode throw exceptions on errors">Option to make json_encode and json_decode throw exceptions on errors</a>, <br />
         <a href="http://php.net/json_last_error" alt="json_last_error">json_last_error</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_constvisibilityusage" id="classes_constvisibilityusage">Const Visibility Usage</a></h2><p>[Since 1.3.0] - [ -P Classes/ConstVisibilityUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#const-visibility-usage">Online docs</a> ] - [ PHP 7.1 and more recent ]</p><p>Visibility for class constant controls the accessibility to class constant.<br />
<br />
A public constant may be used anywhere in the code; a protected constant usage is restricted to the class and its relatives; a private constant is restricted to itself.<br />
<br />
This feature was introduced in PHP 7.1. It is recommended to use explicit visibility, and, whenever possible, make the visibility private.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;const&nbsp;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;const&nbsp;</span><span style="color: #0000BB">b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;const&nbsp;</span><span style="color: #0000BB">c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">d&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">;<br />}<br /><br />interface&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;const&nbsp;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">d&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.constants.php" alt="Class Constants">Class Constants</a> and <br />
         <a href="https://wiki.php.net/rfc/class_const_visibility" alt="PHP RFC: Support Class Constant Visibility">PHP RFC: Support Class Constant Visibility</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_shoulduseoperator" id="structures_shoulduseoperator">Should Use Operator</a></h2><p>[Since 1.3.0] - [ -P Structures/ShouldUseOperator ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#should-use-operator">Online docs</a> ]</p><p>Some functions duplicate the feature of an operator. When in doubt, it is better to use the operator. <br />
<br />
Beware, some edge cases may apply. In particular, backward compatibility may prevent usage of newer features.<br />
<br />
<ul>
<li><a href="https://www.php.net/array_push" alt="array_push()">array_push()</a> is equivalent to [] </li>
<li><a href="https://www.php.net/is_object" alt="is_object()">is_object()</a> is equivalent to instanceof</li>
<li>function_get_arg() and function_get_args() is equivalent to ellipsis : ...</li>
<li><a href="https://www.php.net/chr" alt="chr()">chr()</a> is equivalent to string escape sequences, such as  <span style="border: 1px solid #ddd; background-color: #f5f5f5">\n</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">\x69</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">u{04699}</span> </li>
<li><a href="https://www.php.net/call_user_func" alt="call_user_func()">call_user_func()</a> is equivalent to  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$functionName(arguments)</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$object->$method(...$arguments)</span> </li>
<li><a href="https://www.php.net/is_null" alt="is_null()">is_null()</a> is equivalent to  <span style="border: 1px solid #ddd; background-color: #f5f5f5">=== null</span> </li>
<li>php_version() is equivalent to  <span style="border: 1px solid #ddd; background-color: #f5f5f5">PHP_VERSION</span>  (the constant)</li>
<li><a href="https://www.php.net/is_array" alt="is_array()">is_array()</a>, <a href="https://www.php.net/is_int" alt="is_int()">is_int()</a>, <a href="https://www.php.net/is_object" alt="is_object()">is_object()</a>, etc. is equivalent to a scalar typehint</li>
</ul>
<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_comparisonfavorite" id="structures_comparisonfavorite">Strict Or Relaxed Comparison</a></h2><p>[Since 1.3.2] - [ -P Structures/ComparisonFavorite ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#strict-or-relaxed-comparison">Online docs</a> ]</p><p>PHP has two comparison styles : strict and relaxed. <br />
<br />
The analyzed code has less than 10% of one of them : for consistency reasons, it is recommended to make them all the same. <br />
<br />
It is recommended to always use the strict comparison by default, and use the relaxed in case of specific situations. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;compares&nbsp;$strict&nbsp;both&nbsp;in&nbsp;terms&nbsp;of&nbsp;value&nbsp;and&nbsp;type<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$strict&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">)&nbsp;{<br /><br />}&nbsp;elseif&nbsp;(</span><span style="color: #0000BB">$strict&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;compares&nbsp;$strict&nbsp;after&nbsp;an&nbsp;possible&nbsp;type&nbsp;casting.&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;'3',&nbsp;3.0&nbsp;or&nbsp;3&nbsp;would&nbsp;all&nbsp;be&nbsp;possible&nbsp;solutions.<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.operators.comparison.php" alt="Comparison Operators">Comparison Operators</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_gtorltfavorite" id="structures_gtorltfavorite">> Or < Comparisons</a></h2><p>[Since 1.3.2] - [ -P Structures/GtOrLtFavorite ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#>-or-<-comparisons">Online docs</a> ]</p><p>Maths has two comparisons styles :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">></span>  or  <span style="border: 1px solid #ddd; background-color: #f5f5f5"><</span> . Both may include equality :  <span style="border: 1px solid #ddd; background-color: #f5f5f5"><=</span>  and  <span style="border: 1px solid #ddd; background-color: #f5f5f5">>=</span> .<br />
<br />
The analyzed code has less than 10% of one of them : for consistency reasons, it is recommended to make them all the same. <br />
<br />
It is recommended to always use the same comparison style. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Always&nbsp;compare&nbsp;in&nbsp;the&nbsp;same&nbsp;direction<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">)&nbsp;{<br /><br />}&nbsp;elseif&nbsp;(</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{<br /><br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;equality&nbsp;case<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;Alterning&nbsp;comparison&nbsp;style&nbsp;lead&nbsp;to&nbsp;harder&nbsp;to&nbsp;read&nbsp;code<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">)&nbsp;{<br /><br />}&nbsp;elseif&nbsp;(</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">)&nbsp;{<br /><br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.operators.comparison.php" alt="Comparison Operators">Comparison Operators</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=functions_couldbestaticclosure" id="functions_couldbestaticclosure">Could Be Static Closure</a></h2><p>[Since 1.3.2] - [ -P Functions/CouldBeStaticClosure ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#could-be-static-closure">Online docs</a> ]</p><p>Closure may be static, and prevent the import of  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$this</span> . <br />
<br />
By preventing the useless import of  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$this</span> , you avoid useless work. <br />
<br />
This also has the added value to prevent the usage of  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$this</span>  from the closure. This is a good security practice.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Foo<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Not&nbsp;possible&nbsp;to&nbsp;use&nbsp;$this<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$func&nbsp;</span><span style="color: #007700">=&nbsp;static&nbsp;function()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$func</span><span style="color: #007700">();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Normal&nbsp;import&nbsp;of&nbsp;$this<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$closure&nbsp;</span><span style="color: #007700">=&nbsp;function()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />};<br />new&nbsp;</span><span style="color: #0000BB">Foo</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
This is a micro-optimisation. Apply it in case of intensive usage.<br />
<br />
See also <a href="http://php.net/manual/en/functions.anonymous.php" alt="Anonymous functions">Anonymous functions</a>,<br />
         <a href="https://github.com/Ocramius/GeneratedHydrator/releases/tag/3.0.0" alt="GeneratedHydrator">GeneratedHydrator</a> and <br />
         <a href="http://php.net/manual/en/functions.anonymous.php#functions.anonymous-functions.static" alt="Static anonymous functions">Static anonymous functions</a>.<br />
</p>
<h2><a href="issues.html#analyzer=security_moveuploadedfile" id="security_moveuploadedfile">move_uploaded_file Instead Of copy</a></h2><p>[Since 1.3.2] - [ -P Security/MoveUploadedFile ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#move_uploaded_file-instead-of-copy">Online docs</a> ]</p><p>Always use <a href="https://www.php.net/move_uploaded_file" alt="move_uploaded_file()">move_uploaded_file()</a> with uploaded files. Avoid using copy or rename with uploaded file. <br />
<br />
<a href="https://www.php.net/move_uploaded_file" alt="move_uploaded_file()">move_uploaded_file()</a> checks to ensure that the file designated by filename is a valid upload file (meaning that it was uploaded via PHP's HTTP POST upload mechanism).<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;$a-&gt;file&nbsp;was&nbsp;filled&nbsp;with&nbsp;$_FILES&nbsp;at&nbsp;some&nbsp;point<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">move_uploaded_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">file</span><span style="color: #007700">[</span><span style="color: #DD0000">'tmp_name'</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">$target</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$a-&gt;file&nbsp;was&nbsp;filled&nbsp;with&nbsp;$_FILES&nbsp;at&nbsp;some&nbsp;point<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">rename</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">file</span><span style="color: #007700">[</span><span style="color: #DD0000">'tmp_name'</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">$target</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/move_uploaded_file" alt="move_uploaded_file">move_uploaded_file</a> and <br />
         <a href="https://www.sitepoint.com/file-uploads-with-php/" alt="Uploading Files with PHP">Uploading Files with PHP</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_dontmixplusplus" id="structures_dontmixplusplus">Dont Mix ++</a></h2><p>[Since 1.3.2] - [ -P Structures/DontMixPlusPlus ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#dont-mix-++">Online docs</a> ]</p><p>++ operators have two distinct behaviors, and should be used in isolation.<br />
<br />
When mixed with a larger expression, it is difficult to read, and may lead to unwanted behaviors.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Clear&nbsp;and&nbsp;defined&nbsp;behavior<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$i&nbsp;is&nbsp;modified&nbsp;twice&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;--</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://wiki.sei.cmu.edu/confluence/display/c/EXP30-C.+Do+not+depend+on+the+order+of+evaluation+for+side+effects" alt="EXP30-C. Do not depend on the order of evaluation for side effects">EXP30-C. Do not depend on the order of evaluation for side effects</a>.<br />
</p>
<h2><a href="issues.html#analyzer=exceptions_cantthrow" id="exceptions_cantthrow">Can't Throw Throwable</a></h2><p>[Since 1.3.3] - [ -P Exceptions/CantThrow ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#can't-throw-throwable">Online docs</a> ]</p><p>Classes extending  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Throwable</span>  can't be thrown. The same applies to interfaces. <br />
<br />
Although this code lints, PHP throws a Fatal error when executing or including it :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Class fooThrowable cannot implement interface Throwable, extend Exception or Error instead</span> .<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;the&nbsp;way&nbsp;to&nbsp;go<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">fooException&nbsp;</span><span style="color: #007700">extends&nbsp;\</span><span style="color: #0000BB">Exception&nbsp;</span><span style="color: #007700">{&nbsp;}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;not&nbsp;possible&nbsp;and&nbsp;a&nbsp;lot&nbsp;of&nbsp;work<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">fooThrowable&nbsp;</span><span style="color: #007700">implements&nbsp;\</span><span style="color: #0000BB">throwable&nbsp;</span><span style="color: #007700">{&nbsp;}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/class.throwable.php" alt="Throwable">Throwable</a>,<br />
         <a href="http://php.net/manual/en/class.exception.php" alt="Exception">Exception</a> and<br />
         <a href="http://php.net/manual/en/class.error.php" alt="Error">Error</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_abstractorimplements" id="classes_abstractorimplements">Abstract Or Implements</a></h2><p>[Since 1.3.3] - [ -P Classes/AbstractOrImplements ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#abstract-or-implements">Online docs</a> ]</p><p>A class must implements all abstract methods of it parent, or be abstract too. <br />
<br />
While PHP lints this code, it won't execute it and stop with a Fatal Error :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Class BA contains 1 abstract method and must therefore be declared abstract or implement the remaining methods (A::aFoo)</span> .<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">abstract&nbsp;class&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;abstract&nbsp;function&nbsp;</span><span style="color: #0000BB">FooBar</span><span style="color: #007700">();<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;in&nbsp;another&nbsp;file&nbsp;:&nbsp;php&nbsp;-l&nbsp;would&nbsp;detect&nbsp;it&nbsp;right&nbsp;away<br /><br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">FooFoo&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;The&nbsp;method&nbsp;is&nbsp;not&nbsp;defined.&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;The&nbsp;class&nbsp;must&nbsp;be&nbsp;abstract,&nbsp;just&nbsp;like&nbsp;Foo<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/abstract" alt="Class Abstraction">Class Abstraction</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_exteio" id="extensions_exteio">ext/eio</a></h2><p>[Since 1.3.3] - [ -P Extensions/Exteio ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-eio">Online docs</a> ]</p><p>Extension EIO.<br />
<br />
This is a PHP extension wrapping functions of the libeio library written by Marc Lehmann.<br />
<br />
Libeio is a an asynchronous I/O library. Features basically include asynchronous versions of POSIX API(read, write, open, close, stat, unlink, fdatasync, mknod, readdir etc.); sendfile (native on Solaris, Linux, HP-UX, FreeBSD); readahead. libeio itself emulates the system calls, if they are not available on specific(UNIX-like) platform.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$str&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">str_repeat</span><span style="color: #007700">(</span><span style="color: #DD0000">'1'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">20</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$filename&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'/tmp/tmp_file'&nbsp;</span><span style="color: #007700">.`</span><span style="color: #DD0000">uniqid()&nbsp;&lt;https://www.php.net/uniqid&gt;</span><span style="color: #007700">`</span><span style="color: #0000BB">_</span><span style="color: #007700">;<br />@</span><span style="color: #0000BB">unlink</span><span style="color: #007700">(</span><span style="color: #0000BB">$filename</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">touch</span><span style="color: #007700">(</span><span style="color: #0000BB">$filename</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">eio_open</span><span style="color: #007700">(</span><span style="color: #0000BB">$filename</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EIO_O_RDWR</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">NULL</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EIO_PRI_DEFAULT</span><span style="color: #007700">,&nbsp;function(</span><span style="color: #0000BB">$filename</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$fd</span><span style="color: #007700">)&nbsp;use&nbsp;(</span><span style="color: #0000BB">$str</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">eio_write</span><span style="color: #007700">(</span><span style="color: #0000BB">$fd</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$str</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$str</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">,&nbsp;function(</span><span style="color: #0000BB">$fd</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$written</span><span style="color: #007700">)&nbsp;use&nbsp;(</span><span style="color: #0000BB">$str</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$filename</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">([<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'written'&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$written</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'strlen'&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$str</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'filesize'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">filesize</span><span style="color: #007700">(</span><span style="color: #0000BB">$filename</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'count'&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">substr_count</span><span style="color: #007700">(</span><span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #0000BB">$filename</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">'1'</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]);<br />&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;</span><span style="color: #0000BB">$fd</span><span style="color: #007700">);<br />},&nbsp;</span><span style="color: #0000BB">$filename</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">eio_event_loop</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://software.schmorp.de/pkg/libeio.html" alt="libeio">libeio</a>, <br />
         <a href="https://github.com/rosmanov/pecl-eio" alt="PHP extension for libeio ">PHP extension for libeio </a>.</p>
<h2><a href="issues.html#analyzer=classes_incompatiblesignature" id="classes_incompatiblesignature">Incompatible Signature Methods</a></h2><p>[Since 1.3.3] - [ -P Classes/IncompatibleSignature ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#incompatible-signature-methods">Online docs</a> ]</p><p>Methods should have the same signature when being overwritten.<br />
<br />
The same signatures means the children class must have : <br />
+ the same name<br />
+ the same visibility or less restrictive<br />
+ the same typehint or removed<br />
+ the same default value or removed<br />
+ a reference like its parent<br />
<br />
This problem emits a fatal error, for abstract methods, or a warning error, for normal methods. Yet, it is difficult to lint, because classes are often stored in different files. As such, PHP do lint each file independently, as unknown parent classes are not checked if not present. Yet, when executing the code, PHP lint the actual code and may encounter a fatal error.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">ab&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;foo&nbsp;is&nbsp;overloaded&nbsp;and&nbsp;now&nbsp;includes&nbsp;a&nbsp;default&nbsp;value&nbsp;for&nbsp;$a<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/manual/en/language.oop5.inheritance.php" alt="Object Inheritance">Object Inheritance</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_ambiguousvisibilities" id="classes_ambiguousvisibilities">Ambiguous Visibilities</a></h2><p>[Since 1.3.4] - [ -P Classes/AmbiguousVisibilities ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ambiguous-visibilities">Online docs</a> ]</p><p>The properties have the same name, but have different visibilities, across different classes. <br />
<br />
While it is legit to have a property with the same name in different classes, it may easily lead to confusion. As soon as the context is need to understand if the property is accessible or not, the readability suffers.<br />
<br />
It is recommended to handle the same properties in the same way across classes, even when the classes are not related. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">person&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$address</span><span style="color: #007700">;<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">gangster&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$nickname</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$address</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">$someone&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">Human</span><span style="color: #007700">::</span><span style="color: #0000BB">load</span><span style="color: #007700">(</span><span style="color: #0000BB">123</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">'Hello,&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$someone</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extcsprng" id="extensions_extcsprng">ext/csprng</a></h2><p>[Since 1.3.4] - [ -P Extensions/Extcsprng ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-csprng">Online docs</a> ]</p><p>CSPRNG Functions : cryptographically secure pseudo-random number generator.<br />
<br />
The CSPRNG API provides an easy and reliable way to generate crypto-strong random integers and bytes for use within cryptographic contexts.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$bytes&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">random_bytes</span><span style="color: #007700">(</span><span style="color: #0000BB">5</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">bin2hex</span><span style="color: #007700">(</span><span style="color: #0000BB">$bytes</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//string(10)&nbsp;385e33f741<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.csprng.php" alt="CSPRNG">CSPRNG</a> and <br />
         <a href="https://en.wikipedia.org/wiki/Cryptographically_secure_pseudorandom_number_generator" alt="Cryptographically secure pseudorandom number generator">Cryptographically secure pseudorandom number generator</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_hashalgos71" id="php_hashalgos71">Hash Algorithms Incompatible With PHP 7.1-</a></h2><p>[Since 1.3.4] - [ -P Php/HashAlgos71 ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#hash-algorithms-incompatible-with-php-7.1-">Online docs</a> ] - [ PHP  older than 7.1]</p><p>List of hash algorithms incompatible with PHP 7.1 and more recent. At the moment of writing, this is compatible up to 7.3. <br />
<br />
The hash algorithms were introduced in PHP 7.1. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Compatible&nbsp;only&nbsp;with&nbsp;7.1&nbsp;and&nbsp;more&nbsp;recent<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">hash</span><span style="color: #007700">(</span><span style="color: #DD0000">'sha512/224'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'The&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumped&nbsp;over&nbsp;the&nbsp;lazy&nbsp;dog.'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Always&nbsp;compatible<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">hash</span><span style="color: #007700">(</span><span style="color: #DD0000">'ripemd320'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'The&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumped&nbsp;over&nbsp;the&nbsp;lazy&nbsp;dog.'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/hash_algos" alt="hash_algos">hash_algos</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_undefinedstaticclass" id="classes_undefinedstaticclass">Undefined ::class</a></h2><p>[Since 1.3.5] - [ -P Classes/UndefinedStaticclass ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#undefined-::class">Online docs</a> ]</p><p> <span style="border: 1px solid #ddd; background-color: #f5f5f5">::class</span>  doesn't check if a corresponding class exists. <br />
<br />
 <span style="border: 1px solid #ddd; background-color: #f5f5f5">::class</span>  must be checked with a call to class_exists(). Otherwise, it may lead to a  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Class 'foo' not found</span>  or even silent dead code : this happens also with Catch and instanceof commands with undefined classes. PHP doesn't raise an error in that case. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{}<br /><br /></span><span style="color: #FF8000">//&nbsp;prints&nbsp;foo<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">::class;&nbsp;<br /><br /></span><span style="color: #FF8000">//&nbsp;prints&nbsp;bar&nbsp;though&nbsp;bar&nbsp;doesn't&nbsp;exist.<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">::class;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.constants.php" alt="Class Constants">Class Constants</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_php70scalartypehints" id="php_php70scalartypehints">PHP 7.0 Scalar Typehints</a></h2><p>[Since 1.3.5] - [ -P Php/PHP70scalartypehints ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php-7.0-scalar-typehints">Online docs</a> ] - [ PHP 7.0 and more recent ]</p><p>New scalar typehints were introduced :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">bool</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">int</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">float</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">string</span> .<br />
<br />
They cannot be used before PHP 7.0, and will be confused with classes or interfaces.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;$name</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">Hello&nbsp;$name</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">Damien</span><span style="color: #007700">);&nbsp;<br /></span><span style="color: #FF8000">//&nbsp;display&nbsp;'Hello&nbsp;Damien'<br /><br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">33</span><span style="color: #007700">);&nbsp;<br /></span><span style="color: #FF8000">//&nbsp;displays&nbsp;an&nbsp;error<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/migration70.new-features.php#migration70.new-features.scalar-type-declarations" alt="Scalar type declarations">Scalar type declarations</a>, and <br />
         <a href="https://tutorials.kode-blog.com/php-7-scalar-type-declarations" alt="PHP 7 SCALAR TYPE DECLARATIONS">PHP 7 SCALAR TYPE DECLARATIONS</a>.</p>
<h2><a href="issues.html#analyzer=php_php71scalartypehints" id="php_php71scalartypehints">PHP 7.1 Scalar Typehints</a></h2><p>[Since 1.3.5] - [ -P Php/PHP71scalartypehints ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php-7.1-scalar-typehints">Online docs</a> ] - [ PHP 7.1 and more recent ]</p><p>A new scalar typehint was introduced : iterable. <br />
<br />
It can't be used before PHP 7.1, and will be confused with classes or interfaces.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">iterable&nbsp;$iterable</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #0000BB">$iterable&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">range</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">20</span><span style="color: #007700">));&nbsp;<br /></span><span style="color: #FF8000">//&nbsp;works&nbsp;with&nbsp;array<br /><br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">ArrayIterator</span><span style="color: #007700">([</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">]));&nbsp;<br /></span><span style="color: #FF8000">//&nbsp;works&nbsp;with&nbsp;an&nbsp;iterator<br /><br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">((function&nbsp;()&nbsp;{&nbsp;yield&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;})()&nbsp;);&nbsp;<br /></span><span style="color: #FF8000">//&nbsp;works&nbsp;with&nbsp;a&nbsp;generator<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/migration71.new-features.php#migration71.new-features.iterable-pseudo-type" alt="iterable pseudo-type">iterable pseudo-type</a>, and <br />
         <a href="https://knpuniversity.com/screencast/php7/iterable-type" alt="The iterable Pseudo-Type">The iterable Pseudo-Type</a>.</p>
<h2><a href="issues.html#analyzer=php_php72scalartypehints" id="php_php72scalartypehints">PHP 7.2 Scalar Typehints</a></h2><p>[Since 1.3.5] - [ -P Php/PHP72scalartypehints ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php-7.2-scalar-typehints">Online docs</a> ] - [ PHP 7.2 and more recent ]</p><p>A new scalar typehint was introduced : object. <br />
<br />
It can't be used before PHP 7.2, and will be confused with classes or interfaces.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">test</span><span style="color: #007700">(</span><span style="color: #0000BB">object&nbsp;$obj</span><span style="color: #007700">)&nbsp;:&nbsp;</span><span style="color: #0000BB">object<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;</span><span style="color: #0000BB">SplQueue</span><span style="color: #007700">();<br />}<br /><br /></span><span style="color: #0000BB">test</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">StdClass</span><span style="color: #007700">());<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/migration72.new-features.php#migration72.new-features.iterable-pseudo-type" alt="New object type">New object type</a>, and <br />
         <a href="http://blog.tekmi.nl/php-7-2-and-object-typehint/" alt="PHP 7.2 and Object Typehint">PHP 7.2 and Object Typehint</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extlzf" id="extensions_extlzf">ext/lzf</a></h2><p>[Since 1.3.5] - [ -P Extensions/Extlzf ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-lzf">Online docs</a> ]</p><p>Extension LZF.<br />
<br />
LZF is a very fast compression algorithm, ideal for saving space with only slight speed cost. It can be optimized for speed or space at the time of compilation.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$compressed&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">lzf_compress</span><span style="color: #007700">(</span><span style="color: #0000BB">This&nbsp;is&nbsp;test&nbsp;of&nbsp;LZF&nbsp;extension</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #0000BB">base64_encode</span><span style="color: #007700">(</span><span style="color: #0000BB">$compressed</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/lzf" alt="lzf">lzf</a> and <br />
         <a href="http://oldhome.schmorp.de/marc/liblzf.html" alt="liblzf">liblzf</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extmsgpack" id="extensions_extmsgpack">ext/msgpack</a></h2><p>[Since 1.3.5] - [ -P Extensions/Extmsgpack ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-msgpack">Online docs</a> ]</p><p>Extension msgPack.<br />
<br />
This extension provide API for communicating with MessagePack serialization.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$serialized&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">msgpack_serialize</span><span style="color: #007700">(array(</span><span style="color: #DD0000">'a'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'b'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$unserialized&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">msgpack_unserialize</span><span style="color: #007700">(</span><span style="color: #0000BB">$serialized</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://github.com/msgpack/msgpack-php" alt="msgpack for PHP">msgpack for PHP</a> and <br />
         <a href="https://msgpack.org/" alt="MessagePack">MessagePack</a>.<br />
</p>
<h2><a href="issues.html#analyzer=constants_caseinsensitiveconstants" id="constants_caseinsensitiveconstants">Case Insensitive Constants</a></h2><p>[Since 1.3.9] - [ -P Constants/CaseInsensitiveConstants ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#case-insensitive-constants">Online docs</a> ]</p><p>PHP constants may be case insensitive, when defined with <a href="https://www.php.net/define" alt="define()">define()</a> and the third argument.<br />
<br />
This feature is deprecated since PHP 7.3 and will be removed in PHP 8.0.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;case&nbsp;sensitive<br /></span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'A'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;case&nbsp;insensitive<br /></span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'B'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;not&nbsp;possible<br />//echo&nbsp;a;<br /><br />//&nbsp;both&nbsp;possible<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">B</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">b</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/function.define.php" alt="define">define</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=arrays_withcallback" id="arrays_withcallback">Handle Arrays With Callback</a></h2><p>[Since 1.3.7] - [ -P Arrays/WithCallback ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#handle-arrays-with-callback">Online docs</a> ]</p><p>Use functions like <a href="https://www.php.net/array_map" alt="array_map()">array_map()</a>.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Handles&nbsp;arrays&nbsp;with&nbsp;callback<br /></span><span style="color: #0000BB">$uppercase&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_map</span><span style="color: #007700">(</span><span style="color: #DD0000">'strtoupper'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$source</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Handles&nbsp;arrays&nbsp;with&nbsp;foreach<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$source&nbsp;</span><span style="color: #007700">as&nbsp;&amp;</span><span style="color: #0000BB">$s</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$s&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">uppercase</span><span style="color: #007700">(</span><span style="color: #0000BB">$s</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/array_map" alt="array_map">array_map</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_coulduseiscountable" id="php_coulduseiscountable">Use is_countable</a></h2><p>[Since 1.3.8] - [ -P Php/CouldUseIsCountable ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-is_countable">Online docs</a> ] - [ PHP 7.3 and more recent ]</p><p>is_countable() checks if a variables holds a value that can be counted. It is recommended to use it before calling <a href="https://www.php.net/count" alt="count()">count()</a>.<br />
<br />
is_countable() accepts arrays and object whose class implements \countable.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$arg</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #0000BB">is_countable</span><span style="color: #007700">(</span><span style="color: #0000BB">$arg</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$arg&nbsp;cannot&nbsp;be&nbsp;passed&nbsp;to&nbsp;`count()&nbsp;&lt;https://www.php.net/count&gt;`_<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">0<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$arg</span><span style="color: #007700">);<br />}<br /><br />function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">$arg</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$arg</span><span style="color: #007700">)&nbsp;and&nbsp;!</span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">instanceof&nbsp;\</span><span style="color: #0000BB">Countable</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$arg&nbsp;cannot&nbsp;be&nbsp;passed&nbsp;to&nbsp;`count()&nbsp;&lt;https://www.php.net/count&gt;`_<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">0<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$arg</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://wiki.php.net/rfc/is-countable" alt="PHP RFC: is_countable">PHP RFC: is_countable</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_detectcurrentclass" id="php_detectcurrentclass">Detect Current Class</a></h2><p>[Since 1.3.8] - [ -P Php/DetectCurrentClass ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#detect-current-class">Online docs</a> ] - [ PHP  older than 8.0]</p><p>Detecting the current class should be done with ::class operator.<br />
<br />
__CLASS__ may be replaced by  <span style="border: 1px solid #ddd; background-color: #f5f5f5">self::class</span> . <br />
get_called_class() may be replaced by  <span style="border: 1px solid #ddd; background-color: #f5f5f5">static::class</span> . <br />
<br />
__CLASS__ and get_called_class() are set to be deprecated in PHP 7.4. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">X&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">__CLASS__</span><span style="color: #007700">.\</span><span style="color: #0000BB">n</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;X<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::class.\</span><span style="color: #0000BB">n</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;X<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">get_called_class</span><span style="color: #007700">().\</span><span style="color: #0000BB">n</span><span style="color: #007700">;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Y<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;static::class.\</span><span style="color: #0000BB">n</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Y<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">Y&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">X&nbsp;</span><span style="color: #007700">{}<br /><br /></span><span style="color: #0000BB">$y&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Y</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$y</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://wiki.php.net/rfc/deprecations_php_7_4" alt="PHP RFC: Deprecations for PHP 7.4">PHP RFC: Deprecations for PHP 7.4</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_avoidreal" id="php_avoidreal">Avoid Real</a></h2><p>[Since 1.3.9] - [ -P Php/AvoidReal ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#avoid-real">Online docs</a> ]</p><p>PHP has two float data type : real and double.  <span style="border: 1px solid #ddd; background-color: #f5f5f5">real</span>  is rarely used, and might be deprecated in PHP 7.4.<br />
<br />
To prepare code, avoid using <a href="https://www.php.net/is_real" alt="is_real()">is_real()</a> and the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">(real)</span>  typecast.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;safe&nbsp;way&nbsp;to&nbsp;check&nbsp;for&nbsp;float<br /></span><span style="color: #007700">if&nbsp;(!</span><span style="color: #0000BB">is_float</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;(float)&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Avoid&nbsp;doing&nbsp;that<br /></span><span style="color: #007700">if&nbsp;(!</span><span style="color: #0000BB">is_real</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;(real)&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://wiki.php.net/rfc/deprecations_php_7_4" alt="PHP RFC: Deprecations for PHP 7.4">PHP RFC: Deprecations for PHP 7.4</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=constants_constdefinepreference" id="constants_constdefinepreference">Const Or Define Preference</a></h2><p>[Since 1.3.9] - [ -P Constants/ConstDefinePreference ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#const-or-define-preference">Online docs</a> ]</p><p> <span style="border: 1px solid #ddd; background-color: #f5f5f5">Const</span>  and <a href="https://www.php.net/define" alt="define()">define()</a> have almost the same functional use : they create constants. <br />
<br />
The analyzed code has less than 10% of one of them : for consistency reasons, it is recommended to make constant definition consistent. <br />
<br />
It is recommended to use  <span style="border: 1px solid #ddd; background-color: #f5f5f5">const</span>  for global constants, as this keyword is processed at compile time, while <a href="https://www.php.net/define" alt="define()">define()</a> is executed.<br />
<br />
Note that <a href="https://www.php.net/define" alt="define()">define()</a> used to allow the creation of case-insensitive constants, but this is deprecated since PHP 7.3 and will be removed in PHP 8.0.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'A1'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'A2'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'A3'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'A4'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'A5'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'A6'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'A7'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'A8'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'A9'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'A10'</span><span style="color: #007700">,</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/const" alt="Constant definition">Constant definition</a> and <br />
         <a href="http://php.net/define" alt="Define">Define</a>.<br />
</p>
<h2><a href="issues.html#analyzer=constants_defineinsensitivepreference" id="constants_defineinsensitivepreference">Constant Case Preference</a></h2><p>[Since 1.3.8] - [ -P Constants/DefineInsensitivePreference ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#constant-case-preference">Online docs</a> ]</p><p>Define() creates constants which are case sensitive or not. <br />
<br />
The analyzed code has less than 10% of one of them : for consistency reasons, it is recommended to make constant sentivity definition consistent. <br />
<br />
Note that <a href="https://www.php.net/define" alt="define()">define()</a> used to allow the creation of case-sensitive constants, but this is deprecated since PHP 7.3 and will be removed in PHP 8.0.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'A1'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'A2'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'A3'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'A4'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'A5'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'A6'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'A7'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'A8'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'A9'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'A10'</span><span style="color: #007700">,</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'A10'</span><span style="color: #007700">,</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/const" alt="Constant definition">Constant definition</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_assertfunctionisreserved" id="php_assertfunctionisreserved">Assert Function Is Reserved</a></h2><p>[Since 1.3.9] - [ -P Php/AssertFunctionIsReserved ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#assert-function-is-reserved">Online docs</a> ]</p><p>Avoid defining an  <span style="border: 1px solid #ddd; background-color: #f5f5f5">assert</span>  function in namespaces. <br />
<br />
While they work fine when the assertions are active ( <span style="border: 1px solid #ddd; background-color: #f5f5f5">zend.assertions=1</span> ), calls to unqualified  <span style="border: 1px solid #ddd; background-color: #f5f5f5">assert</span>  are optimized away when assertions are not active. <br />
<br />
Since PHP 7.3, a fatal error is emitted :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Defining a custom <a href="https://www.php.net/assert" alt="assert()">assert()</a> function is deprecated, as the function has special semantics</span> .<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Run&nbsp;this&nbsp;with&nbsp;zend.assertions=1&nbsp;and&nbsp;<br />//&nbsp;Then&nbsp;run&nbsp;this&nbsp;with&nbsp;zend.assertions=0<br /><br /></span><span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">Test&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;`</span><span style="color: #DD0000">assert()&nbsp;&lt;https://www.php.net/assert&gt;</span><span style="color: #007700">`</span><span style="color: #0000BB">_&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$foo</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />namespace&nbsp;</span><span style="color: #0000BB">Test&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;`</span><span style="color: #DD0000">assert()&nbsp;&lt;https://www.php.net/assert&gt;</span><span style="color: #007700">`</span><span style="color: #0000BB">_</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(isset(</span><span style="color: #0000BB">$foo</span><span style="color: #007700">));<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/assert" alt="assert">assert</a> and <br />
         <a href="https://bugs.php.net/bug.php?id=75445" alt="User-defined assert function is optimized away with zend.assertions=-1">User-defined assert function is optimized away with zend.assertions=-1</a>.</p>
<h2><a href="issues.html#analyzer=classes_couldbeabstractclass" id="classes_couldbeabstractclass">Could Be Abstract Class</a></h2><p>[Since 1.3.9] - [ -P Classes/CouldBeAbstractClass ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#could-be-abstract-class">Online docs</a> ]</p><p>An abstract class is never instantiated, and has children class that are. As such, a 'parent' class that is never instantiated by itself, but has its own children instantiated could be marked as abstract. <br />
<br />
That will prevent new code to try to instantiate it.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Example&nbsp;code&nbsp;would&nbsp;actually&nbsp;be&nbsp;split&nbsp;over&nbsp;multiple&nbsp;files.<br /><br /><br />//&nbsp;That&nbsp;class&nbsp;could&nbsp;be&nbsp;abstract<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">motherClass&nbsp;</span><span style="color: #007700">{}<br /><br /></span><span style="color: #FF8000">//&nbsp;Those&nbsp;classes&nbsp;shouldn't&nbsp;be&nbsp;abstract<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">firstChildren&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">motherClass&nbsp;</span><span style="color: #007700">{}<br />class&nbsp;</span><span style="color: #0000BB">secondChildren&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">motherClass&nbsp;</span><span style="color: #007700">{}<br />class&nbsp;</span><span style="color: #0000BB">thirdChildren&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">motherClass&nbsp;</span><span style="color: #007700">{}<br /><br />new&nbsp;</span><span style="color: #0000BB">firstChildren</span><span style="color: #007700">();<br />new&nbsp;</span><span style="color: #0000BB">secondChildren</span><span style="color: #007700">();<br />new&nbsp;</span><span style="color: #0000BB">thirdChildren</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//Not&nbsp;a&nbsp;single&nbsp;:&nbsp;new&nbsp;motherClass()<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/abstract" alt="Class Abstraction">Class Abstraction</a><br />
         <a href="https://phpenthusiast.com/object-oriented-php-tutorials/abstract-classes-and-methods" alt="Abstract classes and methods">Abstract classes and methods</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_continueisforloop" id="structures_continueisforloop">Continue Is For Loop</a></h2><p>[Since 1.3.9] - [ -P Structures/ContinueIsForLoop ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#continue-is-for-loop">Online docs</a> ]</p><p>break and continue are very similar in PHP : they both break out of loop or switch. Yet, continue should be reserved for loops.<br />
<br />
Since PHP 7.3, the execution will emit a warning when finding a continue inside a switch inside a loop : '"continue" targeting switch is equivalent to "break". Did you mean to use "continue 2"?'<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">while&nbsp;(</span><span style="color: #0000BB">$foo</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;switch&nbsp;(</span><span style="color: #0000BB">$bar</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">'baz'</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue;&nbsp;</span><span style="color: #FF8000">//&nbsp;In&nbsp;PHP:&nbsp;Behaves&nbsp;like&nbsp;'break;'<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;In&nbsp;C:&nbsp;&nbsp;&nbsp;Behaves&nbsp;like&nbsp;'continue&nbsp;2;'<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://wiki.php.net/rfc/continue_on_switch_deprecation" alt="Deprecate and remove continue targeting switch">Deprecate and remove continue targeting switch</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_php73removedfunctions" id="php_php73removedfunctions">PHP 7.3 Removed Functions</a></h2><p>[Since 1.4.0] - [ -P Php/Php73RemovedFunctions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php-7.3-removed-functions">Online docs</a> ] - [ PHP  older than 7.3]</p><p>The following PHP native functions were removed in PHP 7.3.<br />
<br />
<ul>
<li>image2wbmp()</li>
</ul>
<br />
This analysis skips redefined PHP functions : when a replacement for a removed PHP function was created, with condition on the PHP version, then its usage is considered valid.<br />
<br />
See also <a href="http://php.net/manual/en/migration73.incompatible.php#migration70.incompatible.removed-functions" alt="PHP 7.3 Removed Functions">PHP 7.3 Removed Functions</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_trailingcomma" id="php_trailingcomma">Trailing Comma In Calls</a></h2><p>[Since 1.4.0] - [ -P Php/TrailingComma ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#trailing-comma-in-calls">Online docs</a> ]</p><p>The last argument may be left empty. <br />
<br />
This feature was introduced in PHP 7.3. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;VCS&nbsp;friendly&nbsp;call<br />//&nbsp;PHP&nbsp;7.3&nbsp;and&nbsp;more&nbsp;recent<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;);<br /><br /></span><span style="color: #FF8000">//&nbsp;backward&nbsp;compatible&nbsp;call<br />//&nbsp;All&nbsp;PHP&nbsp;versions<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">3<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://wiki.php.net/rfc/trailing-comma-function-calls" alt="PHP RFC: Allow a trailing comma in function calls">PHP RFC: Allow a trailing comma in function calls</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_mustcallparentconstructor" id="php_mustcallparentconstructor">Must Call Parent Constructor</a></h2><p>[Since 1.4.1] - [ -P Php/MustCallParentConstructor ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#must-call-parent-constructor">Online docs</a> ]</p><p>Some PHP native classes require a call to parent::__construct() to be stable. <br />
<br />
As of PHP 7.3, two classes currently need that call : SplTempFileObject and SplFileObject.<br />
<br />
The error is only emitted if the class is instantiated, and a parent class is called. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">mySplFileObject&nbsp;</span><span style="color: #007700">extends&nbsp;\</span><span style="color: #0000BB">SplFileObject&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Forgottent&nbsp;call&nbsp;to&nbsp;parent::__construct()<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /><br />(new&nbsp;</span><span style="color: #0000BB">mySplFileObject</span><span style="color: #007700">())-&gt;`</span><span style="color: #DD0000">passthru()&nbsp;&lt;https://www.php.net/passthru&gt;</span><span style="color: #007700">`</span><span style="color: #0000BB">_</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://gist.github.com/everzet/4215537" alt="Why, php? WHY???">Why, php? WHY???</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=variables_undefinedvariable" id="variables_undefinedvariable">Undefined Variable</a></h2><p>[Since 1.4.2] - [ -P Variables/UndefinedVariable ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#undefined-variable">Online docs</a> ]</p><p>Variable that is used before any creation. <br />
<br />
It is recommended to use a default value for every variable used. When not specified, the default value is set to  <span style="border: 1px solid #ddd; background-color: #f5f5f5">NULL</span>  by PHP.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Adapted&nbsp;from&nbsp;the&nbsp;PHP&nbsp;manual<br /></span><span style="color: #0000BB">$var&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Bob'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$Var&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Joe'</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;The&nbsp;following&nbsp;line&nbsp;may&nbsp;emit&nbsp;a&nbsp;warning&nbsp;:&nbsp;Undefined&nbsp;variable:&nbsp;$undefined<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$var</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$Var</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$undefined</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;outputs&nbsp;Bob,&nbsp;Joe,<br /></span>?&gt;</pre><br />
<br />
Variable may be created in various ways : assignation, arguments, foreach blind variables, static and global variables.<br />
<br />
This analysis doesn't handle dynamic variables, such as  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$$x</span> . It also doesn't handle variables outside a method or function.<br />
<br />
See also <a href="http://php.net/manual/en/language.variables.basics.php" alt="Variable basics">Variable basics</a>.<br />
</p>
<h2><a href="issues.html#analyzer=traits_undefinedinsteadof" id="traits_undefinedinsteadof">Undefined Insteadof</a></h2><p>[Since 1.4.2] - [ -P Traits/UndefinedInsteadof ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#undefined-insteadof">Online docs</a> ]</p><p> <span style="border: 1px solid #ddd; background-color: #f5f5f5">Insteadof</span>  tries to replace a method with another, but it doesn't exists. This happens when the replacing class is refactored, and some of its definition are dropped. <br />
<br />
 <span style="border: 1px solid #ddd; background-color: #f5f5f5">Insteadof</span>  may replace a non-existing method with an existing one, but not the contrary. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">trait&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">C&nbsp;</span><span style="color: #007700">(){}<br />}<br /><br />trait&nbsp;</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">C&nbsp;</span><span style="color: #007700">(){}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">Talker&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">B</span><span style="color: #007700">::</span><span style="color: #0000BB">C&nbsp;</span><span style="color: #007700">insteadof&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">B</span><span style="color: #007700">::</span><span style="color: #0000BB">D&nbsp;</span><span style="color: #007700">insteadof&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />new&nbsp;</span><span style="color: #0000BB">Talker</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
This error is not linted : it only appears at execution time. <br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.traits.php" alt="Traits">Traits</a>.<br />
</p>
<h2><a href="issues.html#analyzer=traits_methodcollisiontraits" id="traits_methodcollisiontraits">Method Collision Traits</a></h2><p>[Since 1.4.2] - [ -P Traits/MethodCollisionTraits ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#method-collision-traits">Online docs</a> ]</p><p>Two or more traits are included in the same class, and they have methods collisions. <br />
<br />
Those collisions should be solved with a  <span style="border: 1px solid #ddd; background-color: #f5f5f5">use</span>  expression. When they are not, PHP stops execution with a fatal error :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Trait method M has not been applied, because there are collisions with other trait methods on C</span> .<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">trait&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">M</span><span style="color: #007700">()&nbsp;{}<br />}<br /><br />trait&nbsp;</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">B</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">M</span><span style="color: #007700">()&nbsp;{}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">C&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">B</span><span style="color: #007700">;<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">D&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">B</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">B</span><span style="color: #007700">::</span><span style="color: #0000BB">M&nbsp;</span><span style="color: #007700">insteadof&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;};<br />}<br /></span>?&gt;</pre><br />
<br />
The code above lints, but doesn't execute.<br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.traits.php" alt="Traits">Traits</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_jsonwithoption" id="structures_jsonwithoption">Use json_decode() Options</a></h2><p>[Since 1.4.3] - [ -P Structures/JsonWithOption ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-json_decode---options">Online docs</a> ]</p><p>json_decode() returns objects by default, unless the second argument is set to  <span style="border: 1px solid #ddd; background-color: #f5f5f5">TRUE</span>  or  <span style="border: 1px solid #ddd; background-color: #f5f5f5">JSON_OBJECT_AS_ARRAY</span> . Then, it returns arrays.<br />
<br />
Avoid casting the returned value from json_decode(), and use the second argument to directly set the correct type.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$json&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'{a:b}'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Good&nbsp;syntax<br /></span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">json_decode</span><span style="color: #007700">(</span><span style="color: #0000BB">$json</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">JSON_OBJECT_AS_ARRAY</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;GoToo&nbsp;much&nbsp;work<br /></span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;(array)&nbsp;</span><span style="color: #0000BB">json_decode</span><span style="color: #007700">(</span><span style="color: #0000BB">$json</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
Note that all objects will be turned into arrays, recursively. If you're expecting an array of objects, don't use the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">JSON_OBJECT_AS_ARRAY</span>  constant, and change your JSON code.<br />
<br />
Note that  <span style="border: 1px solid #ddd; background-color: #f5f5f5">JSON_OBJECT_AS_ARRAY</span>  is the only constant : there is no defined constant to explicitly ask for an object as returned value. <br />
<br />
See also <a href="http://php.net/json_decode" alt="json_decode">json_decode</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_couldbefinal" id="classes_couldbefinal">Class Could Be Final</a></h2><p>[Since 1.4.3] - [ -P Classes/CouldBeFinal ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#class-could-be-final">Online docs</a> ]</p><p>Any class that has no extension should be  <span style="border: 1px solid #ddd; background-color: #f5f5f5">final</span>  by default.<br />
<br />
As stated by  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Matthias Noback</span>  :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">If a class is not marked final, it has at least one subclass</span> .<br />
<br />
Prevent your classes from being subclassed by making them  <span style="border: 1px solid #ddd; background-color: #f5f5f5">final</span> . Sometimes, classes are not meant or thought to be derivable.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">{}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;class&nbsp;is&nbsp;extended<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">y&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">{}&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;class&nbsp;is&nbsp;extended<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">z&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">y&nbsp;</span><span style="color: #007700">{}&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;class&nbsp;is&nbsp;not&nbsp;extended<br /><br /></span><span style="color: #007700">final&nbsp;class&nbsp;</span><span style="color: #0000BB">z2&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">y&nbsp;</span><span style="color: #007700">{}&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;class&nbsp;is&nbsp;not&nbsp;extended<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://matthiasnoback.nl/2018/08/negative-architecture-and-assumptions-about-code/" alt="Negative architecture, and assumptions about code">Negative architecture, and assumptions about code</a>.<br />
</p>
<h2><a href="issues.html#analyzer=functions_closure2string" id="functions_closure2string">Closure Could Be A Callback</a></h2><p>[Since 1.4.3] - [ -P Functions/Closure2String ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#closure-could-be-a-callback">Online docs</a> ]</p><p>Closure or arrowfunction could be simplified to a callback. Callbacks are strings or arrays.<br />
<br />
A simple closure that only returns arguments relayed to another function or method, could be reduced to a simpler expression. They <br />
<br />
Closure may be simplified with a string, for functioncall, with an array for methodcalls and static methodcalls. <br />
<br />
Performances : simplifying a closure tends to reduce the call time by 50%. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Simple&nbsp;and&nbsp;faster&nbsp;call&nbsp;to&nbsp;strtoupper<br /></span><span style="color: #0000BB">$filtered&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_map</span><span style="color: #007700">(</span><span style="color: #DD0000">'strtoupper'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Here&nbsp;the&nbsp;closure&nbsp;doesn't&nbsp;add&nbsp;any&nbsp;feature&nbsp;over&nbsp;strtoupper<br /></span><span style="color: #0000BB">$filtered&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_map</span><span style="color: #007700">(function&nbsp;(</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;{&nbsp;return&nbsp;</span><span style="color: #0000BB">strtoupper</span><span style="color: #007700">(</span><span style="color: #0000BB">$x</span><span style="color: #007700">);},&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Methodcall&nbsp;example&nbsp;:&nbsp;no&nbsp;fix<br /></span><span style="color: #0000BB">$filtered&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_map</span><span style="color: #007700">(function&nbsp;(</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;{&nbsp;return&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">-&gt;`</span><span style="color: #DD0000">strtoupper()&nbsp;&lt;https://www.php.net/strtoupper&gt;</span><span style="color: #007700">`</span><span style="color: #0000BB">_&nbsp;</span><span style="color: #007700">;},&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Methodcall&nbsp;example&nbsp;&nbsp;:&nbsp;replace&nbsp;with&nbsp;array($y,&nbsp;'strtoupper')<br /></span><span style="color: #0000BB">$filtered&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_map</span><span style="color: #007700">(function&nbsp;(</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;use&nbsp;(</span><span style="color: #0000BB">$y</span><span style="color: #007700">)&nbsp;{&nbsp;return&nbsp;</span><span style="color: #0000BB">$y</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">strtoupper</span><span style="color: #007700">(</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;;},&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Static&nbsp;methodcall&nbsp;example&nbsp;<br /></span><span style="color: #0000BB">$filtered&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_map</span><span style="color: #007700">(function&nbsp;(</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;{&nbsp;return&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">::`</span><span style="color: #DD0000">strtoupper()&nbsp;&lt;https://www.php.net/strtoupper&gt;</span><span style="color: #007700">`</span><span style="color: #0000BB">_&nbsp;</span><span style="color: #007700">;},&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Static&nbsp;methodcall&nbsp;example&nbsp;&nbsp;&nbsp;:&nbsp;replace&nbsp;with&nbsp;array('A',&nbsp;'strtoupper')<br /></span><span style="color: #0000BB">$filtered&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_map</span><span style="color: #007700">(function&nbsp;(</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;{&nbsp;return&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">::</span><span style="color: #0000BB">strtoupper</span><span style="color: #007700">(</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;;},&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/closure" alt="Closure class">Closure class</a> and <br />
         <a href="http://php.net/manual/en/language.types.callable.php" alt="Callbacks / Callables">Callbacks / Callables</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_inconsistentelseif" id="structures_inconsistentelseif">Inconsistent Elseif</a></h2><p>[Since 1.4.3] - [ -P Structures/InconsistentElseif ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#inconsistent-elseif">Online docs</a> ]</p><p>Chaining if/elseif requires a consistent string of conditions. The conditions are executed one after the other, and the conditions shouldn't overlap.<br />
<br />
This analysis reports chains of elseif that don't share a common variable (or array, or property, etc.. ). As such, testing different conditions are consistent. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;$a&nbsp;is&nbsp;always&nbsp;common,&nbsp;so&nbsp;situations&nbsp;are&nbsp;mutually&nbsp;exclusive<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}&nbsp;else&nbsp;if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomethingElse</span><span style="color: #007700">();<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomethingDefault</span><span style="color: #007700">();<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;$a&nbsp;is&nbsp;always&nbsp;common,&nbsp;so&nbsp;situations&nbsp;are&nbsp;mutually&nbsp;exclusive<br />//&nbsp;although,&nbsp;it&nbsp;may&nbsp;be&nbsp;worth&nbsp;checking&nbsp;the&nbsp;consistency&nbsp;here<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">b&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}&nbsp;else&nbsp;if&nbsp;(</span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">c&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomethingElse</span><span style="color: #007700">();<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomethingDefault</span><span style="color: #007700">();<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;if&nbsp;$a&nbsp;===&nbsp;1,&nbsp;then&nbsp;$c&nbsp;doesn't&nbsp;matter?&nbsp;<br />//&nbsp;This&nbsp;happens,&nbsp;but&nbsp;then&nbsp;logic&nbsp;doesn't&nbsp;appear&nbsp;in&nbsp;the&nbsp;code.<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}&nbsp;else&nbsp;if&nbsp;(</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomethingElse</span><span style="color: #007700">();<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomethingDefault</span><span style="color: #007700">();<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=security_cantdisableclass" id="security_cantdisableclass">Can't Disable Class</a></h2><p>[Since 0.8.4] - [ -P Security/CantDisableClass ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#can't-disable-class">Online docs</a> ]</p><p>This is the list of potentially dangerous PHP class being used in the code, such as \Phar. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;script&nbsp;uses&nbsp;ftp_connect(),&nbsp;therefore,&nbsp;this&nbsp;function&nbsp;shouldn't&nbsp;be&nbsp;disabled.&nbsp;<br /></span><span style="color: #0000BB">$phar&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Phar</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
This analysis is the base for suggesting values for the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">disable_classes</span>  directive.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extseaslog" id="extensions_extseaslog">ext/seaslog</a></h2><p>[Since 1.4.4] - [ -P Extensions/Extseaslog ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-seaslog">Online docs</a> ]</p><p>Extension Seaslog.<br />
<br />
An effective,fast,stable log extension for PHP.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$basePath_1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">SeasLog</span><span style="color: #007700">::</span><span style="color: #0000BB">getBasePath</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">SeasLog</span><span style="color: #007700">::</span><span style="color: #0000BB">setBasePath</span><span style="color: #007700">(</span><span style="color: #DD0000">'/log/base_test'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$basePath_2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">SeasLog</span><span style="color: #007700">::</span><span style="color: #0000BB">getBasePath</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$basePath_1</span><span style="color: #007700">,</span><span style="color: #0000BB">$basePath_2</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*<br />string(19)&nbsp;/log/seaslog-ciogao<br />string(14)&nbsp;/log/base_test<br />*/<br /><br /></span><span style="color: #0000BB">$lastLogger_1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">SeasLog</span><span style="color: #007700">::</span><span style="color: #0000BB">getLastLogger</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">SeasLog</span><span style="color: #007700">::</span><span style="color: #0000BB">setLogger</span><span style="color: #007700">(</span><span style="color: #DD0000">'testModule/app1'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$lastLogger_2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">SeasLog</span><span style="color: #007700">::</span><span style="color: #0000BB">getLastLogger</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$lastLogger_1</span><span style="color: #007700">,</span><span style="color: #0000BB">$lastLogger_2</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">/*<br />string(7)&nbsp;default<br />string(15)&nbsp;testModule/app1<br />*/<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://github.com/SeasX/SeasLog" alt="ext/SeasLog on Github">ext/SeasLog on Github</a>, and <br />
         <a href="http://seasx.github.io/SeasLog/" alt="SeasLog">SeasLog</a>.<br />
         <br />
</p>
<h2><a href="issues.html#analyzer=functions_adddefaultvalue" id="functions_adddefaultvalue">Add Default Value</a></h2><p>[Since 1.4.5] - [ -P Functions/AddDefaultValue ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#add-default-value">Online docs</a> ]</p><p>Parameter in methods definition may receive a default value. This allows the called method to set a value when the parameter is omitted. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$i</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #0000BB">is_integer</span><span style="color: #007700">(</span><span style="color: #0000BB">$i</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/functions.arguments.php" alt="Function arguments">Function arguments</a>.<br />
</p>
<h2><a href="issues.html#analyzer=functions_onlyvariableforreference" id="functions_onlyvariableforreference">Only Variable For Reference</a></h2><p>[Since 1.4.6] - [ -P Functions/OnlyVariableForReference ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#only-variable-for-reference">Online docs</a> ]</p><p>When a method is requesting an argument to be a reference, it cannot be called with a literal value.<br />
<br />
The call must be made with a variable, or any assimilated data container : array, property or static property. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;not&nbsp;possible<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;working<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">);<br /><br />function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;&amp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{}<br /></span>?&gt;</pre><br />
<br />
Note that PHP may detect this error at linting time, if the method is defined after being called : at that point, PHP will only check the problem during execution. This is definitely the case for methods, compared to functions or static methods.<br />
<br />
See also <a href="http://php.net/manual/en/functions.arguments.php#functions.arguments.by-reference" alt="Passing arguments by reference">Passing arguments by reference</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_directcalltoclone" id="php_directcalltoclone">Direct Call To __clone()</a></h2><p>[Since 1.4.8] - [ -P Php/DirectCallToClone ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#direct-call-to-__clone--">Online docs</a> ] - [ PHP 7.0 and more recent ]</p><p>Direct call to magic method __clone() was forbidden. It is allowed since PHP 7.0. <br />
<br />
From the RFC :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Doing calls like $obj->__clone( ) is now allowed. This was the only magic method that had a compile-time check preventing some calls to it, which doesn't make sense. If we allow all other magic methods to be called, there's no reason to forbid this one</span> .<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__clone</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Foo</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">__clone</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://wiki.php.net/rfc/abstract_syntax_tree#directly_calling_clone_is_allowed" alt="Directly calling __clone is allowed">Directly calling __clone is allowed</a>.<br />
</p>
<h2><a href="issues.html#analyzer=security_filterinputsource" id="security_filterinputsource">filter_input() As A Source</a></h2><p>[Since 1.4.8] - [ -P Security/FilterInputSource ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#filter_input---as-a-source">Online docs</a> ]</p><p>The filter_input() and filter_input_array() functions access directly to  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$_GET</span> . They represent a source for external data just like  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$_GET</span> ,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$_POST</span> , etc.<br />
<br />
The main feature of filter_input() is that it is already filtered. The main drawback is that  <span style="border: 1px solid #ddd; background-color: #f5f5f5">FILTER_FLAG_NONE</span>  is the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">none</span>  filter, and that default configuration is `FILTER_UNSAFE_RAW`.<br />
<br />
The filter extension keeps access to the incoming data, even after the super globals, such as  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$_GET</span> , are unset.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Removing&nbsp;$_GET<br /></span><span style="color: #0000BB">$_GET&nbsp;</span><span style="color: #007700">=&nbsp;[];<br /><br /></span><span style="color: #FF8000">//&nbsp;with&nbsp;the&nbsp;default&nbsp;:&nbsp;FILTER_UNSAFE_RAW,&nbsp;this&nbsp;means&nbsp;XSS<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">filter_input</span><span style="color: #007700">(</span><span style="color: #0000BB">INPUT_GET</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'i'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Same&nbsp;as&nbsp;above&nbsp;:&nbsp;<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">filter_var</span><span style="color: #007700">(</span><span style="color: #0000BB">_GET</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'i'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
Thanks to <a href="https://twitter.com/FredBouchery/" alt="Frederic Bouchery">Frederic Bouchery</a> for reporting this <a href="https://twitter.com/FredBouchery/status/1049297213598457857" alt="special case">special case</a>.<br />
<br />
See also <a href="http://php.net/manual/en/book.filter.php" alt="Data filtering">Data filtering</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_undeclaredstaticproperty" id="classes_undeclaredstaticproperty">Wrong Access Style to Property</a></h2><p>[Since 1.4.9] - [ -P Classes/UndeclaredStaticProperty ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#wrong-access-style-to-property">Online docs</a> ]</p><p>Use the right syntax when reaching for a property. Static properties use the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">::</span>  operator, and non-static properties use  <span style="border: 1px solid #ddd; background-color: #f5f5f5">-></span> . <br />
<br />
Mistaking one of the other raise two different reactions from PHP :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Access to undeclared static property</span>  is a fatal error, while  <span style="border: 1px solid #ddd; background-color: #f5f5f5">PHP Notice:  Accessing static property aa::$a as non static</span>  is a notice.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;public&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$a</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;right<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;WRONG<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">b&nbsp;</span><span style="color: #007700">{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">$b</span><span style="color: #007700">;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;right<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">b</span><span style="color: #007700">::</span><span style="color: #0000BB">$b</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;WRONG<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /></span>?&gt;</pre><br />
<br />
This analysis reports both static properties with a `->` access, and non-static properties with a `::` access.<br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.static.php" alt="Static Keyword">Static Keyword</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_namedregex" id="structures_namedregex">Named Regex</a></h2><p>[Since 1.4.9] - [ -P Structures/NamedRegex ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#named-regex">Online docs</a> ]</p><p>Captured subpatterns may be named, for easier reference. <br />
<br />
From the manual : It is possible to name a subpattern using the syntax  <span style="border: 1px solid #ddd; background-color: #f5f5f5">(?P<name>pattern)</span> . This subpattern will then be indexed in the matches array by its normal numeric position and also by name. PHP 5.2.2 introduced two alternative syntaxes  <span style="border: 1px solid #ddd; background-color: #f5f5f5">(?<name>pattern)</span>  and  <span style="border: 1px solid #ddd; background-color: #f5f5f5">(?'name'pattern)</span> .<br />
<br />
Naming subpatterns makes it easier to know what is read from the results of the subpattern : for example,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$r['name']</span>  has more meaning than  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$r[1]</span> . <br />
<br />
Named subpatterns may also be shifted in the regex without impact on the resulting array. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'abc'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">preg_match_all</span><span style="color: #007700">(</span><span style="color: #DD0000">'/(?&lt;name&gt;a)/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$r</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$r</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$r</span><span style="color: #007700">[</span><span style="color: #DD0000">'name'</span><span style="color: #007700">]);<br /><br /></span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">"/(?&lt;name&gt;a)(?'sub'b)/"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$s</span><span style="color: #007700">);<br />print&nbsp;</span><span style="color: #0000BB">$s</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">];<br />print&nbsp;</span><span style="color: #0000BB">$s</span><span style="color: #007700">[</span><span style="color: #DD0000">'sub'</span><span style="color: #007700">];<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/regexp.reference.subpatterns.php" alt="Subpatterns">Subpatterns</a>.<br />
<br />
 </p>
<h2><a href="issues.html#analyzer=structures_invalidpackformat" id="structures_invalidpackformat">Invalid Pack Format</a></h2><p>[Since 1.4.9] - [ -P Structures/InvalidPackFormat ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#invalid-pack-format">Online docs</a> ]</p><p>Some characters are invalid in a <a href="https://www.php.net/pack" alt="pack()">pack()</a> format string.<br />
<br />
<a href="https://www.php.net/pack" alt="pack()">pack()</a> and <a href="https://www.php.net/unpack" alt="unpack()">unpack()</a> accept the following format specifiers :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">aAhHcCsSnviIlLNVqQJPfgGdeExXZ</span> . <br />
<br />
<a href="https://www.php.net/unpack" alt="unpack()">unpack()</a> also accepts a name after the format specifier and an optional quantifier. <br />
<br />
All other situations is not a valid, and produces a warning :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">pack() <https://www.php.net/pack>`_: Type t: unknown format code</span> <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$binarydata&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pack</span><span style="color: #007700">(</span><span style="color: #0000BB">nvc</span><span style="color: #007700">*,&nbsp;</span><span style="color: #0000BB">0x1234</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0x5678</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">65</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">66</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;the&nbsp;first&nbsp;unsigned&nbsp;short&nbsp;is&nbsp;stored&nbsp;as&nbsp;'first'.&nbsp;The&nbsp;next&nbsp;matches&nbsp;are&nbsp;names&nbsp;with&nbsp;numbers.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$res&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">unpack</span><span style="color: #007700">(</span><span style="color: #DD0000">'nfirst/vc*'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$binarydata</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
Check <a href="https://www.php.net/pack" alt="pack()">pack()</a> documentation for format specifiers that were introduced in various PHP version, namely 7.0, 7.1 and 7.2.<br />
<br />
See also <a href="http://php.net/pack" alt="pack">pack</a> and <br />
         <a href="http://php.net/pack" alt="unpack">unpack</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_noreturnforgenerator" id="php_noreturnforgenerator">No Return For Generator</a></h2><p>[Since 1.4.9] - [ -P Php/NoReturnForGenerator ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-return-for-generator">Online docs</a> ] - [ PHP 7.0 and more recent ]</p><p>Return is not allowed in generator. In PHP versions older than 5.6 and older, they yield a fatal Error.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">generatorWithReturn</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;yield&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.generators.overview.php" alt="Generators overview">Generators overview</a>.<br />
</p>
<h2><a href="issues.html#analyzer=interfaces_repeatedinterface" id="interfaces_repeatedinterface">Repeated Interface</a></h2><p>[Since 1.4.9] - [ -P Interfaces/RepeatedInterface ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#repeated-interface">Online docs</a> ]</p><p>A class should implements only once an interface. An interface can only extends once another interface. In both cases, parent classes or interfaces must be checked.<br />
<br />
PHP accepts multiple times the same interface in the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">implements</span>  clause. In fact, it doesn't do anything beyond the first implement. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">j</span><span style="color: #007700">;<br /><br />interface&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">{}<br /><br /></span><span style="color: #FF8000">//&nbsp;Multiple&nbsp;ways&nbsp;to&nbsp;reference&nbsp;an&nbsp;interface<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">i</span><span style="color: #007700">,&nbsp;\</span><span style="color: #0000BB">i</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">j&nbsp;</span><span style="color: #007700">{}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;applies&nbsp;to&nbsp;interfaces&nbsp;too<br /></span><span style="color: #007700">interface&nbsp;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">i</span><span style="color: #007700">,&nbsp;\</span><span style="color: #0000BB">i</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">j&nbsp;</span><span style="color: #007700">{}<br /></span>?&gt;</pre><br />
<br />
This code may compile, but won't execute.<br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.interfaces.php" alt="Object Interfaces">Object Interfaces</a> and <br />
         <a href="http://php.net/manual/en/language.oop5.basic.php" alt="The Basics">The Basics</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_noreferenceforstaticproperty" id="php_noreferenceforstaticproperty">No Reference For Static Property</a></h2><p>[Since 1.4.9] - [ -P Php/NoReferenceForStaticProperty ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-reference-for-static-property">Online docs</a> ] - [ PHP  older than 7.3]</p><p>Static properties used to behave independently when set to a reference value. This was fixed in PHP 7.3. <br />
<br />
According to the PHP 7.3 changelog :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">In PHP, static properties are shared between inheriting classes, unless the static property is explicitly overridden in a child class. However, due to an implementation artifact it was possible to separate the static properties by assigning a reference. This loophole has been fixed.</span> .<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Test&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;</span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class&nbsp;</span><span style="color: #0000BB">Test2&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Test&nbsp;</span><span style="color: #007700">{&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">Test2</span><span style="color: #007700">::</span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;&amp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">Test</span><span style="color: #007700">::</span><span style="color: #0000BB">$x</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">Test2</span><span style="color: #007700">::</span><span style="color: #0000BB">$x</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Previously:&nbsp;int(0),&nbsp;int(1)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Now:&nbsp;int(1),&nbsp;int(1)<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://github.com/php/php-src/blob/3b6e1ee4ee05678b5d717cd926a35ffdc1335929/UPGRADING#L66-L81" alt="PHP 7.3 UPGRADE NOTES">PHP 7.3 UPGRADE NOTES</a>.<br />
         </p>
<h2><a href="issues.html#analyzer=structures_dontreadandwriteinoneexpression" id="structures_dontreadandwriteinoneexpression">Don't Read And Write In One Expression</a></h2><p>[Since 1.4.9] - [ -P Structures/DontReadAndWriteInOneExpression ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#don't-read-and-write-in-one-expression">Online docs</a> ]</p><p>Avoid giving value and using it at the same time, in one expression. This is an undefined behavior of PHP, and may change without warning.<br />
<br />
One of those changes happens between PHP 7.2 and 7.3 : <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$arr&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">$ref&nbsp;</span><span style="color: #007700">=&amp;&nbsp;</span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]&nbsp;+&nbsp;(</span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">));<br /></span><span style="color: #FF8000">//&nbsp;PHP&nbsp;7.2:&nbsp;int(4)<br />//&nbsp;PHP&nbsp;7.3:&nbsp;int(3)<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://github.com/php/php-src/blob/PHP-7.3/UPGRADING#L83-L95" alt="UPGRADING 7.3">UPGRADING 7.3</a>.<br />
</p>
<h2><a href="issues.html#analyzer=type_pack" id="type_pack">Pack Format Inventory</a></h2><p>[Since 1.5.0] - [ -P Type/Pack ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#pack-format-inventory">Online docs</a> ]</p><p>All format used in the code with <a href="https://www.php.net/pack" alt="pack()">pack()</a> and <a href="https://www.php.net/unpack" alt="unpack()">unpack()</a>.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$binarydata&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"\x04\x00\xa0\x00"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">unpack</span><span style="color: #007700">(</span><span style="color: #DD0000">"cn"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$binarydata</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$initial&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pack</span><span style="color: #007700">(</span><span style="color: #DD0000">"cn"</span><span style="color: #007700">,&nbsp;...</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=type_printf" id="type_printf">Printf Format Inventory</a></h2><p>[Since 1.5.0] - [ -P Type/Printf ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#printf-format-inventory">Online docs</a> ]</p><p>All format used in the code with <a href="https://www.php.net/printf" alt="printf()">printf()</a>, <a href="https://www.php.net/vprintf" alt="vprintf()">vprintf()</a>, <a href="https://www.php.net/sprintf" alt="sprintf()">sprintf()</a>, scanf() and <a href="https://www.php.net/fscanf" alt="fscanf()">fscanf()</a>.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Display&nbsp;a&nbsp;number&nbsp;with&nbsp;2&nbsp;digits<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"%'.2d\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">123</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_idnuts46" id="php_idnuts46">idn_to_ascii() New Default</a></h2><p>[Since 1.5.0] - [ -P Php/IdnUts46 ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#idn_to_ascii---new-default">Online docs</a> ]</p><p>The default parameter value of idn_to_ascii() and idn_to_utf8() is now INTL_IDNA_VARIANT_UTS46 instead of the deprecated INTL_IDNA_VARIANT_2003.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">idn_to_ascii</span><span style="color: #007700">(</span><span style="color: #DD0000">'tst.de'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/function.idn-to-ascii.php" alt="idn_to_ascii">idn_to_ascii</a>,<br />
         <a href="http://php.net/manual/en/function.idn-to-utf8.php" alt="idn_to_utf8">idn_to_utf8</a> and<br />
         <a href="http://unicode.org/reports/tr46/" alt="Unicode IDNA Compatibility Processing">Unicode IDNA Compatibility Processing</a>.<br />
</p>
<h2><a href="issues.html#analyzer=exceptions_couldusetry" id="exceptions_couldusetry">Could Use Try</a></h2><p>[Since 1.5.0] - [ -P Exceptions/CouldUseTry ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#could-use-try">Online docs</a> ]</p><p>Some commands may raise exceptions. It is recommended to use the try/catch block to intercept those exceptions, and process them.<br />
<br />
<ul>
<li>/ :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">DivisionByZeroError</span> </li>
<li>% :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">DivisionByZeroError</span> </li>
<li>intdiv() :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">DivisionByZeroError</span> </li>
<li><< :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">ArithmeticError</span> </li>
<li>>> :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">ArithmeticError</span> </li>
<li>Phar::mungserver :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">PharException</span> </li>
<li>Phar::webphar :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">PharException</span> </li>
</ul>
<br />
See also <a href="http://php.net/manual/en/reserved.exceptions.php" alt="Predefined Exceptions">Predefined Exceptions</a>,<br />
         <a href="http://php.net/manual/en/class.pharexception.php" alt="PharException">PharException</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_basenamesuffix" id="structures_basenamesuffix">Use Basename Suffix</a></h2><p>[Since 1.5.1] - [ -P Structures/BasenameSuffix ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-basename-suffix">Online docs</a> ]</p><p><a href="https://www.php.net/basename" alt="basename()">basename()</a> will remove extension when it is provided as argument. The second argument will be removed from the name of the file.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$path&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'phar:///path/to/file.php'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Don't&nbsp;forget&nbsp;the&nbsp;.&nbsp;<br /></span><span style="color: #0000BB">$filename&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">basename</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'.php'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Too&nbsp;much&nbsp;work&nbsp;for&nbsp;this<br /></span><span style="color: #0000BB">$filename&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">basename</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">4</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
Using <a href="https://www.php.net/basename" alt="basename()">basename()</a> instead of substr() or else, makes the intention clear.<br />
<br />
See also <a href="http://www.php.net/basename" alt="basename">basename</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extdecimal" id="extensions_extdecimal">ext/decimal</a></h2><p>[Since 1.5.2] - [ -P Extensions/Extdecimal ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-decimal">Online docs</a> ]</p><p>Extension php-decimal, by  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Rudi Theunissen</span> .<br />
<br />
This library provides a PHP extension that adds support for correctly-rounded, arbitrary-precision decimal floating point arithmetic. Applications that rely on accurate numbers (ie. money, measurements, or mathematics) can use Decimal instead of float or string to represent numerical values.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">Decimal</span><span style="color: #007700">\</span><span style="color: #0000BB">Decimal</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$op1&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Decimal</span><span style="color: #007700">(</span><span style="color: #0000BB">0.1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$op2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0.123456789</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$op1&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$op2</span><span style="color: #007700">);<br /><br /><br />use&nbsp;</span><span style="color: #0000BB">Decimal</span><span style="color: #007700">\</span><span style="color: #0000BB">Decimal</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/**<br />&nbsp;*&nbsp;@param&nbsp;int&nbsp;$n&nbsp;The&nbsp;factorial&nbsp;to&nbsp;calculate,&nbsp;ie.&nbsp;$n!<br />&nbsp;*&nbsp;@param&nbsp;int&nbsp;$p&nbsp;The&nbsp;precision&nbsp;to&nbsp;calculate&nbsp;the&nbsp;factorial&nbsp;to.<br />&nbsp;*<br />&nbsp;*&nbsp;@return&nbsp;Decimal<br />&nbsp;*/<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">factorial</span><span style="color: #007700">(</span><span style="color: #0000BB">int&nbsp;$n</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">int&nbsp;$p&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">Decimal</span><span style="color: #007700">::</span><span style="color: #0000BB">DEFAULT_PRECISION</span><span style="color: #007700">):&nbsp;</span><span style="color: #0000BB">Decimal<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$n&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">?&nbsp;new&nbsp;</span><span style="color: #0000BB">Decimal</span><span style="color: #007700">(</span><span style="color: #0000BB">$n</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$p</span><span style="color: #007700">)&nbsp;:&nbsp;</span><span style="color: #0000BB">$n&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">factorial</span><span style="color: #007700">(</span><span style="color: #0000BB">$n&nbsp;</span><span style="color: #007700">-&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$p</span><span style="color: #007700">);<br />}<br /><br />echo&nbsp;</span><span style="color: #0000BB">factorial</span><span style="color: #007700">(</span><span style="color: #0000BB">10000</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">32</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php-decimal.io" alt="PHP Decimal">PHP Decimal</a> and <br />
         <a href="http://www.bytereef.org/mpdecimal/quickstart.html" alt="libmpdec">libmpdec</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extpsr" id="extensions_extpsr">ext/psr</a></h2><p>[Since 1.5.2] - [ -P Extensions/Extpsr ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-psr">Online docs</a> ]</p><p>Extension PSR : PHP Standards Recommendations.<br />
<br />
This PHP extension provides the interfaces from the PSR standards as established by the PHP-FIG group. You can use interfaces provided by this extension in another extension easily - see this example.<br />
<br />
Currently supported PSR : <br />
<br />
<ul>
<li><a href="https://www.php-fig.org/psr/psr-3" alt="PSR-3">PSR-3</a> - `psr/http-message`</li>
<li><a href="https://www.php-fig.org/psr/psr-11" alt="PSR-11">PSR-11</a> - `psr/container`</li>
<li><a href="https://www.php-fig.org/psr/psr-13" alt="PSR-13">PSR-13</a> - `psr/link`</li>
<li><a href="https://www.php-fig.org/psr/psr-15" alt="PSR-15">PSR-15</a> - `psr/http-server`</li>
<li><a href="https://www.php-fig.org/psr/psr-16" alt="PSR-16">PSR-16</a> - `psr/simple-cache`</li>
<li><a href="https://www.php-fig.org/psr/psr-17" alt="PSR-17">PSR-17</a> - `psr/http-factory`</li>
</ul>
<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Example&nbsp;from&nbsp;the&nbsp;tests,&nbsp;for&nbsp;Cache&nbsp;(PSR-6)<br /></span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">Psr</span><span style="color: #007700">\</span><span style="color: #0000BB">Cache</span><span style="color: #007700">\</span><span style="color: #0000BB">CacheException</span><span style="color: #007700">;<br />class&nbsp;</span><span style="color: #0000BB">MyCacheException&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Exception&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">CacheException&nbsp;</span><span style="color: #007700">{}<br /></span><span style="color: #0000BB">$ex&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MyCacheException</span><span style="color: #007700">(</span><span style="color: #DD0000">'test'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$ex&nbsp;</span><span style="color: #007700">instanceof&nbsp;</span><span style="color: #0000BB">CacheException</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$ex&nbsp;</span><span style="color: #007700">instanceof&nbsp;</span><span style="color: #0000BB">Exception</span><span style="color: #007700">);<br />try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;</span><span style="color: #0000BB">$ex</span><span style="color: #007700">;<br />}&nbsp;catch(&nbsp;</span><span style="color: #0000BB">CacheException&nbsp;$e&nbsp;</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$e</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMessage</span><span style="color: #007700">());<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://github.com/jbboehr/php-psr" alt="php-psr">php-psr</a> and <br />
         <a href="https://www.php-fig.org/" alt="PHP-FIG">PHP-FIG</a>.</p>
<h2><a href="issues.html#analyzer=functions_shouldyieldwithkey" id="functions_shouldyieldwithkey">Should Yield With Key</a></h2><p>[Since 1.5.2] - [ -P Functions/ShouldYieldWithKey ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#should-yield-with-key">Online docs</a> ]</p><p><a href="https://www.php.net/iterator_to_array" alt="iterator_to_array()">iterator_to_array()</a> will overwrite generated values with the same key. <br />
<br />
PHP generators are based on the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">yield</span>  keyword. They also delegate some generating to other methods, with  <span style="border: 1px solid #ddd; background-color: #f5f5f5">yield from</span> . <br />
<br />
When delegating,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">yield from</span>  uses the keys that are generated with  <span style="border: 1px solid #ddd; background-color: #f5f5f5">yield</span> , and otherwise, it uses auto-generated index, starting with 0. <br />
<br />
The trap is that each  <span style="border: 1px solid #ddd; background-color: #f5f5f5">yield from</span>  reset the index generation and start again with 0. Coupled with <a href="https://www.php.net/iterator_to_array" alt="iterator_to_array()">iterator_to_array()</a>, this means that the final generated array may lack some values, while a for<a href="https://www.php.net/each" alt="each()">each()</a> loop would yield all of them.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">g1</span><span style="color: #007700">()&nbsp;:&nbsp;</span><span style="color: #0000BB">Generator&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++&nbsp;)&nbsp;{&nbsp;yield&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">;&nbsp;}<br />}<br /><br />function&nbsp;</span><span style="color: #0000BB">g2</span><span style="color: #007700">()&nbsp;:&nbsp;</span><span style="color: #0000BB">Generator&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++&nbsp;)&nbsp;{&nbsp;yield&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">;&nbsp;}<br />}<br /><br />function&nbsp;</span><span style="color: #0000BB">aggregator</span><span style="color: #007700">()&nbsp;:&nbsp;</span><span style="color: #0000BB">Generator&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;yield&nbsp;from&nbsp;</span><span style="color: #0000BB">g1</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;yield&nbsp;from&nbsp;</span><span style="color: #0000BB">g2</span><span style="color: #007700">();<br />}<br /><br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(`</span><span style="color: #DD0000">iterator_to_array()&nbsp;&lt;https://www.php.net/iterator_to_array&gt;</span><span style="color: #007700">`</span><span style="color: #0000BB">_</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*<br />Array<br />(<br />&nbsp;&nbsp;&nbsp;&nbsp;[0]&nbsp;=&gt;&nbsp;6<br />&nbsp;&nbsp;&nbsp;&nbsp;[1]&nbsp;=&gt;&nbsp;7<br />&nbsp;&nbsp;&nbsp;&nbsp;[2]&nbsp;=&gt;&nbsp;8<br />&nbsp;&nbsp;&nbsp;&nbsp;[3]&nbsp;=&gt;&nbsp;9<br />&nbsp;&nbsp;&nbsp;&nbsp;[4]&nbsp;=&gt;&nbsp;4&nbsp;&nbsp;//&nbsp;Note&nbsp;that&nbsp;4&nbsp;and&nbsp;5&nbsp;still&nbsp;appears<br />&nbsp;&nbsp;&nbsp;&nbsp;[5]&nbsp;=&gt;&nbsp;5&nbsp;&nbsp;//&nbsp;They&nbsp;are&nbsp;not&nbsp;overwritten&nbsp;by&nbsp;the&nbsp;second&nbsp;yield<br />)<br />*/<br /><br /><br /></span><span style="color: #007700">foreach&nbsp;(&nbsp;</span><span style="color: #0000BB">aggregator</span><span style="color: #007700">()&nbsp;as&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">/*<br />0&nbsp;&nbsp;//&nbsp;Foreach&nbsp;has&nbsp;no&nbsp;overlap&nbsp;and&nbsp;yield&nbsp;it&nbsp;all.<br />1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />*/<br /></span>?&gt;</pre><br />
<br />
Thanks to <a href="https://twitter.com/hollodotme" alt="Holger Woltersdorf">Holger Woltersdorf</a> for <a href="https://twitter.com/hollodotme/status/1057909890566537217" alt="pointing this">pointing this</a>.<br />
<br />
See also <a href="http://php.net/manual/en/language.generators.syntax.php" alt="Generator syntax">Generator syntax</a> and <br />
         <a href="http://php.net/manual/en/language.generators.syntax.php#control-structures.yield.associative" alt="Yielding values with keys">Yielding values with keys</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_dontlooponyield" id="structures_dontlooponyield">Don't Loop On Yield</a></h2><p>[Since 1.5.3] - [ -P Structures/DontLoopOnYield ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#don't-loop-on-yield">Online docs</a> ]</p><p>Use  <span style="border: 1px solid #ddd; background-color: #f5f5f5">yield from</span> , instead of looping on a generator with  <span style="border: 1px solid #ddd; background-color: #f5f5f5">yield</span> .<br />
<br />
 <span style="border: 1px solid #ddd; background-color: #f5f5f5">yield from</span>  delegate the yielding to another generator, and keep calling that generator until it is finished. It also works with implicit generator datastructure, like arrays.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">generator</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;for(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">;&nbsp;++</span><span style="color: #0000BB">$i</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yield&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />function&nbsp;</span><span style="color: #0000BB">delegatingGenerator</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;yield&nbsp;from&nbsp;</span><span style="color: #0000BB">generator</span><span style="color: #007700">();<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Too&nbsp;much&nbsp;code&nbsp;here<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">generator2</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach(</span><span style="color: #0000BB">generator</span><span style="color: #007700">()&nbsp;as&nbsp;</span><span style="color: #0000BB">$g</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yield&nbsp;</span><span style="color: #0000BB">$g</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
There is a performance gain when delegating, over looping manually on the generator. You may even consider writing the loop to store all values in an array, then  <span style="border: 1px solid #ddd; background-color: #f5f5f5">yield from</span>  the array.<br />
<br />
See also <a href="http://php.net/manual/en/language.generators.syntax.php#control-structures.yield.from" alt="Generator delegation via yield from">Generator delegation via yield from</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_unreachableconstant" id="classes_unreachableconstant">Unreachable Class Constant</a></h2><p>[Since 1.5.4] - [ -P Classes/UnreachableConstant ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unreachable-class-constant">Online docs</a> ]</p><p>Class constants may be unreachable due to visibility configuration. <br />
<br />
Since PHP 7.1, class constants support visibility. Their usage may be restricted to the current class, or  <span style="border: 1px solid #ddd; background-color: #f5f5f5">private</span> , to classes that extends or are extended by the current class, or  <span style="border: 1px solid #ddd; background-color: #f5f5f5">protected</span> . They may also be  <span style="border: 1px solid #ddd; background-color: #f5f5f5">public</span> , just like it was before. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Foo</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;const&nbsp;PRIVATE&nbsp;=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;PUBLIC&nbsp;=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;PHP&nbsp;7.1-&nbsp;and&nbsp;older<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">Foo</span><span style="color: #007700">::PUBLIC;<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;not&nbsp;accessible<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">Foo</span><span style="color: #007700">::PRIVATE;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.constants.php" alt="Class Constant">Class Constant</a> and <br />
         <a href="https://wiki.php.net/rfc/class_const_visibility" alt="PHP RFC: Support Class Constant Visibility">PHP RFC: Support Class Constant Visibility</a>.<br />
</p>
<h2><a href="issues.html#analyzer=interfaces_avoidselfininterface" id="interfaces_avoidselfininterface">Avoid Self In Interface</a></h2><p>[Since 1.5.4] - [ -P Interfaces/AvoidSelfInInterface ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#avoid-self-in-interface">Online docs</a> ]</p><p>Self and Parent are tricky when used in an interface. <br />
<br />
 <span style="border: 1px solid #ddd; background-color: #f5f5f5">self</span>  refers to the current interface or its extended parents : as long as the constant is defined in the interface family, this is valid.  On the other hand, when  <span style="border: 1px solid #ddd; background-color: #f5f5f5">self</span>  refers to the current class, the resolution of names will happen at execution time, leading to confusing results. <br />
<br />
 <span style="border: 1px solid #ddd; background-color: #f5f5f5">parent</span>  has the same behavior than  <span style="border: 1px solid #ddd; background-color: #f5f5f5">self</span> , except that it doesn't accept to be used inside an interface, as it will yield an error. This is one of those error that lint but won't execute in certain conditions.<br />
<br />
 <span style="border: 1px solid #ddd; background-color: #f5f5f5">Static</span>  can't be used in an interface, as it needs to be resolved at call time anyway.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">interface&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">ii&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;'self'&nbsp;is&nbsp;valid&nbsp;:&nbsp;it&nbsp;refers&nbsp;to&nbsp;the&nbsp;interface&nbsp;i<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;const&nbsp;</span><span style="color: #0000BB">I&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">I2&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;'self'&nbsp;is&nbsp;also&nbsp;valid,&nbsp;as&nbsp;it&nbsp;refers&nbsp;to&nbsp;interface&nbsp;ii,&nbsp;which&nbsp;is&nbsp;a&nbsp;part&nbsp;of&nbsp;interface&nbsp;i<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;const&nbsp;</span><span style="color: #0000BB">I2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">IP&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">;&nbsp;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;makes&nbsp;interface&nbsp;i&nbsp;dependant&nbsp;on&nbsp;the&nbsp;host&nbsp;class<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;const&nbsp;</span><span style="color: #0000BB">I3&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">A</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.paamayim-nekudotayim.php" alt="Scope Resolution Operator (::)">Scope Resolution Operator (::)</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_shouldhavedestructor" id="classes_shouldhavedestructor">Should Have Destructor</a></h2><p>[Since 1.5.4] - [ -P Classes/ShouldHaveDestructor ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#should-have-destructor">Online docs</a> ]</p><p>PHP destructors are called when the object has to be destroyed. By default, PHP calls recursively the destructor on internal objects, until everything is unset.<br />
<br />
Unsetting objects and resources explicitly in the destructor is a good practice to reduce the amount of memory in use. It helps PHP resource counter to keep the numbers low, and easier to clean. This is a major advantage for long running scripts.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">p&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">y</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__destruct</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">__METHOD__</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">p</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">y&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">__METHOD__</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">p&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">y</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__destruct</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">__METHOD__</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">p</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;(new&nbsp;</span><span style="color: #0000BB">x</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">sleep</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;increment&nbsp;the&nbsp;resource&nbsp;counter&nbsp;by&nbsp;one&nbsp;for&nbsp;the&nbsp;property.<br /></span><span style="color: #0000BB">$p&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">p</span><span style="color: #007700">;<br />unset(</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">sleep</span><span style="color: #007700">(</span><span style="color: #0000BB">3</span><span style="color: #007700">);<br /><br />print&nbsp;</span><span style="color: #DD0000">'end'</span><span style="color: #007700">.</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;Y&nbsp;destructor&nbsp;is&nbsp;only&nbsp;called&nbsp;here,&nbsp;as&nbsp;the&nbsp;object&nbsp;still&nbsp;exists&nbsp;in&nbsp;$p.<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.decon.php#language.oop5.decon.destructor" alt="Destructor">Destructor</a>, and <br />
         <a href="https://stackoverflow.com/questions/3566155/php-destructors" alt="Php Destructors">Php Destructors</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=security_safehttpheaders" id="security_safehttpheaders">Safe HTTP Headers</a></h2><p>[Since 1.5.5] - [ -P Security/SafeHttpHeaders ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#safe-http-headers">Online docs</a> ]</p><p>Avoid configuring HTTP headers with lax restriction from within PHP. <br />
<br />
There are a lot of HTTP headers those days, targeting various vulnerabilities. To ensure backward compatibility, those headers have a default mode that is lax and permissive. It is recommended to avoid using those from within the code.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//Good&nbsp;configuration,&nbsp;limiting&nbsp;access&nbsp;to&nbsp;origin<br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Access-Control-Allow-Origin:&nbsp;https://www.exakat.io'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//Configuration&nbsp;is&nbsp;present,&nbsp;but&nbsp;doesn't&nbsp;restrict&nbsp;anything&nbsp;:&nbsp;any&nbsp;external&nbsp;site&nbsp;is&nbsp;a&nbsp;potential&nbsp;source<br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Access-Control-Allow-Origin:&nbsp;*'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.keycdn.com/blog/http-security-headers" alt="Hardening Your HTTP Security Headers">Hardening Your HTTP Security Headers</a>,<br />
        <a href="https://www.smashingmagazine.com/2017/04/secure-web-app-http-headers/" alt="How To Secure Your Web App With HTTP Headers">How To Secure Your Web App With HTTP Headers</a> and <br />
         <a href="https://securityheaders.com/" alt="SecurityHeaders">SecurityHeaders</a>.<br />
</p>
<h2><a href="issues.html#analyzer=performances_csvinloops" id="performances_csvinloops">fputcsv() In Loops</a></h2><p>[Since 1.5.5] - [ -P Performances/CsvInLoops ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#fputcsv---in-loops">Online docs</a> ]</p><p><a href="https://www.php.net/fputcsv" alt="fputcsv()">fputcsv()</a> is slow when called on each row. It actually flushes the data to the disk each time, and that results in a inefficient dump to the disk, each call.<br />
<br />
To speed up this process, it is recommended to dump the csv to memory first, then dump the memory to the disk, in larger chunks. Since <a href="https://www.php.net/fputcsv" alt="fputcsv()">fputcsv()</a> works only on stream, it is necessary to use a memory stream.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Speedy&nbsp;yet&nbsp;memory&nbsp;intensive&nbsp;version<br /></span><span style="color: #0000BB">$f&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">'php://memory'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'w+'</span><span style="color: #007700">);<br />foreach(</span><span style="color: #0000BB">$data_source&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;You&nbsp;may&nbsp;configure&nbsp;fputcsv&nbsp;as&nbsp;usual<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">fputcsv</span><span style="color: #007700">(</span><span style="color: #0000BB">$f</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">);<br />}<br /></span><span style="color: #0000BB">rewind</span><span style="color: #007700">(</span><span style="color: #0000BB">$f</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;Important<br /></span><span style="color: #0000BB">$fp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">'final.csv'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'w+'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">fputs</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">stream_get_contents</span><span style="color: #007700">(</span><span style="color: #0000BB">$f</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">fclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">fclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$f</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Slower&nbsp;version<br /></span><span style="color: #0000BB">$fp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">'final.csv'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'w+'</span><span style="color: #007700">);<br />foreach(</span><span style="color: #0000BB">$data_source&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;You&nbsp;may&nbsp;configure&nbsp;fputcsv&nbsp;as&nbsp;usual<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">fputcsv</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">);<br />}<br /></span><span style="color: #0000BB">fclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
The speed improvement is significant on small rows, while it may be less significant on larger rows : with more data in the rows, the file buffer may fill up more efficiently. On small rows, the speed gain is up to 7 times. <br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_directlyusefile" id="structures_directlyusefile">Directly Use File</a></h2><p>[Since 1.5.5] - [ -P Structures/DirectlyUseFile ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#directly-use-file">Online docs</a> ]</p><p>Some PHP functions have a close cousin that work directly on files : use them. This is faster and less code to write.<br />
<br />
<ul>
<li><a href="https://www.php.net/md5" alt="md5()">md5()</a> => <a href="https://www.php.net/md5_file" alt="md5_file()">md5_file()</a></li>
<li><a href="https://www.php.net/highlight_string" alt="highlight_string()">highlight_string()</a> => <a href="https://www.php.net/highlight_file" alt="highlight_file()">highlight_file()</a>, <a href="https://www.php.net/show_source" alt="show_source()">show_source()</a></li>
<li>parsekit_compile_string() => parsekit_compile_<a href="https://www.php.net/file" alt="file()">file()</a></li>
<li><a href="https://www.php.net/parse_ini_string" alt="parse_ini_string()">parse_ini_string()</a> => <a href="https://www.php.net/parse_ini_file" alt="parse_ini_file()">parse_ini_file()</a></li>
<li><a href="https://www.php.net/sha1" alt="sha1()">sha1()</a> => <a href="https://www.php.net/sha1_file" alt="sha1_file()">sha1_file()</a></li>
<li>simplexml_load_string() => simplexml_load_<a href="https://www.php.net/file" alt="file()">file()</a></li>
<li>yaml_parse() => yaml_parse_<a href="https://www.php.net/file" alt="file()">file()</a></li>
<li>hash() => hash_<a href="https://www.php.net/file" alt="file()">file()</a></li>
<li>hash_hmac() => hash_mac_<a href="https://www.php.net/file" alt="file()">file()</a></li>
<li>hash_update() => hash_update_<a href="https://www.php.net/file" alt="file()">file()</a></li>
<li>recode() => recode_<a href="https://www.php.net/file" alt="file()">file()</a></li>
<li>recode_string() => recode_<a href="https://www.php.net/file" alt="file()">file()</a></li>
</ul>
<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Good&nbsp;way<br /></span><span style="color: #0000BB">$file_hash&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">hash_file</span><span style="color: #007700">(</span><span style="color: #DD0000">'sha512'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'example.txt'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Slow&nbsp;way<br /></span><span style="color: #0000BB">$file_hash&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">hash</span><span style="color: #007700">(</span><span style="color: #DD0000">'sha512'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">'example.txt'</span><span style="color: #007700">));<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/function.hash-file.php" alt="hash_file">hash_file</a>. <br />
</p>
<h2><a href="issues.html#analyzer=traits_uselessalias" id="traits_uselessalias">Useless Alias</a></h2><p>[Since 1.5.6] - [ -P Traits/UselessAlias ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#useless-alias">Online docs</a> ]</p><p>It is not possible to declare an alias of a method with the same name. <br />
<br />
PHP reports that  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Trait method f has not been applied, because there are collisions with other trait methods on x</span> , which is a way to say that the alias will be in conflict with the method name. <br />
<br />
When the method is the only one bearing a name, and being imported, there is no need to alias it. When the method is imported in several traits, the keyword  <span style="border: 1px solid #ddd; background-color: #f5f5f5">insteadof</span>  is available to solve the conflict.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">trait&nbsp;</span><span style="color: #0000BB">t&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">h</span><span style="color: #007700">()&nbsp;{}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">t&nbsp;</span><span style="color: #007700">{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;possible<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">t</span><span style="color: #007700">::</span><span style="color: #0000BB">f&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">g</span><span style="color: #007700">;&nbsp;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;not&nbsp;possible,&nbsp;as&nbsp;the&nbsp;alias&nbsp;is&nbsp;in&nbsp;conflict&nbsp;with&nbsp;itself<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;alias&nbsp;are&nbsp;case&nbsp;insensitive<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">t</span><span style="color: #007700">::</span><span style="color: #0000BB">f&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">f</span><span style="color: #007700">;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
<br />
This code lints but doesn't execute.<br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.traits.php#language.oop5.traits.conflict" alt="Conflict resolution">Conflict resolution</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extsdl" id="extensions_extsdl">ext/sdl</a></h2><p>[Since 1.5.6] - [ -P Extensions/Extsdl ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-sdl">Online docs</a> ]</p><p>Extensions ext/sdl.<br />
<br />
Simple DirectMedia Layer (SDL) is a cross-platform software development library designed to provide a hardware abstraction layer for computer multimedia hardware components. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">/**<br />&nbsp;*&nbsp;Example&nbsp;of&nbsp;how&nbsp;to&nbsp;change&nbsp;screen&nbsp;properties&nbsp;such&nbsp;as&nbsp;title,&nbsp;icon&nbsp;or&nbsp;state&nbsp;using&nbsp;the&nbsp;PHP-SDL&nbsp;extension.<br />&nbsp;*<br />&nbsp;*&nbsp;@author&nbsp;Santiago&nbsp;Lizardo&nbsp;&lt;santiagolizardo@php.net&gt;<br />&nbsp;*/<br /></span><span style="color: #007700">require&nbsp;</span><span style="color: #DD0000">'common.php'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">SDL_Init</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">SDL_INIT_VIDEO&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$screen&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">SDL_SetVideoMode</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">640</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">480</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">16</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">SDL_HWSURFACE&nbsp;</span><span style="color: #007700">);<br />if(&nbsp;</span><span style="color: #0000BB">null&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">$screen&nbsp;</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">fprintf</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">STDERR</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Error:&nbsp;%s'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">SDL_GetError</span><span style="color: #007700">()&nbsp;);<br />}<br />for(&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">--&nbsp;)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">SDL_WM_SetCaption</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">Switching&nbsp;to&nbsp;fullscreen&nbsp;mode&nbsp;in&nbsp;$i&nbsp;seconds</span><span style="color: #007700">...,&nbsp;</span><span style="color: #0000BB">null&nbsp;</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">SDL_Delay</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">1000&nbsp;</span><span style="color: #007700">);<br />}<br /></span><span style="color: #0000BB">SDL_WM_ToggleFullscreen</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$screen&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">SDL_Delay</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">3000&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">SDL_WM_ToggleFullscreen</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$screen&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">SDL_WM_SetCaption</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">Back&nbsp;from&nbsp;fullscreen&nbsp;mode</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">Quitting&nbsp;in&nbsp;2&nbsp;seconds</span><span style="color: #007700">...,&nbsp;</span><span style="color: #0000BB">null&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">SDL_Delay</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">2000&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">SDL_FreeSurface</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$screen&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">SDL_Quit</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://github.com/Ponup/phpsdl" alt="phpsdl">phpsdl</a>,<br />
         <a href="https://en.wikipedia.org/wiki/Simple_DirectMedia_Layer" alt="Simple DirectMedia Layer">Simple DirectMedia Layer</a> and <br />
         <a href="https://www.libsdl.org/" alt="About SDL">About SDL</a>.<br />
</p>
<h2><a href="issues.html#analyzer=performances_issetwholearray" id="performances_issetwholearray">Isset() On The Whole Array</a></h2><p>[Since 1.5.6] - [ -P Performances/IssetWholeArray ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#isset---on-the-whole-array">Online docs</a> ]</p><p>Isset() works quietly on a whole array. There is no need to test all previous index before testing for the target index.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Straight&nbsp;to&nbsp;the&nbsp;point<br /></span><span style="color: #007700">if&nbsp;(isset(</span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">][</span><span style="color: #DD0000">'source'</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Do&nbsp;something&nbsp;with&nbsp;$a[1]['source']<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;Doing&nbsp;too&nbsp;much&nbsp;work<br /></span><span style="color: #007700">if&nbsp;(isset(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;&amp;&amp;&nbsp;isset(</span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">])&nbsp;&amp;&amp;&nbsp;isset(</span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">][</span><span style="color: #DD0000">'source'</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Do&nbsp;something&nbsp;with&nbsp;$a[1]['source']<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
There is a gain in readability, by avoiding long and hard to read logical expression, and reducing them in one simple isset call.<br />
<br />
There is a gain in performances by using one call to isset, instead of several, but it is a micro-optimization. <br />
<br />
See also <a href="http://www.php.net/isset" alt="Isset">Isset</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extasync" id="extensions_extasync">ext/async</a></h2><p>[Since 1.5.6] - [ -P Extensions/Extasync ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-async">Online docs</a> ]</p><p>Concurrent Task Extension for PHP.<br />
<br />
This extension provides concurrent Zend VM executions using native C fibers in PHP.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">Concurrent</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">register_shutdown_function</span><span style="color: #007700">(function&nbsp;()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"===&gt;&nbsp;Shutdown&nbsp;function(s)&nbsp;execute&nbsp;here.\n"</span><span style="color: #007700">;<br />});<br /></span><span style="color: #0000BB">$work&nbsp;</span><span style="color: #007700">=&nbsp;function&nbsp;(</span><span style="color: #0000BB">string&nbsp;$title</span><span style="color: #007700">):&nbsp;</span><span style="color: #0000BB">void&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$title</span><span style="color: #007700">);<br />};<br /></span><span style="color: #0000BB">Task</span><span style="color: #007700">::</span><span style="color: #0000BB">await</span><span style="color: #007700">(</span><span style="color: #0000BB">Task</span><span style="color: #007700">::</span><span style="color: #0000BB">async</span><span style="color: #007700">(function&nbsp;()&nbsp;use&nbsp;(</span><span style="color: #0000BB">$work</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$defer&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Deferred</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">Task</span><span style="color: #007700">::</span><span style="color: #0000BB">await</span><span style="color: #007700">(</span><span style="color: #0000BB">Task</span><span style="color: #007700">::</span><span style="color: #0000BB">async</span><span style="color: #007700">(</span><span style="color: #0000BB">$work</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'A'</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">Task</span><span style="color: #007700">::</span><span style="color: #0000BB">await</span><span style="color: #007700">(</span><span style="color: #0000BB">Task</span><span style="color: #007700">::</span><span style="color: #0000BB">async</span><span style="color: #007700">(</span><span style="color: #0000BB">$work</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'B'</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">Task</span><span style="color: #007700">::</span><span style="color: #0000BB">async</span><span style="color: #007700">(function&nbsp;()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$defer&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Deferred</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">Task</span><span style="color: #007700">::</span><span style="color: #0000BB">async</span><span style="color: #007700">(function&nbsp;()&nbsp;use&nbsp;(</span><span style="color: #0000BB">$defer</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(new&nbsp;</span><span style="color: #0000BB">Timer</span><span style="color: #007700">(</span><span style="color: #0000BB">1000</span><span style="color: #007700">))-&gt;</span><span style="color: #0000BB">awaitTimeout</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$defer</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">resolve</span><span style="color: #007700">(</span><span style="color: #DD0000">'H&nbsp;:)'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">Task</span><span style="color: #007700">::</span><span style="color: #0000BB">await</span><span style="color: #007700">(</span><span style="color: #0000BB">$defer</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">awaitable</span><span style="color: #007700">()));<br />&nbsp;&nbsp;&nbsp;&nbsp;});<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">Task</span><span style="color: #007700">::</span><span style="color: #0000BB">async</span><span style="color: #007700">(function&nbsp;()&nbsp;use&nbsp;(</span><span style="color: #0000BB">$defer</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">Task</span><span style="color: #007700">::</span><span style="color: #0000BB">await</span><span style="color: #007700">(</span><span style="color: #0000BB">$defer</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">awaitable</span><span style="color: #007700">()));<br />&nbsp;&nbsp;&nbsp;&nbsp;});<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$timer&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Timer</span><span style="color: #007700">(</span><span style="color: #0000BB">500</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">Task</span><span style="color: #007700">::</span><span style="color: #0000BB">async</span><span style="color: #007700">(function&nbsp;()&nbsp;use&nbsp;(</span><span style="color: #0000BB">$timer</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$defer</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$work</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$timer</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">awaitTimeout</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$defer</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">resolve</span><span style="color: #007700">(</span><span style="color: #DD0000">'F'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">Task</span><span style="color: #007700">::</span><span style="color: #0000BB">async</span><span style="color: #007700">(</span><span style="color: #0000BB">$work</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'G'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;});<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #DD0000">'ROOT&nbsp;TASK&nbsp;DONE'</span><span style="color: #007700">);<br />}));<br /></span><span style="color: #0000BB">Task</span><span style="color: #007700">::</span><span style="color: #0000BB">async</span><span style="color: #007700">(</span><span style="color: #0000BB">$work</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'C'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">Task</span><span style="color: #007700">::</span><span style="color: #0000BB">async</span><span style="color: #007700">(function&nbsp;()&nbsp;use&nbsp;(</span><span style="color: #0000BB">$work</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;(new&nbsp;</span><span style="color: #0000BB">Timer</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">))-&gt;</span><span style="color: #0000BB">awaitTimeout</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">Task</span><span style="color: #007700">::</span><span style="color: #0000BB">async</span><span style="color: #007700">(</span><span style="color: #0000BB">$work</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'E'</span><span style="color: #007700">);<br />});<br /></span><span style="color: #0000BB">Task</span><span style="color: #007700">::</span><span style="color: #0000BB">async</span><span style="color: #007700">(function&nbsp;(</span><span style="color: #0000BB">$v</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">Task</span><span style="color: #007700">::</span><span style="color: #0000BB">await</span><span style="color: #007700">(</span><span style="color: #0000BB">$v</span><span style="color: #007700">));<br />},&nbsp;</span><span style="color: #0000BB">Deferred</span><span style="color: #007700">::</span><span style="color: #0000BB">value</span><span style="color: #007700">(</span><span style="color: #DD0000">'D'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #DD0000">'</span>?&gt;</pre><br />
<br />
See also <a href="https://github.com/concurrent-php/ext-async" alt="ext-async">ext-async</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extwasm" id="extensions_extwasm">ext/wasm</a></h2><p>[Since 1.5.7] - [ -P Extensions/Extwasm ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-wasm">Online docs</a> ]</p><p>Extension WASM.<br />
<br />
The goal of the project is to be able to run WebAssembly binaries from PHP directly. So much fun coming!<br />
<br />
From the php-ext-wasm documentation : <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//There&nbsp;is&nbsp;a&nbsp;toy&nbsp;program&nbsp;in&nbsp;examples/simple.rs,&nbsp;written&nbsp;in&nbsp;Rust&nbsp;(or&nbsp;any&nbsp;other&nbsp;language&nbsp;that&nbsp;compiles&nbsp;to&nbsp;WASM):<br />//&nbsp;Stored&nbsp;in&nbsp;file&nbsp;__DIR__&nbsp;.&nbsp;'/simple.wasm'<br />/*<br />#[no_mangle]<br />pub&nbsp;extern&nbsp;C&nbsp;fn&nbsp;sum(x:&nbsp;i32,&nbsp;y:&nbsp;i32)&nbsp;-&gt;&nbsp;i32&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;+&nbsp;y<br />}<br />*/<br /><br /></span><span style="color: #0000BB">$instance&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">WASM</span><span style="color: #007700">\</span><span style="color: #0000BB">Instance</span><span style="color: #007700">(</span><span style="color: #0000BB">__DIR__&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'/simple.wasm'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$instance</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sum</span><span style="color: #007700">(</span><span style="color: #0000BB">5</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">37</span><span style="color: #007700">)&nbsp;</span><span style="color: #FF8000">//&nbsp;42!<br /></span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://github.com/Hywan/php-ext-wasm" alt="php-ext-wasm">php-ext-wasm</a>.<br />
</p>
<h2><a href="issues.html#analyzer=traits_selfusingtrait" id="traits_selfusingtrait">Self Using Trait</a></h2><p>[Since 1.5.7] - [ -P Traits/SelfUsingTrait ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#self-using-trait">Online docs</a> ]</p><p>Trait uses itself : this is unnecessary. Traits may use themselves, or be used by other traits, that are using the initial trait itself. <br />
<br />
PHP handles the situation quietly, by ignoring all extra use of the same trait, keeping only one valid version.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;empty,&nbsp;but&nbsp;valid<br /></span><span style="color: #007700">trait&nbsp;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">{}&nbsp;<br /><br /></span><span style="color: #FF8000">//&nbsp;obvious&nbsp;self&nbsp;usage<br /></span><span style="color: #007700">trait&nbsp;</span><span style="color: #0000BB">b&nbsp;</span><span style="color: #007700">{&nbsp;use&nbsp;</span><span style="color: #0000BB">b</span><span style="color: #007700">;&nbsp;}<br /><br /></span><span style="color: #FF8000">//&nbsp;less&nbsp;obvious&nbsp;self&nbsp;usage<br /></span><span style="color: #007700">trait&nbsp;</span><span style="color: #0000BB">c&nbsp;</span><span style="color: #007700">{&nbsp;use&nbsp;</span><span style="color: #0000BB">d</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">e</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">f</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">g</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">h</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">c</span><span style="color: #007700">;&nbsp;}<br /><br /></span><span style="color: #FF8000">//&nbsp;level&nbsp;2&nbsp;self&nbsp;usage<br /></span><span style="color: #007700">trait&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">{&nbsp;use&nbsp;</span><span style="color: #0000BB">j</span><span style="color: #007700">;&nbsp;}<br />trait&nbsp;</span><span style="color: #0000BB">j&nbsp;</span><span style="color: #007700">{&nbsp;use&nbsp;</span><span style="color: #0000BB">i</span><span style="color: #007700">;&nbsp;}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.traits.php" alt="Traits">Traits</a>.<br />
</p>
<h2><a href="issues.html#analyzer=traits_multipleusage" id="traits_multipleusage">Multiple Usage Of Same Trait</a></h2><p>[Since 1.5.7] - [ -P Traits/MultipleUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#multiple-usage-of-same-trait">Online docs</a> ]</p><p>The same trait is used several times. One trait usage is sufficient.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;C&nbsp;is&nbsp;used&nbsp;twice,&nbsp;and&nbsp;could&nbsp;be&nbsp;dropped&nbsp;from&nbsp;B<br /></span><span style="color: #007700">trait&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{&nbsp;use&nbsp;</span><span style="color: #0000BB">B</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">C</span><span style="color: #007700">;}<br />trait&nbsp;</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">{&nbsp;use&nbsp;</span><span style="color: #0000BB">C</span><span style="color: #007700">;}<br /></span>?&gt;</pre><br />
<br />
PHP doesn't raise any error when traits are included multiple times.<br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.traits.php" alt="Traits">Traits</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_couldbestatic" id="classes_couldbestatic">Method Could Be Static</a></h2><p>[Since 1.5.7] - [ -P Classes/CouldBeStatic ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#method-could-be-static">Online docs</a> ]</p><p>A method that doesn't make any usage of $this could be turned into a static method. <br />
<br />
While static methods are usually harder to handle, recognizing the static status is a first step before turning the method into a standalone function.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;</span><span style="color: #0000BB">$property&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;legit&nbsp;static&nbsp;method<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">static&nbsp;function&nbsp;</span><span style="color: #0000BB">staticMethod</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$property</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;not&nbsp;using&nbsp;$this,&nbsp;and&nbsp;could&nbsp;be&nbsp;static<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">nonStaticMethod</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$property</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;not&nbsp;using&nbsp;$this&nbsp;nor&nbsp;self,&nbsp;could&nbsp;be&nbsp;a&nbsp;standalone&nbsp;function<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">nonStaticMethod</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$property</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=functions_multipleidenticalclosure" id="functions_multipleidenticalclosure">Multiple Identical Closure</a></h2><p>[Since 1.5.8] - [ -P Functions/MultipleIdenticalClosure ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#multiple-identical-closure">Online docs</a> ]</p><p>Several closures are defined with the same code. <br />
<br />
It may be interesting to check if a named function could be defined from them.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;the&nbsp;first&nbsp;squares,&nbsp;with&nbsp;closure<br /></span><span style="color: #0000BB">$squares</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_map</span><span style="color: #007700">(function&nbsp;(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{return&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;&nbsp;},&nbsp;</span><span style="color: #0000BB">range</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">)&nbsp;);<br /><br /></span><span style="color: #FF8000">//&nbsp;later,&nbsp;in&nbsp;another&nbsp;file...<br />//&nbsp;another&nbsp;identical&nbsp;closure&nbsp;<br /></span><span style="color: #0000BB">$squaring&nbsp;</span><span style="color: #007700">=&nbsp;function&nbsp;(</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;{&nbsp;return&nbsp;</span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">;&nbsp;};<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$x</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$squaring</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
This analysis also reports functions and methods that look like the closures : they may be considered for switch.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=type_path" id="type_path">Path lists</a></h2><p>[Since 1.5.8] - [ -P Type/Path ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#path-lists">Online docs</a> ]</p><p>List of all paths that were found in the code.<br />
<br />
Path are identified with this regex :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">^(.*/)([^/]*)\.\w+$</span> . In particular, the directory delimiter is  <span style="border: 1px solid #ddd; background-color: #f5f5f5">/</span> . <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;the&nbsp;first&nbsp;argument&nbsp;is&nbsp;recognized&nbsp;as&nbsp;an&nbsp;URL<br /></span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">'/tmp/my/file.txt'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'r+'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;the&nbsp;string&nbsp;argument&nbsp;&nbsp;is&nbsp;recognized&nbsp;as&nbsp;an&nbsp;URL<br /></span><span style="color: #0000BB">$source&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'https://www.other-example.com/'</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
URL are ignored when the protocol is present in the literal :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">http://www.example.com</span>  is not mistaken with a file. <br />
<br />
See also <a href="http://php.net/manual/en/dir.constants.php" alt="Dir predefined constants">Dir predefined constants</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_missingsubpattern" id="php_missingsubpattern">Possible Missing Subpattern</a></h2><p>[Since 1.6.1] - [ -P Php/MissingSubpattern ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#possible-missing-subpattern">Online docs</a> ]</p><p>When capturing subpatterns are the last ones in a regex, PHP doesn't fill their spot in the resulting array. This leads to a possible missing index in the result array.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;displays&nbsp;a&nbsp;partial&nbsp;array,&nbsp;from&nbsp;0&nbsp;to&nbsp;1<br /></span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/(a)(b)?/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'adc'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$r</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$r</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">/*<br />Array<br />(<br />&nbsp;&nbsp;&nbsp;&nbsp;[0]&nbsp;=&gt;&nbsp;a<br />&nbsp;&nbsp;&nbsp;&nbsp;[1]&nbsp;=&gt;&nbsp;a<br />)<br />*/<br /><br />//&nbsp;displays&nbsp;a&nbsp;full&nbsp;array,&nbsp;from&nbsp;0&nbsp;to&nbsp;2<br /></span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/(a)(b)?/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'abc'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$r</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$r</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*<br />Array<br />(<br />&nbsp;&nbsp;&nbsp;&nbsp;[0]&nbsp;=&gt;&nbsp;ab<br />&nbsp;&nbsp;&nbsp;&nbsp;[1]&nbsp;=&gt;&nbsp;a<br />&nbsp;&nbsp;&nbsp;&nbsp;[2]&nbsp;=&gt;&nbsp;b<br />)<br />*/<br /><br />//&nbsp;double&nbsp;'b'&nbsp;when&nbsp;it&nbsp;is&nbsp;found<br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #0000BB">preg_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">',^a(b)?,'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'./$1$1'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'abc'</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;prints&nbsp;./abbc<br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #0000BB">preg_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">',^a(b)?,'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'./$1$1'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'adc'</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;prints&nbsp;./dc<br /></span>?&gt;</pre><br />
?><br />
<br />
The same applies to <a href="https://www.php.net/preg_replace" alt="preg_replace()">preg_replace()</a> : the pattern may match the string, but no value is available is the corresponding sub-pattern.<br />
<br />
In PHP 7.4, a new option was added : PREG_UNMATCHED_AS_NULL, which always provides a value for the subpatterns.<br />
<br />
See also <a href="https://bugs.php.net/bug.php?id=50887" alt="Bug #50887 preg_match , last optional sub-patterns ignored when empty">Bug #50887 preg_match , last optional sub-patterns ignored when empty</a> and <br />
         <a href="https://bugs.php.net/bug.php?id=73948" alt="Bug #73948 Preg_match_all should return NULLs on trailing optional capture groups.">Bug #73948 Preg_match_all should return NULLs on trailing optional capture groups.</a>.<br />
</p>
<h2><a href="issues.html#analyzer=performances_arraykeyexistsspeedup" id="performances_arraykeyexistsspeedup">array_key_exists() Speedup</a></h2><p>[Since 1.6.1] - [ -P Performances/ArrayKeyExistsSpeedup ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#array_key_exists---speedup">Online docs</a> ]</p><p>isset() used to be the fastest, but <a href="https://www.php.net/array_key_exists" alt="array_key_exists()">array_key_exists()</a> is. Since PHP 7.4, <a href="https://www.php.net/array_key_exists" alt="array_key_exists()">array_key_exists()</a> has its own opcode, leading to better features and speed.<br />
<br />
isset() is faster for all non-empty values, but is limited when the value is NULL or empty : then, <a href="https://www.php.net/array_key_exists" alt="array_key_exists()">array_key_exists()</a> has the good features.<br />
<br />
 <span style="border: 1px solid #ddd; background-color: #f5f5f5">This change makes <a href="https://www.php.net/array_key_exists" alt="array_key_exists()">array_key_exists()</a> actually faster than isset() by ~25% (tested with GCC 8, -O3, march=native, mtune=native).</span> .<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">123&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">456</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;sufficient&nbsp;and&nbsp;efficient&nbsp;since&nbsp;PHP&nbsp;7.4<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">array_search_key</span><span style="color: #007700">(</span><span style="color: #0000BB">$foo</span><span style="color: #007700">[</span><span style="color: #0000BB">123</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;do&nbsp;something<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;taking&nbsp;advantages&nbsp;of&nbsp;performances&nbsp;for&nbsp;PHP&nbsp;7.4&nbsp;and&nbsp;older<br /></span><span style="color: #007700">if&nbsp;(isset(</span><span style="color: #0000BB">$foo</span><span style="color: #007700">[</span><span style="color: #0000BB">123</span><span style="color: #007700">])&nbsp;||&nbsp;</span><span style="color: #0000BB">array_search_key</span><span style="color: #007700">(</span><span style="color: #0000BB">$foo</span><span style="color: #007700">[</span><span style="color: #0000BB">123</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;do&nbsp;something<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.php.net/array_key_exists" alt="Implement ZEND_ARRAY_KEY_EXISTS opcode to speed up `array_key_exists()">Implement ZEND_ARRAY_KEY_EXISTS opcode to speed up `array_key_exists()</a> <https://github.com/php/php-src/pull/3360>`_.<br />
</p>
<h2><a href="issues.html#analyzer=structures_assigneandcompare" id="structures_assigneandcompare">Assign And Compare</a></h2><p>[Since 1.6.3] - [ -P Structures/AssigneAndCompare ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#assign-and-compare">Online docs</a> ]</p><p>Assignation has a lower precedence than comparison. As such, the assignation always happens after the comparison. This leads to the comparison being stored in the variable, and not the value being compared.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$id&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$needle</span><span style="color: #007700">)&nbsp;!==&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">)&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$id&nbsp;now&nbsp;contains&nbsp;a&nbsp;boolean&nbsp;(true&nbsp;or&nbsp;false),&nbsp;but&nbsp;not&nbsp;the&nbsp;position&nbsp;of&nbsp;the&nbsp;$needle.<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;probably&nbsp;valid&nbsp;comparison,&nbsp;as&nbsp;$found&nbsp;will&nbsp;end&nbsp;up&nbsp;being&nbsp;a&nbsp;boolean<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$found&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$needle</span><span style="color: #007700">)&nbsp;===&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">)&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;always&nbsp;valid&nbsp;comparison,&nbsp;with&nbsp;parenthesis<br /></span><span style="color: #007700">if&nbsp;((</span><span style="color: #0000BB">$id&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$needle</span><span style="color: #007700">))&nbsp;!==&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">)&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$id&nbsp;now&nbsp;contains&nbsp;a&nbsp;boolean&nbsp;(true&nbsp;or&nbsp;false),&nbsp;but&nbsp;not&nbsp;the&nbsp;position&nbsp;of&nbsp;the&nbsp;$needle.<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;Being&nbsp;a&nbsp;lone&nbsp;instruction,&nbsp;this&nbsp;is&nbsp;always&nbsp;valid&nbsp;:&nbsp;there&nbsp;is&nbsp;no&nbsp;double&nbsp;usage&nbsp;with&nbsp;if&nbsp;condition<br /></span><span style="color: #0000BB">$isFound&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$needle</span><span style="color: #007700">)&nbsp;!==&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.operators.precedence.php" alt="Operator Precedence">Operator Precedence</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_typedpropertyusage" id="php_typedpropertyusage">Typed Property Usage</a></h2><p>[Since 1.6.2] - [ -P Php/TypedPropertyUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#typed-property-usage">Online docs</a> ]</p><p>Traditionally, PHP properties aren't typed. Since PHP 7.4, it is possible to type properties, just like arguments.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">User&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">int&nbsp;$id</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;$name</span><span style="color: #007700">;<br />&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">int&nbsp;$id</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">string&nbsp;$name</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">id&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$id</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://wiki.php.net/rfc/typed_properties_v2" alt="Typed Properties 2.0">Typed Properties 2.0</a>.</p>
<h2><a href="issues.html#analyzer=structures_novariableisacondition" id="structures_novariableisacondition">Variable Is Not A Condition</a></h2><p>[Since 1.6.5] - [ -P Structures/NoVariableIsACondition ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#variable-is-not-a-condition">Online docs</a> ]</p><p>Avoid using a lone variable as a condition. It is recommended to use a comparative value, or one of the filtering function, such as isset(), <a href="https://www.php.net/empty" alt="empty()">empty()</a>. <br />
<br />
Using the raw variable as a condition blurs the difference between an undefined variable and an empty value. By using an explicit comparison or validation function, it is easier to understand what the variable stands for.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">if&nbsp;(isset(</span><span style="color: #0000BB">$error</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Found&nbsp;one&nbsp;error&nbsp;:&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$error</span><span style="color: #007700">!;<br />}<br /><br /></span><span style="color: #FF8000">//<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$errors</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$errors</span><span style="color: #007700">).</span><span style="color: #DD0000">'&nbsp;errors&nbsp;found&nbsp;:&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">join</span><span style="color: #007700">(</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$errors</span><span style="color: #007700">).</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Not&nbsp;found'</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
Thanks to the <a href="https://www.sigb.net/" alt="PMB">PMB</a> team for the inspiration.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=arrays_stringinitialization" id="arrays_stringinitialization">String Initialization</a></h2><p>[Since 1.6.5] - [ -P Arrays/StringInitialization ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#string-initialization">Online docs</a> ]</p><p>It used to be possible to initialize a variable with an string, and use it as an array. It is not the case anymore in PHP 7.1.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Initialize&nbsp;arrays&nbsp;with&nbsp;array()<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;array();<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">3</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Don't&nbsp;start&nbsp;with&nbsp;a&nbsp;string<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">3</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">;<br />print&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Don't&nbsp;start&nbsp;with&nbsp;a&nbsp;string<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">is_numeric</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.drupal.org/project/adaptivetheme/issues/2832900" alt="PHP 7.1 no longer converts string to arrays the first time a value is assigned with square bracket notation">PHP 7.1 no longer converts string to arrays the first time a value is assigned with square bracket notation</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extweakref" id="extensions_extweakref">ext/weakref</a></h2><p>[Since 1.6.5] - [ -P Extensions/Extweakref ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-weakref">Online docs</a> ]</p><p>Weak References for PHP.<br />
<br />
Weak references provide a non-intrusive gateway to ephemeral objects. Unlike normal (strong) references, weak references do not prevent the garbage collector from freeing that object. For this reason, an object may be destroyed even though a weak reference to that object still exists. In such conditions, the weak reference seamlessly becomes invalid.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">MyClass&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__destruct</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">Destroying&nbsp;object</span><span style="color: #007700">!\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$o1&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MyClass</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$r1&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">WeakRef</span><span style="color: #007700">(</span><span style="color: #0000BB">$o1</span><span style="color: #007700">);<br /><br />if&nbsp;(</span><span style="color: #0000BB">$r1</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">valid</span><span style="color: #007700">())&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">Object&nbsp;still&nbsp;exists</span><span style="color: #007700">!\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$r1</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">get</span><span style="color: #007700">());<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">Object&nbsp;is&nbsp;dead</span><span style="color: #007700">!\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br />}<br /><br />unset(</span><span style="color: #0000BB">$o1</span><span style="color: #007700">);<br /><br />if&nbsp;(</span><span style="color: #0000BB">$r1</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">valid</span><span style="color: #007700">())&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">Object&nbsp;still&nbsp;exists</span><span style="color: #007700">!\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$r1</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">get</span><span style="color: #007700">());<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">Object&nbsp;is&nbsp;dead</span><span style="color: #007700">!\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.weakref.php" alt="Weak references">Weak references</a> and <br />
         <a href="https://github.com/colder/php-weakref" alt="PECL extension that implements weak references and weak maps in PHP">PECL extension that implements weak references and weak maps in PHP</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extpcov" id="extensions_extpcov">ext/pcov</a></h2><p>[Since 1.6.5] - [ -P Extensions/Extpcov ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-pcov">Online docs</a> ]</p><p>CodeCoverage compatible driver for PHP<br />
<br />
A self contained CodeCoverage compatible driver for PHP7<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">\</span><span style="color: #0000BB">pcov</span><span style="color: #007700">\</span><span style="color: #0000BB">start</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">=&nbsp;[];<br />for&nbsp;(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$d</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">42</span><span style="color: #007700">;<br />}<br />\</span><span style="color: #0000BB">pcov</span><span style="color: #007700">\</span><span style="color: #0000BB">stop</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(\</span><span style="color: #0000BB">pcov</span><span style="color: #007700">\</span><span style="color: #0000BB">collect</span><span style="color: #007700">());<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://github.com/krakjoe/pcov" alt="PCOV">PCOV</a>.</p>
<h2><a href="issues.html#analyzer=functions_insufficienttypehint" id="functions_insufficienttypehint">Insufficient Typehint</a></h2><p>[Since 1.6.6] - [ -P Functions/InsufficientTypehint ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#insufficient-typehint">Online docs</a> ]</p><p>An argument is typehinted, but it actually calls methods that are not listed in the interface.<br />
<br />
Classes may be implementing more methods than the one that are listed in the interface they also implements. This means that filtering objects with a typehint, but calling other methods will be solved at execution time : if the method is available, it will be used; if it is not, a fatal error is reported.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">methodI</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">notInI</span><span style="color: #007700">()&nbsp;{}<br />}<br /><br />interface&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">methodI</span><span style="color: #007700">();<br />}<br /><br />function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">i&nbsp;$x</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">methodI</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//&nbsp;this&nbsp;call&nbsp;is&nbsp;valid<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">notInI</span><span style="color: #007700">();&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;this&nbsp;call&nbsp;is&nbsp;not&nbsp;garanteed<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
Inspired by discussion with <a href="https://twitter.com/BrandonSavage" alt="Brandon Savage">Brandon Savage</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=constants_dynamiccreation" id="constants_dynamiccreation">Constant Dynamic Creation</a></h2><p>[Since 1.6.7] - [ -P Constants/DynamicCreation ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#constant-dynamic-creation">Online docs</a> ]</p><p>Registering constant with dynamic values. Dynamic values include values read in external sources (files, databases, remote API, ... ), random sources (time, <a href="https://www.php.net/rand" alt="rand()">rand()</a>, ...)<br />
<br />
Dynamic constants are not possible with the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">const</span>  keyword, though static constant expression allows for a good range of combinations, including conditions. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">range</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">);<br />foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #0000BB">A$i</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #0000BB">N$i</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #0000BB">C</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
<br />
</p>
<h2><a href="issues.html#analyzer=patterns_factory" id="patterns_factory">An OOP Factory</a></h2><p>[Since 1.6.7] - [ -P Patterns/Factory ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#an-oop-factory">Online docs</a> ]</p><p>A method or function that implements a factory. A factory is a class that handles the creation of an object, based on parameters. The factory hides the logic that leads to the creation of the object. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">AutomobileFactory&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">create</span><span style="color: #007700">(</span><span style="color: #0000BB">$make</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$model</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$className&nbsp;</span><span style="color: #007700">=&nbsp;\\</span><span style="color: #0000BB">Automaker</span><span style="color: #007700">\\</span><span style="color: #0000BB">Brand</span><span style="color: #007700">\\</span><span style="color: #0000BB">$make</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;</span><span style="color: #0000BB">$className</span><span style="color: #007700">(</span><span style="color: #0000BB">$model</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;The&nbsp;factory&nbsp;is&nbsp;able&nbsp;to&nbsp;build&nbsp;any&nbsp;car,&nbsp;based&nbsp;on&nbsp;their&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$fuego&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">AutomobileFactory</span><span style="color: #007700">::</span><span style="color: #0000BB">create</span><span style="color: #007700">(</span><span style="color: #DD0000">'Renault'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Fuego'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$fuego</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMakeAndModel</span><span style="color: #007700">());&nbsp;</span><span style="color: #FF8000">//&nbsp;outputs&nbsp;Renault&nbsp;Fuego<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://en.wikipedia.org/wiki/Factory_(object-oriented_programming)" alt="Factory (object-oriented programming)">Factory (object-oriented programming)</a> and <br />
         <a href="https://phptherightway.com/pages/Design-Patterns.html#factory" alt="Factory">Factory</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=functions_typehintmustbereturned" id="functions_typehintmustbereturned">Typehint Must Be Returned</a></h2><p>[Since 1.6.9] - [ -P Functions/TypehintMustBeReturned ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#typehint-must-be-returned">Online docs</a> ]</p><p>When using a typehint for a method, it is compulsory to use a at least one return in the method's body.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Empty&nbsp;function&nbsp;:&nbsp;<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;:&nbsp;</span><span style="color: #0000BB">Bar&nbsp;</span><span style="color: #007700">{&nbsp;return&nbsp;new&nbsp;</span><span style="color: #0000BB">Bar</span><span style="color: #007700">();&nbsp;}<br /><br /></span><span style="color: #FF8000">//&nbsp;Empty&nbsp;function&nbsp;:&nbsp;<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;:&nbsp;</span><span style="color: #0000BB">Bar&nbsp;</span><span style="color: #007700">{&nbsp;}<br /></span>?&gt;</pre><br />
<br />
PHP lint this, but won't execute it.<br />
<br />
See also <a href="http://php.net/manual/en/functions.returning-values.php#functions.returning-values.type-declaration" alt="Return Type Declaration">Return Type Declaration</a> and <br />
         <a href="https://mlocati.github.io/articles/php-type-hinting.html" alt="Type hint in PHP function parameters and return values">Type hint in PHP function parameters and return values</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_shoulddeepclone" id="classes_shoulddeepclone">Should Deep Clone</a></h2><p>[Since 1.7.0] - [ -P Classes/ShouldDeepClone ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#should-deep-clone">Online docs</a> ]</p><p>By default, PHP makes a shallow clone. It only clone the scalars, and keep the reference to any object already referenced. This means that the cloned object and its original share any object they hold as property.<br />
<br />
This is where the magic method __clone() comes into play. It is called, when defined, at clone time, so that the cloned object may clone all the needed sub-objects.<br />
<br />
It is recommended to use the __clone() method whenever the objects hold objects. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">b&nbsp;</span><span style="color: #007700">=&nbsp;&nbsp;new&nbsp;</span><span style="color: #0000BB">Stdclass</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">b</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">ab&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__clone</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">b&nbsp;</span><span style="color: #007700">=&nbsp;clone&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">b</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;class&nbsp;A&nbsp;is&nbsp;shallow&nbsp;clone,&nbsp;so&nbsp;$a-&gt;b&nbsp;is&nbsp;not&nbsp;cloned<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">a</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;clone&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">b</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">b</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">c</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;displays&nbsp;3<br /><br />//&nbsp;class&nbsp;Ab&nbsp;is&nbsp;deep&nbsp;clone,&nbsp;so&nbsp;$a-&gt;b&nbsp;is&nbsp;cloned<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ab</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;clone&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">b</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">b</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">c</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;displays&nbsp;1<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://jacob-walker.com/blog/php-clone-and-shallow-vs-deep-copying.html" alt="PHP Clone and Shallow vs Deep Copying">PHP Clone and Shallow vs Deep Copying</a> and <br />
         <a href="http://php.net/manual/en/language.oop5.cloning.php" alt="Cloning objects">Cloning objects</a>.</p>
<h2><a href="issues.html#analyzer=classes_clonewithnonobject" id="classes_clonewithnonobject">Clone With Non-Object</a></h2><p>[Since 1.7.0] - [ -P Classes/CloneWithNonObject ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#clone-with-non-object">Online docs</a> ]</p><p>The  <span style="border: 1px solid #ddd; background-color: #f5f5f5">clone</span>  keyword must be used on variables, properties or results from a function or method call. <br />
<br />
 <span style="border: 1px solid #ddd; background-color: #f5f5f5">clone</span>  cannot be used with constants or literals.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">{&nbsp;}<br /></span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">x</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;Valid&nbsp;clone<br /></span><span style="color: #0000BB">$y&nbsp;</span><span style="color: #007700">=&nbsp;clone&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Invalid&nbsp;clone<br /></span><span style="color: #0000BB">$y&nbsp;</span><span style="color: #007700">=&nbsp;clone&nbsp;</span><span style="color: #0000BB">x</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
Cloning a non-object lint but won't execute.<br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.cloning.php" alt="Object cloning">Object cloning</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_checkoncallusage" id="classes_checkoncallusage">Check On __Call Usage</a></h2><p>[Since 1.7.2] - [ -P Classes/CheckOnCallUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#check-on-__call-usage">Online docs</a> ]</p><p>When using the magic methods __call() and __staticcall(), make sure the method exists before calling it. <br />
<br />
If the method doesn't exists, then the same method will be called again, leading to the same failure. Finally, it will crash PHP.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">safeCall&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__class</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$args</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;unsafe&nbsp;call,&nbsp;no&nbsp;checks<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">method_exists</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">$name</span><span style="color: #007700">(...</span><span style="color: #0000BB">$args</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">unsafeCall&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__class</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$args</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;unsafe&nbsp;call,&nbsp;no&nbsp;checks<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">$name</span><span style="color: #007700">(...</span><span style="color: #0000BB">$args</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.overloading.php#object.call" alt="Method overloading">Method overloading</a>  and <br />
        <a href="https://www.garfieldtech.com/index.php/blog/magical-php-call" alt="`Magical PHP: __call">`Magical PHP: __call</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_overiddenfunction" id="php_overiddenfunction">PHP Overridden Function</a></h2><p>[Since 1.7.6] - [ -P Php/OveriddenFunction ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php-overridden-function">Online docs</a> ]</p><p>It is possible to declare and use PHP native function in a namespace. <br />
<br />
Within the declaration namespace, it is easy to confuse the local version and the global version, unless the function has been prefixed with  <span style="border: 1px solid #ddd; background-color: #f5f5f5">\</span> .<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;function&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">\</span><span style="color: #0000BB">dirname&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">split</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{&nbsp;return&nbsp;</span><span style="color: #0000BB">__FUNCTION__</span><span style="color: #007700">;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #DD0000">'/a/b/c'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">split</span><span style="color: #007700">(</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;\</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #DD0000">'/a/b/c'</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
When a piece of code use overridden function, any newcomer may be confused by the usage of classic PHP native function in surprising situations. <br />
<br />
It is recommended to avoid redeclare PHP native function in namespaces.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=exceptions_catche" id="exceptions_catche">Caught Variable</a></h2><p>[Since 1.7.6] - [ -P Exceptions/CatchE ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#caught-variable">Online docs</a> ]</p><p></p>
<h2><a href="issues.html#analyzer=structures_multipleunset" id="structures_multipleunset">Multiple Unset()</a></h2><p>[Since 1.7.6] - [ -P Structures/MultipleUnset ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#multiple-unset--">Online docs</a> ]</p><p>Unset() accepts multiple arguments, unsetting them one after each other. It is more efficient to call <a href="https://www.php.net/unset" alt="unset()">unset()</a> once, than multiple times.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;One&nbsp;call&nbsp;to&nbsp;unset&nbsp;only<br /></span><span style="color: #007700">unset(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$d</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Too&nbsp;many&nbsp;calls&nbsp;to&nbsp;unset<br /></span><span style="color: #007700">unset(</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br />unset(</span><span style="color: #0000BB">$b</span><span style="color: #007700">);<br />unset(</span><span style="color: #0000BB">$c</span><span style="color: #007700">);<br />unset(</span><span style="color: #0000BB">$d</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/unset" alt="unset">unset</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_implodeonearg" id="php_implodeonearg">Implode One Arg</a></h2><p>[Since 1.7.7] - [ -P Php/ImplodeOneArg ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#implode-one-arg">Online docs</a> ]</p><p><a href="https://www.php.net/implode" alt="implode()">implode()</a> may be called with one arg. It is recommended to avoid it. <br />
<br />
Using two arguments makes it less surprising to new comers, and consistent with <a href="https://www.php.net/explode" alt="explode()">explode()</a> syntax. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">range</span><span style="color: #007700">(</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'c'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;empty&nbsp;string&nbsp;is&nbsp;the&nbsp;glue<br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;only&nbsp;the&nbsp;array&nbsp;:&nbsp;PHP&nbsp;uses&nbsp;the&nbsp;empty&nbsp;string&nbsp;as&nbsp;glue.&nbsp;<br />//&nbsp;Avoid&nbsp;this<br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/implode" alt="implode">implode</a>.<br />
</p>
<h2><a href="issues.html#analyzer=security_integerconversion" id="security_integerconversion">Integer Conversion</a></h2><p>[Since 1.7.7] - [ -P Security/IntegerConversion ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#integer-conversion">Online docs</a> ]</p><p>Comparing incoming variables to integer may lead to injection.<br />
<br />
When comparing a variable to an integer, PHP applies type juggling, and transform the variable in an integer too. When the value converts smoothly to an integer, this means the validation may pass and yet, the value may carry an injection.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;safer<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'x'</span><span style="color: #007700">]&nbsp;===&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'x'</span><span style="color: #007700">];<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Using&nbsp;(int)&nbsp;for&nbsp;validation&nbsp;and&nbsp;display<br /></span><span style="color: #007700">if&nbsp;((int)&nbsp;</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'x'</span><span style="color: #007700">]&nbsp;===&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;(int)&nbsp;</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'x'</span><span style="color: #007700">];<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;an&nbsp;injection<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'x'</span><span style="color: #007700">]&nbsp;==&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'x'</span><span style="color: #007700">];<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;unsafe,&nbsp;as&nbsp;$_GET['x']&nbsp;&nbsp;is&nbsp;tester&nbsp;as&nbsp;an&nbsp;integer,&nbsp;but&nbsp;echo'ed&nbsp;raw<br /></span><span style="color: #007700">if&nbsp;((int)&nbsp;</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'x'</span><span style="color: #007700">]&nbsp;===&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'x'</span><span style="color: #007700">];<br />}<br /></span>?&gt;</pre><br />
<br />
This analysis spots situations where an incoming value is compared to an integer. The usage of the validated value is not considered.<br />
<br />
See also <a href="https://www.netsparker.com/blog/web-security/type-juggling-authentication-bypass-cms-made-simple/" alt="Type Juggling Authentication Bypass Vulnerability in CMS Made Simple">Type Juggling Authentication Bypass Vulnerability in CMS Made Simple</a>,<br />
         <a href="https://hydrasky.com/network-security/php-string-comparison-vulnerabilities/" alt="PHP STRING COMPARISON VULNERABILITIES">PHP STRING COMPARISON VULNERABILITIES</a> and <br />
         <a href="https://www.owasp.org/images/6/6b/PHPMagicTricks-TypeJuggling.pdf" alt="PHP Magic Tricks: Type Juggling">PHP Magic Tricks: Type Juggling</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extsvm" id="extensions_extsvm">ext/svm</a></h2><p>[Since 1.7.8] - [ -P Extensions/Extsvm ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-svm">Online docs</a> ]</p><p>Extension  <span style="border: 1px solid #ddd; background-color: #f5f5f5">SVM</span> .<br />
<br />
 <span style="border: 1px solid #ddd; background-color: #f5f5f5">SVM</span>  is in interface with the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">libsvm</span> , from .  <span style="border: 1px solid #ddd; background-color: #f5f5f5">libsvm</span> is a library for Support Vector Machines, a classification tool for machine learning.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$data&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">0.43</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">0.12</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">9284&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">0.2</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">0.22</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">5&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">0.01</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">94&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">0.11</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;);<br />&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$svm&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SVM</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$model&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$svm</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">train</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$data&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">0.43</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">0.12</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">9284&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">0.2</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$model</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">predict</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$model</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">save</span><span style="color: #007700">(</span><span style="color: #DD0000">'model.svm'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/svm" alt="SVM">SVM</a>, <br />
         <a href="https://www.csie.ntu.edu.tw/~cjlin/libsvm/" alt="LIBSVM -- A Library for Support Vector Machines">LIBSVM -- A Library for Support Vector Machines</a>,<br />
        <a href="https://pecl.php.net/package/svm" alt="ext/apcu">ext/apcu</a> and <br />
        <a href="https://github.com/ianbarber/php-svm" alt="ianbarber/php-svm">ianbarber/php-svm</a>.<br />
</p>
<h2><a href="issues.html#analyzer=functions_uselessdefault" id="functions_uselessdefault">Useless Default Argument</a></h2><p>[Since 1.7.9] - [ -P Functions/UselessDefault ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#useless-default-argument">Online docs</a> ]</p><p>One of the argument has a default value, and this default value is never used. Every time the method is called, the argument is provided explicitly, rendering the default value actually useless.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">goo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">)&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;do&nbsp;something&nbsp;here<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;foo&nbsp;is&nbsp;called&nbsp;3&nbsp;times,&nbsp;and&nbsp;sometimes,&nbsp;$b&nbsp;is&nbsp;not&nbsp;provided.&nbsp;<br /></span><span style="color: #0000BB">goo</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">goo</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">goo</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /><br /><br />function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">)&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;do&nbsp;something&nbsp;here<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;foo&nbsp;is&nbsp;called&nbsp;3&nbsp;times,&nbsp;and&nbsp;$b&nbsp;is&nbsp;always&nbsp;provided.&nbsp;<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=classes_avoidoptionarrays" id="classes_avoidoptionarrays">Avoid option arrays in constructors</a></h2><p>[Since 1.7.9] - [ -P Classes/AvoidOptionArrays ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#avoid-option-arrays-in-constructors">Online docs</a> ]</p><p>Avoid option arrays in constructors. Use one parameter per injected element.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Distinct&nbsp;arguments,&nbsp;all&nbsp;typehinted&nbsp;if&nbsp;possible<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">__constructor</span><span style="color: #007700">(</span><span style="color: #0000BB">A&nbsp;$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">B&nbsp;$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">C&nbsp;$c</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">D&nbsp;$d</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">d&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$d</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">Bar&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;One&nbsp;argument,&nbsp;spread&nbsp;over&nbsp;several&nbsp;properties<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">__constructor</span><span style="color: #007700">(array&nbsp;</span><span style="color: #0000BB">$options</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #DD0000">'a'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #DD0000">'b'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #DD0000">'c'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">d&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #DD0000">'d'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://bestpractices.thecodingmachine.com/php/design_beautiful_classes_and_methods.html#avoid-option-arrays-in-constructors" alt="Avoid option arrays in constructors">Avoid option arrays in constructors</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extffi" id="extensions_extffi">ext/ffi</a></h2><p>[Since 1.7.9] - [ -P Extensions/Extffi ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-ffi">Online docs</a> ]</p><p>Extension  <span style="border: 1px solid #ddd; background-color: #f5f5f5">FFI</span>  : Foreign Function Interface .<br />
<br />
This extension allows the loading of shared libraries (.DLL or .so), calling of C functions and accessing of C data structures in pure PHP, without having to have deep knowledge of the Zend extension API, and without having to learn a third intermediate language. The public API is implemented as a single class FFI with several static methods (some of them may be called dynamically), and overloaded object methods, which perform the actual interaction with C data.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//Example&nbsp;:&nbsp;Calling&nbsp;a&nbsp;function&nbsp;from&nbsp;shared&nbsp;library<br />//&nbsp;create&nbsp;FFI&nbsp;object,&nbsp;loading&nbsp;libc&nbsp;and&nbsp;exporting&nbsp;function&nbsp;`printf()&nbsp;&lt;https://www.php.net/printf&gt;`_<br /></span><span style="color: #0000BB">$ffi&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">FFI</span><span style="color: #007700">::</span><span style="color: #0000BB">cdef</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"int&nbsp;printf(const&nbsp;char&nbsp;*format,&nbsp;...);"</span><span style="color: #007700">,&nbsp;</span><span style="color: #FF8000">//&nbsp;this&nbsp;is&nbsp;a&nbsp;regular&nbsp;C&nbsp;declaration<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"libc.so.6"</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;call&nbsp;C's&nbsp;`printf()&nbsp;&lt;https://www.php.net/printf&gt;`_<br /></span><span style="color: #0000BB">$ffi</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Hello&nbsp;%s!\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"world"</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.php.net/manual/en/book.ffi.php" alt="Foreign Function Interface">Foreign Function Interface</a>, and <br />
        <a href="https://github.com/dstogov/php-ffi" alt="ext/ffi">ext/ffi</a> and <br />
        <a href="https://blog.ircmaxell.com/2019/04/compilers-ffi.html" alt="A PHP Compiler, aka The FFI Rabbit Hole">A PHP Compiler, aka The FFI Rabbit Hole</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extpassword" id="extensions_extpassword">ext/password</a></h2><p>[Since 0.8.4] - [ -P Extensions/Extpassword ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-password">Online docs</a> ]</p><p>Extension password.<br />
<br />
The password hashing API provides an easy to use wrapper around <a href="https://www.php.net/crypt" alt="crypt()">crypt()</a> and some other password hashing algorithms, to make it easy to create and manage passwords in a secure manner.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;See&nbsp;the&nbsp;`password_hash()&nbsp;&lt;https://www.php.net/password_hash&gt;`_&nbsp;example&nbsp;to&nbsp;see&nbsp;where&nbsp;this&nbsp;came&nbsp;from.<br /></span><span style="color: #0000BB">$hash&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'$2y$07$BCryptRequires22Chrcte/VlQH0piJtjXl.0t1XkA8pw9dMXTpOq'</span><span style="color: #007700">;<br /><br />if&nbsp;(</span><span style="color: #0000BB">password_verify</span><span style="color: #007700">(</span><span style="color: #DD0000">'rasmuslerdorf'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$hash</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Password&nbsp;is&nbsp;valid!'</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Invalid&nbsp;password.'</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/book.password.php" alt="Password Hashing">Password Hashing</a> and <br />
         <a href="http://man7.org/linux/man-pages/man3/crypt.3.html" alt="crypt">crypt</a>.</p>
<h2><a href="issues.html#analyzer=extensions_extzendmonitor" id="extensions_extzendmonitor">ext/zend_monitor</a></h2><p>[Since 1.7.9] - [ -P Extensions/Extzendmonitor ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-zend_monitor">Online docs</a> ]</p><p>Extension  <span style="border: 1px solid #ddd; background-color: #f5f5f5">zend_monitor</span> . <br />
<br />
See also <a href="http://files.zend.com/help/Zend-Server/content/zendserverapi/zend_monitor-php_api.htm" alt="Zend Monitor - PHP API">Zend Monitor - PHP API</a>.<br />
</p>
<h2><a href="issues.html#analyzer=extensions_extuuid" id="extensions_extuuid">ext/uuid</a></h2><p>[Since 1.7.9] - [ -P Extensions/Extuuid ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#ext-uuid">Online docs</a> ]</p><p>Extension  <span style="border: 1px solid #ddd; background-color: #f5f5f5">UUID</span> . A universally unique identifier (UUID) is a 128-bit number used to identify information in computer systems.<br />
<br />
An interface to the libuuid system library. The libuuid library is used to generate unique identifiers for objects that may be accessible beyond the local system. The Linux implementation was created to uniquely identify ext2 filesystems created by a machine. This library generates UUIDs compatible with those created by the Open Software Foundation (OSF) Distributed Computing Environment (DCE) utility uuidgen.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;example&nbsp;from&nbsp;the&nbsp;test&nbsp;suitee&nbsp;of&nbsp;the&nbsp;extension.<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;check&nbsp;basic&nbsp;format&nbsp;of&nbsp;generated&nbsp;UUIDs<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$uuid&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">uuid_create</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">"/[[:xdigit:]]{8}-[[:xdigit:]]{4}-[[:xdigit:]]{4}-[[:xdigit:]]{4}-[[:xdigit:]]{12}/"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$uuid</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"basic&nbsp;format&nbsp;ok\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"basic&nbsp;UUID&nbsp;format&nbsp;check&nbsp;failed,&nbsp;generated&nbsp;UUID&nbsp;was&nbsp;</span><span style="color: #0000BB">$uuid</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://linux.die.net/man/3/libuuid" alt="libuuid">libuuid</a> and <br />
        <a href="https://github.com/php/pecl-networking-uuid" alt="ext/uuid">ext/uuid</a>.<br />
</p>
<h2><a href="issues.html#analyzer=traits_alreadyparentstrait" id="traits_alreadyparentstrait">Already Parents Trait</a></h2><p>[Since 1.8.0] - [ -P Traits/AlreadyParentsTrait ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#already-parents-trait">Online docs</a> ]</p><p>Trait is already used a parent's class or trait. There is no use to include it a second time.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">trait&nbsp;</span><span style="color: #0000BB">ta&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">tb</span><span style="color: #007700">;<br />}<br /><br />trait&nbsp;</span><span style="color: #0000BB">t1&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">ta</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">tb</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;also&nbsp;used&nbsp;by&nbsp;ta<br /></span><span style="color: #007700">}<br /><br />class&nbsp;</span><span style="color: #0000BB">b&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">t1</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;also&nbsp;required&nbsp;by&nbsp;class&nbsp;c<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">ta</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;also&nbsp;required&nbsp;by&nbsp;trait&nbsp;t1<br /></span><span style="color: #007700">}<br /><br />class&nbsp;</span><span style="color: #0000BB">c&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">b&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">t1</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.traits.php" alt="Traits">Traits</a>.<br />
</p>
<h2><a href="issues.html#analyzer=traits_traitnotfound" id="traits_traitnotfound">Trait Not Found</a></h2><p>[Since 1.7.9] - [ -P Traits/TraitNotFound ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#trait-not-found">Online docs</a> ]</p><p>A unknown trait is mentioned in the use expression. <br />
<br />
The used traits all exist, but in the configuration block, some un-mentioned trait is called.<br />
<br />
Be aware that the traits used in any configuration block may originate in any use expression. PHP will check the configuration block at instanciation only, and after compiling : at that moment, it will know all the used traits across the class.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">x&nbsp;&nbsp;</span><span style="color: #007700">{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;c&nbsp;is&nbsp;not&nbsp;a&nbsp;used&nbsp;trait<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">b&nbsp;</span><span style="color: #007700">{&nbsp;</span><span style="color: #0000BB">c</span><span style="color: #007700">::</span><span style="color: #0000BB">d&nbsp;</span><span style="color: #007700">insteadof&nbsp;</span><span style="color: #0000BB">e</span><span style="color: #007700">;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;e&nbsp;is&nbsp;a&nbsp;used&nbsp;trait,&nbsp;even&nbsp;if&nbsp;is&nbsp;not&nbsp;in&nbsp;the&nbsp;use&nbsp;above.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">e</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.traits.php" alt="Traits">Traits</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_castingternary" id="structures_castingternary">Casting Ternary</a></h2><p>[Since 1.8.0] - [ -P Structures/CastingTernary ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#casting-ternary">Online docs</a> ]</p><p>Type casting has a precedence over ternary operator, and is applied first. When this happens, the condition is cast, although it is often useless as PHP will do it if needed.<br />
<br />
This applies to the ternary operator, the coalesce operator ?: and the null-coalesce operator ??.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;(string)&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #0000BB">3&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;(string)&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">?:&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;(string)&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">??&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
The last example generates first an error `Undefined variable: b`, since $b is first cast to a string. The result is then an empty string, which leads to an empty string to be stored into $a. Multiple errors cascade.<br />
<br />
See also <a href="http://php.net/manual/en/language.operators.precedence.php" alt="Operators Precedence">Operators Precedence</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_concatempty" id="structures_concatempty">Concat Empty String</a></h2><p>[Since 1.8.0] - [ -P Structures/ConcatEmpty ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#concat-empty-string">Online docs</a> ]</p><p>Using a concatenation to make a value a string should be replaced with a type cast.<br />
<br />
Type cast to a string is done with  <span style="border: 1px solid #ddd; background-color: #f5f5f5">(string)</span>  operator. There is also the function <a href="https://www.php.net/strval" alt="strval()">strval()</a>, although it is less recommended.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;explicite&nbsp;way&nbsp;to&nbsp;cast&nbsp;a&nbsp;value<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;(string)&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;$b&nbsp;is&nbsp;a&nbsp;string&nbsp;with&nbsp;the&nbsp;content&nbsp;3<br /><br />//&nbsp;Wrong&nbsp;way&nbsp;to&nbsp;cast&nbsp;a&nbsp;value<br /></span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;$c&nbsp;is&nbsp;a&nbsp;string&nbsp;with&nbsp;the&nbsp;content&nbsp;3<br /></span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">''&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;$c&nbsp;is&nbsp;a&nbsp;string&nbsp;with&nbsp;the&nbsp;content&nbsp;3<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$a&nbsp;is&nbsp;a&nbsp;string&nbsp;with&nbsp;the&nbsp;content&nbsp;3<br /><br />//&nbsp;Wrong&nbsp;way&nbsp;to&nbsp;cast&nbsp;a&nbsp;value<br /></span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">''&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;not&nbsp;reported.&nbsp;The&nbsp;empty&nbsp;string&nbsp;is&nbsp;useless,&nbsp;but&nbsp;not&nbsp;meant&nbsp;to&nbsp;type&nbsp;cast<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://php.net/manual/en/language.types.type-juggling.php#language.types.typecasting" alt="Type Casting">Type Casting</a> and <br />
        <a href="https://developer.hyvor.com/tutorials/php/type-casting" alt="PHP Type Casting">PHP Type Casting</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_concatandaddition" id="php_concatandaddition">Concat And Addition</a></h2><p>[Since 1.8.0] - [ -P Php/ConcatAndAddition ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#concat-and-addition">Online docs</a> ]</p><p>Precedence between addition and concatenation has changed. In PHP 7.4, addition has precedence, and before, addition and concatenation had the same precedence.<br />
<br />
From the RFC :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Currently the precedence of '.', '+' and '-' operators are equal. Any combination of these operators are simply evaluated left-to-right</span> .<br />
<br />
This is counter-intuitive though: you rarely want to add or subtract concatenated strings which in general are not numbers. However, given PHP's capability of seamlessly converting an integer to a string, concatenation of these values is desired. <span style="border: 1px solid #ddd; background-color: #f5f5f5"><br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Extracted&nbsp;from&nbsp;the&nbsp;RFC<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">sum</span><span style="color: #007700">:&nbsp;.&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br />&nbsp;<br /></span><span style="color: #FF8000">//&nbsp;current&nbsp;behavior:&nbsp;evaluated&nbsp;left-to-right<br /></span><span style="color: #007700">echo&nbsp;(</span><span style="color: #0000BB">sum</span><span style="color: #007700">:&nbsp;.&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;+&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br />&nbsp;<br /></span><span style="color: #FF8000">//&nbsp;desired&nbsp;behavior:&nbsp;addition&nbsp;and&nbsp;subtraction&nbsp;have&nbsp;a&nbsp;higher&nbsp;precendence<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">sum&nbsp;</span><span style="color: #007700">:&nbsp;.&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
This analysis reports any addition and concatenation that are mixed, without parenthesis. Addition also means substraction here, aka using `+` or `-`.<br />
<br />
The same applies to bitshift operations, </span> << <span style="border: 1px solid #ddd; background-color: #f5f5f5"> and </span> >>``. There is no RFC for this change.<br />
<br />
See also <a href="https://wiki.php.net/rfc/concatenation_precedence" alt="Change the precedence of the concatenation operator">Change the precedence of the concatenation operator</a>.<br />
</p>
<h2><a href="issues.html#analyzer=functions_uselessargument" id="functions_uselessargument">Useless Argument</a></h2><p>[Since 1.8.0] - [ -P Functions/UselessArgument ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#useless-argument">Online docs</a> ]</p><p>The argument is always used with the same value. This value could be hard coded in the method, and save one argument slot.<br />
<br />
There is no indication that this argument will be used with other values. It may be a development artifact, that survived without cleaning.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;All&nbsp;foo2&nbsp;arguments&nbsp;are&nbsp;used&nbsp;with&nbsp;different&nbsp;values<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo2</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{}<br /></span><span style="color: #0000BB">foo2</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">foo2</span><span style="color: #007700">(</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">foo2</span><span style="color: #007700">(</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;The&nbsp;second&nbsp;argument&nbsp;of&nbsp;foo&nbsp;is&nbsp;always&nbsp;used&nbsp;with&nbsp;2<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{}<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
Methods with less than 3 calls are not considered here, to avoid reporting methods used once.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_php74newfunctions" id="php_php74newfunctions">New Functions In PHP 7.4</a></h2><p>[Since 1.8.0] - [ -P Php/Php74NewFunctions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#new-functions-in-php-7.4">Online docs</a> ] - [ PHP  older than 7.3]</p><p>New functions are added to new PHP version.<br />
<br />
The following functions are now native functions in PHP 7.3. It is compulsory to rename any custom function that was created in older versions. One alternative is to move the function to a custom namespace, and update the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">use</span>  list at the beginning of the script. <br />
<br />
<ul>
<li><a href="http://php.net/mb_str_split" alt="mb_str_split">mb_str_split</a></li>
<li><a href="http://php.net/password_algos" alt="password_algos">password_algos</a></li>
</ul>
<br />
Note : At the moment of writing, all links to the manual are not working. <br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_unpackinginsidearrays" id="php_unpackinginsidearrays">Unpacking Inside Arrays</a></h2><p>[Since 1.8.0] - [ -P Php/UnpackingInsideArrays ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unpacking-inside-arrays">Online docs</a> ]</p><p>The variadic operartor is now available inside arrays. Until PHP 7.4, it is not possible to use the variadic operator, or  <span style="border: 1px solid #ddd; background-color: #f5f5f5">...</span>  inside arrays. <br />
<br />
The workaround is to use <a href="https://www.php.net/array_merge" alt="array_merge()">array_merge()</a>, after checking that arrays are not empty.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'c'</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #DD0000">'d'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'e'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'f'</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;PHP&nbsp;7.4&nbsp;<br /></span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;[...</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;...</span><span style="color: #0000BB">$b</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;PHP&nbsp;7.3&nbsp;and&nbsp;older<br /></span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_merge</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://wiki.php.net/rfc/spread_operator_for_array" alt="Spread Operator in Array Expression ">Spread Operator in Array Expression </a> and <br />
         <a href="https://lornajane.net/posts/2014/php-5-6-and-the-splat-operator" alt="PHP 5.6 and the Splat Operator">PHP 5.6 and the Splat Operator</a> .<br />
</p>
<h2><a href="issues.html#analyzer=security_minusoneonerror" id="security_minusoneonerror">Minus One On Error</a></h2><p>[Since 1.8.0] - [ -P Security/MinusOneOnError ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#minus-one-on-error">Online docs</a> ]</p><p>Some PHP native functions return -1 on error. They also return 1 in case of success, and 0 in case of failure. This leads to confusions.<br />
<br />
In case the native function is used as a condition without explicit comparaison, PHP typecase the return value to a boolean. In this case, -1 and 1 are both converted to true, and the condition applies. This means that an error situation is mistaken for a successful event. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Proper&nbsp;check&nbsp;of&nbsp;the&nbsp;return&nbsp;value<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">openssl_verify</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$signature</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$public</span><span style="color: #007700">)&nbsp;===&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">loginAsUser</span><span style="color: #007700">(</span><span style="color: #0000BB">$user</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;if&nbsp;this&nbsp;call&nbsp;fails,&nbsp;it&nbsp;returns&nbsp;-1,&nbsp;and&nbsp;is&nbsp;confused&nbsp;with&nbsp;true<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">openssl_verify</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$signature</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$public</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">loginAsUser</span><span style="color: #007700">(</span><span style="color: #0000BB">$user</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
This analysis searches for if/then structures, ternary operators dans while() / do...while() loops. <br />
<br />
See also <a href="https://twitter.com/ripstech/status/1124325237967994880" alt="Can you spot the vulnerability? (openssl_verify)">Can you spot the vulnerability? (openssl_verify)</a> and <br />
         <a href="https://snyk.io/vuln/SNYK-PHP-SIMPLESAMLPHPSIMPLESAMLPHPMODULEINFOCARD-70167" alt="Incorrect Signature Verification">Incorrect Signature Verification</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_noneedgetclass" id="structures_noneedgetclass">No Need For get_class()</a></h2><p>[Since 1.8.1] - [ -P Structures/NoNeedGetClass ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-need-for-get_class--">Online docs</a> ]</p><p>There is no need to call get_class() to build a static call. The argument of get_class() may be used directly. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">b</span><span style="color: #007700">::</span><span style="color: #0000BB">$c<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;too&nbsp;much&nbsp;code<br /></span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">b</span><span style="color: #007700">)::</span><span style="color: #0000BB">$c</span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.oop5.paamayim-nekudotayim.php" alt="Scope Resolution Operator (::)">Scope Resolution Operator (::)</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_identicalmethods" id="classes_identicalmethods">Identical Methods</a></h2><p>[Since 1.8.2] - [ -P Classes/IdenticalMethods ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#identical-methods">Online docs</a> ]</p><p>When the parent class and the child class have the same method, the child might drop it. This reduces code duplication. <br />
<br />
Duplicate code in methods is often the results of code evolution, where a method was copied with the hierarchy, but the original wasn't removed.<br />
<br />
This doesn't apply to `private` methods, which are reserved for one class.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">rand</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">b&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">rand</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_noappendonsource" id="structures_noappendonsource">No Append On Source</a></h2><p>[Since 1.8.2] - [ -P Structures/NoAppendOnSource ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-append-on-source">Online docs</a> ]</p><p>Do not append new elements to an array in a foreach loop. Since PHP 7.0, the array is still used as a source, and will be augmented, and used again. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Relying&nbsp;on&nbsp;the&nbsp;initial&nbsp;copy<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">$initial&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />foreach(</span><span style="color: #0000BB">$initial&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$v</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">$v&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Keep&nbsp;new&nbsp;results&nbsp;aside<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">$tmp&nbsp;</span><span style="color: #007700">=&nbsp;[];<br />foreach(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$v</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$tmp</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">$v&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_merge</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$tmp</span><span style="color: #007700">);<br />unset(</span><span style="color: #0000BB">$tmp</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Example,&nbsp;courtesy&nbsp;of&nbsp;Frederic&nbsp;Bouchery<br />//&nbsp;This&nbsp;is&nbsp;an&nbsp;infinite&nbsp;loop<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br />foreach(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$v</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">$v&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
Thanks to <a href="https://twitter.com/FredBouchery/" alt="Frederic Bouchery">Frederic Bouchery</a> for the reminder.<br />
<br />
See also <a href="http://php.net/manual/en/control-structures.foreach.php" alt="foreach">foreach</a> and <br />
         <a href="https://twitter.com/FredBouchery/status/1135480412703211520" alt="What will this code return? #PHP">What will this code return? #PHP</a>.<br />
</p>
<h2><a href="issues.html#analyzer=performances_autoappend" id="performances_autoappend">Autoappend</a></h2><p>[Since 1.8.3] - [ -P Performances/Autoappend ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#autoappend">Online docs</a> ]</p><p>Appending a variable to itself leads to enormous usage of memory.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Always&nbsp;append&nbsp;a&nbsp;value&nbsp;to&nbsp;a&nbsp;distinct&nbsp;variable<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;copies&nbsp;the&nbsp;array&nbsp;to&nbsp;itself,&nbsp;and&nbsp;double&nbsp;the&nbsp;size&nbsp;each&nbsp;loop<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=performances_memoizemagiccall" id="performances_memoizemagiccall">Memoize MagicCall</a></h2><p>[Since 1.8.3] - [ -P Performances/MemoizeMagicCall ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#memoize-magiccall">Online docs</a> ]</p><p>Cache calls to magic methods in local variable. Local cache is faster than calling again the magic method as soon as the second call, provided that the value hasn't changed.<br />
<br />
 <span style="border: 1px solid #ddd; background-color: #f5f5f5">__get</span>  is slower, as it turns a simple member access into a full method call. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$values&nbsp;</span><span style="color: #007700">=&nbsp;array();<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__get</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">values</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;more&nbsp;code&nbsp;to&nbsp;set&nbsp;values&nbsp;to&nbsp;this&nbsp;class<br /></span><span style="color: #007700">}<br /><br />function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">x&nbsp;$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a</span><span style="color: #007700">;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">c</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;using&nbsp;local&nbsp;cache,&nbsp;no&nbsp;new&nbsp;access&nbsp;to&nbsp;$b-&gt;__get($name)<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$e&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a</span><span style="color: #007700">;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Second&nbsp;access&nbsp;to&nbsp;$b-&gt;a,&nbsp;through&nbsp;__get<br /></span><span style="color: #007700">}<br /><br />function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">x&nbsp;$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a</span><span style="color: #007700">;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">c</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bar2</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//&nbsp;this&nbsp;changes&nbsp;$b-&gt;a&nbsp;and&nbsp;$b-&gt;c,&nbsp;but&nbsp;we&nbsp;don't&nbsp;see&nbsp;it<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">c</span><span style="color: #007700">;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$e&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a</span><span style="color: #007700">;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Second&nbsp;access&nbsp;to&nbsp;$b-&gt;a,&nbsp;through&nbsp;__get<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
The caching is not possible if the processing of the object changes the value of the property. <br />
<br />
See also <a href="https://stackoverflow.com/questions/3330852/get-set-call-performance-questions-with-php" alt="__get performance questions with PHP">__get performance questions with PHP</a>,<br />
         Classes/MakeMagicConcrete and <br />
         <a href="https://www.garfieldtech.com/blog/benchmarking-magic" alt="Benchmarking magic">Benchmarking magic</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_makemagicconcrete" id="classes_makemagicconcrete">Make Magic Concrete</a></h2><p>[Since 1.8.3] - [ -P Classes/MakeMagicConcrete ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#make-magic-concrete">Online docs</a> ]</p><p>Speed up execution by replacing magic calls by concrete properties. <br />
<br />
Magic properties are managed dynamically, with  <span style="border: 1px solid #ddd; background-color: #f5f5f5">__get</span> and  <span style="border: 1px solid #ddd; background-color: #f5f5f5">__set</span> . They replace property access by a methodcall, and they are much slower than the first. <br />
<br />
When a property name is getting used more often, it is worth creating a concrete property, and skip the method call. The threshold for 'magicMemberUsage' is 1, by default. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$values&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'a'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'b'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__get</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">values</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]&nbsp;??&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">x</span><span style="color: #007700">();<br /></span><span style="color: #FF8000">//&nbsp;Access&nbsp;to&nbsp;'a'&nbsp;is&nbsp;repeated&nbsp;in&nbsp;the&nbsp;code,&nbsp;at&nbsp;least&nbsp;'magicMemberUsage'&nbsp;time&nbsp;(cf&nbsp;configuration&nbsp;below)<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also Performances/MemoizeMagicCall. <br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_substrtotrim" id="structures_substrtotrim">Substr To Trim</a></h2><p>[Since 1.8.3] - [ -P Structures/SubstrToTrim ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#substr-to-trim">Online docs</a> ]</p><p>When removing the first or the last character of a string, <a href="https://www.php.net/trim" alt="trim()">trim()</a> does a more readable job. <br />
<br />
<a href="https://www.php.net/trim" alt="trim()">trim()</a>, <a href="https://www.php.net/ltrim" alt="ltrim()">ltrim()</a> and <a href="https://www.php.net/rtrim" alt="rtrim()">rtrim()</a> accept a string as second argument. Those will all be removed from the endings of the string.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'$drop&nbsp;the&nbsp;dollar'</span><span style="color: #007700">;&nbsp;<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;drop&nbsp;the&nbsp;first&nbsp;char&nbsp;<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ltrim</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'$'</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;remove&nbsp;the&nbsp;initial&nbsp;'$'s<br /><br /><br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;replace&nbsp;with&nbsp;`ltrim()&nbsp;&lt;https://www.php.net/ltrim&gt;`_<br /><br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;replace&nbsp;with&nbsp;`rtrim()&nbsp;&lt;https://www.php.net/rtrim&gt;`_<br /><br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;replace&nbsp;with&nbsp;`trim()&nbsp;&lt;https://www.php.net/trim&gt;`_<br /></span>?&gt;</pre><br />
<br />
<a href="https://www.php.net/trim" alt="trim()">trim()</a> will remove all occurrences of the requested char(). This may remove a loop with substr(), or remove more than is needed. <br />
<br />
<a href="https://www.php.net/trim" alt="trim()">trim()</a> doesn't work with multi-bytes strings, but so does substr(). For that, use <a href="https://www.php.net/mb_substr" alt="mb_substr()">mb_substr()</a>, as there isn't any mb_trim function (yet).<br />
<br />
See also <a href="https://www.php.net/manual/en/function.trim.php" alt="trim">trim</a>, <a href="https://www.php.net/manual/en/function.ltrim.php" alt="ltrim">ltrim</a>, <a href="https://www.php.net/manual/en/function.rtrim.php" alt="rtrim">rtrim</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=performances_regexonarrays" id="performances_regexonarrays">Regex On Arrays</a></h2><p>[Since 1.8.4] - [ -P Performances/RegexOnArrays ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#regex-on-arrays">Online docs</a> ]</p><p>Avoid using a loop with arrays of regex or values. There are several PHP function which work directly on arrays, and much faster.<br />
<br />
preg_grep() is able to extract all matching strings from an array, or non-matching strings. This usually saves a loop over the strings.<br />
<br />
preg_filter() is able to extract all strings from an array, matching at least one regex in an array. This usually saves a double loop over the strings and the regex. The trick here is to provide '$0' as replacement, leading preg_filter() to replace the found string by itself.<br />
<br />
Finally, <a href="https://www.php.net/preg_replace_callback" alt="preg_replace_callback()">preg_replace_callback()</a> an <a href="https://www.php.net/preg_replace_callback_array" alt="preg_replace_callback_array()">preg_replace_callback_array()</a> are also able to apply an array of regex to an array of strings, and then, apply callbacks to the found values. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$regexs&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #DD0000">'/ab+c/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'/abd+/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'/abe+/'</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">$strings&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #DD0000">'/abbbbc/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'/abd/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'/abeee/'</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;Directly&nbsp;extract&nbsp;all&nbsp;strings&nbsp;that&nbsp;match&nbsp;one&nbsp;regex<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$regexs&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$regex</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$results</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">preg_grep</span><span style="color: #007700">(</span><span style="color: #0000BB">$regex</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$strings</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;extract&nbsp;all&nbsp;matching&nbsp;regex,&nbsp;by&nbsp;string<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$strings&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$results</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">preg_filter</span><span style="color: #007700">(</span><span style="color: #0000BB">$regexs</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">array_fill</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$regexs</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">'$0'</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;very&nbsp;slow&nbsp;way&nbsp;to&nbsp;get&nbsp;all&nbsp;the&nbsp;strings&nbsp;that&nbsp;match&nbsp;a&nbsp;regex<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$regexs&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$regex</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach(</span><span style="color: #0000BB">$strings&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #0000BB">$regex</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$results</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://php.net/preg_filter" alt="preg_filter">preg_filter</a>. </p>
<h2><a href="issues.html#analyzer=performances_php74arraykeyexists" id="performances_php74arraykeyexists">Always Use Function With array_key_exists()</a></h2><p>[Since 1.8.4] - [ -P Performances/Php74ArrayKeyExists ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#always-use-function-with-array_key_exists--">Online docs</a> ]</p><p><a href="https://www.php.net/array_key_exists" alt="array_key_exists()">array_key_exists()</a> has been granted a special VM opcode, and is much faster. This applies to PHP 7.4 and more recent. <br />
<br />
It requires that <a href="https://www.php.net/array_key_exists" alt="array_key_exists()">array_key_exists()</a> is statically resolved, either with an initial  <span style="border: 1px solid #ddd; background-color: #f5f5f5">\</span> , or a  <span style="border: 1px solid #ddd; background-color: #f5f5f5">use function</span>  expression. This doesn't affect the global namespace.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">my</span><span style="color: #007700">/</span><span style="color: #0000BB">name</span><span style="color: #007700">/</span><span style="color: #0000BB">space</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;do&nbsp;not&nbsp;forget&nbsp;the&nbsp;'function'&nbsp;keyword,&nbsp;or&nbsp;it&nbsp;will&nbsp;apply&nbsp;to&nbsp;classes.<br /></span><span style="color: #007700">use&nbsp;function&nbsp;</span><span style="color: #0000BB">array_key_exists&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;the&nbsp;alias&nbsp;is&nbsp;not&nbsp;necessary,&nbsp;and&nbsp;may&nbsp;be&nbsp;omitted.<br /><br />//&nbsp;array_key_exists&nbsp;is&nbsp;aliased&nbsp;to&nbsp;foo&nbsp;:&nbsp;<br /></span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;call&nbsp;requires&nbsp;a&nbsp;fallback&nbsp;to&nbsp;global,&nbsp;and&nbsp;will&nbsp;be&nbsp;slow.<br /></span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_key_exists</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
This analysis is related to Php/ShouldUseFunction, and is a special case, that only concerns <a href="https://www.php.net/array_key_exists" alt="array_key_exists()">array_key_exists()</a>.<br />
<br />
See also <a href="https://bugs.php.net/bug.php?id=76148" alt="Add array_key_exists to the list of specialy compiled functions">Add array_key_exists to the list of specialy compiled functions</a>.</p>
<h2><a href="issues.html#analyzer=variables_complexdynamicnames" id="variables_complexdynamicnames">Complex Dynamic Names</a></h2><p>[Since 1.8.4] - [ -P Variables/ComplexDynamicNames ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#complex-dynamic-names">Online docs</a> ]</p><p>Avoid using expressions as names for variables or methods. <br />
<br />
There are no place for checks or flow control, leading to any rogue value to be used as is. Besides, the expression is often overlooke, and not expected there : this makes the code less readable.<br />
<br />
It is recommended to buildd the name in a separate variable, apply the usual checks for existence and validity, and then use the name.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;Code&nbsp;is&nbsp;more&nbsp;readable<br /></span><span style="color: #0000BB">$name&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">strolower</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br />if&nbsp;(!</span><span style="color: #0000BB">property_exists</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;</span><span style="color: #0000BB">missingPropertyexception</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">);<br />}<br />echo&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">$name</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;not&nbsp;check<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;{</span><span style="color: #0000BB">strtolower</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">)};<br /></span>?&gt;</pre><br />
<br />
This analysis only accept simple containers, such as variables, properties. <br />
<br />
See also <a href="https://drupalize.me/blog/201508/dynamically-access-php-object-properties" alt="Dynamically Access PHP Object Properties with $this">Dynamically Access PHP Object Properties with $this</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_curlversionnow" id="structures_curlversionnow">curl_version() Has No Argument</a></h2><p>[Since 1.8.4] - [ -P Structures/CurlVersionNow ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#curl_version---has-no-argument">Online docs</a> ]</p><p>curl_version() used to accept CURLVERSION_NOW as argument. Since PHP 7.4, it is a function without arguments.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Compatible&nbsp;syntax<br /></span><span style="color: #0000BB">$details&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">curl_version</span><span style="color: #007700">(</span><span style="color: #0000BB">CURLVERSION_NOW</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;New&nbsp;PHP&nbsp;7.4&nbsp;syntax<br /></span><span style="color: #0000BB">$details&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">curl_version</span><span style="color: #007700">();<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.php.net/manual/en/function.curl-version.php" alt="curl_version">curl_version</a>.</p>
<h2><a href="issues.html#analyzer=php_php74newclasses" id="php_php74newclasses">Php 7.4 New Class</a></h2><p>[Since 1.0.4] - [ -P Php/Php74NewClasses ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php-7.4-new-class">Online docs</a> ] - [ PHP  older than 7.2]</p><p>New classes, introduced in PHP 7.4. If classes where created with the same name, in current code, they have to be moved in a namespace, or removed from code to migrate safely to PHP 7.4.<br />
<br />
The new classes are : <br />
<br />
+  <span style="border: 1px solid #ddd; background-color: #f5f5f5">ReflectionReference</span> <br />
+  <span style="border: 1px solid #ddd; background-color: #f5f5f5">WeakReference</span> <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Global&nbsp;namespace<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">WeakReference&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Move&nbsp;to&nbsp;a&nbsp;namespace<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;or,&nbsp;remove&nbsp;this&nbsp;class<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /><br />namespace&nbsp;</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;class&nbsp;</span><span style="color: #0000BB">WeakReference&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;OK&nbsp;:&nbsp;in&nbsp;a&nbsp;namespace<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_php74newconstants" id="php_php74newconstants">New Constants In PHP 7.4</a></h2><p>[Since 1.8.4] - [ -P Php/Php74NewConstants ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#new-constants-in-php-7.4">Online docs</a> ] - [ PHP  older than 7.4]</p><p>The following constants are now native in PHP 7.4. It is advised to avoid using such names for constant before moving to this new version.<br />
<br />
<ul>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">MB_ONIGURUMA_VERSION</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">SO_LABEL</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">SO_PEERLABEL</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">SO_LISTENQLIMIT</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">SO_LISTENQLEN</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">SO_USER_COOKIE</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">PHP_WINDOWS_EVENT_CTRL_C</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">PHP_WINDOWS_EVENT_CTRL_BREAK</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">TIDY_TAG_ARTICLE</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">TIDY_TAG_ASIDE</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">TIDY_TAG_AUDIO</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">TIDY_TAG_BDI</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">TIDY_TAG_CANVAS</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">TIDY_TAG_COMMAND</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">TIDY_TAG_DATALIST</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">TIDY_TAG_DETAILS</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">TIDY_TAG_DIALOG</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">TIDY_TAG_FIGCAPTION</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">TIDY_TAG_FIGURE</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">TIDY_TAG_FOOTER</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">TIDY_TAG_HEADER</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">TIDY_TAG_HGROUP</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">TIDY_TAG_MAIN</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">TIDY_TAG_MARK</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">TIDY_TAG_MENUITEM</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">TIDY_TAG_METER</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">TIDY_TAG_NAV</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">TIDY_TAG_OUTPUT</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">TIDY_TAG_PROGRESS</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">TIDY_TAG_SECTION</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">TIDY_TAG_SOURCE</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">TIDY_TAG_SUMMARY</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">TIDY_TAG_TEMPLATE</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">TIDY_TAG_TIME</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">TIDY_TAG_TRACK</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">TIDY_TAG_VIDEO</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">STREAM_CRYPTO_METHOD_TLSv1_3_CLIENT</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">STREAM_CRYPTO_METHOD_TLSv1_3_SERVER</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">STREAM_CRYPTO_PROTO_TLSv1_3</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">T_COALESCE_EQUAL</span> </li>
<li><span style="border: 1px solid #ddd; background-color: #f5f5f5">T_FN</span> </li>
</ul>
<br />
See also <a href="http://php.net/manual/en/migration74.constants.php" alt="New global constants in 7.4">New global constants in 7.4</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_unusedconstant" id="classes_unusedconstant">Unused Class Constant</a></h2><p>[Since 1.8.4] - [ -P Classes/UnusedConstant ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unused-class-constant">Online docs</a> ]</p><p>The class constant is unused. Consider removing it.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;const&nbsp;</span><span style="color: #0000BB">UNUSED&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;No&nbsp;mention&nbsp;in&nbsp;the&nbsp;code<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">private&nbsp;const&nbsp;</span><span style="color: #0000BB">USED&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;used&nbsp;constant<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">USED</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=constants_couldbeconstant" id="constants_couldbeconstant">Could Be Constant</a></h2><p>[Since 1.8.4] - [ -P Constants/CouldBeConstant ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#could-be-constant">Online docs</a> ]</p><p>Literals may be replaced by an existing constant. <br />
<br />
Constants makes the code easier to read, as they may bear a meaningful name. They also hide implementation values, with a readable name, such as  <span style="border: 1px solid #ddd; background-color: #f5f5f5">const READABLE= true;</span> . Later, upgrading constant values is easier than scouring the code with a new literal. <br />
<br />
Not all literal can be replaced by a constant values : sometimes, literal may have the same literal value, but different meanings. Check with your application semantics before changing any literal with a constant.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'abc'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'B'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'ab'</span><span style="color: #007700">);<br /><br />class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">X&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'abcd'</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Could&nbsp;be&nbsp;replaced&nbsp;by&nbsp;B;<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'ab'</span><span style="color: #007700">;&nbsp;<br /><br /></span><span style="color: #FF8000">//&nbsp;Could&nbsp;be&nbsp;replaced&nbsp;by&nbsp;A;<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'abc'</span><span style="color: #007700">;&nbsp;<br /><br /></span><span style="color: #FF8000">//&nbsp;Could&nbsp;be&nbsp;replaced&nbsp;by&nbsp;foo::X;<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'abcd'</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
This analysis currently doesn't support arrays. <br />
<br />
This analysis also skips very common values, such as boolean,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">0</span>  and  <span style="border: 1px solid #ddd; background-color: #f5f5f5">1</span> . This prevents too many false positive.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=traits_couldusetrait" id="traits_couldusetrait">Could Use Trait</a></h2><p>[Since 1.8.5] - [ -P Traits/CouldUseTrait ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#could-use-trait">Online docs</a> ]</p><p>The following classes have been found implementing all of a trait's methods : it could use this trait, and remove duplicated code.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">trait&nbsp;</span><span style="color: #0000BB">t&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">t1</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">t2</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">t3</span><span style="color: #007700">()&nbsp;{}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;t1,&nbsp;t2,&nbsp;t3&nbsp;method&nbsp;could&nbsp;be&nbsp;dropped,&nbsp;and&nbsp;replaced&nbsp;with&nbsp;'use&nbsp;t'<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo1&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">t1</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">t2</span><span style="color: #007700">()&nbsp;{}<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">t3</span><span style="color: #007700">()&nbsp;{}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">j</span><span style="color: #007700">()&nbsp;{}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;foo2&nbsp;is&nbsp;just&nbsp;the&nbsp;same&nbsp;as&nbsp;foo1<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo2&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">t</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">j</span><span style="color: #007700">()&nbsp;{}<br />}<br /></span>?&gt;</pre><br />
<br />
The comparison between the class methods' and the trait's methods are based on token. They may yieldd some false-positives.<br />
<br />
See also Interfaces/CouldUseInterface.<br />
 </p>
<h2><a href="issues.html#analyzer=structures_infiniterecursion" id="structures_infiniterecursion">Infinite Recursion</a></h2><p>[Since 1.8.6] - [ -P Structures/InfiniteRecursion ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#infinite-recursion">Online docs</a> ]</p><p>A method is calling itself, with unchanged arguments. This will probably repeat indefinitely.<br />
<br />
This applies to recursive functions without any condition. This also applies to function which inject the incoming arguments, without modifications.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">);<br />}<br /><br />function&nbsp;</span><span style="color: #0000BB">foo2</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;++</span><span style="color: #0000BB">$a</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$a&nbsp;is&nbsp;modified<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">foo2</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=arrays_nullboolean" id="arrays_nullboolean">Null Or Boolean Arrays</a></h2><p>[Since 1.8.6] - [ -P Arrays/NullBoolean ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#null-or-boolean-arrays">Online docs</a> ]</p><p>Null and booleans are valid PHP array base. Yet, they only produce  <span style="border: 1px solid #ddd; background-color: #f5f5f5">null</span>  values, and no warning.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;outputs&nbsp;NULL<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">null</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]);<br /><br />const&nbsp;</span><span style="color: #0000BB">MY_CONSTANT&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;outputs&nbsp;NULL<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">MY_CONSTANT</span><span style="color: #007700">[</span><span style="color: #0000BB">10</span><span style="color: #007700">]);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://twitter.com/Chemaclass/status/1144588647464951808" alt="Null and True">Null and True</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_dependantabstractclass" id="classes_dependantabstractclass">Dependant Abstract Classes</a></h2><p>[Since 1.8.6] - [ -P Classes/DependantAbstractClass ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#dependant-abstract-classes">Online docs</a> ]</p><p>Abstract classes should be autonomous. It is recommended to avoid depending on methods, constant or properties that should be made available in inheriting classes, without explictely abstracting them.<br />
<br />
The following abstract classes make usage of constant, methods and properties, static or not, that are not defined in the class. This means the inheriting classes must provide those constants, methods and properties, but there is no way to enforce this. <br />
<br />
This may also lead to dead code : when the abstract class is removed, the host class have unused properties and methods.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;autonomous&nbsp;abstract&nbsp;class&nbsp;:&nbsp;all&nbsp;it&nbsp;needs&nbsp;is&nbsp;within&nbsp;the&nbsp;class<br /></span><span style="color: #007700">abstract&nbsp;class&nbsp;</span><span style="color: #0000BB">c&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$p&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;++</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">p</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;dependant&nbsp;abstract&nbsp;class&nbsp;:&nbsp;the&nbsp;inheriting&nbsp;classes&nbsp;needs&nbsp;to&nbsp;provide&nbsp;some&nbsp;properties&nbsp;or&nbsp;methods<br /></span><span style="color: #007700">abstract&nbsp;class&nbsp;</span><span style="color: #0000BB">c2&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$p&nbsp;must&nbsp;be&nbsp;provided&nbsp;by&nbsp;the&nbsp;extending&nbsp;class<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;++</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">p</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">c3&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">c2&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$p&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also Traits/DependantTrait.<br />
</p>
<h2><a href="issues.html#analyzer=functions_wrongreturnedtype" id="functions_wrongreturnedtype">Wrong Returned Type</a></h2><p>[Since 1.8.7] - [ -P Functions/WrongReturnedType ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#wrong-returned-type">Online docs</a> ]</p><p>The returned value is not compatible with the specified return type.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;classic&nbsp;error<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;:&nbsp;</span><span style="color: #0000BB">int&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">'A'</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;classic&nbsp;static&nbsp;error<br /></span><span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;:&nbsp;</span><span style="color: #0000BB">string&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">B</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;undecideable&nbsp;error<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">$c</span><span style="color: #007700">)&nbsp;:&nbsp;</span><span style="color: #0000BB">string&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;PHP&nbsp;lint&nbsp;this,&nbsp;but&nbsp;won't&nbsp;execute&nbsp;it<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;:&nbsp;</span><span style="color: #0000BB">void&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;No&nbsp;return&nbsp;at&nbsp;all&nbsp;<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/functions.returning-values.php" alt="Returning values">Returning values</a> and <br />
         <a href="https://wiki.php.net/rfc/void_return_type" alt="Void Return Type">Void Return Type</a>.<br />
</p>
<h2><a href="issues.html#analyzer=functions_generatorcannotreturn" id="functions_generatorcannotreturn">Generator Cannot Return</a></h2><p>[Since 1.8.7] - [ -P Functions/GeneratorCannotReturn ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#generator-cannot-return">Online docs</a> ]</p><p>Generators could not use return and yield at the same time. In PHP 7.0, generator can now use both of them.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;not&nbsp;allowed&nbsp;until&nbsp;PHP&nbsp;7.0<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;yield&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre></p>
<h2><a href="issues.html#analyzer=php_usedatetimeimmutable" id="php_usedatetimeimmutable">Use DateTimeImmutable Class</a></h2><p>[Since 1.8.7] - [ -P Php/UseDateTimeImmutable ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-datetimeimmutable-class">Online docs</a> ]</p><p>The DateTimeImmutable class is the immutable version of the Datetime class. <br />
<br />
While DateTime may be modified 'in situ', DateTimeImmutable cannot be modified. Any modication to such an object will return a new and distinct object. This avoid interferences that are hard to track.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Example&nbsp;extracted&nbsp;from&nbsp;Derick&nbsp;Rethans'&nbsp;article&nbsp;(link&nbsp;below)<br /><br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">formatNextMondayFromNow</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">DateTime&nbsp;$dt&nbsp;</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$dt</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">modify</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'next&nbsp;monday'&nbsp;</span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'Y-m-d'&nbsp;</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">DateTime</span><span style="color: #007700">();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//2014-02-17<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">formatNextMondayFromNow</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">),&nbsp;\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$d</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'Y-m-d'&nbsp;</span><span style="color: #007700">),&nbsp;\</span><span style="color: #0000BB">n</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//2014-02-17<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://medium.com/@codebyjeff/whats-all-this-immutable-date-stuff-anyway-72d4130af8ce" alt="What's all this 'immutable date' stuff, anyway?">What's all this 'immutable date' stuff, anyway?</a>,<br />
         <a href="https://derickrethans.nl/immutable-datetime.html" alt="DateTimeImmutable">DateTimeImmutable</a>, <br />
         <a href="https://www.php.net/manual/en/class.datetime.php" alt="The DateTime class">The DateTime class</a> and<br />
         <a href="https://www.php.net/manual/en/class.datetimeimmutable.php" alt="The DateTimeImmutable class">The DateTimeImmutable class</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_setaside" id="structures_setaside">Set Aside Code</a></h2><p>[Since 1.8.8] - [ -P Structures/SetAside ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#set-aside-code">Online docs</a> ]</p><p>Setting aside code should be made into a method. <br />
<br />
Setting aside code happens when one variable or member is stored locally, to be temporarily replaced by another value. Once the new value has been processed, the original value is reverted.<br />
<br />
The temporary change of the value makes the code hard to read. <br />
<br />
It is a good example of a piece of code that could be moved to a separate method or function. Using the temporary value as a parameter makes the change visible, and avoid local pollution.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Setting&nbsp;aside&nbsp;database<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">cache&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Storage&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$database&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$database</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">database&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$database</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$values</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;handling&nbsp;storage&nbsp;with&nbsp;sqlite3&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$secondary&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">cache</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">Sqlite3</span><span style="color: #007700">(</span><span style="color: #DD0000">':memory:'</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$secondary</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">store</span><span style="color: #007700">(</span><span style="color: #0000BB">$values</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">store</span><span style="color: #007700">(</span><span style="color: #0000BB">$values</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;handling&nbsp;storage&nbsp;with&nbsp;injection&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Setting&nbsp;aside&nbsp;database&nbsp;to&nbsp;cache&nbsp;data&nbsp;in&nbsp;two&nbsp;distinct&nbsp;backend<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">cache&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Storage&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$database&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(\</span><span style="color: #0000BB">Pdo&nbsp;$database</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">database&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$database</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$values</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$this-&gt;database&nbsp;is&nbsp;set&nbsp;aside&nbsp;for&nbsp;secondary&nbsp;configuration<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$side&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">database</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">database&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Sqlite3</span><span style="color: #007700">(</span><span style="color: #DD0000">':memory:'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">store</span><span style="color: #007700">(</span><span style="color: #0000BB">$values</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;handling&nbsp;storage&nbsp;with&nbsp;sqlite3&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">database&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$side</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$this-&gt;database&nbsp;is&nbsp;restored<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">store</span><span style="color: #007700">(</span><span style="color: #0000BB">$values</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;handling&nbsp;storage&nbsp;with&nbsp;injection&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_usearrayfunctions" id="structures_usearrayfunctions">Use Array Functions</a></h2><p>[Since 1.8.8] - [ -P Structures/UseArrayFunctions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-array-functions">Online docs</a> ]</p><p>There are a lot of native PHP functions for arrays. It is often faster to take advantage of them than write a loop.<br />
<br />
<ul>
<li><a href="https://www.php.net/array_push" alt="array_push()">array_push()</a> : use <a href="https://www.php.net/array_merge" alt="array_merge()">array_merge()</a></li>
<li><a href="https://www.php.net/array_slice" alt="array_slice()">array_slice()</a> : use <a href="https://www.php.net/array_chunk" alt="array_chunk()">array_chunk()</a></li>
<li>index access : use <a href="https://www.php.net/array_column" alt="array_column()">array_column()</a></li>
<li>append <a href="https://www.php.net/array_merge" alt="[]`: use `array_merge()">[]`: use `array_merge()</a></li>
<li>addition : use <a href="https://www.php.net/array_sum" alt="array_sum()">array_sum()</a></li>
<li>multiplication : use <a href="https://www.php.net/array_product" alt="array_product()">array_product()</a></li>
<li>concatenation : use <a href="https://www.php.net/implode" alt="implode()">implode()</a></li>
<li>ifthen : use <a href="https://www.php.net/array_filter" alt="array_filter()">array_filter()</a></li>
</ul>
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$all&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #DD0000">'-'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$s</span><span style="color: #007700">).</span><span style="color: #DD0000">'-'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;same&nbsp;as&nbsp;above<br /></span><span style="color: #0000BB">$all&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br />foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$s</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$all&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #0000BB">$s&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'-'</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.php.net/manual/en/ref.array.php" alt="Array Functions">Array Functions</a> and<br />
        Performances/ArrayMergeInLoops.<br />
</p>
<h2><a href="issues.html#analyzer=functions_uselesstypecheck" id="functions_uselesstypecheck">Useless Type Check</a></h2><p>[Since 1.8.9] - [ -P Functions/UselessTypeCheck ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#useless-type-check">Online docs</a> ]</p><p>With typehint, some checks on the arguments are now handled by the type system.<br />
<br />
In particular, a type hinted argument can't be null, unless it is explicitly nullable, or has a  <span style="border: 1px solid #ddd; background-color: #f5f5f5">null</span>  value as default.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;The&nbsp;test&nbsp;on&nbsp;null&nbsp;is&nbsp;useless,&nbsp;it&nbsp;will&nbsp;never&nbsp;happen<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">A&nbsp;$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">is_null</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">))&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;do&nbsp;something<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Either&nbsp;nullable&nbsp;?&nbsp;is&nbsp;too&nbsp;much,&nbsp;either&nbsp;the&nbsp;default&nbsp;null&nbsp;is<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">barbar</span><span style="color: #007700">(?</span><span style="color: #0000BB">A&nbsp;$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">)&nbsp;{<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;The&nbsp;test&nbsp;on&nbsp;null&nbsp;is&nbsp;useful,&nbsp;the&nbsp;default&nbsp;value&nbsp;null&nbsp;allows&nbsp;it<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">A&nbsp;$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">)&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;do&nbsp;something<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/functions.arguments.php#functions.arguments.type-declaration" alt="Type Declarations">Type Declarations</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_disconnectedclasses" id="classes_disconnectedclasses">Disconnected Classes</a></h2><p>[Since 1.8.9] - [ -P Classes/DisconnectedClasses ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#disconnected-classes">Online docs</a> ]</p><p>One class is extending the other, but they do not use any features from one another. Basically, those two classes are using extends, but they are completely independent and may be separated. <br />
<br />
When using the 'extends' keyword, the newly created classes are now acting together and making one. This should be visibile in calls from one class to the other, or simply by property usage : they can't live without each other.<br />
<br />
On the other hand, two completely independent classes that are merged, although they should be kept separated.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$pa&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">fooA</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">pa&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;class&nbsp;B&nbsp;and&nbsp;Class&nbsp;A&nbsp;are&nbsp;totally&nbsp;independent<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$pb&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">fooB</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">pb&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /><br /></span><span style="color: #FF8000">//&nbsp;class&nbsp;C&nbsp;makes&nbsp;use&nbsp;of&nbsp;class&nbsp;A&nbsp;:&nbsp;it&nbsp;is&nbsp;dependent&nbsp;on&nbsp;the&nbsp;parent&nbsp;class<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">C&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$pc&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">fooB</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">pc&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fooA</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_notornot" id="structures_notornot">Not Or Tilde</a></h2><p>[Since 1.8.9] - [ -P Structures/NotOrNot ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#not-or-tilde">Online docs</a> ]</p><p>There are two NOT operator in PHP :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">!</span>  and  <span style="border: 1px solid #ddd; background-color: #f5f5f5">~</span> . The first is a logical operator, and returns a boolean. The second is a bit-wise operator, and flips each bit. <br />
<br />
Although they are distinct operations, there are situations where they provide the same results. In particular, when processing booleans. <br />
<br />
Yet,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">!</span>  and  <span style="border: 1px solid #ddd; background-color: #f5f5f5">~</span>  are not the same.  <span style="border: 1px solid #ddd; background-color: #f5f5f5">~</span>  has a higher priority, and will not yield to  <span style="border: 1px solid #ddd; background-color: #f5f5f5">instanceof</span> , while  <span style="border: 1px solid #ddd; background-color: #f5f5f5">!</span>  does.<br />
<br />
The analyzed code has less than 10% of one of them : for consistency reasons, it is recommended to make them all the same. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;be&nbsp;consistent<br /></span><span style="color: #007700">if&nbsp;(!</span><span style="color: #0000BB">$condition</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}<br /><br />if&nbsp;(~</span><span style="color: #0000BB">$condition</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">();<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.php.net/manual/en/language.operators.bitwise.php" alt="Bitwise Operators">Bitwise Operators</a>,<br />
         <a href="https://www.php.net/manual/en/language.operators.logical.php" alt="Logical Operators">Logical Operators</a> and <br />
         <a href="https://www.php.net/manual/en/language.operators.precedence.php" alt="Operators Precedences">Operators Precedences</a> .<br />
</p>
<h2><a href="issues.html#analyzer=structures_foreachsourcevalue" id="structures_foreachsourcevalue">Overwritten Source And Value</a></h2><p>[Since 1.8.9] - [ -P Structures/ForeachSourceValue ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#overwritten-source-and-value">Online docs</a> ]</p><p>In a for<a href="https://www.php.net/each" alt="each()">each()</a>, it is best to keep source and values distinct. Otherwise, they overwrite each other.<br />
<br />
Since PHP 7.0, PHP makes a copy of the original source, then works on it. This makes possible to use the same name for the source and the values.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;displays&nbsp;0-1-2-3-3<br /></span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">range</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">);<br />foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'-'</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /><br /><br /></span><span style="color: #FF8000">/*&nbsp;displays&nbsp;0-1-2-3-Array<br />(<br />&nbsp;&nbsp;&nbsp;&nbsp;[0]&nbsp;=&gt;&nbsp;0<br />&nbsp;&nbsp;&nbsp;&nbsp;[1]&nbsp;=&gt;&nbsp;1<br />&nbsp;&nbsp;&nbsp;&nbsp;[2]&nbsp;=&gt;&nbsp;2<br />&nbsp;&nbsp;&nbsp;&nbsp;[3]&nbsp;=&gt;&nbsp;3<br />)<br />*/<br /></span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">range</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">);<br />foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$v</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">$v&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'-'</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
When the source is used as the value, the elements in the array are successively assigned to itself. After the loop, the original array has been replaced by its last element.<br />
<br />
The same applies to the index, or to any variable in a list() structure, used in a for<a href="https://www.php.net/each" alt="each()">each()</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_avoidmbdectectencoding" id="php_avoidmbdectectencoding">Avoid mb_dectect_encoding()</a></h2><p>[Since 1.8.9] - [ -P Php/AvoidMbDectectEncoding ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#avoid-mb_dectect_encoding--">Online docs</a> ]</p><p>mb_dectect_encoding() is bad at guessing encoding. <br />
<br />
For example, UTF-8 and ISO-8859-1 share some common characters : when a string is build with them it is impossible to differentiate the actual encoding.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$encoding&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mb_encoding_detect</span><span style="color: #007700">(</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'name'</span><span style="color: #007700">]);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://php.net/mb-encoding-detect" alt="mb_encoding_detect">mb_encoding_detect</a>, <br />
         <a href="https://www.daganhenderson.com/blog/2013/07/php-encoding-character-sets" alt="PHP vs. The Developer: Encoding Character Sets">PHP vs. The Developer: Encoding Character Sets</a>,<br />
         <a href="https://youtu.be/K2zS6vbBb9A?t=1375" alt="DPC2019: Of representation and interpretation: A unified theory - Arnout Boks">DPC2019: Of representation and interpretation: A unified theory - Arnout Boks</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_php74removedfunctions" id="php_php74removedfunctions">PHP 7.4 Removed Functions</a></h2><p>[Since 1.9.0] - [ -P Php/Php74RemovedFunctions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php-7.4-removed-functions">Online docs</a> ] - [ PHP  older than 7.3]</p><p>The following PHP native functions were deprecated in PHP 7.4.<br />
<br />
<ul>
<li><a href="https://www.php.net/hebrevc" alt="hebrevc()">hebrevc()</a></li>
<li><a href="https://www.php.net/convert_cyr_string" alt="convert_cyr_string()">convert_cyr_string()</a></li>
<li><a href="https://www.php.net/ezmlm_hash" alt="ezmlm_hash()">ezmlm_hash()</a></li>
<li><a href="https://www.php.net/money_format" alt="money_format()">money_format()</a></li>
<li><a href="https://www.php.net/restore_include_path" alt="restore_include_path()">restore_include_path()</a></li>
<li><a href="https://www.php.net/get_magic_quotes_gpc" alt="get_magic_quotes_gpc()">get_magic_quotes_gpc()</a></li>
<li><a href="https://www.php.net/get_magic_quotes_runtime" alt="get_magic_quotes_runtime()">get_magic_quotes_runtime()</a></li>
</ul>
<br />
This analysis skips redefined PHP functions : when a replacement for a removed PHP function was created, with condition on the PHP version, then its usage is considered valid.<br />
<br />
See also <a href="http://php.net/manual/en/migration74.incompatible.php#migration70.incompatible.removed-functions" alt="PHP 7.4 Removed Functions">PHP 7.4 Removed Functions</a> and <br />
         <a href="https://wiki.php.net/rfc/deprecations_php_7_4#introduction" alt="PHP 7.4 Deprecations : Introduction">PHP 7.4 Deprecations : Introduction</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_php74mbstrrpos3rdarg" id="php_php74mbstrrpos3rdarg">Php/Php74mbstrrpos3rdArg</a></h2><p>[Since 1.8.9] - [ -P Php/Php74mbstrrpos3rdArg ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php-php74mbstrrpos3rdarg">Online docs</a> ]</p><p></p>
<h2><a href="issues.html#analyzer=php_arraykeyexistswithobjects" id="php_arraykeyexistswithobjects">array_key_exists() Works On Arrays</a></h2><p>[Since 1.9.0] - [ -P Php/ArrayKeyExistsWithObjects ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#array_key_exists---works-on-arrays">Online docs</a> ]</p><p><a href="https://www.php.net/array_key_exists" alt="array_key_exists()">array_key_exists()</a> requires arrays as second argument. Until PHP 7.4, objects were also allowed, yet it is now deprecated.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Valid&nbsp;way&nbsp;to&nbsp;check&nbsp;for&nbsp;key<br /></span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #DD0000">'a'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">array_key_exists</span><span style="color: #007700">(</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">))<br /><br /><br /></span><span style="color: #FF8000">//&nbsp;Deprecated&nbsp;since&nbsp;PHP&nbsp;7.4<br /></span><span style="color: #0000BB">$object&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Stdclass</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$object</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">array_key_exists</span><span style="color: #007700">(</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$object</span><span style="color: #007700">))<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.php.net/array_key_exists" alt="`array_key_exists()">`array_key_exists()</a> with objects <https://wiki.php.net/rfc/deprecations_php_7_4#array_key_exists_with_objects>`_, and<br />
         <a href="https://php.net/array-key-exists" alt="array_key_exists">array_key_exists</a>, and.</p>
<h2><a href="issues.html#analyzer=php_reflectionexportisdeprecated" id="php_reflectionexportisdeprecated">Reflection Export() Is Deprecated</a></h2><p>[Since 1.9.0] - [ -P Php/ReflectionExportIsDeprecated ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#reflection-export---is-deprecated">Online docs</a> ]</p><p>export() method in Reflection classes is now deprecated. It is obsolete since PHP 7.4 and will disappear in PHP 8.0.<br />
<br />
The Reflector interface, which is implemented by all reflection classes, specifies two methods: __toString() and export(). <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">ReflectionFunction</span><span style="color: #007700">::</span><span style="color: #0000BB">export</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;same&nbsp;as<br /></span><span style="color: #007700">echo&nbsp;new&nbsp;</span><span style="color: #0000BB">ReflectionFunction</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">),&nbsp;\</span><span style="color: #0000BB">n</span><span style="color: #007700">;<br />&nbsp;<br /></span><span style="color: #0000BB">$str&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ReflectionFunction</span><span style="color: #007700">::</span><span style="color: #0000BB">export</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;same&nbsp;as<br /></span><span style="color: #0000BB">$str&nbsp;</span><span style="color: #007700">=&nbsp;(string)&nbsp;new&nbsp;</span><span style="color: #0000BB">ReflectionFunction</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://wiki.php.net/rfc/deprecations_php_7_4#reflection_export_methods" alt="Reflection export() methods">Reflection export() methods</a> and<br />
         <a href="https://www.php.net/manual/en/book.reflection.php" alt="Reflection">Reflection</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=functions_unbindingclosures" id="functions_unbindingclosures">Unbinding Closures</a></h2><p>[Since 1.9.0] - [ -P Functions/UnbindingClosures ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#unbinding-closures">Online docs</a> ]</p><p>Never drop  <span style="border: 1px solid #ddd; background-color: #f5f5f5">$this</span> , once a closure was created in a non-static method. <br />
<br />
From the PHP wiki : Currently it is possible to unbind the $this variable from a closure that originally had one by using $closure->bindTo(null). Due to the removal of static calls to non-static methods in PHP 8, we now have a guarantee that $this always exists inside non-static methods. We would like to have a similar guarantee that $this always exists for non-static closures declared inside non-static methods. Otherwise, we will end up imposing an unnecessary performance penalty either on $this accesses in general, or $this accesses inside such closures.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;function&nbsp;()&nbsp;{&nbsp;echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a</span><span style="color: #007700">;&nbsp;};<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$closure&nbsp;</span><span style="color: #007700">=&nbsp;(new&nbsp;</span><span style="color: #0000BB">x</span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;$this&nbsp;was&nbsp;expected,&nbsp;and&nbsp;it&nbsp;is&nbsp;not&nbsp;anymore<br /></span><span style="color: #0000BB">$closure</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bindTo</span><span style="color: #007700">(</span><span style="color: #0000BB">null</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$closure</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bindTo</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">x</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
Calling bindTo() with a valid object is still valid.<br />
<br />
See also <a href="https://wiki.php.net/rfc/deprecations_php_7_4#unbinding_this_from_non-static_closures" alt="Unbinding $this from non-static closures">Unbinding $this from non-static closures</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_integerseparatorusage" id="php_integerseparatorusage">Numeric Literal Separator</a></h2><p>[Since 1.9.0] - [ -P Php/IntegerSeparatorUsage ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#numeric-literal-separator">Online docs</a> ]</p><p>Integer and floats may be written with internal underscores. This way, it is possible to separate large number into smaller groups, and make them more readable.<br />
<br />
Numeric Literal Separators were introduced in PHP 7.4 and are not backward compatible.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1_000_000_000</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;A&nbsp;billion<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1000000000</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;A&nbsp;billion&nbsp;too...<br /><br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">107_925_284.88</span><span style="color: #007700">;</span><span style="color: #0000BB">&nbsp;</span><span style="color: #FF8000">//&nbsp;6&nbsp;light&nbsp;minute&nbsp;to&nbsp;kilometers&nbsp;=&nbsp;107925284.88&nbsp;kilometers<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">107925284.88</span><span style="color: #007700">;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Same&nbsp;as&nbsp;above<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://wiki.php.net/rfc/numeric_literal_separator" alt="PHP RFC: Numeric Literal Separator">PHP RFC: Numeric Literal Separator</a>.<br />
 </p>
<h2><a href="issues.html#analyzer=classes_noparent" id="classes_noparent">Class Without Parent</a></h2><p>[Since 1.9.0] - [ -P Classes/NoParent ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#class-without-parent">Online docs</a> ]</p><p>Classes should not refer to  <span style="border: 1px solid #ddd; background-color: #f5f5f5">parent</span>  when it is not extending another class. <br />
<br />
In PHP 7.4, it is a Deprecated warning. In PHP 7.3, it was a Fatal error, when the code was finally executed.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_scalararenotarrays" id="php_scalararenotarrays">Scalar Are Not Arrays</a></h2><p>[Since 1.9.0] - [ -P Php/ScalarAreNotArrays ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#scalar-are-not-arrays">Online docs</a> ]</p><p>It is wrong to use a scalar as an array, a Warning is emitted. PHP 7.4 emits a Warning in such situations.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Here,&nbsp;$x&nbsp;may&nbsp;be&nbsp;null,&nbsp;and&nbsp;in&nbsp;that&nbsp;case,&nbsp;the&nbsp;echo&nbsp;will&nbsp;fail.<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(?</span><span style="color: #0000BB">A&nbsp;$x</span><span style="color: #007700">)&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">];&nbsp;<br />}<br /></span>?&gt;</pre><br />
<br />
Typehinted argument with a scalar are reported by this analysis. Also, nullable arguments, both with typehint and return type hint.<br />
<br />
See also <a href="https://wiki.php.net/rfc/notice-for-non-valid-array-container" alt="E_WARNING for invalid container read array-access">E_WARNING for invalid container read array-access</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_php74reservedkeyword" id="php_php74reservedkeyword">PHP 7.4 Reserved Keyword</a></h2><p>[Since 1.9.2] - [ -P Php/Php74ReservedKeyword ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php-7.4-reserved-keyword">Online docs</a> ]</p><p>fn is a new PHP keyword. In PHP 7.4, it is used to build the arrow functions. When used at an illegal position,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">fn</span>  generates a Fatal error at compile time.<br />
<br />
As a key word,  <span style="border: 1px solid #ddd; background-color: #f5f5f5">fn</span>  is not allowed as constant name, function name, class name or inside namespaces. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;PHP&nbsp;7.4&nbsp;usage&nbsp;of&nbsp;fn<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">array_values_from_keys</span><span style="color: #007700">(</span><span style="color: #0000BB">$arr</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$keys</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">array_map</span><span style="color: #007700">(fn(</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;=&gt;&nbsp;</span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #0000BB">$x</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">$keys</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;PHP&nbsp;7.3&nbsp;usage&nbsp;of&nbsp;fn<br /></span><span style="color: #007700">const&nbsp;fn&nbsp;=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br />function&nbsp;fn()&nbsp;{}<br /><br />class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;valid&nbsp;in&nbsp;PHP&nbsp;7.3&nbsp;and&nbsp;7.4<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;fn()&nbsp;{}<br />}<br /></span>?&gt;</pre><br />
<br />
 <span style="border: 1px solid #ddd; background-color: #f5f5f5">fn</span>  is fine for method names. It may also be used for constants with <a href="https://www.php.net/define" alt="define()">define()</a>, and <a href="https://www.php.net/constant" alt="constant()">constant()</a> but it is not recommended.<br />
<br />
See also <a href="https://wiki.php.net/rfc/arrow_functions" alt="PHP RFC: Arrow Functions">PHP RFC: Arrow Functions</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=security_noentignore" id="security_noentignore">No ENT_IGNORE</a></h2><p>[Since 1.9.2] - [ -P Security/NoEntIgnore ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-ent_ignore">Online docs</a> ]</p><p>Certain characters have special significance in HTML, and should be represented by HTML entities if they are to preserve their meanings.<br />
<br />
ENT_IGNORE is a configuration option for <a href="https://www.php.net/htmlspecialchars" alt="htmlspecialchars()">htmlspecialchars()</a>, that ignore any needed character replacement. This mean the raw input will now be processed by PHP, or a target browser.<br />
<br />
It is recommended to use the other configuration options : ENT_COMPAT, ENT_QUOTES, ENT_NOQUOTES, ENT_SUBSTITUTE, ENT_DISALLOWED, ENT_HTML401, ENT_XML1, ENT_XHTML or ENT_HTML5.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;produces&nbsp;a&nbsp;valid&nbsp;HTML&nbsp;tag<br /></span><span style="color: #0000BB">$new&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">htmlspecialchars</span><span style="color: #007700">(</span><span style="color: #DD0000">"&lt;a&nbsp;href='test'&gt;Test&lt;/a&gt;"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">ENT_IGNORE</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">$new</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;&amp;lt;a&nbsp;href=&amp;#039;test&amp;#039;&amp;gt;Test&amp;lt;/a&amp;gt;<br /><br />//&nbsp;This&nbsp;produces&nbsp;a&nbsp;valid&nbsp;string,&nbsp;without&nbsp;any&nbsp;HTML&nbsp;special&nbsp;value<br /></span><span style="color: #0000BB">$new&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">htmlspecialchars</span><span style="color: #007700">(</span><span style="color: #DD0000">"&lt;a&nbsp;href='test'&gt;Test&lt;/a&gt;"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">ENT_QUOTES</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">$new</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;&amp;lt;a&nbsp;href=&amp;#039;test&amp;#039;&amp;gt;Test&amp;lt;/a&amp;gt;<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.php.net/htmlspecialchars" alt="htmlspecialchars">htmlspecialchars</a> and<br />
         <a href="http://unicode.org/reports/tr36/#Deletion_of_Noncharacters" alt="Deletion of Code Points">Deletion of Code Points</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_nomorecurlyarrays" id="php_nomorecurlyarrays">No More Curly Arrays</a></h2><p>[Since 1.9.2] - [ -P Php/NoMoreCurlyArrays ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-more-curly-arrays">Online docs</a> ]</p><p>Only use square brackets to access array elements. The usage of curly brackets for array access is deprecated since PHP 7.4.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">,</span><span style="color: #0000BB">3</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;always&nbsp;valid<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;deprecated&nbsp;in&nbsp;PHP&nbsp;7.4<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">{</span><span style="color: #0000BB">1</span><span style="color: #007700">};<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://derickrethans.nl/phpinternalsnews-19.html" alt="Deprecate curly brace syntax">Deprecate curly brace syntax</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_arraymergeandvariadic" id="structures_arraymergeandvariadic">array_merge() And Variadic</a></h2><p>[Since 1.9.2] - [ -P Structures/ArrayMergeAndVariadic ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#array_merge---and-variadic">Online docs</a> ]</p><p>Always check value in variadic before using it with <a href="https://www.php.net/array_merge" alt="array_merge()">array_merge()</a> and <a href="https://www.php.net/array_merge_recursive" alt="array_merge_recursive()">array_merge_recursive()</a>.<br />
<br />
Before PHP 7.4, <a href="https://www.php.net/array_merge" alt="array_merge()">array_merge()</a> and <a href="https://www.php.net/array_merge_recursive" alt="array_merge_recursive()">array_merge_recursive()</a> would complain when no argument was provided. As such, using the spread operator `...` on an empty array() would yield no argument, and an error.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_merge</span><span style="color: #007700">(...</span><span style="color: #0000BB">$x</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_php74deprecation" id="php_php74deprecation">PHP 7.4 Constant Deprecation</a></h2><p>[Since 1.9.3] - [ -P Php/Php74Deprecation ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php-7.4-constant-deprecation">Online docs</a> ] - [ PHP  older than 7.4]</p><p>One constant is deprecated in PHP 7.4. <br />
<br />
<ul>
<li>CURLPIPE_HTTP1</li>
</ul>
<br />
See also <a href="https://wiki.php.net/rfc/deprecations_php_7_2" alt="Deprecations for PHP 7.2">Deprecations for PHP 7.2</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_implodeargsorder" id="structures_implodeargsorder">Structures/ImplodeArgsOrder</a></h2><p>[Since 1.9.2] - [ -P Structures/ImplodeArgsOrder ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#structures-implodeargsorder">Online docs</a> ]</p><p></p>
<h2><a href="issues.html#analyzer=php_php74removeddirective" id="php_php74removeddirective">PHP 7.4 Removed Directives</a></h2><p>[Since 1.9.3] - [ -P Php/Php74RemovedDirective ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php-7.4-removed-directives">Online docs</a> ]</p><p>List of directives that are removed in PHP 7.4.<br />
<br />
+ allow_url_include<br />
<br />
See <a href="https://wiki.php.net/rfc/deprecations_php_7_4#allow_url_include" alt="Deprecation allow_url_include">Deprecation allow_url_include</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_hashalgos74" id="php_hashalgos74">Hash Algorithms Incompatible With PHP 7.4-</a></h2><p>[Since 1.3.4] - [ -P Php/HashAlgos74 ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#hash-algorithms-incompatible-with-php-7.4-">Online docs</a> ] - [ PHP  older than 7.4]</p><p>List of hash algorithms incompatible with PHP 7.3 and older recent. At the moment of writing, this is compatible up to 7.4s. <br />
<br />
The hash algorithms were introduced in PHP 7.4s. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Compatible&nbsp;only&nbsp;with&nbsp;7.1&nbsp;and&nbsp;more&nbsp;recent<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">hash</span><span style="color: #007700">(</span><span style="color: #DD0000">'crc32cs'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'The&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumped&nbsp;over&nbsp;the&nbsp;lazy&nbsp;dog.'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Always&nbsp;compatible<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">hash</span><span style="color: #007700">(</span><span style="color: #DD0000">'ripemd320'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'The&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumped&nbsp;over&nbsp;the&nbsp;lazy&nbsp;dog.'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/hash_algos" alt="hash_algos">hash_algos</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_opensslrandompseudobytesecondarg" id="structures_opensslrandompseudobytesecondarg">openssl_random_pseudo_byte() Second Argument</a></h2><p>[Since 1.9.3] - [ -P Structures/OpensslRandomPseudoByteSecondArg ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#openssl_random_pseudo_byte---second-argument">Online docs</a> ]</p><p>openssl_random_pseudo_byte() uses exceptions to signal an error. Since PHP 7.4, there is no need to use the second argument.<br />
<br />
On the other hand, it is important to catch the exception that openssl_random_pseudo_byte() may emit.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;PHP&nbsp;7.4&nbsp;way&nbsp;to&nbsp;check&nbsp;on&nbsp;random&nbsp;number&nbsp;generation<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$bytes&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">openssl_random_pseudo_bytes</span><span style="color: #007700">(</span><span style="color: #0000BB">$i</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch(\</span><span style="color: #0000BB">Exception&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #0000BB">Error&nbsp;</span><span style="color: #007700">while&nbsp;</span><span style="color: #0000BB">loading&nbsp;random&nbsp;number</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Old&nbsp;way&nbsp;to&nbsp;check&nbsp;on&nbsp;random&nbsp;number&nbsp;generation<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$bytes&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">openssl_random_pseudo_bytes</span><span style="color: #007700">(</span><span style="color: #0000BB">$i</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$cstrong</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$cstrong&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #0000BB">Error&nbsp;</span><span style="color: #007700">while&nbsp;</span><span style="color: #0000BB">loading&nbsp;random&nbsp;number</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.php.net/openssl_random_pseudo_bytes" alt="openssl_random_pseudo_byte">openssl_random_pseudo_byte</a> and <br />
         <a href="https://wiki.php.net/rfc/improve-openssl-random-pseudo-bytes" alt="PHP RFC: Improve openssl_random_pseudo_bytes()">PHP RFC: Improve openssl_random_pseudo_bytes()</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_striptagsskipsclosedtag" id="structures_striptagsskipsclosedtag">strip_tags Skips Closed Tag</a></h2><p>[Since 1.9.3] - [ -P Structures/StripTagsSkipsClosedTag ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#strip_tags-skips-closed-tag">Online docs</a> ]</p><p><a href="https://www.php.net/strip_tags" alt="strip_tags()">strip_tags()</a> skips non-self closing tags. This means that tags such as  <span style="border: 1px solid #ddd; background-color: #f5f5f5"><br /></span>  will be ignored from the 2nd argument of the function.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$input&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'a&lt;br&nbsp;/&gt;'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Displays&nbsp;'a'&nbsp;and&nbsp;clean&nbsp;the&nbsp;tag<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">strip_tags</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'&lt;br&gt;'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Displays&nbsp;'a&lt;br&nbsp;/&gt;'&nbsp;and&nbsp;skips&nbsp;the&nbsp;allowed&nbsp;tag<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">strip_tags</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'&lt;br/&gt;'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.php.net/manual/en/function.strip-tags.php" alt="strip_tags">strip_tags</a>.</p>
<h2><a href="issues.html#analyzer=arrays_nospreadforhash" id="arrays_nospreadforhash">No Spread For Hash</a></h2><p>[Since 1.9.3] - [ -P Arrays/NoSpreadForHash ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-spread-for-hash">Online docs</a> ]</p><p>The spread operator  <span style="border: 1px solid #ddd; background-color: #f5f5f5">...</span>  only works on integer-indexed arrays. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;valid,&nbsp;as&nbsp; <span style="border: 1px solid #ddd; background-color: #f5f5f5">-33</span> &nbsp;is&nbsp;cast&nbsp;to&nbsp;integer&nbsp;by&nbsp;PHP&nbsp;automagically<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(...[</span><span style="color: #0000BB">1</span><span style="color: #007700">,-</span><span style="color: #0000BB">33&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">]);<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;not&nbsp;valid<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(...[</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">C&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">]);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.php.net/manual/en/functions.arguments.php#functions.variable-arg-list" alt="Variable-length argument lists">Variable-length argument lists</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_usecovariance" id="php_usecovariance">Use Covariance</a></h2><p>[Since 1.9.3] - [ -P Php/UseCovariance ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-covariance">Online docs</a> ]</p><p>Covariance is compatible return typehint. A child class may return an object of a child class of the return type of its parent's method.<br />
<br />
Since a children class may return a children class of the return type, the evolution is in the same order.<br />
<br />
Covariance is a PHP 7.4 feature. Covariance is distinct from argument contravariance.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">X&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">m</span><span style="color: #007700">(</span><span style="color: #0000BB">Y&nbsp;$z</span><span style="color: #007700">):&nbsp;</span><span style="color: #0000BB">X&nbsp;</span><span style="color: #007700">{}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;m&nbsp;is&nbsp;overwriting&nbsp;the&nbsp;parent's&nbsp;method.&nbsp;<br />//&nbsp;The&nbsp;return&nbsp;type&nbsp;is&nbsp;different.<br />//&nbsp;The&nbsp;return&nbsp;type&nbsp;is&nbsp;compatible,&nbsp;as&nbsp;Y&nbsp;is&nbsp;also&nbsp;a&nbsp;sub-class&nbsp;of&nbsp;X.<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Y&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">X&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">m</span><span style="color: #007700">(</span><span style="color: #0000BB">X&nbsp;$z</span><span style="color: #007700">):&nbsp;</span><span style="color: #0000BB">Y&nbsp;</span><span style="color: #007700">{}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://wiki.php.net/rfc/covariant-returns-and-contravariant-parameters" alt="Covariant Returns and Contravariant Parameters">Covariant Returns and Contravariant Parameters</a> and <br />
         `Php/UseContravariance`.<br />
</p>
<h2><a href="issues.html#analyzer=php_usecontravariance" id="php_usecontravariance">Use Contravariance</a></h2><p>[Since 1.9.3] - [ -P Php/UseContravariance ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-contravariance">Online docs</a> ]</p><p>Contravariance is compatible argument typehint. A child class may accept an object of a parent class of the argument type of its parent's method.<br />
<br />
Since a children class may accept a parent class of the argynebt type, the evolution is in opposite order. <br />
<br />
Contravariance is a PHP 7.4 feature. Contravariance is distinct from return type covariance.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">X&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">m</span><span style="color: #007700">(</span><span style="color: #0000BB">Y&nbsp;$z</span><span style="color: #007700">):&nbsp;</span><span style="color: #0000BB">X&nbsp;</span><span style="color: #007700">{}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;m&nbsp;is&nbsp;overwriting&nbsp;the&nbsp;parent's&nbsp;method.&nbsp;<br />//&nbsp;The&nbsp;return&nbsp;type&nbsp;is&nbsp;different.<br />//&nbsp;The&nbsp;return&nbsp;type&nbsp;is&nbsp;compatible,&nbsp;as&nbsp;Y&nbsp;is&nbsp;also&nbsp;a&nbsp;sub-class&nbsp;of&nbsp;X.<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Y&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">X&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">m</span><span style="color: #007700">(</span><span style="color: #0000BB">X&nbsp;$z</span><span style="color: #007700">):&nbsp;</span><span style="color: #0000BB">Y&nbsp;</span><span style="color: #007700">{}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://wiki.php.net/rfc/covariant-returns-and-contravariant-parameters" alt="Covariant Returns and Contravariant Parameters">Covariant Returns and Contravariant Parameters</a> and <br />
         `Php/UseCovariance`.<br />
</p>
<h2><a href="issues.html#analyzer=functions_usearrowfunctions" id="functions_usearrowfunctions">Use Arrow Functions</a></h2><p>[Since 1.9.4] - [ -P Functions/UseArrowFunctions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-arrow-functions">Online docs</a> ]</p><p>Arrow functions are closures that require less code to write.<br />
<br />
Arrow functions were introduced in PHP 7.4. They added the reserved keyword  <span style="border: 1px solid #ddd; background-color: #f5f5f5">fn</span> . s<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">array_map</span><span style="color: #007700">(fn(</span><span style="color: #0000BB">A&nbsp;$b</span><span style="color: #007700">):&nbsp;</span><span style="color: #0000BB">int&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">c</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /><br />function&nbsp;</span><span style="color: #0000BB">array_values_from_keys</span><span style="color: #007700">(</span><span style="color: #0000BB">$arr</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$keys</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">array_map</span><span style="color: #007700">(fn(</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;=&gt;&nbsp;</span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #0000BB">$x</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">$keys</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://wiki.php.net/rfc/arrow_functions" alt="RFC : Arrow functions">RFC : Arrow functions</a> and <br />
         <a href="https://stitcher.io/blog/short-closures-in-php" alt="Arrow functions in PHP">Arrow functions in PHP</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_maxlevelofidentation" id="structures_maxlevelofidentation">Max Level Of Nesting</a></h2><p>[Since 1.9.3] - [ -P Structures/MaxLevelOfIdentation ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#max-level-of-nesting">Online docs</a> ]</p><p>Avoid nesting structures too deep, as it hurts readability.<br />
<br />
Nesting structures are : if/then, switch, for, foreach, while, do...while. Ternary operator, try/catch are not considered a nesting structures.<br />
<br />
Closures, and more generally, functions definitions are counted separatedly. <br />
<br />
This analysis checks for 4 levels of nesting, by default. This may be changed by configuration.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;5&nbsp;levels&nbsp;of&nbsp;indentation<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">3</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">4</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">5</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">51</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;2&nbsp;levels&nbsp;of&nbsp;indentation<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;3&nbsp;levels&nbsp;of&nbsp;indentation<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;function&nbsp;()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">3</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">4</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">5</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">51</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=php_spreadoperatorforarray" id="php_spreadoperatorforarray">Spread Operator For Array</a></h2><p>[Since 1.9.4] - [ -P Php/SpreadOperatorForArray ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#spread-operator-for-array">Online docs</a> ]</p><p>The variadic operator may be used with arrays. This has been introduced in PHP 7.4. <br />
<br />
list() is not allowed to use this operator, as list() expected variables, not values.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">$extended_array&nbsp;</span><span style="color: #007700">=&nbsp;[...</span><span style="color: #0000BB">$array</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">6</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;invalid&nbsp;syntax<br /></span><span style="color: #007700">[...</span><span style="color: #0000BB">$a</span><span style="color: #007700">]&nbsp;=&nbsp;[</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">,</span><span style="color: #0000BB">3</span><span style="color: #007700">];<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://wiki.php.net/rfc/spread_operator_for_array" alt="Spread Operator in Array Expression">Spread Operator in Array Expression</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_nestedternarywithoutparenthesis" id="php_nestedternarywithoutparenthesis">Nested Ternary Without Parenthesis</a></h2><p>[Since 1.9.4] - [ -P Php/NestedTernaryWithoutParenthesis ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#nested-ternary-without-parenthesis">Online docs</a> ]</p><p>It is not allowed to nest ternary operator within itself, without parenthesis. This has been implemented in PHP 7.4.<br />
<br />
The reason behind this feature is to keep the code expressive. See the Warning message for more explanations<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">:&nbsp;(</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Still&nbsp;valid,&nbsp;as&nbsp;not&nbsp;ambiguous&nbsp;<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Produces&nbsp;a&nbsp;warning<br />//Unparenthesized&nbsp;`a&nbsp;?&nbsp;b&nbsp;:&nbsp;c&nbsp;?&nbsp;d&nbsp;:&nbsp;e`&nbsp;is&nbsp;deprecated.&nbsp;Use&nbsp;either&nbsp;`(a&nbsp;?&nbsp;b&nbsp;:&nbsp;c)&nbsp;?&nbsp;d&nbsp;:&nbsp;e`&nbsp;or&nbsp;`a&nbsp;?&nbsp;b&nbsp;:&nbsp;(c&nbsp;?&nbsp;d&nbsp;:&nbsp;e)`<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://wiki.php.net/rfc/ternary_associativity" alt="PHP RFC: Deprecate left-associative ternary operator">PHP RFC: Deprecate left-associative ternary operator</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_shoulduseexplodeargs" id="structures_shoulduseexplodeargs">Should Use Explode Args</a></h2><p>[Since 1.9.4] - [ -P Structures/ShouldUseExplodeArgs ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#should-use-explode-args">Online docs</a> ]</p><p><a href="https://www.php.net/explode" alt="explode()">explode()</a> has a third argument, which limits the amount of exploded elements. With it, it is possible to collect only the first elements, or drop the last ones.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$exploded&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">explode</span><span style="color: #007700">(</span><span style="color: #0000BB">DELIMITER</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;use&nbsp;explode(DELIMITER,&nbsp;$string,&nbsp;-1);<br /></span><span style="color: #0000BB">array_pop</span><span style="color: #007700">(</span><span style="color: #0000BB">$exploded</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;use&nbsp;explode(DELIMITER,&nbsp;$string,&nbsp;-2);<br /></span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_slice</span><span style="color: #007700">(</span><span style="color: #0000BB">$exploded</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;with&nbsp;`explode()&nbsp;&lt;https://www.php.net/explode&gt;`_'s&nbsp;third&nbsp;argument&nbsp;:&nbsp;<br /></span><span style="color: #007700">list(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;=&nbsp;</span><span style="color: #0000BB">explode</span><span style="color: #007700">(</span><span style="color: #0000BB">DELIMITER</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;with&nbsp;list()&nbsp;omitted&nbsp;arguments<br /></span><span style="color: #007700">list(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;)&nbsp;=&nbsp;</span><span style="color: #0000BB">explode</span><span style="color: #007700">(</span><span style="color: #0000BB">DELIMITER</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.php.net/manual/en/function.explode.php" alt="explode">explode</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=performances_usearrayslice" id="performances_usearrayslice">Use array_slice()</a></h2><p>[Since 1.9.5] - [ -P Performances/UseArraySlice ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-array_slice--">Online docs</a> ]</p><p>Array_slice is de equivalent of substr() for arrays.<br />
<br />
<a href="https://www.php.net/array_splice" alt="array_splice()">array_splice()</a> is also possible, to remove a portion of array inside the array, not at the ends. This has no equivalent for strings.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">range</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">9</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Extract&nbsp;the&nbsp;5&nbsp;first&nbsp;elements<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">array_slice</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;Extract&nbsp;the&nbsp;4&nbsp;last&nbsp;elements<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">array_slice</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">4</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;Extract&nbsp;the&nbsp;2&nbsp;central&nbsp;elements&nbsp;:&nbsp;4&nbsp;and&nbsp;5<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">array_splice</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;slow&nbsp;way&nbsp;to&nbsp;remove&nbsp;the&nbsp;last&nbsp;elementst&nbsp;of&nbsp;an&nbsp;array<br /></span><span style="color: #007700">for(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">array_pop</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/array_slice" alt="array_slice">array_slice</a> and <br />
         <a href="http://www.php.net/array_splice" alt="array_splice">array_splice</a>.<br />
         <br />
</p>
<h2><a href="issues.html#analyzer=php_php74newdirective" id="php_php74newdirective">PHP 74 New Directives</a></h2><p>[Since 1.9.4] - [ -P Php/Php74NewDirective ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#php-74-new-directives">Online docs</a> ]</p><p>List of directives that are removed in PHP 7.4.<br />
<br />
+ zend.exception_ignore_args : From the php.ini :  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Allows to include or exclude arguments from stack traces generated for exceptions. Default: Off</span> <br />
+ opcache.preload_user<br />
<br />
<br />
See <a href="https://wiki.php.net/rfc/preload" alt="RFC Preload">RFC Preload</a> et<br />
    <a href="https://wiki.php.net/rfc/preload" alt="RFC Preload">RFC Preload</a> et.<br />
</p>
<h2><a href="issues.html#analyzer=arrays_toomanydimensions" id="arrays_toomanydimensions">Too Many Array Dimensions</a></h2><p>[Since 1.9.4] - [ -P Arrays/TooManyDimensions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#too-many-array-dimensions">Online docs</a> ]</p><p>When arrays a getting to many nesting. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;array();&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;level&nbsp;1;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;array();&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;level&nbsp;2<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">][</span><span style="color: #0000BB">2</span><span style="color: #007700">]&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;array();&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;level&nbsp;3&nbsp;:&nbsp;still&nbsp;valid&nbsp;by&nbsp;default<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">][</span><span style="color: #0000BB">2</span><span style="color: #007700">][</span><span style="color: #0000BB">3</span><span style="color: #007700">]&nbsp;=&nbsp;array();&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;level&nbsp;4<br /></span>?&gt;</pre><br />
<br />
PHP has no limit, and accepts any number of nesting levels. Yet, this is usually very memory hungry.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_coalesceandconcat" id="structures_coalesceandconcat">Coalesce And Concat</a></h2><p>[Since 1.9.4] - [ -P Structures/CoalesceAndConcat ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#coalesce-and-concat">Online docs</a> ]</p><p>The concatenation operator dot has precedence over the coalesce operator ??. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Parenthesis&nbsp;are&nbsp;the&nbsp;right&nbsp;solution&nbsp;when&nbsp;in&nbsp;doubt<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">.&nbsp;(</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">??&nbsp;</span><span style="color: #DD0000">'d'</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #0000BB">$e</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;'a'&nbsp;.&nbsp;$b&nbsp;is&nbsp;evaluated&nbsp;first,&nbsp;leading&nbsp;ot&nbsp;a&nbsp;useless&nbsp;??&nbsp;operator<br /></span><span style="color: #DD0000">'a'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">??&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;'d'&nbsp;.&nbsp;'e'&nbsp;is&nbsp;evaluated&nbsp;first,&nbsp;leading&nbsp;to&nbsp;$b&nbsp;OR&nbsp;'de'.&nbsp;<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">??&nbsp;</span><span style="color: #DD0000">'d'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'e'</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_alwaysfalse" id="structures_alwaysfalse">Constant Comparison</a></h2><p>[Since 1.9.4] - [ -P Structures/AlwaysFalse ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#constant-comparison">Online docs</a> ]</p><p>Based on the incoming types of arguments, the comparison never change.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(array&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;will&nbsp;always&nbsp;fail<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;elseif&nbsp;(</span><span style="color: #0000BB">is_int</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;will&nbsp;always&nbsp;succeed<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">!==&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;elseif&nbsp;(</span><span style="color: #0000BB">is_null</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_incompatiblesignature74" id="classes_incompatiblesignature74">Incompatible Signature Methods With Covariance</a></h2><p>[Since 1.3.3] - [ -P Classes/IncompatibleSignature74 ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#incompatible-signature-methods-with-covariance">Online docs</a> ]</p><p>Methods should have the compatible signature when being overwritten.<br />
<br />
The same signatures means the children class must have : <br />
+ the same name<br />
+ the same visibility or less restrictive<br />
+ the same contravariant typehint or removed<br />
+ the same covariant return typehint or removed<br />
+ the same default value or removed<br />
+ a reference like its parent<br />
<br />
This problem emits a fatal error, for abstract methods, or a warning error, for normal methods. Yet, it is difficult to lint, because classes are often stored in different files. As such, PHP do lint each file independently, as unknown parent classes are not checked if not present. Yet, when executing the code, PHP lint the actual code and may encounter a fatal error.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">ab&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;foo&nbsp;is&nbsp;overloaded&nbsp;and&nbsp;now&nbsp;includes&nbsp;a&nbsp;default&nbsp;value&nbsp;for&nbsp;$a<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://www.php.net/manual/en/language.oop5.inheritance.php" alt="Object Inheritance">Object Inheritance</a>,<br />
         <a href="https://wiki.php.net/rfc/covariant-returns-and-contravariant-parameters" alt="PHP RFC: Covariant Returns and Contravariant Parameters">PHP RFC: Covariant Returns and Contravariant Parameters</a> and <br />
         Classes/IncompatibleSignature.<br />
</p>
<h2><a href="issues.html#analyzer=interfaces_isnotimplemented" id="interfaces_isnotimplemented">Interfaces Is Not Implemented</a></h2><p>[Since 1.9.5] - [ -P Interfaces/IsNotImplemented ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#interfaces-is-not-implemented">Online docs</a> ]</p><p>Classes that implements interfaces must implements each of the interface's methods. <br />
<br />
<br />
</p>
<h2><a href="issues.html#analyzer=functions_noliteralforreference" id="functions_noliteralforreference">No Literal For Reference</a></h2><p>[Since 1.9.5] - [ -P Functions/NoLiteralForReference ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-literal-for-reference">Online docs</a> ]</p><p></p>
<h2><a href="issues.html#analyzer=classes_magicproperties" id="classes_magicproperties">Magic Properties</a></h2><p>[Since 1.9.5] - [ -P Classes/MagicProperties ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#magic-properties">Online docs</a> ]</p><p>List of magic properties used in the code</p>
<h2><a href="issues.html#analyzer=interfaces_nogaranteeforpropertyconstant" id="interfaces_nogaranteeforpropertyconstant">No Garantee For Property Constant</a></h2><p>[Since 1.9.5] - [ -P Interfaces/NoGaranteeForPropertyConstant ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-garantee-for-property-constant">Online docs</a> ]</p><p>When using an interface as a typehint, properties are not necessarily available.<br />
<br />
An interface is a template for a class, which specify the minimum amount of methods and constants. Properties are never defined in an interface, an should not be relied upon.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">interface&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">m&nbsp;</span><span style="color: #007700">()&nbsp;;<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$p&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">m</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">p</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">i&nbsp;$i</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">x&nbsp;$x</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;this&nbsp;is&nbsp;invalid,&nbsp;as&nbsp;$p&nbsp;is&nbsp;not&nbsp;defined&nbsp;in&nbsp;i,&nbsp;so&nbsp;it&nbsp;may&nbsp;be&nbsp;not&nbsp;available<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">p</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;this&nbsp;is&nbsp;valid,&nbsp;as&nbsp;$p&nbsp;is&nbsp;defined&nbsp;in&nbsp;$x<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">p</span><span style="color: #007700">;<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=security_noweaksslcrypto" id="security_noweaksslcrypto">No Weak SSL Crypto</a></h2><p>[Since 1.9.6] - [ -P Security/NoWeakSSLCrypto ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-weak-ssl-crypto">Online docs</a> ]</p><p>When enabling PHP's stream SSL, it is important to use safe protocol. <br />
<br />
All the SSL protocol, and TLS (its successor) v 1.0 are not unsafe. The best is to use the most recent TLS, the 1.2. <br />
<br />
<a href="https://www.php.net/stream_socket_enable_crypto" alt="stream_socket_enable_crypto()">stream_socket_enable_crypto()</a> and curl_setopt() are checked.<br />
<br />
See also `Insecure Transportation Security Protocol Supported (TLS 1.0) <https://www.netsparker.com/web-vulnerability-scanner/vulnerabilities/insecure-transportation-security-protocol-supported-tls-10/>s`_ an<br />
         <a href="https://paragonie.com/blog/2017/12/2018-guide-building-secure-php-software" alt="The 2018 Guide to Building Secure PHP Software">The 2018 Guide to Building Secure PHP Software</a>.<br />
</p>
<h2><a href="issues.html#analyzer=type_udpdomains" id="type_udpdomains">Internet Domains</a></h2><p>[Since 1.9.6] - [ -P Type/UdpDomains ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#internet-domains">Online docs</a> ]</p><p>List all internet domain used</p>
<h2><a href="issues.html#analyzer=performances_mbstringinloop" id="performances_mbstringinloop">No mb_substr In Loop</a></h2><p>[Since 1.9.6] - [ -P Performances/MbStringInLoop ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#no-mb_substr-in-loop">Online docs</a> ]</p><p>Do not use loops on <a href="https://www.php.net/mb_substr" alt="mb_substr()">mb_substr()</a>. <br />
<br />
<a href="https://www.php.net/mb_substr" alt="mb_substr()">mb_substr()</a> always starts at the beginning of the string ot search for the nth char, and recalculate everything. This means that the first iterations are as fast as substr() (for comparison), while the longer the string, the slower <a href="https://www.php.net/mb_substr" alt="mb_substr()">mb_substr()</a>.<br />
<br />
The recommendation is to use preg_split() with the `u` option, to split the string into an array. This save multiple recalculations.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Split&nbsp;the&nbsp;string&nbsp;by&nbsp;characters<br /></span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">preg_split</span><span style="color: #007700">(</span><span style="color: #DD0000">'//u'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PREG_SPLIT_NO_EMPTY</span><span style="color: #007700">);<br />foreach(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">(</span><span style="color: #0000BB">$c</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Slow&nbsp;version<br /></span><span style="color: #0000BB">$nb&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mb_strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$mb</span><span style="color: #007700">);<br />for(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">$nb</span><span style="color: #007700">;&nbsp;++</span><span style="color: #0000BB">$i</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Fetch&nbsp;a&nbsp;character<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mb_substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">doSomething</span><span style="color: #007700">(</span><span style="color: #0000BB">$c</span><span style="color: #007700">);<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://mike42.me/blog/2018-06-how-i-made-my-php-code-run-100-times-faster" alt="Optimization: How I made my PHP code run 100 times faster">Optimization: How I made my PHP code run 100 times faster</a> and <br />
        <a href="https://stackoverflow.com/questions/3666306/how-to-iterate-utf-8-string-in-php" alt="How to iterate UTF-8 string in PHP?">How to iterate UTF-8 string in PHP?</a>.<br />
</p>
<h2><a href="issues.html#analyzer=classes_nonnullablesetters" id="classes_nonnullablesetters">Non Nullable Getters</a></h2><p>[Since 1.9.6] - [ -P Classes/NonNullableSetters ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#non-nullable-getters">Online docs</a> ]</p><p>A getter needs to be nullable when a property is injected. <br />
<br />
In particular, if the injection happens with a separate method, there is a time where the object is not consistent, and the property holds a default non-object value.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Consistent&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$db&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">Db&nbsp;$db</span><span style="color: #007700">)&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">db&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$db</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Object&nbsp;is&nbsp;immediately&nbsp;consistent&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Db&nbsp;might&nbsp;be&nbsp;null<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">getDb</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-</span><span style="color: #0000BB">db</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">Inconsistent&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$db&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;No&nbsp;initialisation<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;might&nbsp;be&nbsp;called&nbsp;on&nbsp;time,&nbsp;or&nbsp;not<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;This&nbsp;typehint&nbsp;cannot&nbsp;be&nbsp;nullable,&nbsp;nor&nbsp;use&nbsp;null&nbsp;as&nbsp;default&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">setDb</span><span style="color: #007700">(</span><span style="color: #0000BB">DB&nbsp;$db</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-</span><span style="color: #0000BB">db</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Db&nbsp;might&nbsp;be&nbsp;null<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">getDb</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-</span><span style="color: #0000BB">db</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_usecasevalue" id="structures_usecasevalue">Use Case Value</a></h2><p>[Since 1.9.6] - [ -P Structures/UseCaseValue ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-case-value">Online docs</a> ]</p><p>When switch() has branched to the right case, the value of the switched variable is know : it is the case.<br />
<br />
This doesn't work with complex expression cases, nor with default. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">switch(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">'a'&nbsp;</span><span style="color: #007700">:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$a&nbsp;==&nbsp;'a';<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">'b'&nbsp;</span><span style="color: #007700">:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$a&nbsp;==&nbsp;'b';<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_toomanydereferencing" id="classes_toomanydereferencing">Too Many Dereferencing</a></h2><p>[Since 1.9.7] - [ -P Classes/TooManyDereferencing ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#too-many-dereferencing">Online docs</a> ]</p><p>Linking too many properties and methods, one to the other.<br />
<br />
This analysis counts both static calls and normal call; methods, properties and constants. It also takes into account arrays along the way.<br />
<br />
The default limit of chaining methods and properties is set to 7 by default. <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;9&nbsp;chained&nbsp;calls.<br /></span><span style="color: #0000BB">$main</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getA</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getB</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getC</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getD</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getE</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getF</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getG</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getH</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getI</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">property</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
Too many chained methods is harder to read. <br />
<br />
</p>
<h2><a href="issues.html#analyzer=structures_useurlqueryfunctions" id="structures_useurlqueryfunctions">Use Url Query Functions</a></h2><p>[Since 1.9.7] - [ -P Structures/UseUrlQueryFunctions ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#use-url-query-functions">Online docs</a> ]</p><p>PHP features several functions dedicated to processing URL's query string. <br />
<br />
+ <a href="https://www.php.net/parse_str" alt="parse_str()">parse_str()</a><br />
+ <a href="https://www.php.net/parse_url" alt="parse_url()">parse_url()</a><br />
+ <a href="https://www.php.net/http_build_query" alt="http_build_query()">http_build_query()</a><br />
<br />
Those functions include extra checks : for example, <a href="https://www.php.net/http_build_query" alt="http_build_query()">http_build_query()</a> adds <a href="https://www.php.net/urlencode" alt="urlencode()">urlencode()</a> call on the values, and allow for choosing the separator and the Query string format.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #0000BB">$data&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'foo'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'baz'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'boom'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'cow'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'milk'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'php'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'hypertext&nbsp;processor'<br /></span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;safe&nbsp;and&nbsp;efficient&nbsp;way&nbsp;to&nbsp;build&nbsp;a&nbsp;query&nbsp;string<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">http_build_query</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'&amp;'</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;slow&nbsp;way&nbsp;to&nbsp;produce&nbsp;a&nbsp;query&nbsp;string<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$data&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$name&nbsp;</span><span style="color: #007700">=&gt;&nbsp;&amp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$value&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">.</span><span style="color: #DD0000">'='</span><span style="color: #007700">.</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br />}<br />echo&nbsp;</span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #DD0000">'&amp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=interfaces_cantimplementtraversable" id="interfaces_cantimplementtraversable">Cant Implement Traversable</a></h2><p>[Since 1.9.8] - [ -P Interfaces/CantImplementTraversable ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#cant-implement-traversable">Online docs</a> ]</p><p>It is not possible to implement the  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Traversable</span> interface. The alternative is to implement  <span style="border: 1px solid #ddd; background-color: #f5f5f5">Iterator</span>  or  <span style="border: 1px solid #ddd; background-color: #f5f5f5">IteratorAggregate</span> .<br />
<br />
 <span style="border: 1px solid #ddd; background-color: #f5f5f5">Traversable</span>  may be useful when used with  <span style="border: 1px solid #ddd; background-color: #f5f5f5">instanceof</span> .<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;lints,&nbsp;but&nbsp;doesn't&nbsp;run<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">x&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">Traversable&nbsp;</span><span style="color: #007700">{<br /><br />}<br /><br />if(&nbsp;</span><span style="color: #0000BB">$argument&nbsp;</span><span style="color: #007700">instanceof&nbsp;</span><span style="color: #0000BB">Traversable&nbsp;</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;doSomething<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.php.net/manual/en/class.traversable.php" alt="Traversable">Traversable</a>,<br />
         <a href="https://www.php.net/manual/en/class.iterator.php" alt="Iterator">Iterator</a> and<br />
         <a href="https://www.php.net/manual/en/class.iteratoraggregate.php" alt="IteratorAggregate">IteratorAggregate</a>..<br />
<br />
</p>
<h2><a href="issues.html#analyzer=php_isawithstring" id="php_isawithstring">Is_A() With String</a></h2><p>[Since 1.9.9] - [ -P Php/IsAWithString ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#is_a---with-string">Online docs</a> ]</p><p>When using <a href="https://www.php.net/is_a" alt="is_a()">is_a()</a> with a string as first argument, the third argument is compulsory.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;`is_a()&nbsp;&lt;https://www.php.net/is_a&gt;`_&nbsp;works&nbsp;with&nbsp;string&nbsp;as&nbsp;first&nbsp;argument,&nbsp;when&nbsp;the&nbsp;third&nbsp;argument&nbsp;is&nbsp;'true'<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">is_s</span><span style="color: #007700">(</span><span style="color: #DD0000">'A'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'B'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">))&nbsp;{}<br /><br /></span><span style="color: #FF8000">//&nbsp;`is_a()&nbsp;&lt;https://www.php.net/is_a&gt;`_&nbsp;works&nbsp;with&nbsp;object&nbsp;as&nbsp;first&nbsp;argument<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">is_s</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'A'</span><span style="color: #007700">))&nbsp;{}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.php.net/is_a" alt="is_a()">is_a()</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_mbstringunknownencoding" id="structures_mbstringunknownencoding">Mbstring Unknown Encoding</a></h2><p>[Since 1.9.9] - [ -P Structures/MbstringUnknownEncoding ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#mbstring-unknown-encoding">Online docs</a> ]</p><p>The encoding used is not known to the ext/mbstring extension.<br />
<br />
This analysis takes in charge all  <span style="border: 1px solid #ddd; background-color: #f5f5f5">mbstring</span>  encoding and aliases. The full list of supported mbstring encoding is available with mb_list_encodings(). Each encoding alias is available with mb_encoding_aliases().<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Invalid&nbsp;encoding<br /></span><span style="color: #0000BB">$str&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mb_strtolower</span><span style="color: #007700">(</span><span style="color: #0000BB">$str</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'utf_8'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Valid&nbsp;encoding<br /></span><span style="color: #0000BB">$str&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mb_strtolower</span><span style="color: #007700">(</span><span style="color: #0000BB">$str</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'utf8'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$str&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mb_strtolower</span><span style="color: #007700">(</span><span style="color: #0000BB">$str</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'UTF8'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$str&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mb_strtolower</span><span style="color: #007700">(</span><span style="color: #0000BB">$str</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'UTF-8'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.php.net/manual/en/book.mbstring.php" alt="ext/mbstring">ext/mbstring</a>.<br />
</p>
<h2><a href="issues.html#analyzer=php_filtertoaddslashes" id="php_filtertoaddslashes">Filter To add_slashes()</a></h2><p>[Since 1.9.9] - [ -P Php/FilterToAddSlashes ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#filter-to-add_slashes--">Online docs</a> ]</p><p> <span style="border: 1px solid #ddd; background-color: #f5f5f5">FILTER_SANITIZE_MAGIC_QUOTES</span>  is deprecated. In PHP 7.4, it should be replaced with <a href="https://www.php.net/addslashes" alt="addslashes()">addslashes()</a><br />
<br />
According to the migration RDFC : 'Magic quotes were deprecated all the way back in PHP 5.3 and later removed in PHP 5.4. The filter extension implements a sanitization filter that mimics this behavior of magic_quotes by calling <a href="https://www.php.net/addslashes" alt="addslashes()">addslashes()</a> on the input in question.'<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Deprecated&nbsp;way&nbsp;to&nbsp;filter&nbsp;input<br /></span><span style="color: #0000BB">$var&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">filter_input</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">FILTER_SANITIZE_MAGIC_QUOTES</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Alternative&nbsp;way&nbsp;to&nbsp;filter&nbsp;input<br /></span><span style="color: #0000BB">$var&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">addslashes</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
<a href="https://www.php.net/addslashes" alt="addslashes()">addslashes()</a> used to filter data while building SQL queries, to prevent injections. Nowadays, prepared queries are a better option.<br />
<br />
See also <a href="https://wiki.php.net/rfc/deprecations_php_7_4" alt="Deprecations for PHP 7.4">Deprecations for PHP 7.4</a>.</p>
<h2><a href="issues.html#analyzer=structures_mbstringthirdarg" id="structures_mbstringthirdarg">Mbstring Third Arg</a></h2><p>[Since 1.9.9] - [ -P Structures/MbstringThirdArg ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#mbstring-third-arg">Online docs</a> ]</p><p>Some mbstring functions use the third argument for offset, not for encoding.<br />
<br />
Those are the following functions : <br />
<br />
<ul>
<li>mb_strri<a href="https://www.php.net/chr" alt="chr()">chr()</a></li>
<li><a href="https://www.php.net/mb_stripos" alt="mb_stripos()">mb_stripos()</a></li>
<li><a href="https://www.php.net/mb_strrpos" alt="mb_strrpos()">mb_strrpos()</a></li>
<li><a href="https://www.php.net/mb_strstr" alt="mb_strstr()">mb_strstr()</a></li>
<li><a href="https://www.php.net/mb_stristr" alt="mb_stristr()">mb_stristr()</a></li>
<li><a href="https://www.php.net/mb_strpos" alt="mb_strpos()">mb_strpos()</a></li>
<li><a href="https://www.php.net/mb_strripos" alt="mb_strripos()">mb_strripos()</a></li>
<li><a href="https://www.php.net/mb_strrchr" alt="mb_strrchr()">mb_strrchr()</a></li>
<li>mb_strri<a href="https://www.php.net/chr" alt="chr()">chr()</a></li>
<li><a href="https://www.php.net/mb_substr" alt="mb_substr()">mb_substr()</a></li>
</ul>
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Display&nbsp;BC<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">mb_substr</span><span style="color: #007700">(</span><span style="color: #DD0000">'ABC'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'UTF8'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Yields&nbsp;Warning:&nbsp;`mb_substr()&nbsp;&lt;https://www.php.net/mb_substr&gt;`_&nbsp;expects&nbsp;parameter&nbsp;3&nbsp;to&nbsp;be&nbsp;int,&nbsp;string&nbsp;given<br />//&nbsp;Display&nbsp;0&nbsp;(aka,&nbsp;substring&nbsp;from&nbsp;0,&nbsp;for&nbsp;length&nbsp;(int)&nbsp;'UTF8'&nbsp;=&gt;&nbsp;0)<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">mb_substr</span><span style="color: #007700">(</span><span style="color: #DD0000">'ABC'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">,</span><span style="color: #DD0000">'UTF8'</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.php.net/mb_substr" alt="mb_substr()">mb_substr()</a> manual pages.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=vendors_typo3" id="vendors_typo3">Typo 3 usage</a></h2><p>[Since 1.9.9] - [ -P Vendors/Typo3 ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#typo-3-usage">Online docs</a> ]</p><p>This analysis reports usage of the Typo 3 CMS.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">MyVendor</span><span style="color: #007700">\</span><span style="color: #0000BB">SjrOffers</span><span style="color: #007700">\</span><span style="color: #0000BB">Controller</span><span style="color: #007700">;<br /><br />use&nbsp;</span><span style="color: #0000BB">TYPO3</span><span style="color: #007700">\</span><span style="color: #0000BB">CMS</span><span style="color: #007700">\</span><span style="color: #0000BB">Extbase</span><span style="color: #007700">\</span><span style="color: #0000BB">Mvc</span><span style="color: #007700">\</span><span style="color: #0000BB">Controller</span><span style="color: #007700">\</span><span style="color: #0000BB">ActionController</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">OfferController&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">ActionController<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Action&nbsp;methods&nbsp;will&nbsp;be&nbsp;following&nbsp;here<br /></span><span style="color: #007700">}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.typo3.org/" alt="Typo3">Typo3</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=vendors_concrete5" id="vendors_concrete5">Concrete usage</a></h2><p>[Since 1.9.9] - [ -P Vendors/Concrete5 ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#concrete-usage">Online docs</a> ]</p><p>This analysis reports usage of the Concrete 5 framework.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">Application</span><span style="color: #007700">\</span><span style="color: #0000BB">Controller</span><span style="color: #007700">\</span><span style="color: #0000BB">PageType</span><span style="color: #007700">;<br /><br />use&nbsp;</span><span style="color: #0000BB">Concrete</span><span style="color: #007700">\</span><span style="color: #0000BB">Core</span><span style="color: #007700">\</span><span style="color: #0000BB">Page</span><span style="color: #007700">\</span><span style="color: #0000BB">Controller</span><span style="color: #007700">\</span><span style="color: #0000BB">PageTypeController</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">BlogEntry&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">PageTypeController<br /></span><span style="color: #007700">{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">view</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
See also <a href="https://www.concrete5.org/" alt="Concrete 5">Concrete 5</a>.<br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_immutablesignature" id="classes_immutablesignature">Immutable Signature</a></h2><p>[Since 1.9.9] - [ -P Classes/ImmutableSignature ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#immutable-signature">Online docs</a> ]</p><p>Overwrites makes refactoring a method signature difficult. PHP enforces compatible signature, by checking if arguments have the same type, reference and default values.<br />
<br />
In PHP 7.3, typehint had to be the same, or dropped. In PHP 7.4, typehint may be contravariant (arguments), or covariant (returntype). <br />
<br />
This analysis may be parametered with  <span style="border: 1px solid #ddd; background-color: #f5f5f5">maxOverwrite</span> . By default, a minimum of 8 overwritten methods is considered difficult to update.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Changing&nbsp;any&nbsp;of&nbsp;the&nbsp;four&nbsp;foo()&nbsp;method&nbsp;signature&nbsp;will&nbsp;trigger&nbsp;a&nbsp;PHP&nbsp;warning<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">ab1&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;four&nbsp;foo()&nbsp;methods&nbsp;have&nbsp;to&nbsp;be&nbsp;refactored&nbsp;at&nbsp;the&nbsp;same&nbsp;time!<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$ab1</span><span style="color: #007700">)&nbsp;{}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">ab2&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$ab2</span><span style="color: #007700">)&nbsp;{}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">ab3&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">ab1&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$abc1</span><span style="color: #007700">)&nbsp;{}<br />}<br /></span>?&gt;</pre><br />
<br />
When refactoring a method, all the related methodcall may have to be updated too. Adding a type, a default value, or a new argument with default value won't affect the calls, but only the definitions. Otherwise, calls will also have to be updated.<br />
<br />
IDE may help with signature refactoring, such as <a href="https://www.jetbrains.com/help/phpstorm/refactoring-source-code.html" alt="Refactoring code">Refactoring code</a>.<br />
<br />
See also <a href="https://en.wikipedia.org/wiki/Covariance_and_contravariance_(computer_science)" alt="Covariance and contravariance (computer science)">Covariance and contravariance (computer science)</a>,<br />
        <a href="https://www.php.net/manual/en/language.oop5.basic.php#language.oop5.basic.extends" alt="extends">extends</a>.<br />
</p>
<h2><a href="issues.html#analyzer=structures_mergeifthen" id="structures_mergeifthen">Merge If Then</a></h2><p>[Since 1.9.9] - [ -P Structures/MergeIfThen ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#merge-if-then">Online docs</a> ]</p><p>Two successive if/then into one, by merging the two conditions.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;two&nbsp;merge&nbsp;conditions<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">&amp;&amp;&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;doSomething()<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;two&nbsp;distinct&nbsp;conditions<br />//&nbsp;two&nbsp;nesting<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;doSomething()<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=functions_wrongtypewithcall" id="functions_wrongtypewithcall">Wrong Type With Call</a></h2><p>[Since 1.9.9] - [ -P Functions/WrongTypeWithCall ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#wrong-type-with-call">Online docs</a> ]</p><p>This analysis checks that a call to a method uses the right literal values' types.<br />
<br />
Currently, this analysis doesn't take into account  <span style="border: 1px solid #ddd; background-color: #f5f5f5">strict_types = 1</span> . <br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;$a</span><span style="color: #007700">)&nbsp;{<br /><br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;wrong&nbsp;type&nbsp;used<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;wrong&nbsp;type&nbsp;used<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #DD0000">"1"</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=type_shellcommands" id="type_shellcommands">Shell commands</a></h2><p>[Since 1.9.9] - [ -P Type/Shellcommands ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#shell-commands">Online docs</a> ]</p><p>Shell commands, called from PHP. <br />
<br />
Shell commands are detected with the italic quotes, and using <a href="https://www.php.net/shell_exec" alt="shell_exec()">shell_exec()</a>, <a href="https://www.php.net/system" alt="system()">system()</a>, <a href="https://www.php.net/exec" alt="exec()">exec()</a> and <a href="https://www.php.net/proc_open" alt="proc_open()">proc_open()</a>.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Shell&nbsp;command&nbsp;in&nbsp;a&nbsp;`shell_exec()&nbsp;&lt;https://www.php.net/shell_exec&gt;`_&nbsp;call<br /></span><span style="color: #0000BB">shell_exec</span><span style="color: #007700">(</span><span style="color: #DD0000">'ls&nbsp;-1'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Shell&nbsp;command&nbsp;with&nbsp;backtick&nbsp;operator<br /></span><span style="color: #007700">`</span><span style="color: #DD0000">ls&nbsp;-1&nbsp;</span><span style="color: #0000BB">$path</span><span style="color: #007700">`;<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_insufficientpropertytypehint" id="classes_insufficientpropertytypehint">Insufficient Property Typehint</a></h2><p>[Since 2.0.2] - [ -P Classes/InsufficientPropertyTypehint ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#insufficient-property-typehint">Online docs</a> ]</p><p>The typehint used for a class property doesn't cover all it usage.<br />
<br />
The typehint is insufficient when a undefined method is called, or if members are access while the typehint is an interface.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">a1</span><span style="color: #007700">()&nbsp;{}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;PHP&nbsp;7.4&nbsp;and&nbsp;more&nbsp;recent<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">A&nbsp;$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">b2</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;this&nbsp;method&nbsp;is&nbsp;available&nbsp;in&nbsp;A<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a1</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;this&nbsp;method&nbsp;is&nbsp;NOT&nbsp;available&nbsp;in&nbsp;A<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a2</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Supported&nbsp;by&nbsp;all&nbsp;PHP&nbsp;versions<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">C&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">A&nbsp;$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">b2</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;this&nbsp;method&nbsp;is&nbsp;available&nbsp;in&nbsp;A<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a1</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;this&nbsp;method&nbsp;is&nbsp;NOT&nbsp;available&nbsp;in&nbsp;A<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a2</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
This analysis relies on typehinted properties, as introduced in PHP 7.4. It also relies on typehinted assignations at construct time : the typehint of the assigned argument will be used as the property typehint. Getters and setters are not considered here. <br />
<br />
</p>
<h2><a href="issues.html#analyzer=dump_parameterargumentslinks" id="dump_parameterargumentslinks">Links Between Parameter And Argument</a></h2><p>[Since 2.0.6] - [ -P Dump/ParameterArgumentsLinks ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#links-between-parameter-and-argument">Online docs</a> ]</p><p>Collect various stats about arguments and parameter usage. <br />
<br />
A parameter is one slot in the method definition. An argument is a slot in the method call. Both are linked by the method and their respective position in the argument list.<br />
<br />
+ Total number of argument usage, linked to a parameter : this excludes arguments from external libraries and native PHP functions. For reference.<br />
+ Number of identical parameter : cases where argument and parameter have the same name. <br />
+ Number of different parameter : cases where argument and parameter have the different name. <br />
+ Number of expression argument : cases where argument is an expression<br />
+ Number of constant argument : cases where the argument is a constant<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;some&nbsp;code<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;$a&nbsp;is&nbsp;the&nbsp;same&nbsp;as&nbsp;the&nbsp;parameter<br />//&nbsp;$c&nbsp;is&nbsp;different&nbsp;from&nbsp;the&nbsp;paramter&nbsp;$b<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">);<br /><br />const&nbsp;</span><span style="color: #0000BB">C&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Foo&nbsp;is&nbsp;called&nbsp;with&nbsp;a&nbsp;constant&nbsp;(1rst&nbsp;argument)<br />//&nbsp;Foo&nbsp;is&nbsp;called&nbsp;with&nbsp;a&nbsp;expression&nbsp;(2nd&nbsp;argument)<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">C</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">+</span><span style="color: #0000BB">3</span><span style="color: #007700">);<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=functions_exceedingtypehint" id="functions_exceedingtypehint">Exceeding Typehint</a></h2><p>[Since 2.0.3] - [ -P Functions/ExceedingTypehint ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#exceeding-typehint">Online docs</a> ]</p><p>The typehint is not fully used in the method. Some of the defined methods in the typehint are unused. A tighter typehint could be used, to avoid method pollution.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">interface&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">i1</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">i2</span><span style="color: #007700">();<br />}<br /><br />interface&nbsp;</span><span style="color: #0000BB">j&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">j1</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">j2</span><span style="color: #007700">();<br />}<br /><br />function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">i&nbsp;$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">j&nbsp;$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;the&nbsp;i&nbsp;typehint&nbsp;is&nbsp;totally&nbsp;used<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">i1</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">i2</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;the&nbsp;i&nbsp;typehint&nbsp;is&nbsp;not&nbsp;totally&nbsp;used&nbsp;:&nbsp;j2()&nbsp;is&nbsp;not&nbsp;used.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">j1</span><span style="color: #007700">();<br />}<br /></span>?&gt;</pre><br />
<br />
Tight typehint prevents the argument from doing too much. They also require more maintenance : creation of dedicated interfaces, method management to keep all typehint tight.<br />
<br />
See also Functions/InsufficientTypehint.<br />
</p>
<h2><a href="issues.html#analyzer=functions_nullablewithoutcheck" id="functions_nullablewithoutcheck">Nullable Without Check</a></h2><p>[Since 2.0.2] - [ -P Functions/NullableWithoutCheck ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#nullable-without-check">Online docs</a> ]</p><p>Nullable typehinted argument should be checked before usage.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;This&nbsp;will&nbsp;emit&nbsp;a&nbsp;fatal&nbsp;error&nbsp;when&nbsp;$a&nbsp;=&nbsp;null<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(?</span><span style="color: #0000BB">A&nbsp;$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">m</span><span style="color: #007700">();<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;stable<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(?</span><span style="color: #0000BB">A&nbsp;$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">42</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">m</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span>?&gt;</pre><br />
<br />
</p>
<h2><a href="issues.html#analyzer=classes_fossilizedmethod" id="classes_fossilizedmethod">Fossilized Method</a></h2><p>[Since 2.0.6] - [ -P Classes/FossilizedMethod ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#fossilized-method">Online docs</a> ]</p><p>A method is fossilized when it is overwriten so often that changing a default value, a return type or an argument type is getting difficult.<br />
<br />
This happens when a class is extended. When a method is overwritten once, it may be easy to update the signature in two places. The more methods are overwriting a parent method, the more difficult it is to update it.<br />
<br />
This analysis counts the number of times a method is overwriten, and report any method that is ovrewriten more than 6 times. This threshold is parametrable.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">x1&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;foo1()&nbsp;is&nbsp;never&nbsp;overwritten.&nbsp;It&nbsp;is&nbsp;easy&nbsp;to&nbsp;update.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo1</span><span style="color: #007700">()&nbsp;{}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;foo7()&nbsp;is&nbsp;overwritten&nbsp;seven&nbsp;times.&nbsp;It&nbsp;is&nbsp;hard&nbsp;to&nbsp;update.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo7</span><span style="color: #007700">()&nbsp;{}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;classes&nbsp;x2&nbsp;to&nbsp;x7,&nbsp;all&nbsp;overwrite&nbsp;foo7();<br />//&nbsp;Only&nbsp;x2&nbsp;is&nbsp;presente&nbsp;here.<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">x2&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">x1&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo7</span><span style="color: #007700">()&nbsp;{}<br />}<br /></span>?&gt;</pre><br />
</p>
<h2><a href="issues.html#analyzer=structures_notequal" id="structures_notequal">Not Equal Is Not !==</a></h2><p>[Since 2.0.6] - [ -P Structures/NotEqual ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#not-equal-is-not-!==">Online docs</a> ]</p><p></p>
<h2><a href="issues.html#analyzer=php_coalesceequal" id="php_coalesceequal">Coalesce Equal</a></h2><p>[Since 2.0.4] - [ -P Php/CoalesceEqual ] - [ <a href="https://exakat.readthedocs.io/en/latest/Rules.html#coalesce-equal">Online docs</a> ] - [ PHP 7.4 and more recent ]</p><p>Usage of coalesce assignement operator. The operator is available in PHP since PHP 7.4.<br />
<br />
<pre style="border: 1px solid #ddd; background-color: #f5f5f5;">&lt;?php <br />
<span style="color: #FF8000">//&nbsp;Coalesce&nbsp;operator,&nbsp;since&nbsp;PHP&nbsp;5.3<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">??=&nbsp;</span><span style="color: #DD0000">'default&nbsp;value'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Equivalent&nbsp;to&nbsp;$a&nbsp;=&nbsp;$a&nbsp;??&nbsp;'default&nbsp;value';<br /></span>?&gt;</pre><br />
<br />
See also <a href="http://php.net/manual/en/language.operators.comparison.php#language.operators.comparison.ternary" alt="Ternary Operator">Ternary Operator</a>.<br />
</p>
                </div>
              </div>
            </div>
          </div>
        </section>
        <!-- /.content -->
      </div>
    </div>
    <!-- /.content-wrapper -->

    <!-- Main Footer -->
    <footer class="main-footer">
      <!-- To the right -->
      <div class="pull-right hidden-xs">
        <span class="logo-exakat">
          <img src="images/logo.png" alt="Exakat">
          An <a href="https://www.exakat.io" title="exakat">Exakat</a> report
        </span>
      </div>
      <!-- Default to the left -->
<strong>.</strong>
      
    </footer>

    <!-- Control Sidebar -->
    <aside class="control-sidebar control-sidebar-dark">
      <!-- Create the tabs -->
      <ul class="nav nav-tabs nav-justified control-sidebar-tabs">
        <li class="active"><a href="#control-sidebar-home-tab" data-toggle="tab"><i class="fa fa-home"></i></a></li>
        <li><a href="#control-sidebar-settings-tab" data-toggle="tab"><i class="fa fa-gears"></i></a></li>
      </ul>
    </aside>
    <!-- /.control-sidebar -->
    <!-- Add the sidebar's background. This div must be placed
         immediately after the control sidebar -->
    <div class="control-sidebar-bg"></div>
  </div>
  <!-- ./wrapper -->

  <script src="scripts/vendor.js"></script>
  <script src="scripts/exakat.js"></script>
  <script src="scripts/facetedsearch.js"></script>
  <script src="scripts/highlight.pack.js"></script>

</body>
</html>
        
